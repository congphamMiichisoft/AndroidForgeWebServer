/*!
 * LMV v7.1.1
 * 
 * Copyright 2019 Autodesk, Inc.
 * All rights reserved.
 * 
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 * 
 * Autodesk Forge Viewer Usage Limitations:
 * 
 * The Autodesk Forge viewer can only be used to view files generated by
 * Autodesk Forge services. The Autodesk Forge Viewer JavaScript must be
 * delivered from an Autodesk hosted URL.
 */
Autodesk.Extensions.BimMarkups =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./extensions/BimMarkups/BimMarkups.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./extensions/BimMarkups/Actions/AddMarkupAction.js":
/*!**********************************************************!*\
  !*** ./extensions/BimMarkups/Actions/AddMarkupAction.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AddMarkupAction; });
/* harmony import */ var _Utils_ActionManager_Action__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/ActionManager/Action */ "./extensions/BimMarkups/Utils/ActionManager/Action.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}var

AddMarkupAction = /*#__PURE__*/function (_Action) {_inherits(AddMarkupAction, _Action);
  function AddMarkupAction(markupsManager, markup, layer) {var _this;_classCallCheck(this, AddMarkupAction);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddMarkupAction).call(this, markupsManager.actionManager));

    _this.markupsManager = markupsManager;
    _this.markup = markup;
    _this.layer = layer;return _this;
  }_createClass(AddMarkupAction, [{ key: "undo", value: function undo()

    {
      this.markupsManager.removeMarkupFromLayer(this.markup);
    } }, { key: "redo", value: function redo()

    {
      this.markupsManager.addMarkupToLayer(this.markup, this.layer);
    } }]);return AddMarkupAction;}(_Utils_ActionManager_Action__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/Actions/DeleteMarkupAction.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/Actions/DeleteMarkupAction.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DeleteMarkupAction; });
/* harmony import */ var _Utils_ActionManager_Action__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/ActionManager/Action */ "./extensions/BimMarkups/Utils/ActionManager/Action.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}var

DeleteMarkupAction = /*#__PURE__*/function (_Action) {_inherits(DeleteMarkupAction, _Action);
  function DeleteMarkupAction(markupsManager, markup) {var _this;_classCallCheck(this, DeleteMarkupAction);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(DeleteMarkupAction).call(this, markupsManager.actionManager));

    _this.markupsManager = markupsManager;
    _this.markup = markup;
    _this.layer = _this.markup.layer;return _this;
  }_createClass(DeleteMarkupAction, [{ key: "undo", value: function undo()

    {
      this.markupsManager.addMarkupToLayer(this.markup, this.layer);
    } }, { key: "redo", value: function redo()

    {
      this.markupsManager.removeMarkupFromLayer(this.markup);
    } }]);return DeleteMarkupAction;}(_Utils_ActionManager_Action__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/Actions/UpdateMarkupAction.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/Actions/UpdateMarkupAction.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return UpdateMarkupAction; });
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _Utils_ActionManager_Action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/ActionManager/Action */ "./extensions/BimMarkups/Utils/ActionManager/Action.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

UpdateMarkupAction = /*#__PURE__*/function (_Action) {_inherits(UpdateMarkupAction, _Action);
  function UpdateMarkupAction(markupsManager, markup, newState) {var _this;_classCallCheck(this, UpdateMarkupAction);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateMarkupAction).call(this, markupsManager.actionManager));

    _this.markupsManager = markupsManager;
    _this.markup = markup;
    _this.layer = _this.markup.layer;

    _this.oldState = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_0__["default"].cloneDeep(_this.markup.getState());
    _this.newState = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_0__["default"].cloneDeep(newState);return _this;
  }_createClass(UpdateMarkupAction, [{ key: "undo", value: function undo()

    {
      this.markup.setState(this.oldState);
      this.markup.syncEditState();
    } }, { key: "redo", value: function redo()

    {
      this.markup.setState(this.newState);
      this.markup.syncEditState();
    } }]);return UpdateMarkupAction;}(_Utils_ActionManager_Action__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/BimMarkups.js":
/*!*********************************************!*\
  !*** ./extensions/BimMarkups/BimMarkups.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupsExtension; });
/* harmony import */ var _MarkupsTool__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MarkupsTool */ "./extensions/BimMarkups/MarkupsTool.js");
/* harmony import */ var _UI_MarkupsUI__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./UI/MarkupsUI */ "./extensions/BimMarkups/UI/MarkupsUI.js");
/* harmony import */ var _MarkupsManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsManager */ "./extensions/BimMarkups/MarkupsManager.js");
/* harmony import */ var _MarkupsRenderer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupsRenderer */ "./extensions/BimMarkups/MarkupsRenderer.js");
/* harmony import */ var _FilterManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FilterManager */ "./extensions/BimMarkups/FilterManager.js");
/* harmony import */ var _MarkupsPermissionManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MarkupsPermissionManager */ "./extensions/BimMarkups/MarkupsPermissionManager.js");
/* harmony import */ var _MarkupsMobileCallbacks__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MarkupsMobileCallbacks */ "./extensions/BimMarkups/MarkupsMobileCallbacks.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _CacheObject__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./CacheObject */ "./extensions/BimMarkups/CacheObject.js");
/* harmony import */ var _Service_MarkupsServiceOperator__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Service/MarkupsServiceOperator */ "./extensions/BimMarkups/Service/MarkupsServiceOperator.js");
/* harmony import */ var _Utils_EventUtils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Utils/EventUtils */ "./extensions/BimMarkups/Utils/EventUtils.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}













var namespace = AutodeskNamespace('Autodesk.BIM360.Markups');var

MarkupsExtension = /*#__PURE__*/function (_Autodesk$Viewing$Ext) {_inherits(MarkupsExtension, _Autodesk$Viewing$Ext);
  function MarkupsExtension(viewer) {var _this;var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};_classCallCheck(this, MarkupsExtension);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupsExtension).call(this, viewer, options));
    _this.viewer = viewer;
    _this.options = options;

    _this.cache = _this.getCache();
    _this.onModelLoadedBinded = _this.onModelLoaded.bind(_assertThisInitialized(_assertThisInitialized(_this)));return _this;
  }_createClass(MarkupsExtension, [{ key: "onModelLoaded", value: function onModelLoaded(

    event) {
      this.initCache();

      var model = event.model;
      var node = model.getDocumentNode();

      if (node) {
        this.sheetList = node.getRootNode().search({ type: 'geometry' });
        this.options.sheetGUID = node.guid();
        this.options.sheetName = node.name();
        this.options.fileName = node.findViewableParent().name();
      } else {
        this.sheetList = [];
      }

      this.markupsManager = new _MarkupsManager__WEBPACK_IMPORTED_MODULE_2__["default"](this);

      this.filterManager = new _FilterManager__WEBPACK_IMPORTED_MODULE_4__["default"](this, this.options);

      this.permissionManager = new _MarkupsPermissionManager__WEBPACK_IMPORTED_MODULE_5__["default"](this.options);

      this.markupsTool = new _MarkupsTool__WEBPACK_IMPORTED_MODULE_0__["default"](this);

      this.viewer.toolController.registerTool(this.markupsTool);

      var prevLock = this.viewer.toolController.setIsLocked(false);
      this.viewer.toolController.activateTool(this.markupsTool.getName());
      this.viewer.toolController.setIsLocked(prevLock);

      this.renderer = new _MarkupsRenderer__WEBPACK_IMPORTED_MODULE_3__["default"](this);

      this.markupsManager.setDefaultCreationStyleProperties(); // Needs renderer to set default thickness

      if (!this.options.isMobileApp) {
        this.markupsUI = new _UI_MarkupsUI__WEBPACK_IMPORTED_MODULE_1__["default"](this);
        this.initMarkupsPanel();
      } else {
        this.mobileCallbacks = new _MarkupsMobileCallbacks__WEBPACK_IMPORTED_MODULE_6__["default"](this);
      }

      this.initServiceOperator();

      this.selectInitialLayer();
    } }, { key: "initCache", value: function initCache()

    {
      if (!this.cache.hasOwnProperty('markupsCache')) {
        this.cache.markupsCache = new _CacheObject__WEBPACK_IMPORTED_MODULE_9__["default"]();
      }

      this.markupsCache = this.cache.markupsCache;

      if (this.markupsCache.currentUrn !== this.options.documentUrn) {
        this.cache.layerToSelect = null;
        this.cache.layerToEdit = null;
        this.cache.filters = null;
      }

      this.cache.markupsCache.setCurrentUrn(this.options.documentUrn);

    } }, { key: "initServiceOperator", value: function initServiceOperator()

    {
      if (!this.serviceOperator) {
        this.serviceOperator = new _Service_MarkupsServiceOperator__WEBPACK_IMPORTED_MODULE_10__["default"]();
      }

      this.serviceOperator.reset(this);
      this.serviceOperator.fetchMarkups();
    } }, { key: "initMarkupsPanel", value: function initMarkupsPanel()

    {
      if (this.options.panelContainer && this.options.uiClasses && this.options.uiClasses.MarkupPanelClass) {
        if (!this.cache.markupsPanel) {
          this.cache.markupsPanel = new this.options.uiClasses.MarkupPanelClass();
          this.cache.markupsPanel.reset(this);
        } else {
          this.cache.markupsPanel.reset(this);
        }
      }
    } }, { key: "selectInitialLayer", value: function selectInitialLayer()

    {var _this2 = this;
      // Wait until the camera will be initialized before selecting a layer.
      setTimeout(function () {
        _Utils_EventUtils__WEBPACK_IMPORTED_MODULE_11__["default"].executeAfterTransitionEnded(_this2.viewer, function () {
          if (_this2.cache.layerToSelect) {
            _this2.selectLayer(_this2.cache.layerToSelect, true, true);
            _this2.cache.layerToSelect = null;
          }

          if (_this2.cache.layerToEdit) {
            _this2.editLayer(_this2.cache.layerToEdit, true, true, true);
            _this2.cache.layerToEdit = null;
          }
        });
      });
    } }, { key: "load", value: function load()

    {
      if (this.viewer.model) {
        this.onModelLoaded({ model: this.viewer.model });
      } else {
        this.viewer.addEventListener(Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT, this.onModelLoadedBinded);
      }

      return true;
    } }, { key: "unload", value: function unload()

    {
      this.viewer.removeEventListener(Autodesk.Viewing.MODEL_ROOT_LOADED_EVENT, this.onModelLoadedBinded);

      if (this.mobileCallbacks) {
        this.mobileCallbacks.destroy();
        this.mobileCallbacks = null;
      }

      if (this.markupsUI) {
        this.markupsUI.destroy();
        this.markupsUI = null;
      }

      if (this.renderer) {
        this.renderer.destroy();
        this.renderer = null;
      }

      if (this.markupsTool) {
        this.viewer.toolController.deregisterTool(this.markupsTool);
        this.markupsTool = null;
      }

      if (this.markupsManager) {
        this.markupsManager.destroy();
        this.markupsManager = null;
      }

      if (this.filterManager) {
        this.filterManager.destroy();
        this.filterManager = null;
      }

      if (this.permissionManager) {
        this.permissionManager.destroy();
        this.permissionManager = null;
      }

      if (this.serviceOperator) {
        this.serviceOperator.terminate();
        this.serviceOperator = null;
      }

      this.markupsCache = null;

      return true;
    }

    /**
       * Public interface
       */ }, { key: "startMarkupSession", value: function startMarkupSession(

    creationType, layer) {
      this.markupsManager.startMarkupSession(creationType, layer);
    } }, { key: "endMarkupSession", value: function endMarkupSession(

    save) {
      this.markupsManager.endMarkupSession(save);
    } }, { key: "setToolEnabled", value: function setToolEnabled(

    enable) {
      this.markupsManager.setToolEnabled(enable);
    } }, { key: "isToolEnabled", value: function isToolEnabled()

    {
      return this.markupsManager.isToolEnabled();
    } }, { key: "editLayer", value: function editLayer(

    layer, focus, selectAllMarkups, immediate) {
      this.markupsManager.editLayer(layer, focus, selectAllMarkups, immediate);
    } }, { key: "changeMarkupCreationType", value: function changeMarkupCreationType(

    creationType, startSession) {
      if (this.markupsManager.isMarkupSessionOpen() || startSession) {
        this.markupsManager.changeMarkupCreationType(creationType);
      }
    }

    // Removes the markup for the canvas.
  }, { key: "deleteMarkup", value: function deleteMarkup(markup) {
      this.markupsManager.deleteMarkup(markup);
    } }, { key: "deleteInEditMarkups", value: function deleteInEditMarkups()

    {
      this.markupsManager.deleteInEditMarkups();
    } }, { key: "undo", value: function undo()

    {
      this.markupsManager.undo();
    } }, { key: "redo", value: function redo()

    {
      this.markupsManager.redo();
    } }, { key: "copy", value: function copy()

    {
      this.markupsManager.copy();
    } }, { key: "paste", value: function paste()

    {
      this.markupsManager.paste();
    } }, { key: "cut", value: function cut()

    {
      this.markupsManager.cut();
    } }, { key: "selectMarkup", value: function selectMarkup(

    markup) {
      this.markupsManager.selectMarkup(markup);
    } }, { key: "deselectMarkup", value: function deselectMarkup(

    markup) {
      this.markupsManager.deselectMarkup(markup);
    } }, { key: "deselectAllMarkups", value: function deselectAllMarkups(

    exclude) {
      this.markupsManager.deselectAllMarkups(exclude);
    } }, { key: "deselectAllLayers", value: function deselectAllLayers(

    exclude) {
      this.markupsManager.deselectAllLayers(exclude);
    } }, { key: "exitMarkupView", value: function exitMarkupView()

    {
      this.markupsManager.exitMarkupView();
    } }, { key: "getSelectedMarkups", value: function getSelectedMarkups()

    {
      return this.markupsManager.getSelectedMarkups();
    } }, { key: "getSelectedLayer", value: function getSelectedLayer()

    {
      return this.markupsManager.getSelectedLayer();
    } }, { key: "getVisibleMarkups", value: function getVisibleMarkups()

    {
      return this.markupsManager.getVisibleMarkups();
    } }, { key: "selectLayer", value: function selectLayer(

    layer, focus, immediate) {
      this.markupsManager.selectLayer(layer, focus, immediate);
    } }, { key: "deselectLayer", value: function deselectLayer(

    layer) {
      this.markupsManager.deselectLayer(layer);
    } }, { key: "getStyleProperty", value: function getStyleProperty(

    key) {
      return this.markupsManager.getStyleProperty(key);
    } }, { key: "changeStyleProperty", value: function changeStyleProperty(

    key, value, dontSubmit) {
      this.markupsManager.changeStyleProperty(key, value, dontSubmit);
    } }, { key: "loadLayers", value: function loadLayers()



    {var layersJson = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.markupsCache && this.markupsCache.getAsList();var ignoreFilters = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;var removeExistingLayers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;
      this.markupsManager.loadLayers(layersJson, ignoreFilters, removeExistingLayers);
    }

    // Remove layer from canvas.
  }, { key: "removeLayer", value: function removeLayer(layer) {
      this.markupsManager.removeLayer(layer);
    } }, { key: "changeCreationStatusType", value: function changeCreationStatusType(

    status) {
      this.markupsManager.changeCreationStatusType(status);
    } }, { key: "getCreationStatusType", value: function getCreationStatusType()

    {
      return this.markupsManager.getCreationStatusType();
    } }, { key: "updateFilters", value: function updateFilters(

    filters) {
      this.filterManager.updateFilters(filters);
    } }]);return MarkupsExtension;}(Autodesk.Viewing.Extension);


// Register the extension with the extension manager.
Autodesk.Viewing.theExtensionManager.registerExtension('Autodesk.BIM360.Markups', MarkupsExtension);

namespace.Constants = Object.assign({}, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_7__);
namespace.Events = Object.assign({}, _MarkupsEvents__WEBPACK_IMPORTED_MODULE_8__["MARKUPS_EVENTS"]);
namespace.markupsOverlayRenderer = _MarkupsCommon__WEBPACK_IMPORTED_MODULE_12__["markupsOverlayRenderer"];

/***/ }),

/***/ "./extensions/BimMarkups/CacheObject.js":
/*!**********************************************!*\
  !*** ./extensions/BimMarkups/CacheObject.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CacheObject; });
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}var CacheObject = /*#__PURE__*/function () {
  function CacheObject() {_classCallCheck(this, CacheObject);
    this.cache = {};
    this.currentUrn = 'default';
  }_createClass(CacheObject, [{ key: "setCurrentUrn", value: function setCurrentUrn(

    urn) {
      this.currentUrn = urn;
      this.cache[urn] = this.cache[urn] || {};
    } }, { key: "add", value: function add(

    id, item) {var urn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.currentUrn;
      this.cache[urn][id] = item;
    } }, { key: "remove", value: function remove(

    id) {var urn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.currentUrn;
      delete this.cache[urn][id];
    } }, { key: "get", value: function get(

    id) {var urn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.currentUrn;
      return this.cache[urn][id];
    } }, { key: "getAsList", value: function getAsList()

    {var _this = this;var urn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentUrn;
      var list = [];

      Object.keys(this.cache[urn]).forEach(function (key) {
        list.push(_this.cache[urn][key]);
      });

      return list;
    } }, { key: "getCache", value: function getCache()

    {var urn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentUrn;
      return this.cache[urn];
    } }, { key: "cleanCache", value: function cleanCache()

    {var _this2 = this;var urn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentUrn;
      Object.keys(this.cache[urn]).forEach(function (key) {
        _this2.remove(key);
      });
    } }, { key: "length", value: function length()

    {var urn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentUrn;
      return Object.keys(this.cache[urn]).length;
    } }, { key: "isEmpty", value: function isEmpty()

    {var urn = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.currentUrn;
      return this.length(urn) === 0;
    } }]);return CacheObject;}();

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/AnchorHandler.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/AnchorHandler.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AnchorHandler; });
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _EditHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EditHandler */ "./extensions/BimMarkups/EditHandlers/EditHandler.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}

var

AnchorHandler = /*#__PURE__*/function (_EditHandler) {_inherits(AnchorHandler, _EditHandler);function AnchorHandler() {_classCallCheck(this, AnchorHandler);return _possibleConstructorReturn(this, _getPrototypeOf(AnchorHandler).apply(this, arguments));}_createClass(AnchorHandler, [{ key: "handleMouseMove", value: function handleMouseMove(
    point) {
      if (this.activeAnchor) {
        point = this.getSnappedPosition();

        this.markup.applyInverseRotation(point);
        this.markup.applyInverseScaleAndTranslation(point);

        if (this.markupsExtension.markupsTool.shiftDown) {
          this.snapAxis(point);
        }

        this.updateActiveAnchor(point);

        return true;
      }

      return false;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {
      if (!this.activeAnchor) {
        this.activeAnchor = this.intersect(point);

        if (this.activeAnchor) {
          this.originalAnchor = this.activeAnchor.clone();
          this.editStart();
        }

        return !!this.activeAnchor;
      }

      return true;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {
      if (this.activeAnchor) {
        point = this.getSnappedPosition();

        this.markup.applyInverseRotation(point);
        this.markup.applyInverseScaleAndTranslation(point);

        if (this.markupsExtension.markupsTool.shiftDown) {
          this.snapAxis(point);
        }

        this.updateActiveAnchor(point);

        if (Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_0__["isEqualVectors"])(this.activeAnchor, this.originalAnchor, this.getMinChangeDistanceWorld())) {
          this.cancelAnchorEditing();
        } else {
          this.submitChanges();
          this.editEnd();
        }

        this.activeAnchor = null;

        return true;
      }

      return false;
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {
      if (this.activeAnchor) {
        switch (keyCode) {
          case Autodesk.Viewing.KeyCode.BACKSPACE:
          case Autodesk.Viewing.KeyCode.DELETE:
          case Autodesk.Viewing.KeyCode.ESCAPE:
            this.cancelAnchorEditing();
            return true;
          default:
            break;}

      }

      return false;
    } }, { key: "handleKeyUp", value: function handleKeyUp(

    event, keyCode) {
    } }, { key: "handleDoubleClick", value: function handleDoubleClick(

    event, button) {
    } }, { key: "updateActiveAnchor", value: function updateActiveAnchor(

    point) {
      this.activeAnchor.copy(point);
      this.updateEditStateAnchors();
      this.handleCompensation();
    } }, { key: "cancelAnchorEditing", value: function cancelAnchorEditing()

    {
      this.activeAnchor = null;
      this.markup.syncEditState();
      this.updateEditStateAnchors();
      this.editEnd();
    } }, { key: "isDragging", value: function isDragging()

    {
      return this.activeAnchor;
    } }, { key: "snapAxis", value: function snapAxis(

    point) {var _this = this;
      var anchors = this.markup.getAnchors();
      var index = anchors.findIndex(function (anchor) {return anchor === _this.activeAnchor;});

      if (anchors[index - 1]) {
        this.snapPointToAxis(point, anchors[index - 1], _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["ROTATION_SNAP_DEGREES"]);
      } else if (anchors[index + 1]) {
        this.snapPointToAxis(point, anchors[index + 1], _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["ROTATION_SNAP_DEGREES"]);
      }
    } }, { key: "intersect", value: function intersect(

    point) {var _this2 = this;
      point = point.clone();
      this.markup.applyInverseRotation(point);
      this.markup.applyInverseScaleAndTranslation(point);

      var p = this.markupsExtension.renderer.worldToClient(point);

      var anchors = this.markup.getAnchors();

      return anchors.find(function (anchor) {
        var a = _this2.markupsExtension.renderer.worldToClient(anchor);
        return a.distanceTo(p) <= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["TOUCH_RADIUS"];
      });
    } }, { key: "getCursor", value: function getCursor()

    {
      if (this.activeAnchor) {
        return 'grabbing';
      } else {
        return 'grab';
      }
    } }]);return AnchorHandler;}(_EditHandler__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js":
/*!********************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CreationHandler; });
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _EditHandler__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../EditHandler */ "./extensions/BimMarkups/EditHandlers/EditHandler.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target, property, receiver) {if (typeof Reflect !== "undefined" && Reflect.get) {_get = Reflect.get;} else {_get = function _get(target, property, receiver) {var base = _superPropBase(target, property);if (!base) return;var desc = Object.getOwnPropertyDescriptor(base, property);if (desc.get) {return desc.get.call(receiver);}return desc.value;};}return _get(target, property, receiver || target);}function _superPropBase(object, property) {while (!Object.prototype.hasOwnProperty.call(object, property)) {object = _getPrototypeOf(object);if (object === null) break;}return object;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}



var

CreationHandler = /*#__PURE__*/function (_EditHandler) {_inherits(CreationHandler, _EditHandler);
  function CreationHandler(markupsExtension, markup) {var _this;var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};_classCallCheck(this, CreationHandler);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreationHandler).call(this, markupsExtension, markup, options));

    // Used for compound markups.
    _this.onCreationStartCB = options.onCreationStart;
    _this.onCreationEndCB = options.onCreationEnd;
    _this.onSubmitChangesCB = options.onSubmitChanges;return _this;
  }

  // Use creationStart when markup creation begins (First click).
  _createClass(CreationHandler, [{ key: "creationStart", value: function creationStart() {
      if (this.onCreationStartCB) {
        this.onCreationStartCB();
      } else {
        this.creationStarted = true;
        this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].MARKUP_DRAWING_START, markup: this.markup });
        this.markupsExtension.markupsManager.deselectAllMarkups();
        this.markupsExtension.markupsManager.deselectAllLinks();

        this.editStart();
      }
    }

    // TODO: Replace this logic with initial rotation of the markup.

    // Initial markup's bounding box should always be aligned with the screen.
    // In case the camera's rotation is not 0 in markup's creation time, we have to rotate it accordingly.
    // The process is not trivial when the markup has several creation steps (like polyline). In this scenario,
    // What we need to do is modifying the rotation for all the history of the markup's creation.
    // In order to do that, we traverse through all the actions that's relevant to the markup's creation, and change their history.
  }, { key: "fixInitialRotation", value: function fixInitialRotation() {var _this2 = this;
      if (this.markup.rotationHandler) {(function () {
          var cameraRotation = _this2.markupsExtension.renderer.getCameraRotation();

          if (Math.abs(cameraRotation) > _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["EPSILON"]) {(function () {
              var eyeDirection = _this2.markupsExtension.renderer.getCameraEyeVector();var

              actionManager = _this2.markupsExtension.markupsManager.actionManager;

              while (!actionManager.isUndoStackEmpty()) {
                var currentAction = actionManager.undoStack[actionManager.undoStack.length - 1];

                if (currentAction.markup !== _this2.markup) {
                  break;
                }

                // Modify markup's anchors, so the rotation won't affect the final result, except of the bounding box.
                var _this2$getEditState = _this2.getEditState(),anchors = _this2$getEditState.anchors;
                anchors.forEach(function (anchor) {
                  _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(anchor, cameraRotation, _this2.markup.getWorldCenter(), eyeDirection);
                });

                _this2.prevCenter = _this2.markup.center.clone();

                _this2.updateEditStateAnchors();
                _this2.updateEditState({ rotation: -cameraRotation });

                // In order to prevent a jump in the markup's position, we call handleCompensation.
                _this2.handleCompensation();

                // Override history
                var clonedState = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(_this2.getEditState());

                currentAction.markup.state = clonedState;
                currentAction.markup.editState = clonedState;

                if (currentAction.newState) {
                  currentAction.newState = clonedState;
                }

                if (!actionManager.isRedoStackEmpty()) {
                  actionManager.redoStack[actionManager.redoStack.length - 1].oldState = clonedState;
                }

                actionManager.undo();
              }

              while (!actionManager.isRedoStackEmpty()) {
                actionManager.redo();
              }})();
          }})();
      }
    }

    // Use creationEnd when the markup creation / edition is complete.
  }, { key: "creationEnd", value: function creationEnd(point) {
      this.fixInitialRotation();

      if (this.onCreationEndCB) {
        this.onCreationEndCB(point);
      } else {
        this.markup.disableEdit();

        this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].MARKUP_DRAWING_END, markup: this.markup });
        this.markupsExtension.markupsManager.duringCreationMarkup = null;
        this.editEnd();

        this.markup.complete();
      }
    } }, { key: "creationCancel", value: function creationCancel()

    {
      if (this.markup.anchorHandler) {
        this.markup.anchorHandler.cancelAnchorEditing();
      }

      this.markup.disableEdit();

      this.markup.remove();

      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].MARKUP_DRAWING_CANCEL, markup: this.markup });
      this.markupsExtension.markupsManager.duringCreationMarkup = null;
      this.editEnd();
    } }, { key: "submitChanges", value: function submitChanges(

    isEdited) {
      if (this.onSubmitChangesCB) {
        this.onSubmitChangesCB();
      } else {
        _get(_getPrototypeOf(CreationHandler.prototype), "submitChanges", this).call(this, isEdited);
      }
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {
      switch (keyCode) {
        case Autodesk.Viewing.KeyCode.BACKSPACE:
        case Autodesk.Viewing.KeyCode.DELETE:
          this.creationCancel();
          return true;
        case Autodesk.Viewing.KeyCode.ESCAPE:
          return this.onEscape();
        default:
          break;}


      return false;
    } }, { key: "onEscape", value: function onEscape()

    {
      this.creationCancel();

      return true;
    } }]);return CreationHandler;}(_EditHandler__WEBPACK_IMPORTED_MODULE_2__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrow.js":
/*!*************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrow.js ***!
  \*************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CreationHandlerArrow; });
/* harmony import */ var _CreationHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CreationHandler */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

CreationHandlerArrow = /*#__PURE__*/function (_CreationHandler) {_inherits(CreationHandlerArrow, _CreationHandler);function CreationHandlerArrow() {_classCallCheck(this, CreationHandlerArrow);return _possibleConstructorReturn(this, _getPrototypeOf(CreationHandlerArrow).apply(this, arguments));}_createClass(CreationHandlerArrow, [{ key: "handleMouseMove", value: function handleMouseMove(
    point) {var _this$getEditState =
      this.getEditState(),anchors = _this$getEditState.anchors;

      if (!this.creationStarted) {
        this.creationStart();
      }

      if (anchors[0]) {
        if (this.markupsExtension.markupsTool.shiftDown) {
          this.snapPointToAxis(point, anchors[0], _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["ROTATION_SNAP_DEGREES"]);
        }

        anchors[1] = point;
        this.updateEditStateAnchors();
      }

      return true;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {var _this$getEditState2 =
      this.getEditState(),anchors = _this$getEditState2.anchors;

      if (!anchors[0]) {
        anchors[0] = point;
        this.updateEditStateAnchors();
      }

      return true;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {var _this$getEditState3 =
      this.getEditState(),anchors = _this$getEditState3.anchors;

      if (!anchors[1]) {
        return this.handleMouseMove(point, button);
      } else if (!this.isSamePoint(point, anchors[0])) {
        if (this.markupsExtension.markupsTool.shiftDown) {
          this.snapPointToAxis(point, anchors[0], _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["ROTATION_SNAP_DEGREES"]);
        }

        anchors[1] = point;

        if (this.options.joint) {
          anchors[2] = anchors[1].clone();
          anchors[1] = new THREE.Vector3((anchors[0].x + anchors[2].x) / 2, (anchors[0].y + anchors[2].y) / 2, 0);
        }

        this.updateEditStateAnchors();

        this.submitChanges();

        this.creationEnd(point);
      } else {
        this.creationCancel();
        return false;
      }

      return true;
    } }]);return CreationHandlerArrow;}(_CreationHandler__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrowCallout.js":
/*!********************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrowCallout.js ***!
  \********************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CreationHandlerCallout; });
/* harmony import */ var _CreationHandlerCompound__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CreationHandlerCompound */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerCompound.js");
/* harmony import */ var _CreationHandlerRectangle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreationHandlerRectangle */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerRectangle.js");
/* harmony import */ var _CreationHandlerArrow__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CreationHandlerArrow */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrow.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}

var

CreationHandlerCallout = /*#__PURE__*/function (_CreationHandlerCompo) {_inherits(CreationHandlerCallout, _CreationHandlerCompo);
  function CreationHandlerCallout(markupsExtension, markup) {_classCallCheck(this, CreationHandlerCallout);return _possibleConstructorReturn(this, _getPrototypeOf(CreationHandlerCallout).call(this,
    markupsExtension, markup, [
    {
      class: _CreationHandlerRectangle__WEBPACK_IMPORTED_MODULE_1__["default"] },

    {
      class: _CreationHandlerArrow__WEBPACK_IMPORTED_MODULE_2__["default"],
      options: { joint: true } }]));


  }_createClass(CreationHandlerCallout, [{ key: "getNextMarkupStartingPoint", value: function getNextMarkupStartingPoint(

    point, step) {
      return this.markup.getCenter();
    } }]);return CreationHandlerCallout;}(_CreationHandlerCompound__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerCompound.js":
/*!****************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerCompound.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CreationHandlerCompound; });
/* harmony import */ var _CreationHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CreationHandler */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}var

CreationHandlerCompound = /*#__PURE__*/function (_CreationHandler) {_inherits(CreationHandlerCompound, _CreationHandler);
  function CreationHandlerCompound(markupsExtension, markup) {var _this;var creationHandlers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];_classCallCheck(this, CreationHandlerCompound);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreationHandlerCompound).call(this, markupsExtension, markup));

    _this.creationHandlers = [];
    _this.currentStep = 0;

    _this.onCreationEndBinded = _this.onCreationEnd.bind(_assertThisInitialized(_assertThisInitialized(_this)));

    for (var i = 0; i < creationHandlers.length; i++) {
      var CreationHandlerClass = creationHandlers[i].class;
      var options = creationHandlers[i].options || {};

      if (i !== creationHandlers.length - 1) {
        options.onCreationEnd = function (point) {_this.onCreationEnd(point);};
        options.onSubmitChanges = function () {_this.markup.syncState();};
      } else {
        options.onCreationStart = function () {};
      }

      var creationHandler = new CreationHandlerClass(markupsExtension, markup, options);
      _this.creationHandlers.push(creationHandler);
    }return _this;
  }_createClass(CreationHandlerCompound, [{ key: "handleMouseMove", value: function handleMouseMove(

    point) {
      return this.creationHandlers[this.currentStep].handleMouseMove(point);
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {
      return this.creationHandlers[this.currentStep].handleButtonDown(point, button);
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {
      return this.creationHandlers[this.currentStep].handleButtonUp(point, button);
    } }, { key: "handleSingleClick", value: function handleSingleClick(

    point, button) {
      return this.creationHandlers[this.currentStep].handleSingleClick(point, button);
    } }, { key: "handleDoubleClick", value: function handleDoubleClick(

    point, button) {
      return this.creationHandlers[this.currentStep].handleDoubleClick(point, button);
    } }, { key: "onCreationEnd", value: function onCreationEnd(

    point) {
      this.currentStep += 1;
      var nextPoint = this.getNextMarkupStartingPoint(point, this.currentStep);
      this.creationHandlers[this.currentStep].handleButtonDown(nextPoint);
    } }, { key: "getNextMarkupStartingPoint", value: function getNextMarkupStartingPoint(

    point, step) {
      return point.clone();
    } }]);return CreationHandlerCompound;}(_CreationHandler__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerDimension.js":
/*!*****************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerDimension.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CreationHandlerDimension; });
/* harmony import */ var _CreationHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CreationHandler */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target, property, receiver) {if (typeof Reflect !== "undefined" && Reflect.get) {_get = Reflect.get;} else {_get = function _get(target, property, receiver) {var base = _superPropBase(target, property);if (!base) return;var desc = Object.getOwnPropertyDescriptor(base, property);if (desc.get) {return desc.get.call(receiver);}return desc.value;};}return _get(target, property, receiver || target);}function _superPropBase(object, property) {while (!Object.prototype.hasOwnProperty.call(object, property)) {object = _getPrototypeOf(object);if (object === null) break;}return object;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

CreationHandlerDimension = /*#__PURE__*/function (_CreationHandler) {_inherits(CreationHandlerDimension, _CreationHandler);
  function CreationHandlerDimension(markupsExtension, markup, options) {var _this;_classCallCheck(this, CreationHandlerDimension);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreationHandlerDimension).call(this, markupsExtension, markup, options));

    _this.measurement = new Autodesk.Viewing.MeasureCommon.Measurement(Autodesk.Viewing.MeasureCommon.MeasurementTypes.MEASUREMENT_DISTANCE);

    _this.snapper = _this.markupsExtension.markupsTool.snapper;
    _this.viewer = _this.markupsExtension.viewer;return _this;
  }_createClass(CreationHandlerDimension, [{ key: "getMeasureExtension", value: function getMeasureExtension()

    {
      if (!this.measureExtension) {
        this.measureExtension = this.markupsExtension.viewer.getExtension('Autodesk.Measure');

        if (!this.measureExtension) {
          console.error('Measure extension not available!');
        }
      }

      return this.measureExtension;
    } }, { key: "handleMouseMove", value: function handleMouseMove(

    point) {var _this$getEditState =
      this.getEditState(),anchors = _this$getEditState.anchors;

      if (!this.creationStarted) {
        this.creationStart();
      }

      if (anchors[0]) {
        if (this.markupsExtension.markupsTool.shiftDown && this.viewer.impl.is2d) {
          this.snapPointToAxis(point, anchors[0], 90);
        }

        // No need to update viewportId for each mousemove. Only for the first time.
        if (!anchors[1]) {
          this.updateViewportId(this.measurement.getPick(1).viewportIndex2d);
        }

        this.pickSecondAnchor(point);
      }

      return true;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {
      var measureExtension = this.getMeasureExtension();

      // If PDF, force calibration
      if ((measureExtension.forceCalibrate || this.viewer.model.getData().isLeaflet || this.viewer.model.getData().isPdf) && !measureExtension.calibrationTool.isCalibrated()) {
        measureExtension.openCalibrationRequiredDialog('dimension');
        this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_1__["MARKUPS_EVENTS"].CALIBRATION_REQUIRED });

        this.creationCancel();
        return true;
      }var _this$getEditState2 =

      this.getEditState(),anchors = _this$getEditState2.anchors;

      if (!anchors[0]) {
        if (this.snapper.isSnapped()) {
          this.snapper.copyResults(this.measurement.getPick(1));
          var p = Autodesk.Viewing.MeasureCommon.getSnapResultPosition(this.snapper.getSnapResult(), this.viewer);

          anchors[0] = this.markupsExtension.renderer.documentCameraToMarkupsCamera(p);

          this.updateEditStateAnchors();
        } else {
          return false;
        }
      }

      return true;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {var _this$getEditState3 =
      this.getEditState(),anchors = _this$getEditState3.anchors;

      if (!anchors[1]) {
        return this.handleMouseMove(point, button);
      } else if (!this.isSamePoint(point, anchors[0])) {
        if (this.markupsExtension.markupsTool.shiftDown && this.viewer.impl.is2d) {
          this.snapPointToAxis(point, anchors[0], 90);
        }

        var isSnapped = this.pickSecondAnchor(point);

        if (isSnapped) {
          this.updateViewportId();

          this.submitChanges();
          this.creationEnd(point);

          if (this.markup.dimensionEditHandler) {
            this.markup.dimensionEditHandler.handleButtonDown(point, button);
          }
        } else {
          return false;
        }
      } else {
        this.creationCancel();

        return false;
      }

      return true;
    } }, { key: "pickSecondAnchor", value: function pickSecondAnchor(

    point) {var _this$getEditState4 =
      this.getEditState(),anchors = _this$getEditState4.anchors;

      // After changing the point position with shiftDown, try to snap again.
      if (this.markupsExtension.markupsTool.shiftDown && this.viewer.impl.is2d) {
        var projectedPoint = this.markupsExtension.renderer.worldToClient(point);
        this.snapper.onMouseMove({ x: projectedPoint.x, y: projectedPoint.y });
      }

      var pick = this.measurement.getPick(2);
      var isSnapped = this.snapper.isSnapped();

      if (isSnapped) {
        this.snapper.copyResults(pick);
        anchors[1] = Autodesk.Viewing.MeasureCommon.getSnapResultPosition(this.snapper.getSnapResult(), this.viewer);
      } else {
        anchors[1] = point;
        pick.geomType = Autodesk.Viewing.MeasureCommon.SnapType.SNAP_VERTEX;
        pick.geomVertex = point;
        pick.intersectPoint = point;
      }

      // Correct Perpendicular
      if (Autodesk.Viewing.MeasureCommon.correctPerpendicularPicks(this.measurement.getPick(1), this.measurement.getPick(2), this.viewer, this.snapper)) {
        anchors[1] = Autodesk.Viewing.MeasureCommon.getSnapResultPosition(this.measurement.getPick(2), this.viewer);
        this.snapper.indicator.render();
      }

      if (isSnapped) {
        anchors[1] = this.markupsExtension.renderer.documentCameraToMarkupsCamera(anchors[1]);
      }

      var text = isSnapped || this.viewer.impl.is2d ? this.getDistance() : '';

      this.updateEditState({ text: text, anchors: anchors });

      return isSnapped;
    } }, { key: "creationCancel", value: function creationCancel()

    {
      _get(_getPrototypeOf(CreationHandlerDimension.prototype), "creationCancel", this).call(this);
      this.updateViewportId();
    } }, { key: "updateViewportId", value: function updateViewportId(

    viewportId) {
      if (this.viewer.model && this.viewer.impl.is2d) {
        if (!viewportId) {
          this.viewer.impl.updateViewportId(0);
          this.snapper.setViewportId(null);
        } else {
          // Pass viewport Id to LineShader to make all other geometries with different viewport transparent
          this.viewer.impl.updateViewportId(viewportId);
          this.snapper.setViewportId(viewportId);
        }
      }
    } }, { key: "getDistance", value: function getDistance()

    {
      var distance = null;
      var measureExtension = this.getMeasureExtension();var
      sharedMeasureConfig = measureExtension.sharedMeasureConfig;

      this.measurement.computeResult(this.measurement.picks, this.markupsExtension.viewer);

      if (this.markupsExtension.viewer.model && this.measurement.distanceXYZ) {
        var d = Autodesk.Viewing.Private.convertUnits(this.markupsExtension.viewer.model.getUnitString(), sharedMeasureConfig.units, sharedMeasureConfig.calibrationFactor, this.measurement.distanceXYZ);
        return Autodesk.Viewing.Private.formatValueWithUnits(d, sharedMeasureConfig.units, 3, sharedMeasureConfig.precision);
      }

      return distance;
    } }]);return CreationHandlerDimension;}(_CreationHandler__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerFactory.js":
/*!***************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerFactory.js ***!
  \***************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CreationHandlerFactory; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _CreationHandlerRectangle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CreationHandlerRectangle */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerRectangle.js");
/* harmony import */ var _CreationHandlerPolyline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CreationHandlerPolyline */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolyline.js");
/* harmony import */ var _CreationHandlerPolycloud__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./CreationHandlerPolycloud */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolycloud.js");
/* harmony import */ var _CreationHandlerFreehand__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./CreationHandlerFreehand */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerFreehand.js");
/* harmony import */ var _CreationHandlerArrow__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CreationHandlerArrow */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrow.js");
/* harmony import */ var _CreationHandlerText__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./CreationHandlerText */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerText.js");
/* harmony import */ var _CreationHandlerDimension__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./CreationHandlerDimension */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerDimension.js");
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}






var

CreationHandlerFactory = /*#__PURE__*/function () {function CreationHandlerFactory() {_classCallCheck(this, CreationHandlerFactory);}_createClass(CreationHandlerFactory, null, [{ key: "getCreationHandler", value: function getCreationHandler(
    type, markupsExtension, markup) {var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};
      switch (type) {
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_ARROW"]:
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_LINE"]:
          return new _CreationHandlerArrow__WEBPACK_IMPORTED_MODULE_5__["default"](markupsExtension, markup, options);
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_RECTANGLE"]:
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_CIRCLE"]:
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_CLOUD"]:
          return new _CreationHandlerRectangle__WEBPACK_IMPORTED_MODULE_1__["default"](markupsExtension, markup, options);
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_FREEHAND"]:
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_HIGHLIGHT"]:
          return new _CreationHandlerFreehand__WEBPACK_IMPORTED_MODULE_4__["default"](markupsExtension, markup, options);
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_POLYCLOUD"]:
          return new _CreationHandlerPolycloud__WEBPACK_IMPORTED_MODULE_3__["default"](markupsExtension, markup, options);
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_POLYLINE"]:
          return new _CreationHandlerPolyline__WEBPACK_IMPORTED_MODULE_2__["default"](markupsExtension, markup, options);
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_CALLOUT"]:
          return new _CreationHandlerText__WEBPACK_IMPORTED_MODULE_6__["default"](markupsExtension, markup, options);
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_DIMENSION"]:
          return new _CreationHandlerDimension__WEBPACK_IMPORTED_MODULE_7__["default"](markupsExtension, markup, options);
        default:}


      throw new Error("".concat(type, " creation handler does not exist"));
    } }]);return CreationHandlerFactory;}();

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerFreehand.js":
/*!****************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerFreehand.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CreationHandlerFreehand; });
/* harmony import */ var _CreationHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CreationHandler */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}

var

CreationHandlerFreehand = /*#__PURE__*/function (_CreationHandler) {_inherits(CreationHandlerFreehand, _CreationHandler);function CreationHandlerFreehand() {_classCallCheck(this, CreationHandlerFreehand);return _possibleConstructorReturn(this, _getPrototypeOf(CreationHandlerFreehand).apply(this, arguments));}_createClass(CreationHandlerFreehand, [{ key: "handleMouseMove", value: function handleMouseMove(
    point) {var _this$getEditState =
      this.getEditState(),anchors = _this$getEditState.anchors;

      if (anchors.length === 1) {
        this.creationStart();
      }

      this.addPoint(point);

      return true;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {
      this.addPoint(point);

      return true;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {
      this.addPoint(point);

      this.submitChanges();
      this.creationEnd(point);

      return true;
    } }, { key: "addPoint", value: function addPoint(

    point) {var _this$getEditState2 =
      this.getEditState(),anchors = _this$getEditState2.anchors;

      if (anchors.length === 0 || !Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["isEqualVectors"])(point, anchors[anchors.length - 1], this.markupsExtension.renderer.sizeFromClientToWorld(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MIN_FREEHAND_POINT_DISTANCE"]))) {
        // WIP for variable width. Needs further tweaking
        // if (anchors.length > 0) {
        //     const VELOCITY_WEIGHT = 0.8;
        //     const MIN_WIDTH = 0.1;
        //     const newStamp = performance.now();
        //     const deltaTime = newStamp - this.prevStamp;
        //     const distance = this.markupsExtension.renderer.sizeFromWorldToClient(point.distanceTo(anchors[anchors.length - 1]));
        //     let speed = distance / deltaTime * 1000; // px per second
        //     if (this.prevSpeed !== null) { // Low pass filter to 
        //         speed = VELOCITY_WEIGHT * speed + (1 - VELOCITY_WEIGHT) * this.prevSpeed;
        //     }
        //     point.width = Math.max(Math.min(1000 / speed, 1), MIN_WIDTH);
        //     this.prevStamp = newStamp;
        //     this.prevSpeed = speed;
        // } else {
        //     point.width = 1.0;
        //     this.prevStamp = performance.now();
        //     this.prevSpeed = null;
        // }

        anchors.push(point);

        anchors = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["simplify"])(anchors, this.markupsExtension.renderer.sizeFromClientToWorld(0.5), true);

        this.updateEditStateAnchors(anchors);
      }
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {var _this$getEditState3 =
      this.getEditState(),anchors = _this$getEditState3.anchors;

      switch (keyCode) {
        case Autodesk.Viewing.KeyCode.BACKSPACE:
        case Autodesk.Viewing.KeyCode.DELETE:
        case Autodesk.Viewing.KeyCode.ESCAPE:
          if (anchors.length > 0) {
            this.creationCancel();
          }

          return true;
        default:
          break;}


      return false;
    } }]);return CreationHandlerFreehand;}(_CreationHandler__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolycloud.js":
/*!*****************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolycloud.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CreationHandlerPolycloud; });
/* harmony import */ var _CreationHandlerPolyline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CreationHandlerPolyline */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolyline.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}var

CreationHandlerPolycloud = /*#__PURE__*/function (_CreationHandlerPolyl) {_inherits(CreationHandlerPolycloud, _CreationHandlerPolyl);function CreationHandlerPolycloud() {_classCallCheck(this, CreationHandlerPolycloud);return _possibleConstructorReturn(this, _getPrototypeOf(CreationHandlerPolycloud).apply(this, arguments));}_createClass(CreationHandlerPolycloud, [{ key: "beforeCreationEnd",
    // CreationHandlerPolycloud is the same as CreationHandlerPolyline.
    value: function beforeCreationEnd()
    {
      this.updateEditState({ closed: true });
      this.submitChanges();
    } }, { key: "getMinimumPoints", value: function getMinimumPoints()

    {
      return 3;
    } }]);return CreationHandlerPolycloud;}(_CreationHandlerPolyline__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolyline.js":
/*!****************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerPolyline.js ***!
  \****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CreationHandlerPolyline; });
/* harmony import */ var _CreationHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CreationHandler */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}

var

CreationHandlerPolyline = /*#__PURE__*/function (_CreationHandler) {_inherits(CreationHandlerPolyline, _CreationHandler);function CreationHandlerPolyline() {_classCallCheck(this, CreationHandlerPolyline);return _possibleConstructorReturn(this, _getPrototypeOf(CreationHandlerPolyline).apply(this, arguments));}_createClass(CreationHandlerPolyline, [{ key: "handleMouseMove", value: function handleMouseMove(
    point) {var _this$getEditState =
      this.getEditState(),anchors = _this$getEditState.anchors;

      if (!this.creationStarted) {
        this.creationStart();
      }

      if (anchors.length > 0) {
        this.popTemporaryPoint();

        if (this.markupsExtension.markupsTool.shiftDown && anchors.length > 0) {
          this.snapPointToAxis(point, anchors[anchors.length - 1], _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["ROTATION_SNAP_DEGREES"]);
        }

        var isClosingLoop = this.isClosingLoop(point);
        if (!isClosingLoop) {
          anchors.push(point);
          this.needPop = true;
        }

        this.updateEditState({ anchors: anchors, closed: isClosingLoop });
      }

      return true;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {var _this$getEditState2 =
      this.getEditState(),anchors = _this$getEditState2.anchors;
      if (anchors.length === 0) {
        anchors.push(point);
        this.updateEditStateAnchors();
      }

      return true;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {var _this$getEditState3 =
      this.getEditState(),anchors = _this$getEditState3.anchors;

      if (!this.creationStarted) {
        this.creationStart();
      }

      this.popTemporaryPoint();

      var isClosingLoop = this.isClosingLoop(point);

      if (isClosingLoop || this.isNewLocation(point)) {
        if (this.markupsExtension.markupsTool.shiftDown && anchors.length > 0) {
          this.snapPointToAxis(point, anchors[anchors.length - 1], _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["ROTATION_SNAP_DEGREES"]);
        }

        if (!isClosingLoop) {
          anchors.push(point);
        }

        this.updateEditState({ anchors: anchors, closed: isClosingLoop });

        if (anchors.length > 1) {
          this.submitChanges();
        }

        if (isClosingLoop) {
          this.creationEnd(point);
        }
      }

      return true;
    } }, { key: "beforeCreationEnd", value: function beforeCreationEnd()

    {
      return true;
    } }, { key: "handleDoubleClick", value: function handleDoubleClick(

    point, button) {var _this$getEditState4 =
      this.getEditState(),anchors = _this$getEditState4.anchors;

      if (anchors.length >= this.getMinimumPoints()) {
        this.popTemporaryPoint();

        // Got an extra point from handleButtonUp.
        // anchors.pop(); // TODO maybe do this only for mobile

        this.beforeCreationEnd();
        this.creationEnd(point);
      } else if (this.markupsExtension.markupsManager.getMarkupById(this.markup.id)) {
        this.deleteMarkup();
      } else {
        this.creationCancel();
      }

      return true;
    } }, { key: "getMinimumPoints", value: function getMinimumPoints()

    {
      return 2;
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {
      switch (keyCode) {
        case Autodesk.Viewing.KeyCode.BACKSPACE:
        case Autodesk.Viewing.KeyCode.DELETE:var _this$getEditState5 =
          this.getEditState(),anchors = _this$getEditState5.anchors;

          if (anchors.length > 0) {
            this.popTemporaryPoint();

            anchors.pop();

            this.updateEditStateAnchors();

            if (anchors.length > 1) {
              this.submitChanges();
            } else if (this.markupsExtension.markupsManager.getMarkupById(this.markup.id)) {
              this.deleteMarkup();
            } else {
              this.creationCancel();
            }
          }

          return true;
        case Autodesk.Viewing.KeyCode.ESCAPE:
          return this.onEscape();
        default:
          break;}


      return false;
    } }, { key: "onEscape", value: function onEscape()

    {var doBeforeCreationEnd = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;var _this$getEditState6 =
      this.getEditState(),anchors = _this$getEditState6.anchors;

      if (anchors.length > 0) {
        this.popTemporaryPoint();

        if (anchors.length >= this.getMinimumPoints()) {
          if (doBeforeCreationEnd) {
            this.beforeCreationEnd();
          }
          this.creationEnd();
        } else if (this.markupsExtension.markupsManager.getMarkupById(this.markup.id)) {
          this.deleteMarkup();
        } else {
          this.creationCancel();
        }

        return true;
      }

      return false;
    } }, { key: "isClosingLoop", value: function isClosingLoop(

    point) {var _this$getEditState7 =
      this.getEditState(),anchors = _this$getEditState7.anchors;
      return anchors.length > 2 && Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["isEqualVectors"])(point, anchors[0], this.snapDistance());
    } }, { key: "isNewLocation", value: function isNewLocation(

    point) {var _this$getEditState8 =
      this.getEditState(),anchors = _this$getEditState8.anchors;

      if (anchors.length > 0) {
        return !this.isSamePoint(point, anchors[anchors.length - 1]);
      }

      return true;
    } }, { key: "popTemporaryPoint", value: function popTemporaryPoint()

    {
      if (this.needPop) {var _this$getEditState9 =
        this.getEditState(),anchors = _this$getEditState9.anchors;
        anchors.pop();
        this.needPop = false;
        this.updateEditStateAnchors();
      }
    } }]);return CreationHandlerPolyline;}(_CreationHandler__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerRectangle.js":
/*!*****************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerRectangle.js ***!
  \*****************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CreationHandlerRectangle; });
/* harmony import */ var _CreationHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CreationHandler */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}var

CreationHandlerRectangle = /*#__PURE__*/function (_CreationHandler) {_inherits(CreationHandlerRectangle, _CreationHandler);function CreationHandlerRectangle() {_classCallCheck(this, CreationHandlerRectangle);return _possibleConstructorReturn(this, _getPrototypeOf(CreationHandlerRectangle).apply(this, arguments));}_createClass(CreationHandlerRectangle, [{ key: "handleMouseMove", value: function handleMouseMove(
    point) {var _this$getEditState =
      this.getEditState(),anchors = _this$getEditState.anchors;

      if (anchors[0]) {
        if (!this.creationStarted) {
          this.creationStart();
        }

        this.updateRectPoints(anchors, point);
      }

      return true;
    } }, { key: "updateRectPoints", value: function updateRectPoints(

    anchors, point) {
      if (this.markupsExtension.markupsTool.shiftDown) {
        this.snapPointToAxis(point, anchors[0], 90, 45);
      }

      var rightVec = this.markupsExtension.renderer.getCameraRightVector();
      var upVec = this.markupsExtension.renderer.getCameraUpVector();

      anchors[2] = point;

      var diagonal = anchors[2].clone().sub(anchors[0]);
      var width = diagonal.dot(rightVec);
      anchors[1] = anchors[0].clone().add(rightVec.multiplyScalar(width));

      var height = diagonal.dot(upVec);
      anchors[3] = anchors[0].clone().add(upVec.multiplyScalar(height));

      this.updateEditStateAnchors();
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {var _this$getEditState2 =
      this.getEditState(),anchors = _this$getEditState2.anchors;

      if (!anchors[0]) {
        anchors[0] = point;
        this.updateEditStateAnchors();
      }

      return true;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {var _this$getEditState3 =
      this.getEditState(),anchors = _this$getEditState3.anchors;

      if (!anchors[1]) {
        return this.handleMouseMove(point, button);
      } else if (!this.isSamePoint(point, anchors[0])) {
        this.updateRectPoints(anchors, point);

        this.submitChanges();

        this.creationEnd(point);
      } else {
        this.creationCancel();
        return false;
      }

      return true;
    } }]);return CreationHandlerRectangle;}(_CreationHandler__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerText.js":
/*!************************************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerText.js ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return CreationHandlerText; });
/* harmony import */ var _CreationHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CreationHandler */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandler.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

CreationHandlerText = /*#__PURE__*/function (_CreationHandler) {_inherits(CreationHandlerText, _CreationHandler);function CreationHandlerText() {_classCallCheck(this, CreationHandlerText);return _possibleConstructorReturn(this, _getPrototypeOf(CreationHandlerText).apply(this, arguments));}_createClass(CreationHandlerText, [{ key: "calculateAnchorsByCenterPoint", value: function calculateAnchorsByCenterPoint(
    point) {var _this$getEditState =
      this.getEditState(),anchors = _this$getEditState.anchors,text = _this$getEditState.text;

      var rightVec = this.markupsExtension.renderer.getCameraRightVector();
      var upVec = this.markupsExtension.renderer.getCameraUpVector();

      var style = this.markup.getTextStyle();

      var size = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["getTextSize"])(text, style);
      var fontToWorldScale = this.markupsExtension.renderer.getFontToWorldScale();
      var width = Math.ceil(size.width) * fontToWorldScale;
      var height = size.height * fontToWorldScale;

      anchors[0] = point.clone().sub(upVec.clone().multiplyScalar(height / 2)).sub(rightVec.clone().multiplyScalar(width / 2));
      anchors[1] = anchors[0].clone().add(rightVec.multiplyScalar(width));
      anchors[2] = anchors[1].clone().add(upVec.clone().multiplyScalar(height));
      anchors[3] = anchors[0].clone().add(upVec.clone().multiplyScalar(height));
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {
      return true;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {
      if (!this.didMouseMove()) {
        this.calculateAnchorsByCenterPoint(point);
        this.creationStart();
        this.updateEditStateAnchors();
        this.submitChanges();
        this.creationEnd(point);

        // iOS text input can't be focused programatically.
        if (!Autodesk.Viewing.isIOSDevice()) {
          this.markup.textInputHandler.startTextEditing(true);
        }

        return true;
      }

      return false;
    } }]);return CreationHandlerText;}(_CreationHandler__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/DimensionEditHandler.js":
/*!********************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/DimensionEditHandler.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return DimensionEditHandler; });
/* harmony import */ var _EditHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditHandler */ "./extensions/BimMarkups/EditHandlers/EditHandler.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

DimensionEditHandler = /*#__PURE__*/function (_EditHandler) {_inherits(DimensionEditHandler, _EditHandler);
  function DimensionEditHandler(markupsExtension, markup) {var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};_classCallCheck(this, DimensionEditHandler);return _possibleConstructorReturn(this, _getPrototypeOf(DimensionEditHandler).call(this,
    markupsExtension, markup, options));
  }_createClass(DimensionEditHandler, [{ key: "handleMouseMove", value: function handleMouseMove(

    point) {
      if (this.translating) {
        this.handleMouseTranslation(point);
      }

      return this.translating;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {
      if (!this.translating) {
        this.translating = this.intersect(point);

        if (this.translating) {
          var anchors = this.markup.getAnchors();

          var direction = anchors[1].clone().sub(anchors[0]).normalize();
          var eyeVec = this.markupsExtension.renderer.getCameraEyeVector();
          this.normal = direction.clone().cross(eyeVec).normalize();

          this.editStart();
        }

        return this.translating;
      }

      return true;
    } }, { key: "getPointOnNormal", value: function getPointOnNormal(

    point) {
      var anchors = this.markup.getAnchors();
      var p2 = anchors[0].clone().add(this.normal);
      var newPoint = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["nearestPointInPointToLine"])(point, anchors[0], p2);
      return newPoint;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {
      if (this.translating) {
        var newPoint = this.getPointOnNormal(point);
        if (Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["isEqualVectors"])(newPoint, this.lastTranslationPoint, this.getMinChangeDistanceWorld())) {
          this.cancelTransformEditing();
        } else if (this.lastTranslationPoint) {
          this.submitChanges();
          this.editEnd();
        }

        this.translating = false;
        this.lastTranslationPoint = null;

        return true;
      }

      return false;
    } }, { key: "handleDoubleClick", value: function handleDoubleClick(

    event, button) {
      return this.translating;
    } }, { key: "getCursor", value: function getCursor()

    {
      return 'move';
    } }, { key: "cancelTransformEditing", value: function cancelTransformEditing()

    {
      this.markup.syncEditState();
      this.translating = false;
      this.lastTranslationPoint = null;
      this.editEnd();
    } }, { key: "handleMouseTranslation", value: function handleMouseTranslation(

    point) {
      var newPoint = this.getPointOnNormal(point);

      if (!this.lastTranslationPoint) {
        this.lastTranslationPoint = newPoint;
      }

      var translation = newPoint.clone().sub(this.lastTranslationPoint);
      var translationAbs = translation.clone().add(this.markup.state.translation);

      this.updateEditState({ translation: translationAbs });
    } }, { key: "intersect", value: function intersect(

    point) {
      point = point.clone();
      this.markup.applyInverseRotation(point);
      var p = this.markupsExtension.renderer.worldToClient(point);
      var boundingBox = this.markup.getClientBoundingBox(true);
      return boundingBox.containsPoint(p);
    } }, { key: "isDragging", value: function isDragging()

    {
      return this.translating;
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {
      switch (keyCode) {
        case Autodesk.Viewing.KeyCode.BACKSPACE:
        case Autodesk.Viewing.KeyCode.DELETE:
        case Autodesk.Viewing.KeyCode.ESCAPE:
          if (this.translating) {
            this.cancelTransformEditing();
            return true;
          }
          break;
        default:
          break;}


      return false;
    } }]);return DimensionEditHandler;}(_EditHandler__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/EditHandler.js":
/*!***********************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/EditHandler.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EditHandler; });
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _Actions_AddMarkupAction__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Actions/AddMarkupAction */ "./extensions/BimMarkups/Actions/AddMarkupAction.js");
/* harmony import */ var _Actions_UpdateMarkupAction__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Actions/UpdateMarkupAction */ "./extensions/BimMarkups/Actions/UpdateMarkupAction.js");
/* harmony import */ var _Actions_DeleteMarkupAction__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Actions/DeleteMarkupAction */ "./extensions/BimMarkups/Actions/DeleteMarkupAction.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}






var

EditHandler = /*#__PURE__*/function () {
  function EditHandler(markupsExtension, markup) {var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};_classCallCheck(this, EditHandler);
    this.markupsExtension = markupsExtension;
    this.viewer = markupsExtension.viewer;
    this.markup = markup;
    this.options = options;
  }_createClass(EditHandler, [{ key: "getEditState", value: function getEditState()

    {
      return this.markup.getEditState();
    } }, { key: "setEditState", value: function setEditState(

    editState, changes) {
      this.markup.setEditState(editState, changes);
    } }, { key: "getAnchors", value: function getAnchors()

    {
      return this.getEditState().anchors;
    }

    // Use updateEditState whenever there are changes you want to update in the markup's edit state.
  }, { key: "updateEditState", value: function updateEditState(changes) {
      this.setEditState(Object.assign({}, this.getEditState(), changes), changes);
    }

    // Use updateEditStateAnchors whenever there are changes you want to update in the markup's edit state's anchors.
  }, { key: "updateEditStateAnchors", value: function updateEditStateAnchors() {var anchors = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getEditState().anchors;
      this.updateEditState({ anchors: anchors });
    } }, { key: "handleCompensation", value: function handleCompensation()

    {
      if (!this.markup.layer) {
        return;
      }

      // Move anchors so center stays same as before. Add translation to offset to new center
      var anchors = this.markup.getAnchors();

      if (!this.prevCenter) {
        this.prevCenter = this.markup.center.clone();
      }

      var translation = this.markup.center.clone().sub(this.prevCenter);
      anchors.forEach(function (anchor) {
        anchor.sub(translation);
      });

      // Add scale/rotation to new offset
      translation.applyMatrix4(this.markup.scaleMatrix);
      var rotation = this.markup.getRotation();
      if (rotation !== 0) {
        var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
        _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(translation, rotation, new THREE.Vector3(), eyeDirection);
      }
      translation.add(this.markup.editState.translation);

      this.updateEditState({ anchors: anchors, translation: translation });

      this.prevCenter.copy(this.markup.center);
    }

    // Use submitChanges to update the markup with the recent changes of the edit handler.
    // Using this will change the history of the markups, and will add an undo / redo actions.
    // Use it only after you committed changes to the editState, using updateEditState.
  }, { key: "submitChanges", value: function submitChanges(isEdited) {
      var action;

      var isNewMarkup = !this.markup.layer;

      if (isNewMarkup) {
        var layer = this.markupsExtension.markupsManager.getActiveLayer();

        this.markup.syncState();
        action = new _Actions_AddMarkupAction__WEBPACK_IMPORTED_MODULE_2__["default"](this.markupsExtension.markupsManager, this.markup, layer);
      } else {
        action = new _Actions_UpdateMarkupAction__WEBPACK_IMPORTED_MODULE_3__["default"](this.markupsExtension.markupsManager, this.markup, this.getEditState());
      }
      action.isEdited = isEdited;
      action.execute();
    } }, { key: "deleteMarkup", value: function deleteMarkup()

    {
      var action = new _Actions_DeleteMarkupAction__WEBPACK_IMPORTED_MODULE_4__["default"](this.markupsExtension.markupsManager, this.markup);
      action.execute();
    } }, { key: "changeStyleProperty", value: function changeStyleProperty(

    key, value, dontSubmit) {
      var editState = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(this.getEditState());
      editState.style[key] = value;

      this.updateEditState({ style: Object.assign({}, editState.style) });

      if (!dontSubmit) {
        this.submitChanges(true);
        this.editEnd(true);
      }
    } }, { key: "snapPointToAxis", value: function snapPointToAxis(

    point, previousPoint, degrees) {var offset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;
      if (Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_6__["isEqualVectors"])(point, previousPoint)) {
        return;
      }

      var pointProjected = this.markupsExtension.renderer.worldToClient(point);
      var previousPointProjected = this.markupsExtension.renderer.worldToClient(previousPoint);

      var direction = pointProjected.clone().sub(previousPointProjected).normalize();

      var cameraAngle = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getSignedAngle(this.markupsExtension.renderer.absoluteUpVec, direction, this.markupsExtension.renderer.getCameraEyeVector());
      var angle = cameraAngle + _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].degreesToRadians(offset);
      var snap = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].degreesToRadians(degrees);
      var newAngle = Math.ceil((angle - _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].degreesToRadians(degrees / 2)) / snap) * snap;
      var eyeDirection = new THREE.Vector3(0, 0, -1);
      var rotatedPoint = pointProjected.clone();
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(rotatedPoint, newAngle - angle, previousPointProjected, eyeDirection);

      var axis = rotatedPoint.clone().sub(previousPointProjected).normalize();
      var length = pointProjected.clone().sub(previousPointProjected).dot(axis);
      var newPoint = previousPointProjected.add(axis.multiplyScalar(length));

      point.copy(this.markupsExtension.renderer.clientToWorld(newPoint));
    } }, { key: "getSnappedPosition", value: function getSnappedPosition()

    {
      if (this.markupsExtension.markupsTool.isSnappingAllowed()) {
        return this.markupsExtension.markupsTool.getSnappedPosition();
      } else {
        return this.markupsExtension.markupsTool.lastMousePos;
      }
    } }, { key: "didMouseMove", value: function didMouseMove()

    {
      return this.markupsExtension.markupsTool.mouseMoved;
    } }, { key: "getTouchRadiusWorld", value: function getTouchRadiusWorld()

    {
      return this.markupsExtension.renderer.sizeFromClientToWorld(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_7__["TOUCH_RADIUS"]);
    } }, { key: "getMinChangeDistanceWorld", value: function getMinChangeDistanceWorld()

    {
      return this.markupsExtension.renderer.sizeFromClientToWorld(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_7__["MIN_CHANGE_DISTANCE"]);
    } }, { key: "snapDistance", value: function snapDistance()

    {
      return this.markupsExtension.renderer.sizeFromClientToWorld(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_7__["SNAP_DISTANCE"]);
    } }, { key: "intersect", value: function intersect(

    point) {
      return null;
    }

    // Default creation cursor.
  }, { key: "getCursor", value: function getCursor() {
      return 'crosshair';
    } }, { key: "isDragging", value: function isDragging()

    {
      return false;
    } }, { key: "editStart", value: function editStart()

    {
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_EDIT_START, markup: this.markup, handler: this });
    } }, { key: "editEnd", value: function editEnd(

    isEdited) {
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_EDIT_END, markup: this.markup, isEdited: isEdited, handler: this });
    } }, { key: "isSamePoint", value: function isSamePoint(

    p1, p2) {
      return Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_6__["isEqualVectors"])(p1, p2, this.getMinChangeDistanceWorld());
    } }, { key: "isSamePointClient", value: function isSamePointClient(

    p1, p2) {
      return Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_6__["isEqualVectors"])(p1, p2, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_7__["MIN_CHANGE_DISTANCE"]);
    } }, { key: "handleDoubleClick", value: function handleDoubleClick(

    event, button) {
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    event, button) {
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    event, button) {
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {
    } }, { key: "handleKeyUp", value: function handleKeyUp(

    event, keyCode) {
    } }, { key: "handleMouseMove", value: function handleMouseMove(

    event) {
    } }, { key: "handleGesture", value: function handleGesture(

    event) {
    } }, { key: "handleResize", value: function handleResize()

    {
    } }, { key: "destroy", value: function destroy()

    {
      this.markupsExtension = null;
      this.viewer = null;
      this.markup = null;
    } }]);return EditHandler;}();

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/RectSelector.js":
/*!************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/RectSelector.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RectSelector; });
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _EditHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EditHandler */ "./extensions/BimMarkups/EditHandlers/EditHandler.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}
var

RectSelector = /*#__PURE__*/function (_EditHandler) {_inherits(RectSelector, _EditHandler);
  function RectSelector(markupsExtension) {var _this;var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};_classCallCheck(this, RectSelector);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(RectSelector).call(this, markupsExtension, null, options));

    _this.bounds = new THREE.Box3();
    _this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_END, _this.clean.bind(_assertThisInitialized(_assertThisInitialized(_this))));return _this;
  }_createClass(RectSelector, [{ key: "handleMouseMove", value: function handleMouseMove(

    point) {var _this2 = this;
      if (this.buttonDownPoint && this.markupsExtension.markupsTool.dragging && this.didMouseMove()) {
        this.bounds.makeEmpty();

        // Ignore difference in z coordinate.
        this.bounds.expandByVector(new THREE.Vector3(0, 0, Infinity));

        this.bounds.expandByPoint(point);
        this.bounds.expandByPoint(this.buttonDownPoint);

        var selectableMarkups = this.markupsExtension.markupsManager.getEnabledMarkups().filter(function (m) {return !m.isSelected();});

        selectableMarkups.forEach(function (markup) {
          var markupBounds = markup.getWorldBoundingBox(true);

          if (_this2.bounds.isIntersectionBox(markupBounds)) {
            markup.setHover(true);
          }
        });

        this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].RECT_SELECTOR_UPDATED, bounds: this.bounds });
        return true;
      }

      return false;
    } }, { key: "clean", value: function clean()

    {
      this.buttonDownPoint = null;
      this.bounds.makeEmpty();
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].RECT_SELECTOR_UPDATED, bounds: this.bounds });
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {
      this.clean();
      this.buttonDownPoint = point;
      return true;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {
      var selected = false;

      this.selectMarkups();

      this.clean();

      return selected;
    } }, { key: "selectMarkups", value: function selectMarkups()

    {var _this3 = this;
      if (!this.markupsExtension.markupsTool.shiftDown) {
        this.markupsExtension.markupsManager.deselectAllMarkups();
      }

      var selectableMarkups = this.markupsExtension.markupsManager.getEnabledMarkups().filter(function (m) {return !m.isSelected();});

      selectableMarkups.forEach(function (markup) {
        var markupBounds = markup.getWorldBoundingBox(true);
        if (_this3.bounds.isIntersectionBox(markupBounds)) {
          markup.select();
        }
      });
    } }]);return RectSelector;}(_EditHandler__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/RotationHandler.js":
/*!***************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/RotationHandler.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return RotationHandler; });
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _EditHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EditHandler */ "./extensions/BimMarkups/EditHandlers/EditHandler.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}

var

RotationHandler = /*#__PURE__*/function (_EditHandler) {_inherits(RotationHandler, _EditHandler);function RotationHandler() {_classCallCheck(this, RotationHandler);return _possibleConstructorReturn(this, _getPrototypeOf(RotationHandler).apply(this, arguments));}_createClass(RotationHandler, [{ key: "handleMouseMove", value: function handleMouseMove(
    point) {
      if (this.rotating) {
        this.handleRotation(point);
      }

      return this.rotating;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {
      if (!this.rotating) {
        this.rotating = this.intersect(point);

        if (this.rotating) {
          this.originalRotation = this.markup.getRotation();
          this.handleRotation(point);
          this.editStart();
        }
      }

      return this.rotating;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {
      if (this.rotating) {
        this.rotating = false;

        if (Math.abs(this.originalRotation - this.markup.getRotation()) < _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MIN_ANGLE_CHANGE"]) {
          this.cancelTransformEditing();
        } else {
          this.submitChanges();
          this.editEnd();
        }

        this.originalRotation = null;

        return true;
      }

      return false;
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {
      switch (keyCode) {
        case Autodesk.Viewing.KeyCode.BACKSPACE:
        case Autodesk.Viewing.KeyCode.DELETE:
        case Autodesk.Viewing.KeyCode.ESCAPE:
          if (this.rotating) {
            this.cancelTransformEditing();
            return true;
          }
          break;
        default:
          break;}


      return false;
    } }, { key: "handleKeyUp", value: function handleKeyUp(

    event, keyCode) {
      return false;
    } }, { key: "handleDoubleClick", value: function handleDoubleClick(

    event, button) {
      return this.rotating;
    } }, { key: "getCursor", value: function getCursor()

    {
      return 'url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjIwcHgiIHZpZXdCb3g9IjAgMCAyMCAyMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4gICAgICAgIDx0aXRsZT5tb3VzZSBjdXJzb3Ivcm90YXRlPC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBhdGggZD0iTTMsOCBMMSw4IEw0LDQgTDcsOCBMNSw4IEM1LDEwLjQ4NTI4MTQgNy41MTQ3MTg2MywxMyAxMCwxMyBDMTIuNDg1MjgxNCwxMyAxNSwxMC40ODUyODE0IDE1LDggTDEzLDggTDE2LDQgTDE5LDggTDE3LDggQzE3LDExLjU4OTg1MDkgMTMuNTg5ODUwOSwxNSAxMCwxNSBDNi40MTAxNDkxMywxNSAzLDExLjU4OTg1MDkgMyw4IFoiIGlkPSJwYXRoLTEiPjwvcGF0aD4gICAgICAgIDxmaWx0ZXIgeD0iLTMzLjMlIiB5PSItNjkuNyUiIHdpZHRoPSIxNjYuNyUiIGhlaWdodD0iMTk3LjAlIiBmaWx0ZXJVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIGlkPSJmaWx0ZXItMiI+ICAgICAgICAgICAgPGZlTW9ycGhvbG9neSByYWRpdXM9IjEiIG9wZXJhdG9yPSJkaWxhdGUiIGluPSJTb3VyY2VBbHBoYSIgcmVzdWx0PSJzaGFkb3dTcHJlYWRPdXRlcjEiPjwvZmVNb3JwaG9sb2d5PiAgICAgICAgICAgIDxmZU9mZnNldCBkeD0iMCIgZHk9Ii0yIiBpbj0ic2hhZG93U3ByZWFkT3V0ZXIxIiByZXN1bHQ9InNoYWRvd09mZnNldE91dGVyMSI+PC9mZU9mZnNldD4gICAgICAgICAgICA8ZmVHYXVzc2lhbkJsdXIgc3RkRGV2aWF0aW9uPSIxIiBpbj0ic2hhZG93T2Zmc2V0T3V0ZXIxIiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVHYXVzc2lhbkJsdXI+ICAgICAgICAgICAgPGZlQ29tcG9zaXRlIGluPSJzaGFkb3dCbHVyT3V0ZXIxIiBpbjI9IlNvdXJjZUFscGhhIiBvcGVyYXRvcj0ib3V0IiByZXN1bHQ9InNoYWRvd0JsdXJPdXRlcjEiPjwvZmVDb21wb3NpdGU+ICAgICAgICAgICAgPGZlQ29sb3JNYXRyaXggdmFsdWVzPSIwIDAgMCAwIDAgICAwIDAgMCAwIDAgICAwIDAgMCAwIDAgIDAgMCAwIDAuNSAwIiB0eXBlPSJtYXRyaXgiIGluPSJzaGFkb3dCbHVyT3V0ZXIxIj48L2ZlQ29sb3JNYXRyaXg+ICAgICAgICA8L2ZpbHRlcj4gICAgPC9kZWZzPiAgICA8ZyBpZD0ibW91c2UtY3Vyc29yL3JvdGF0ZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgICAgICA8ZyBpZD0iQ29tYmluZWQtU2hhcGUiIGZpbGwtcnVsZT0ibm9uemVybyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAuMDAwMDAwLCA5LjUwMDAwMCkgcm90YXRlKC0xODAuMDAwMDAwKSB0cmFuc2xhdGUoLTEwLjAwMDAwMCwgLTkuNTAwMDAwKSAiPiAgICAgICAgICAgIDx1c2UgZmlsbD0iYmxhY2siIGZpbGwtb3BhY2l0eT0iMSIgZmlsdGVyPSJ1cmwoI2ZpbHRlci0yKSIgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPHBhdGggc3Ryb2tlPSIjRkZGRkZGIiBzdHJva2Utd2lkdGg9IjEiIGQ9Ik0yLjUyMDExNDgzLDguNSBMMy40MjUyNjAwOGUtMTIsOC41IEw0LDMuMTY2NjY2NjcgTDgsOC41IEw1LjUzODA0MjA3LDguNSBDNS44NDQ5MzkyOCwxMC41NDE1MjMyIDcuOTU3NDAyMDYsMTIuNSAxMCwxMi41IEMxMi4wNDI1OTc5LDEyLjUgMTQuMTU1MDYwNywxMC41NDE1MjMyIDE0LjQ2MTk1NzksOC41IEwxMiw4LjUgTDE2LDMuMTY2NjY2NjcgTDIwLDguNSBMMTcuNDc5ODg1Miw4LjUgQzE3LjE4NTI0NywxMi4xNzM1MTU3IDEzLjY5ODgwMSwxNS41IDEwLDE1LjUgQzYuMzAxMTk5MDIsMTUuNSAyLjgxNDc1MzAzLDEyLjE3MzUxNTcgMi41MjAxMTQ4Myw4LjUgWiIgZmlsbD0iIzAwMDAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48L3BhdGg+ICAgICAgICA8L2c+ICAgIDwvZz48L3N2Zz4=) 10 10, auto';
    } }, { key: "cancelTransformEditing", value: function cancelTransformEditing()

    {
      this.markup.syncEditState();

      this.rotating = false;
      this.editEnd();
    } }, { key: "handleRotation", value: function handleRotation(

    point) {
      var p = this.markupsExtension.renderer.worldToClient(point);
      var center = this.markup.getClientCenter();
      var vec = p.clone().sub(center).normalize();

      var angle = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getSignedAngle(vec, this.markupsExtension.renderer.getCameraUpVector(), this.markupsExtension.renderer.getCameraEyeVector());

      if (this.markupsExtension.markupsTool.shiftDown) {
        var snap = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].degreesToRadians(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["ROTATION_SNAP_DEGREES"]);
        angle = Math.ceil((angle - _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].degreesToRadians(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["ROTATION_SNAP_DEGREES"] / 2)) / snap) * snap;
      }

      this.updateEditState({ rotation: angle });
    } }, { key: "getRotationAnchor", value: function getRotationAnchor()

    {
      var boundingBox = this.markup.getClientBoundingBox(true);
      var vec = boundingBox.center().add(new THREE.Vector3(0, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["ROTATION_ANCHOR_DISTANCE"] + boundingBox.size().y / 2, 0));
      var pivot = boundingBox.center();
      var rotation = this.markup.getRotation() + this.markupsExtension.renderer.getCameraRotation();
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(vec, rotation, pivot, this.markupsExtension.renderer.absoluteEyeVec);
      return vec;
    } }, { key: "intersect", value: function intersect(

    point) {
      point = point.clone();
      var p = this.markupsExtension.renderer.worldToClient(point);

      var rotationAnchor = this.getRotationAnchor();

      return rotationAnchor.distanceTo(p) <= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["TOUCH_RADIUS"];
    } }, { key: "isDragging", value: function isDragging()

    {
      return this.rotating;
    } }]);return RotationHandler;}(_EditHandler__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/ScaleHandler.js":
/*!************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/ScaleHandler.js ***!
  \************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ScaleHandler; });
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _EditHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./EditHandler */ "./extensions/BimMarkups/EditHandlers/EditHandler.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}


var

ScaleHandler = /*#__PURE__*/function (_EditHandler) {_inherits(ScaleHandler, _EditHandler);function ScaleHandler() {_classCallCheck(this, ScaleHandler);return _possibleConstructorReturn(this, _getPrototypeOf(ScaleHandler).apply(this, arguments));}_createClass(ScaleHandler, [{ key: "handleMouseMove", value: function handleMouseMove(
    point) {
      if (this.scaling) {
        var p = point.clone();
        this.markup.applyInverseRotation(p);
        this.markup.applyInverseCameraRotation(p);

        this.handleScaling(p);
      }

      return this.scaling;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {
      if (!this.scaling) {
        this.scaleAnchor = this.intersect(point);
        this.scaling = !!this.scaleAnchor;

        if (this.scaling) {
          this.originalPoint = point.clone();
          this.editStart();
        }
      }

      return this.scaling;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {
      if (this.scaling) {
        this.scaleAnchor = null;
        this.scaling = false;

        if (this.isSamePoint(point, this.originalPoint)) {
          this.cancelTransformEditing();
        } else {
          this.submitChanges();
          this.editEnd();
        }

        return true;
      }

      return false;
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {
      switch (keyCode) {
        case Autodesk.Viewing.KeyCode.BACKSPACE:
        case Autodesk.Viewing.KeyCode.DELETE:
        case Autodesk.Viewing.KeyCode.ESCAPE:
          if (this.scaling) {
            this.cancelTransformEditing();
            return true;
          }
          break;
        default:
          break;}


      return false;
    } }, { key: "handleDoubleClick", value: function handleDoubleClick(

    event, button) {
      return this.scaling;
    } }, { key: "getCursor", value: function getCursor()

    {
      if (this.cursor && this.scaling) {
        return this.cursor;
      }

      var p = this.markup.getClientCenter();

      var direction = this.lastIntersectPoint.clone().sub(p).normalize();
      var rightVec = new THREE.Vector3(1, 0, 0);
      var sign = this.lastIntersectPoint.y < p.y ? 1 : -1;
      var angle = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].radiansToDegrees(direction.angleTo(rightVec)) * sign;
      var newAngle = Math.ceil((angle - 22.5) / 45) * 45;

      this.cursor = null;

      switch (newAngle) {
        case 180:
        case -180:
        case 0:
          this.cursor = 'ew-resize';
          break;
        case 90:
        case -90:
          this.cursor = 'ns-resize';
          break;
        case 135:
        case -45:
          this.cursor = 'nwse-resize';
          break;
        case -135:
        case 45:
          this.cursor = 'nesw-resize';
          break;
        default:}


      return this.cursor;
    } }, { key: "cancelTransformEditing", value: function cancelTransformEditing()

    {
      this.markup.syncEditState();
      this.scaleAnchor = null;
      this.scaling = false;
      this.editEnd();
    } }, { key: "handleScaling", value: function handleScaling(

    point) {var _this = this;
      var pointProjected = this.markupsExtension.renderer.worldToClient(point);

      this.originalBoundingBox = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].swapBoundingBoxY(this.markup.getWorldBoundingBox().clone());

      this.scaleAnchor.axisList.forEach(function (axis) {
        var currentAnchorPos = _this.getAnchorPosByAxisList([axis], false);
        var pointWithoutMargin = pointProjected.clone().sub(axis.clone().multiplyScalar(_this.markup.getMarginSize()));
        _this.resize(pointWithoutMargin, currentAnchorPos, axis);
      });

      this.updateTranslation();
    } }, { key: "updateTranslation", value: function updateTranslation()

    {
      var axisSummed = this.scaleAnchor.axisList.reduce(function (acc, current) {
        return acc.clone().add(current);
      });

      var newBoundingBox = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].swapBoundingBoxY(this.markup.getWorldBoundingBox().clone());

      var diffVector = newBoundingBox.size().sub(this.originalBoundingBox.size()).multiply(axisSummed).multiplyScalar(0.5);
      var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(diffVector, this.markup.getRotation(), new THREE.Vector3(), eyeDirection);
      var translation = diffVector.add(this.markup.editState.translation);

      this.updateEditState({ translation: translation });

      this.originalBoundingBox = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].swapBoundingBoxY(this.markup.getWorldBoundingBox().clone());
    } }, { key: "resize", value: function resize(

    point, currentAnchorPos, axis, deep) {
      var p2 = currentAnchorPos.clone().add(axis);
      var newAnchorPos = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_2__["nearestPointInPointToLine"])(point, currentAnchorPos, p2);

      var boundingBox = this.markup.getClientBoundingBox(false);
      var oppositeAnchor = this.getOppositePoint(currentAnchorPos, boundingBox);
      var distanceVector = newAnchorPos.clone().sub(oppositeAnchor);
      var length = axis.clone().multiply(distanceVector);

      var currentLength = boundingBox.size().multiply(axis).length();
      var newLength = distanceVector.length();

      // Don't let markup's size be smaller than the bounding box
      if (!deep && newLength >= 0 && newLength < this.markup.getMarginSize()) {
        return;
      }

      // // Flip to other side.
      if (!deep && length.x + length.y < 0) {
        var flipPoint = oppositeAnchor.clone().add(axis);
        this.resize(flipPoint, currentAnchorPos, axis, true);
        this.updateTranslation();
        axis.negate();
        this.applyReflection(axis);
        this.resize(point, flipPoint, axis, true);
        return;
      }

      var scaleRatio = newLength / currentLength - 1;

      var axisMask = this.markupsExtension.markupsTool.shiftDown ? new THREE.Vector3(1, 1, 0) : new THREE.Vector3(Math.abs(axis.x), Math.abs(axis.y), Math.abs(axis.z));
      var scaleVector = axisMask.clone().multiplyScalar(scaleRatio).addScalar(1);

      var scaleAbs = scaleVector.clone().multiply(this.markup.editState.scale);

      this.updateEditState({ scale: scaleAbs });
    } }, { key: "intersect", value: function intersect(

    point) {
      var scaleAnchors = this.getScaleAnchors();
      var p = point.clone();
      this.markup.applyInverseRotation(p);
      this.markup.applyInverseCameraRotation(p);

      var pProjected = this.markupsExtension.renderer.worldToClient(p);
      this.lastIntersectPoint = pProjected;

      return scaleAnchors.find(function (anc) {
        return anc.pos.distanceTo(pProjected) <= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["TOUCH_RADIUS"];
      });
    } }, { key: "isDragging", value: function isDragging()

    {
      return this.scaling;
    } }, { key: "getOppositePoint", value: function getOppositePoint(

    point, boundingBox) {
      var center = boundingBox.center();
      var pointToCenterDistance = point.clone().distanceTo(center);
      var pointToCenterDirection = point.clone().sub(center).normalize();
      return point.clone().sub(pointToCenterDirection.multiplyScalar(pointToCenterDistance * 2));
    } }, { key: "applyReflection", value: function applyReflection(

    axis) {
      var v = new THREE.Vector3(1, 1, 1).sub(axis.clone().multiply(axis).multiplyScalar(2));
      var scale = this.markup.editState.scale.clone();
      scale.multiply(v);
      this.updateEditState({ scale: scale });
    }

    /**
       *
       * Scale Anchors
       *
      */ }, { key: "getScaleAnchors", value: function getScaleAnchors()

    {var _this$getEditState =
      this.getEditState(),anchors = _this$getEditState.anchors;
      if (anchors.length < 2) {
        return [];
      }

      if (this.options.onlyHorizontal) {
        return [
        this.getEastAnchor(), this.getWestAnchor()];

      } else {
        return [
        this.getEastAnchor(), this.getWestAnchor(), this.getNorthAnchor(), this.getSouthAnchor(),
        this.getNorthWestAnchor(), this.getSouthWestAnchor(), this.getNorthEastAnchor(), this.getSouthEastAnchor()];

      }
    } }, { key: "getAnchorPosByAxisList", value: function getAnchorPosByAxisList(

    axisList, withMargin) {
      var boundingBox = this.markup.getClientBoundingBox(withMargin);
      var pos = boundingBox.center();

      axisList.forEach(function (axis) {
        var corner = axis.clone().multiply(boundingBox.size().multiplyScalar(0.5));
        pos.add(corner);
      });

      return pos;
    } }, { key: "getAnchor", value: function getAnchor(

    axisList, id) {
      var pos = this.getAnchorPosByAxisList(axisList, true);

      return {
        pos: pos, axisList: axisList, id: id };

    } }, { key: "getNorthAnchor", value: function getNorthAnchor()

    {
      return this.getAnchor([new THREE.Vector3(0, 1, 0)], 'n');
    } }, { key: "getSouthAnchor", value: function getSouthAnchor()

    {
      return this.getAnchor([new THREE.Vector3(0, -1, 0)], 's');
    } }, { key: "getEastAnchor", value: function getEastAnchor()

    {
      return this.getAnchor([new THREE.Vector3(1, 0, 0)], 'e');
    } }, { key: "getWestAnchor", value: function getWestAnchor()

    {
      return this.getAnchor([new THREE.Vector3(-1, 0, 0)], 'w');
    } }, { key: "getNorthWestAnchor", value: function getNorthWestAnchor()

    {
      return this.getAnchor([new THREE.Vector3(0, 1, 0), new THREE.Vector3(-1, 0, 0)], 'nw');
    } }, { key: "getSouthWestAnchor", value: function getSouthWestAnchor()

    {
      return this.getAnchor([new THREE.Vector3(0, -1, 0), new THREE.Vector3(-1, 0, 0)], 'sw');
    } }, { key: "getNorthEastAnchor", value: function getNorthEastAnchor()

    {
      return this.getAnchor([new THREE.Vector3(0, 1, 0), new THREE.Vector3(1, 0, 0)], 'ne');
    } }, { key: "getSouthEastAnchor", value: function getSouthEastAnchor()

    {
      return this.getAnchor([new THREE.Vector3(0, -1, 0), new THREE.Vector3(1, 0, 0)], 'se');
    } }]);return ScaleHandler;}(_EditHandler__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/SelectionHandler.js":
/*!****************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/SelectionHandler.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SelectionHandler; });
/* harmony import */ var _EditHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditHandler */ "./extensions/BimMarkups/EditHandlers/EditHandler.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}var

SelectionHandler = /*#__PURE__*/function (_EditHandler) {_inherits(SelectionHandler, _EditHandler);function SelectionHandler() {_classCallCheck(this, SelectionHandler);return _possibleConstructorReturn(this, _getPrototypeOf(SelectionHandler).apply(this, arguments));}_createClass(SelectionHandler, [{ key: "getCursor", value: function getCursor()
    {
      return 'pointer';
    } }, { key: "intersect", value: function intersect(

    point) {
      return this.markup.intersect(point);
    } }, { key: "handleMouseMove", value: function handleMouseMove(

    point) {
      if (this.markupsExtension.markupsTool.dragging || Autodesk.Viewing.isMobileDevice()) {
        return false;
      }

      var intersected = this.markup.intersect(point);

      if (intersected) {
        if (this.markup.layer === this.markupsExtension.markupsManager.getActiveLayer()) {
          this.markup.setHover(true);
        } else {
          this.markup.layer.setHover(true);
        }
      }

      return intersected;
    } }, { key: "handleDoubleClick", value: function handleDoubleClick(

    point, button) {
      if (this.didMouseMove()) {
        return false;
      }

      if (this.markup.intersect(point)) {
        if (!this.markupsExtension.markupsManager.isMarkupSessionOpen() && this.markup.layer !== this.markupsExtension.markupsManager.getActiveLayer()) {
          this.markupsExtension.markupsManager.editLayer(this.markup.layer, false, false, false);
        }

        if (!this.markupsExtension.markupsTool.shiftDown && !this.markupsExtension.markupsTool.ctrlDown) {
          this.markupsExtension.markupsManager.deselectAllMarkups([this.markup]);
        }

        this.markup.select();

        return true;
      }

      return false;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {
      return false;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {
      if (this.didMouseMove()) {
        return false;
      }

      if (this.markup.intersect(point)) {
        this.markupsExtension.markupsManager.deselectAllLayers([this.markup.layer]);
        this.markupsExtension.markupsManager.selectLayer(this.markup.layer, false, false);

        if (this.markupsExtension.markupsManager.isMarkupSessionOpen()) {
          if (!this.markupsExtension.markupsTool.shiftDown && !this.markupsExtension.markupsTool.ctrlDown) {
            this.markupsExtension.markupsManager.deselectAllMarkups([this.markup]);
          }

          this.markup.select();
        }

        return true;
      }

      return false;
    } }]);return SelectionHandler;}(_EditHandler__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/TextInputHandler.js":
/*!****************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/TextInputHandler.js ***!
  \****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TextInputHandler; });
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/ActionManager/ActionManager */ "./extensions/BimMarkups/Utils/ActionManager/ActionManager.js");
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _ThirdParty_textarea_caret_textarea_caret__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../ThirdParty/textarea-caret/textarea-caret */ "./extensions/BimMarkups/ThirdParty/textarea-caret/textarea-caret.js");
/* harmony import */ var _ThirdParty_textarea_caret_textarea_caret__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_ThirdParty_textarea_caret_textarea_caret__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _EditHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./EditHandler */ "./extensions/BimMarkups/EditHandlers/EditHandler.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _EditHandlers_RotationHandler__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../EditHandlers/RotationHandler */ "./extensions/BimMarkups/EditHandlers/RotationHandler.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}







var

TextInputHandler = /*#__PURE__*/function (_EditHandler) {_inherits(TextInputHandler, _EditHandler);
  function TextInputHandler(markupsExtension, markup, options) {var _this;_classCallCheck(this, TextInputHandler);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(TextInputHandler).call(this, markupsExtension, markup, options));

    _this.polyFillIE();
    _this.textboxActive = false;
    _this.submitChangesDebounced = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_2__["default"].debounce(_this.options.submitChanges || _this.submitChanges, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_7__["TEXT_DEBOUNCE"]);

    // Relevent for iOS only. Look at the methods at the end of this file.
    if (Autodesk.Viewing.isIOSDevice()) {
      _this.onMarkupEditEnabledBinded = _this.onMarkupEditEnabled.bind(_assertThisInitialized(_assertThisInitialized(_this)));
      _this.onMarkupEditDisabledBinded = _this.onMarkupEditDisabled.bind(_assertThisInitialized(_assertThisInitialized(_this)));
      _this.onMarkupEditStartBinded = _this.onMarkupEditStart.bind(_assertThisInitialized(_assertThisInitialized(_this)));
      _this.onMarkupEditEndBinded = _this.onMarkupEditEnd.bind(_assertThisInitialized(_assertThisInitialized(_this)));
      _this.onTouchEndBinded = _this.onTouchEnd.bind(_assertThisInitialized(_assertThisInitialized(_this)));
      _this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_ENABLE_EDIT, _this.onMarkupEditEnabledBinded);
      _this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_DISABLE_EDIT, _this.onMarkupEditDisabledBinded);
    }return _this;
  }_createClass(TextInputHandler, [{ key: "intersect", value: function intersect(

    point) {
      if (!this.markup.isTextMarkup()) {
        return false;
      }

      point = point.clone();
      this.markup.applyInverseRotation(point);
      this.markup.applyInverseCameraRotation(point);
      var p = this.markupsExtension.renderer.worldToClient(point);
      var boundingBox = this.markup.getClientBoundingBox(true);
      return boundingBox.containsPoint(p);
    } }, { key: "updateCaretPosition", value: function updateCaretPosition()

    {
      var label = this.markupsExtension.renderer.textRenderer.getLabel(this.markup);
      var pos = this.getUpdatedCaretPosition(label);
      if (pos.start !== 0 || pos.end !== 0) {
        this.lastCaretPosition = pos;
      }
    } }, { key: "getCursor", value: function getCursor()

    {
      return 'pointer';
    } }, { key: "handleDoubleClick", value: function handleDoubleClick(

    point, button) {
      if (Autodesk.Viewing.isIOSDevice()) {
        return false;
      }

      if (this.intersect(point)) {
        var label = this.markupsExtension.renderer.textRenderer.getLabel(this.markup);
        this.lastCaretPosition = { start: label.innerText.length, end: label.innerText.length };
        this.startTextEditing();
        return true;
      }
      return false;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point) {
      if (this.textboxActive) {
        this.submitChangesDebounced.flush();
        this.endTextEditing();
        return true;
      }
      return this.isEmpty();
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point) {
      if (this.isEmpty()) {
        this.onEmptyTextMarkup();
        return true;
      }

      return false;
    } }, { key: "isEmpty", value: function isEmpty()

    {
      return this.markup.editState.text.trim() === '';
    } }, { key: "onEmptyTextMarkup", value: function onEmptyTextMarkup()

    {
      if (this.options.onEmptyTextMarkup) {
        this.textboxActive = false;
        this.options.onEmptyTextMarkup();
      } else {
        this.deleteEmptyTextMarkup();
      }
    } }, { key: "deleteEmptyTextMarkup", value: function deleteEmptyTextMarkup()

    {
      this.textboxActive = false;
      this.markupsExtension.markupsManager.actionManager.undo();
      this.markupsExtension.markupsManager.deleteMarkup(this.markup);
    } }, { key: "onCameraChanged", value: function onCameraChanged(

    e) {
      var label = this.markupsExtension.renderer.textRenderer.getLabel(this.markup);
      label.focus();
    } }, { key: "startTextEditing", value: function startTextEditing(

    markText) {var _this2 = this;

      var label = this.markupsExtension.renderer.textRenderer.getLabel(this.markup);
      this.label = label;
      if (!label) {
        return;
      }

      this.textboxActive = true;

      // changing position to 'fixed' solves the 'out of screen' text expansion, but cause the text be visible on top of other element.
      label.style.position = 'fixed';

      label.setAttribute('contenteditable', true);
      label.style.webkitUserSelect = 'text';
      label.style.userSelect = 'text';
      label.style.pointerEvents = 'auto';
      label.setAttribute('spellcheck', false);
      this.setCaretPosition(label);

      label.blur();
      label.focus();

      if (markText) {
        document.execCommand('selectAll', false, null);
      }

      this.onCameraChanged = function () {
        // When the div is outside of canvas, Safari doesn't fire events unless it's focused.
        label.focus();
      };

      var isSafari = Autodesk.Viewing.isSafari() || Autodesk.Viewing.isIOSDevice();

      this.onCameraChangedDebounced = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_2__["default"].debounce(this.onCameraChanged, 5);

      if (isSafari) {
        this.markupsExtension.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangedDebounced);
      }

      this.onKeyDown = function (e) {
        label.focus();

        var labelBounds = label.getBoundingClientRect();
        var canvasBounds = _this2.markupsExtension.viewer.impl.getCanvasBoundingClientRect();
        var style = _this2.markup.getTextStyle();
        var spareSize = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_6__["getTextSize"])('AA', style);
        var fontToWorldScale = _this2.markupsExtension.renderer.getFontToWorldScale();
        var fontToClient = _this2.markupsExtension.renderer.sizeFromWorldToClient(fontToWorldScale);
        var canvasMargin = 30;

        var isCaretOverBottomEdge = function isCaretOverBottomEdge() {
          return labelBounds.bottom + spareSize.height * fontToClient > canvasBounds.bottom - canvasMargin;
        };

        var isCaretOverRightEdge = function isCaretOverRightEdge() {
          var caretPosition = _this2.getUpdatedCaretPosition(label);
          var div = window.getSelection().anchorNode.parentElement;
          div.value = div.innerText;
          var caretRelativeClientPosition = _ThirdParty_textarea_caret_textarea_caret__WEBPACK_IMPORTED_MODULE_3___default()(div, caretPosition.end);

          return labelBounds.left + (caretRelativeClientPosition.left + spareSize.width * fontToClient) > canvasBounds.right - canvasMargin;
        };

        switch (e.keyCode) {
          case Autodesk.Viewing.KeyCode.ESCAPE:
            _this2.submitChangesDebounced.flush();
            _this2.endTextEditing();
            _this2.textboxActive = true;
            break;

          case Autodesk.Viewing.KeyCode.ENTER:
            // Prevent text caret to be out of screen in Safari
            if (isSafari && isCaretOverBottomEdge()) {
              e.preventDefault();
            } else if (_this2.options.singleLine) {
              e.preventDefault();
              // Preventing multiple BRs in a row, because of browser bug that adds extra spaces.
            } else if (window.getSelection().anchorNode.firstChild && window.getSelection().anchorNode.firstChild.tagName === 'BR' || window.getSelection().anchorOffset === 0) {
              e.preventDefault();
              if (Autodesk.Viewing.isIE11) {
                _this2.enterPressed = true; // workaround for double enter click;
              }
            } else {
              _this2.enterPressed = true;
            }
            break;

          case Autodesk.Viewing.KeyCode.BACKSPACE:
            _this2.backspacePressed = true;
            break;

          default:
            if (isSafari) {
              // Prevent text caret to be out of screen in Safari
              if (isCaretOverRightEdge()) {
                if (isCaretOverBottomEdge() || _this2.options.singleLine) {
                  // Reached the bottom edge of the canvas. No more space to write.
                  e.preventDefault();
                } else if (labelBounds.right < canvasBounds.right) {
                  // Add a new line and continue writing.
                  _this2.addNewline = true;
                } else {
                  // Label is already out of canvas. Don't write anything.
                  e.preventDefault();
                }
              } else if (isCaretOverBottomEdge()) {
                // Reached the bottom edge of the canvas. No more space to write.
                e.preventDefault();
              }
            }}


        // Text limitation.
        var caretLength = _this2.lastCaretPosition.end - _this2.lastCaretPosition.start;
        if (!e.metaKey && e.keyCode > 47 && label.innerText.length - caretLength > _MarkupsConstants__WEBPACK_IMPORTED_MODULE_7__["TEXT_LENGTH_LIMIT"]) {
          e.preventDefault();
        }

        if (Autodesk.Viewing.isIE11) {
          _this2.onInput(true);
        }
      };

      this.onKeyUp = function () {
        _this2.onInput(true);
      };

      this.onInput = function (isKeyUpEvent) {
        if (!label.innerText) {
          label.innerText = Autodesk.Viewing.isIE11 ? " " : String.fromCharCode(10);
        }

        _this2.lastCaretPosition = _this2.getUpdatedCaretPosition(label);

        var text = label.innerText;

        if (_this2.addNewline) {
          text = text + "\r\n";
        }

        if (Autodesk.Viewing.isIE11 && isKeyUpEvent === true) {
          //IE innerText creates \r\n\r\n after a <p> tag element, replacing it with single break line.
          //also handles case when pressing enter in middle of content - 2+ occurrences 
          text = text.replace(/(\r\n){2,}/g, "\r\n");
          if (_this2.enterPressed) {
            //using keyup event instead of input, event is fired before content
            //is changed with enter key. This way we simulate it enter press.
            text = text + "\r\n\r\n";
          }
        }

        if (!_this2.options.singleLine) {
          _this2.expandBoundingBox(text);
        }

        _this2.updateEditState({ text: text });
        _this2.submitChangesDebounced();

        _this2.enterPressed = false;
        _this2.addNewline = false;
        _this2.backspacePressed = false;
      };

      this.onPaste = function (e) {
        // Paste the text without style.
        e.preventDefault();
        var text = e.clipboardData && e.clipboardData.getData('text') || window.clipboardData && window.clipboardData.getData && window.clipboardData.getData('Text'); // window.clipboardData needed for IE
        if (text) {
          var caretLength = _this2.lastCaretPosition.end - _this2.lastCaretPosition.start;
          var limit = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_7__["TEXT_LENGTH_LIMIT"] + caretLength - label.innerText.length;

          if (text.length > limit) {
            // trim text and add ellipsis at the end.
            text = text.substr(0, limit) + "\u2026";
          }

          if (Autodesk.Viewing.isIE11) {
            var sel = window.getSelection();
            var range = sel.getRangeAt(0);
            var frag = document.createDocumentFragment();
            frag.appendChild(document.createElement('br'));
            var span = document.createElement('span');
            span.innerText = text;
            frag.appendChild(span);
            range.insertNode(frag);
            range.selectNodeContents(span);
            sel.removeAllRanges();
            sel.addRange(range);
            document.execCommand('ms-endUndoUnit', false, null);
          } else {
            document.execCommand('insertText', false, text);
          }
        }
      };

      this.onMouseWheel = function (e) {
        var newEvent = new MouseEvent(e.type, e);

        newEvent.wheelDelta = e.wheelDelta;
        newEvent.deltaY = e.deltaY;

        _this2.markupsExtension.viewer.toolController.domElement.dispatchEvent(newEvent);

        if (newEvent.defaultPrevented) {
          e.preventDefault();
        }
      };

      this.onDOMMouseScroll = function (e) {
        var newEvent = new MouseEvent(e.type, e);

        newEvent.wheelDelta = e.wheelDelta;
        newEvent.deltaY = e.deltaY;

        _this2.markupsExtension.viewer.toolController.domElement.dispatchEvent(newEvent);

        if (newEvent.defaultPrevented) {
          e.preventDefault();
        }
      };

      this.onMouseMove = function (e) {
        var newEvent = new MouseEvent(e.type, e);
        _this2.markupsExtension.viewer.toolController.domElement.dispatchEvent(newEvent);

        if (newEvent.defaultPrevented) {
          e.preventDefault();
        }
      };

      label.addEventListener('keydown', this.onKeyDown);
      label.addEventListener('keypress', this.onKeyPress);
      label.addEventListener('input', this.onInput);
      label.addEventListener('paste', this.onPaste);

      if (Autodesk.Viewing.isIE11) {
        label.addEventListener('keyup', this.onKeyUp);
      }

      label.addEventListener('mousewheel', this.onMouseWheel);
      label.addEventListener('DOMMouseScroll', this.onDOMMouseScroll); // Firefox
      label.addEventListener('mousemove', this.onMouseMove);
      label.addEventListener('mouseup', function () {
        setTimeout(function () {
          _this2.lastCaretPosition = _this2.getUpdatedCaretPosition(label);
        }, 25);
      });
      label.addEventListener('touchend', function () {
        setTimeout(function () {
          _this2.lastCaretPosition = _this2.getUpdatedCaretPosition(label);
        }, 25);
      });

      this.onHistoryChangedBinded = this.onHistoryChanged.bind(this);
      this.endTextEditingBinded = this.endTextEditing.bind(this);
      this.onStyleChangedBinded = this.onStyleChanged.bind(this);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_DISABLE_EDIT, this.endTextEditingBinded, { once: true });
      this.markupsExtension.markupsManager.addEventListener(_Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_1__["default"].HISTORY_CHANGED_EVENT, this.onHistoryChangedBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_STYLE_PROPERTY_CHANGED, this.onStyleChangedBinded);

      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].TEXT_EDITING_STARTED });
    } }, { key: "removeSelection", value: function removeSelection()

    {
      window.getSelection().removeAllRanges(); // deselect text.
      this.label.style.position = 'absolute';
      this.label.style.pointerEvents = 'none';
      this.label.setAttribute('contenteditable', false);
      this.label.style.webkitUserSelect = 'none';
      this.label.style.userSelect = 'none';
    } }, { key: "setCaretPosition", value: function setCaretPosition(

    label) {
      if (!this.lastCaretPosition) {
        this.lastCaretPosition = { start: 0, end: label.innerText.length };
      }
      var range = document.createRange();
      var sel = window.getSelection();
      var start = Math.min(this.lastCaretPosition.start, label.childNodes[0].length); // Clamp values
      var end = Math.min(this.lastCaretPosition.end, label.childNodes[0].length);
      range.setStart(label.childNodes[0], start);
      range.setEnd(label.childNodes[0], end);
      sel.removeAllRanges();
      sel.addRange(range);
    } }, { key: "getUpdatedCaretPosition", value: function getUpdatedCaretPosition(

    label) {
      var caretPos = { start: 0, end: 0 };
      var sel;
      var range;
      if (window.getSelection) {
        sel = window.getSelection();
        if (sel.rangeCount) {
          range = sel.getRangeAt(0);
          if (range.commonAncestorContainer.parentNode === label) {
            caretPos = { start: range.startOffset, end: range.endOffset };
          } else if (range.commonAncestorContainer.parentNode.parentNode === label) {
            caretPos = { start: range.startOffset, end: range.endOffset };
          }
        }
      } else {
        caretPos = { start: label.innerText.length, end: label.innerText.length };
      }
      return caretPos;
    } }, { key: "onHistoryChanged", value: function onHistoryChanged(_ref)

    {var _this3 = this;var actionGroup = _ref.actionGroup;
      actionGroup.forEach(function (action) {
        if (action.trigger === _Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_1__["default"].UNDO || action.trigger === _Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_1__["default"].REDO) {
          if (_this3.markupsExtension.renderer && _this3.markupsExtension.renderer.textRenderer.getLabel(_this3.markup)) {
            _this3.endTextEditing();
          }
        }
      });
    } }, { key: "endTextEditing", value: function endTextEditing()

    {
      if (!this.textboxActive) {
        return;
      }

      if (!this.markupsExtension.renderer) {
        return;
      }

      var label = this.markupsExtension.renderer.textRenderer.getLabel(this.markup);

      label.removeEventListener('keydown', this.onKeyDown);
      label.removeEventListener('input', this.onInput);
      label.removeEventListener('paste', this.onPaste);

      if (Autodesk.Viewing.isIE11) {
        label.removeEventListener('keyup', this.onKeyUp);
      }

      label.removeEventListener('mousewheel', this.onMouseWheel);
      label.removeEventListener('DOMMouseScroll', this.onDOMMouseScroll); // Firefox
      label.removeEventListener('mousemove', this.onMouseMove);

      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_DISABLE_EDIT, this.endTextEditingBinded);
      this.markupsExtension.markupsManager.removeEventListener(_Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_1__["default"].HISTORY_CHANGED_EVENT, this.onHistoryChangedBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_STYLE_PROPERTY_CHANGED, this.onStyleChangedBinded);
      this.markupsExtension.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangedDebounced);

      window.getSelection().removeAllRanges(); // deselect text.
      label.style.position = 'absolute';
      label.style.pointerEvents = 'none';
      label.blur();
      label.setAttribute('contenteditable', false);
      label.style.webkitUserSelect = 'none';
      label.style.userSelect = 'none';

      this.textboxActive = false;

      if (this.isEmpty()) {
        this.onEmptyTextMarkup();
      } else {
        this.markup.syncEditState();
        this.editEnd();
      }

      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].TEXT_EDITING_ENDED });
    } }, { key: "onStyleChanged", value: function onStyleChanged()

    {
      if (this.textboxActive) {
        this.onCameraChanged();
      }
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {
      if (this.textboxActive && event.keyCode === Autodesk.Viewing.KeyCode.ESCAPE) {
        if (this.isEmpty()) {
          this.onEmptyTextMarkup();
        }

        this.textboxActive = false;
        return true;
      }

      return false;
    }

    // When typing text, instead of expanding the textbox height, we want to expand its width.
  }, { key: "expandBoundingBox", value: function expandBoundingBox(text) {var _this$getEditState =
      this.getEditState(),translation = _this$getEditState.translation,scale = _this$getEditState.scale;
      var style = this.markup.getTextStyle();

      var size = this.markup.getWorldBoundingBoxTextOnly().size();
      var fontToWorldScale = this.markupsExtension.renderer.getFontToWorldScale(); // Font to World conversion
      var _this$markup$getTextW = this.markup.getTextWidthInFontScale(),width = _this$markup$getTextW.width;
      style.width = "".concat(width, "px");

      var oldSize = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_6__["getTextSize"])(this.markup.editState.text, style);
      var newSize = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_6__["getTextSize"])(text, style);

      if ((this.enterPressed || this.backspacePressed || this.addNewline) && newSize.height !== oldSize.height) {
        var offsetWorld = (newSize.height - oldSize.height) * fontToWorldScale;
        this.translateBoundingBox(offsetWorld);
        return;
      }

      if (newSize.height > oldSize.height) {
        style.width = null;
        var letterSize = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_6__["getTextSize"])('A', style).width;
        var offset = letterSize * fontToWorldScale;
        scale.multiply(new THREE.Vector3((size.x + offset) / size.x, 1, 1));

        var rotation = this.markup.getRotation();
        var delta = new THREE.Vector3(offset / 2, 0, 0);
        if (rotation !== 0) {
          var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
          _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(delta, rotation, new THREE.Vector3(), eyeDirection);
        }

        translation.add(delta);
        this.updateEditState({ scale: scale, translation: translation });
      }
    } }, { key: "translateBoundingBox", value: function translateBoundingBox(

    offsetWorld) {var _this$getEditState2 =
      this.getEditState(),translation = _this$getEditState2.translation;
      var delta = this.markup.getBoundingBoxVerticalTranslation(offsetWorld);

      translation.add(delta);
      this.updateEditState({ translation: translation });
    } }, { key: "destroy", value: function destroy()

    {
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_ENABLE_EDIT, this.onMarkupEditStartBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_EDIT_END, this.onMarkupEditEndBinded);
    } }, { key: "polyFillIE", value: function polyFillIE()

    {
      try {
        new window.MouseEvent('test');
        return false; // No need to polyfill
      } catch (e) {

      } // Need to polyfill - fall through

      // Polyfills DOM4 MouseEvent

      var MouseEvent = function MouseEvent(eventType, params) {
        params = params || { bubbles: false, cancelable: false };
        var mouseEvent = document.createEvent('MouseEvent');
        mouseEvent.initMouseEvent(eventType, params.bubbles, params.cancelable, window, 0, params.screenX || 0, params.screenY || 0, params.clientX || 0, params.clientY || 0, false, false, false, false, 0, null);
        return mouseEvent;
      };

      MouseEvent.prototype = Event.prototype;

      window.MouseEvent = MouseEvent;
    }







    /** 
       * These methods are being used only by iOS devices.
       * The reason is that iOS text input can't be focused programatically.
       * So, in order to select and edit the text area, we have to allow tapping on the div first.
       */ }, { key: "onMarkupEditEnabled", value: function onMarkupEditEnabled(
    event) {var _this4 = this;
      if (event.markup === this.markup) {
        if (!this.markupsExtension.markupsManager.hasEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_EDIT_START, this.onMarkupEditStartBinded)) {
          this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_EDIT_START, this.onMarkupEditStartBinded);
        }
        if (!this.markupsExtension.markupsManager.hasEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_EDIT_END, this.onMarkupEditEndBinded)) {
          this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_5__["MARKUPS_EVENTS"].MARKUP_EDIT_END, this.onMarkupEditEndBinded);
        }

        setTimeout(function () {
          var label = _this4.markupsExtension.renderer.textRenderer.getLabel(_this4.markup);

          if (label) {
            label.addEventListener('touchend', _this4.onTouchEndBinded);
            label.style.pointerEvents = 'auto';
          }
        }, 10);
      }
    } }, { key: "onTouchEnd", value: function onTouchEnd(

    e) {
      e.preventDefault();
      e.stopPropagation();
      this.startTextEditing();
    } }, { key: "onMarkupEditDisabled", value: function onMarkupEditDisabled(

    event) {
      if (event.markup === this.markup) {
        var label = this.markupsExtension.renderer.textRenderer.getLabel(this.markup);

        if (label) {
          label.removeEventListener('touchend', this.onTouchEndBinded);
          label.style.pointerEvents = 'none';
        }
      }
    } }, { key: "onMarkupEditStart", value: function onMarkupEditStart(

    event) {
      if (this.textboxActive) {
        this.textboxWasActive = true;
      }
      if (event.markup === this.markup && event.handler instanceof _EditHandlers_RotationHandler__WEBPACK_IMPORTED_MODULE_8__["default"]) {
        this.removeSelection();
      }
    } }, { key: "onMarkupEditEnd", value: function onMarkupEditEnd(

    event) {
      if (event.handler instanceof TextInputHandler) {
        return;
      }
      if (event.markup === this.markup && this.textboxWasActive && event.handler instanceof _EditHandlers_RotationHandler__WEBPACK_IMPORTED_MODULE_8__["default"]) {
        this.textboxWasActive = false;
        this.startTextEditing();
      }
    } }]);return TextInputHandler;}(_EditHandler__WEBPACK_IMPORTED_MODULE_4__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/EditHandlers/TranslationHandler.js":
/*!******************************************************************!*\
  !*** ./extensions/BimMarkups/EditHandlers/TranslationHandler.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TranslationHandler; });
/* harmony import */ var _EditHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditHandler */ "./extensions/BimMarkups/EditHandlers/EditHandler.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}

var

TranslationHandler = /*#__PURE__*/function (_EditHandler) {_inherits(TranslationHandler, _EditHandler);
  function TranslationHandler(markupsExtension, markup) {var _this;var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};_classCallCheck(this, TranslationHandler);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(TranslationHandler).call(this, markupsExtension, markup, options));

    _this.keyTranslation = new THREE.Vector3();return _this;
  }_createClass(TranslationHandler, [{ key: "handleMouseMove", value: function handleMouseMove(

    point) {
      if (this.translating) {
        this.handleMouseTranslation(point);
      }

      return this.translating;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {
      if (!this.translating) {
        this.translating = this.intersect(point);

        if (this.translating) {
          this.lastTranslationPoint = point;
          this.buttonDownPos = point;
          this.editStart();
        }

        return this.translating;
      }

      return true;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {
      if (this.translating) {
        var inEditMarkups = this.markupsExtension.markupsManager.getInEditMarkups();

        this.markupsExtension.markupsManager.openActionGroup();
        var consumed;

        if (Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["isEqualVectors"])(point, this.lastTranslationPoint, this.getMinChangeDistanceWorld())) {
          this.cancelTransformEditing();
          consumed = false;
        } else {
          // submit translation for all in-edit markups.
          inEditMarkups.forEach(function (markup) {
            if (markup.translationHandler) {
              markup.translationHandler.submitChanges();
            }
          });

          this.editEnd();
          consumed = true;
        }

        this.markupsExtension.markupsManager.closeActionGroup();

        this.translating = false;
        this.lastTranslationPoint = null;

        return consumed;
      }

      return false;
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {
      switch (keyCode) {
        case Autodesk.Viewing.KeyCode.BACKSPACE:
        case Autodesk.Viewing.KeyCode.DELETE:
        case Autodesk.Viewing.KeyCode.ESCAPE:
          if (this.translating) {
            this.cancelTransformEditing();
            return true;
          }
          break;
        case Autodesk.Viewing.KeyCode.UP:
          this.handleKeyTranslation(this.markupsExtension.renderer.getCameraUpVector());
          return true;
        case Autodesk.Viewing.KeyCode.DOWN:
          this.handleKeyTranslation(this.markupsExtension.renderer.getCameraUpVector().negate());
          return true;
        case Autodesk.Viewing.KeyCode.RIGHT:
          this.handleKeyTranslation(this.markupsExtension.renderer.getCameraRightVector());
          return true;
        case Autodesk.Viewing.KeyCode.LEFT:
          this.handleKeyTranslation(this.markupsExtension.renderer.getCameraRightVector().negate());
          return true;
        default:
          break;}


      return false;
    } }, { key: "handleKeyUp", value: function handleKeyUp(

    event, keyCode) {
      switch (keyCode) {
        case Autodesk.Viewing.KeyCode.UP:
        case Autodesk.Viewing.KeyCode.DOWN:
        case Autodesk.Viewing.KeyCode.RIGHT:
        case Autodesk.Viewing.KeyCode.LEFT:
          this.keyTranslation = new THREE.Vector3();
          this.submitChanges();
          return true;
        default:
          break;}


      return false;
    } }, { key: "handleDoubleClick", value: function handleDoubleClick(

    event, button) {
      return this.translating;
    } }, { key: "getCursor", value: function getCursor()

    {
      return 'move';
    } }, { key: "cancelTransformEditing", value: function cancelTransformEditing()

    {
      var inEditMarkups = this.markupsExtension.markupsManager.getInEditMarkups();

      inEditMarkups.forEach(function (markup) {
        markup.syncEditState();
      });

      this.translating = false;
      this.lastTranslationPoint = null;
      this.editEnd();
    } }, { key: "handleMouseTranslation", value: function handleMouseTranslation(

    point) {var _this2 = this;
      if (this.markupsExtension.markupsTool.shiftDown) {
        point = point.clone();
        this.snapPointToAxis(point, this.buttonDownPos, 90);
      }

      var translation = point.clone().sub(this.lastTranslationPoint);

      // Apply translation for all in-edit markups.
      var inEditMarkups = this.markupsExtension.markupsManager.getInEditMarkups();
      inEditMarkups.forEach(function (markup) {
        _this2.handleTranslation(markup, translation);
      });
    } }, { key: "handleKeyTranslation", value: function handleKeyTranslation(

    direction) {
      var translation = direction.multiplyScalar(this.markupsExtension.renderer.multiplyByNormaStrokeWidth(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["ARROW_MOVE_OFFSET"]));
      this.keyTranslation.add(translation);
      this.handleTranslation(this.markup, this.keyTranslation);
    } }, { key: "handleTranslation", value: function handleTranslation(

    markup, translation) {
      if (markup.translationHandler) {
        var translationAbs = translation.clone().add(markup.state.translation);
        markup.translationHandler.updateEditState({ translation: translationAbs });
      }
    } }, { key: "intersect", value: function intersect(

    point) {
      return this.markup.intersect(point);
    } }, { key: "isDragging", value: function isDragging()

    {
      return this.translating;
    } }]);return TranslationHandler;}(_EditHandler__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/FilterManager.js":
/*!************************************************!*\
  !*** ./extensions/BimMarkups/FilterManager.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return FilterManager; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Utils_ModelUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils/ModelUtils */ "./extensions/BimMarkups/Utils/ModelUtils.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}


var

FilterManager = /*#__PURE__*/function () {
  function FilterManager(markupsExtension, options) {_classCallCheck(this, FilterManager);
    this.markupsExtension = markupsExtension;
    this.options = options;
    this.filters = this.markupsExtension.cache.filters || this.getInitialFilters();

    this.filterWithGUID = this.fileTypeSupportGUID(this.options.fileName);
  }_createClass(FilterManager, [{ key: "getInitialFilters", value: function getInitialFilters()

    {
      return {
        createdByFilter: [],
        createdAtStartFilter: null,
        createdAtEndFilter: null,
        showPrivateFilter: true,
        showPublishedFilter: true,
        showArchivedFilter: false,
        toggleMarkupViewFilter: true };

    } }, { key: "updateFilters", value: function updateFilters(

    filters) {
      this.markupsExtension.cache.filters = this.filters = Object.assign({}, this.filters, filters);
      this.markupsExtension.loadLayers();
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].FILTER_CHANGED, filters: this.filters });
    } }, { key: "filterLayers", value: function filterLayers(

    layerList, filterForPanel) {var _this = this;
      if (!filterForPanel && this.filters.hideAllMarkups) {
        return [];
      }

      return layerList.filter(function (layer) {
        return (
          _this.filterBySheet(layer, filterForPanel && _this.filters.toggleMarkupViewFilter) &&
          _this.filterByDate(layer) &&
          _this.filterPrivate(layer) &&
          _this.filterPublished(layer) &&
          _this.filterArchived(layer) &&
          _this.filterCreator(layer) &&
          _this.filterDeleted(layer));

      });
    } }, { key: "fileTypeSupportGUID", value: function fileTypeSupportGUID(

    fileName) {
      var extendName = _Utils_ModelUtils__WEBPACK_IMPORTED_MODULE_1__["default"].getModelExtension(fileName);

      if (extendName) {
        extendName = extendName.toLowerCase();
        return _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_SUPPORT_GUID_EXT"].includes(extendName);
      }

      return false;
    } }, { key: "isDateInRange", value: function isDateInRange(

    dateTime, fromData, toData) {
      // date needs to be parsed and then restored to a moment object, in order to ignore the exact hour of the creation.
      var dateFormat = 'MM/DD/YYYY';
      var date = moment__WEBPACK_IMPORTED_MODULE_0___default()(moment__WEBPACK_IMPORTED_MODULE_0___default()(dateTime).format(dateFormat));
      var fromDate = moment__WEBPACK_IMPORTED_MODULE_0___default()(fromData.format(dateFormat));
      var toDate = moment__WEBPACK_IMPORTED_MODULE_0___default()(toData.format(dateFormat));
      return date.isSameOrAfter(fromDate) && date.isSameOrBefore(toDate);
    } }, { key: "filterByDate", value: function filterByDate(

    layer) {
      if (this.filters.createdAtStartFilter && this.filters.createdAtEndFilter) {
        return this.isDateInRange(layer.metadata.created_at, this.filters.createdAtStartFilter, this.filters.createdAtEndFilter);
      }

      return true;
    } }, { key: "filterBySheet", value: function filterBySheet(

    layer, allSheets) {
      if (allSheets || !this.options.hasMultiSheet) {
        return true;
      }

      var sheetGUID = layer.metadata.markup_metadata && layer.metadata.markup_metadata.sheetGUID;
      var sheetName = layer.metadata.markup_metadata && layer.metadata.markup_metadata.sheetName;

      if (this.filterWithGUID && this.options.sheetGUID && sheetGUID) {
        return this.options.sheetGUID === sheetGUID;
      }

      return this.options.sheetName && sheetName ? this.options.sheetName === sheetName : true;
    } }, { key: "filterDeleted", value: function filterDeleted(

    layer) {
      return layer.status !== _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_STATUS_DELETE_SUCCEED"];
    } }, { key: "filterPrivate", value: function filterPrivate(

    layer) {
      return this.filters.showPrivateFilter || layer.metadata.status !== _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_STATUS_PRIVATE"];
    } }, { key: "filterPublished", value: function filterPublished(

    layer) {
      return this.filters.showPublishedFilter || layer.metadata.status !== _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_STATUS_PUBLISHED"];
    } }, { key: "filterArchived", value: function filterArchived(

    layer) {
      return this.filters.showArchivedFilter || layer.metadata.status !== _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_STATUS_ARCHIVED"];
    } }, { key: "filterCreator", value: function filterCreator(

    layer) {
      if (!this.filters.createdByFilter || this.filters.createdByFilter.length === 0) {
        return true;
      }

      return this.filters.createdByFilter.some(function (creator) {
        return layer.metadata.created_by === creator.value;
      });
    } }, { key: "destroy", value: function destroy()

    {
      this.filters = null;
      this.options = null;
    } }]);return FilterManager;}();

/***/ }),

/***/ "./extensions/BimMarkups/FrameRenderer.css":
/*!*************************************************!*\
  !*** ./extensions/BimMarkups/FrameRenderer.css ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../node_modules/css-loader!./FrameRenderer.css */ "./node_modules/css-loader/index.js!./extensions/BimMarkups/FrameRenderer.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./extensions/BimMarkups/FrameRenderer.js":
/*!************************************************!*\
  !*** ./extensions/BimMarkups/FrameRenderer.js ***!
  \************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return FrameRenderer; });
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _FrameRenderer_css__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./FrameRenderer.css */ "./extensions/BimMarkups/FrameRenderer.css");
/* harmony import */ var _FrameRenderer_css__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_FrameRenderer_css__WEBPACK_IMPORTED_MODULE_4__);
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}



var

FrameRenderer = /*#__PURE__*/function () {
  function FrameRenderer(markupsExtension) {_classCallCheck(this, FrameRenderer);
    this.markupsExtension = markupsExtension;
    this.viewer = this.markupsExtension.viewer;
    this.container = this.viewer.appendOrderedElementToViewer('markup-frames-container');
    this.container.className = 'markup-frames-container';

    this.markupFrames = {};
    this.layerFrames = {};
    this.anchors = {};
    this.segments = {};

    this.rotationAxis = new THREE.Vector3(0, 0, 1);

    this.registerEventListeners();
  }_createClass(FrameRenderer, [{ key: "registerEventListeners", value: function registerEventListeners()

    {
      this.onMarkupDirtyBinded = this.onMarkupDirty.bind(this);
      this.onLayerDirtyBinded = this.onLayerDirty.bind(this);
      this.onLayerDeletedBinded = this.onLayerDeleted.bind(this);
      this.onMarkupRemovedBinded = this.onMarkupRemoved.bind(this);
      this.renderAllBinded = this.renderAll.bind(this);
      this.onRectSelectorUpdatedBinded = this.onRectSelectorUpdated.bind(this);

      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_DIRTY, this.onMarkupDirtyBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_DIRTY, this.onLayerDirtyBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_REMOVED, this.onMarkupRemovedBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_DELETED, this.onLayerDeletedBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_START, this.renderAllBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_END, this.renderAllBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].RECT_SELECTOR_UPDATED, this.onRectSelectorUpdatedBinded);
      this.viewer.addEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT, this.renderAllBinded);
    } }, { key: "unregisterEventListeners", value: function unregisterEventListeners()

    {
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_DIRTY, this.onMarkupDirtyBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_DIRTY, this.onLayerDirtyBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_REMOVED, this.onMarkupRemovedBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_DELETED, this.onLayerDeletedBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_START, this.renderAllBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_END, this.renderAllBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].RECT_SELECTOR_UPDATED, this.onRectSelectorUpdatedBinded);
      this.viewer.removeEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT, this.renderAllBinded);
    } }, { key: "renderAll", value: function renderAll()

    {
      var markups = this.markupsExtension.markupsManager.getAllMarkups();
      this.renderMarkups(markups);

      var layers = this.markupsExtension.markupsManager.getLayersAsList();
      this.renderLayers(layers);
    } }, { key: "onMarkupDirty", value: function onMarkupDirty(_ref)

    {var markup = _ref.markup;
      this.renderMarkups([markup]);
    } }, { key: "onLayerDirty", value: function onLayerDirty(_ref2)

    {var layer = _ref2.layer;
      this.renderLayerSelectionFrame(layer);
    } }, { key: "renderLayers", value: function renderLayers(

    layers) {var _this = this;
      layers.forEach(function (layer) {
        _this.renderLayerSelectionFrame(layer);
      });
    } }, { key: "renderMarkups", value: function renderMarkups(

    markups) {var _this2 = this;
      markups.forEach(function (markup) {
        _this2.renderMarkupSelectionFrame(markup);
        _this2.renderTransformAnchors(markup);

        if (markup.layer) {
          _this2.renderLayerSelectionFrame(markup.layer);
        }
      });
    } }, { key: "renderFrame", value: function renderFrame(

    frame, entity, withFill) {
      if (!frame) {
        frame = document.createElement('div');
        frame.className = 'markup-selection-frame-container';
        this.container.appendChild(frame);

        var frameFill = document.createElement('div');
        frameFill.className = 'markup-selection-frame fill';
        frameFill.style.width = "".concat(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], "px");
        frameFill.style.height = "".concat(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], "px");

        if (Autodesk.Viewing.isIOSDevice()) {
          frameFill.className += ' ios';
        }

        frame.appendChild(frameFill);
        frame.fillElement = frameFill;

        for (var i = 0; i < 4; i++) {
          var frameBorder = document.createElement('div');
          frameBorder.className = 'markup-selection-frame border';
          frameBorder.style.width = "".concat(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], "px");
          frameBorder.style.height = "".concat(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], "px");

          if (Autodesk.Viewing.isIOSDevice()) {
            frameBorder.className += ' ios';
          }

          frame.appendChild(frameBorder);
          frame["border_".concat(i)] = frameBorder;
        }
      }

      if (!frame.classList.contains('visible')) {
        frame.classList.add('visible');
        frame.offsetHeight; // Force update DOM.
      }

      if (withFill && !frame.fillElement.classList.contains('visible')) {
        frame.fillElement.classList.add('visible');
        frame.fillElement.offsetHeight; // Force update DOM.
      } else if (!withFill && frame.fillElement.classList.contains('visible')) {
        frame.fillElement.classList.remove('visible');
        frame.fillElement.offsetHeight; // Force update DOM.
      }

      var boundingBox = entity.getClientBoundingBox(true);
      var center = boundingBox.center();
      center.x -= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"] / 2;
      center.y -= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"] / 2;
      var size = boundingBox.size();

      var rotate = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_1__["default"].radiansToDegrees(entity.getRotation() + this.markupsExtension.renderer.getCameraRotation()) || 0;

      if (withFill) {
        frame.fillElement.style.transform = "translate(".concat(center.x, "px, ").concat(center.y, "px) rotate(").concat(rotate, "deg) scale(").concat(size.x / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], ", ").concat(size.y / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], ")");
      }

      frame['border_0'].style.transform = "translate(".concat(center.x, "px, ").concat(center.y, "px) rotate(").concat(rotate, "deg) translate(0px, ").concat(size.y / 2, "px) scale(").concat(size.x / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], ", ").concat(1 / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], ")");
      frame['border_1'].style.transform = "translate(".concat(center.x, "px, ").concat(center.y, "px) rotate(").concat(rotate, "deg) translate(0px, ").concat(-size.y / 2, "px) scale(").concat(size.x / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], ", ").concat(1 / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], ")");
      frame['border_2'].style.transform = "translate(".concat(center.x, "px, ").concat(center.y, "px) rotate(").concat(rotate, "deg) translate(").concat(size.x / 2, "px, 0px) scale(").concat(1 / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], ", ").concat(size.y / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], ")");
      frame['border_3'].style.transform = "translate(".concat(center.x, "px, ").concat(center.y, "px) rotate(").concat(rotate, "deg) translate(").concat(-size.x / 2, "px, 0px) scale(").concat(1 / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], ", ").concat(size.y / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], ")");

      return frame;
    } }, { key: "renderMarkupSelectionFrame", value: function renderMarkupSelectionFrame(

    markup) {
      var frame = this.markupFrames[markup.id];

      var hovered = markup.isHovered();
      var selected = markup.isSelected();

      if ((selected || hovered) && markup.layer) {
        this.markupFrames[markup.id] = this.renderFrame(frame, markup, selected);
      } else if (frame && frame.classList.contains('visible')) {
        frame.classList.remove('visible');
        frame.offsetHeight; // Force update DOM.
      }
    } }, { key: "renderLayerSelectionFrame", value: function renderLayerSelectionFrame(

    layer) {
      var frame = this.layerFrames[layer.id];

      var hovered = layer.isHovered();
      var selected = layer.isSelected();
      var visible = layer.isVisible();

      if ((selected || hovered) && visible && !this.markupsExtension.markupsManager.isMarkupSessionOpen()) {
        this.layerFrames[layer.id] = this.renderFrame(frame, layer, false);
      } else if (frame && frame.classList.contains('visible')) {
        this.container.removeChild(frame);
        delete this.layerFrames[layer.id]; // Need to delete layer element because of Safari bug where it doesn't get updated.
      }
    } }, { key: "_renderScaleAnchors", value: function _renderScaleAnchors(

    markup) {var _this3 = this;
      if (!markup.scaleHandler) {
        return;
      }

      if (markup.isInEdit()) {
        var scaleAnchors = markup.scaleHandler.getScaleAnchors();
        var pivot = markup.getClientCenter();
        scaleAnchors.forEach(function (anchor, i) {
          var name = "".concat(markup.id, "_scale_").concat(i);

          var rotation = markup.getRotation() + _this3.markupsExtension.renderer.getCameraRotation();
          _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_1__["default"].applyRotation(anchor.pos, rotation, pivot, _this3.rotationAxis);
          var isActive = markup.scaleHandler.isDragging() && anchor.id === markup.scaleHandler.scaleAnchor.id;
          _this3.createAnchorElement(name, anchor.pos, isActive, rotation, 'rectangle');
        });
      } else {
        for (var i = 0; i < 8; i++) {
          var name = "".concat(markup.id, "_scale_").concat(i);

          if (this.anchors[name] && this.anchors[name].classList.contains('visible')) {
            this.anchors[name].classList.remove('visible');
          }
        }
      }
    } }, { key: "_renderRotationAnchor", value: function _renderRotationAnchor(

    markup) {
      if (!markup.rotationHandler) {
        return;
      }

      var name = "".concat(markup.id, "_rotation_anchor");

      if (markup.isInEdit()) {
        var rotationAnchorPos = markup.rotationHandler.getRotationAnchor();
        var isActive = markup.rotationHandler.isDragging();
        this.createAnchorElement(name, rotationAnchorPos, isActive);

        var boundingBox = markup.getClientBoundingBox(true);
        var p = boundingBox.center().add(new THREE.Vector3(0, boundingBox.size().y / 2, 0));
        var pivot = boundingBox.center();
        var rotation = markup.getRotation() + this.markupsExtension.renderer.getCameraRotation();

        _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_1__["default"].applyRotation(p, rotation, pivot, this.rotationAxis);

        this.createSegment(name, p, rotationAnchorPos);
      } else if (this.anchors[name] && this.anchors[name].classList.contains('visible')) {
        this.anchors[name].classList.remove('visible');
        this.segments[name].classList.remove('visible');
      }
    } }, { key: "_renderAnchors", value: function _renderAnchors(

    markup) {var _this4 = this;
      if (!markup.anchorHandler) {
        return;
      }

      var getExistingAnchors = function getExistingAnchors(nameStart) {return Object.keys(_this4.anchors).filter(function (k) {return k.indexOf(nameStart) === 0;});};
      var getExistingSegments = function getExistingSegments(nameStart) {return Object.keys(_this4.segments).filter(function (k) {return k.indexOf(nameStart) === 0;});};

      var removeAnchorVisibility = function removeAnchorVisibility(name) {
        var anchor = _this4.anchors[name];
        if (anchor && anchor.classList.contains('visible')) {
          anchor.classList.remove('visible');
        }
      };

      var removeSegmentVisibility = function removeSegmentVisibility(name) {
        var segment = _this4.segments[name];
        if (segment && segment.classList.contains('visible')) {
          segment.classList.remove('visible');
        }

      };

      var baseName = "".concat(markup.id, "_anchor");
      var anchors = markup.anchorHandler.getAnchors();
      if (markup.isInEdit()) {
        var pivot = markup.getClientCenter();

        var applyTransform = function applyTransform(anchor) {
          markup.applyScaleAndTranslation(anchor);
          anchor = _this4.markupsExtension.renderer.worldToClient(anchor);
          _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_1__["default"].applyRotation(anchor, markup.getRotation(), pivot, _this4.rotationAxis);

          return anchor;
        };

        var prevAnchor = null,anchor = null;

        for (var i = 0; i < anchors.length; i++) {
          var name = "".concat(baseName, "_").concat(i);
          anchor = applyTransform(anchors[i].clone());
          var isActive = anchors[i] === markup.anchorHandler.activeAnchor;
          this.createAnchorElement(name, anchor, isActive);

          if (markup.showPath() && i > 0) {
            this.createSegment(name, prevAnchor, anchor);
          }

          prevAnchor = anchor;
        }

        if (markup.showPath() && markup.editState.closed) {// Add last segment
          var _name = "".concat(baseName, "_").concat(anchors.length);
          var firstAnchor = applyTransform(anchors[0].clone());
          this.createSegment(_name, anchor, firstAnchor);
        }

        // Remove anchors and segments no longer in use (can happen during undo)
        var existingAnchors = getExistingAnchors(baseName);
        var existingSegments = getExistingSegments(baseName);

        for (var _i = anchors.length; _i < existingAnchors.length; _i++) {
          removeAnchorVisibility("".concat(baseName, "_").concat(_i));
        }

        var end = markup.editState.closed ? existingSegments.length : existingSegments.length + 1;
        for (var _i2 = anchors.length; _i2 < end; _i2++) {
          removeSegmentVisibility("".concat(baseName, "_").concat(_i2));
        }
      } else {
        for (var _i3 = 0; _i3 <= anchors.length; _i3++) {// Include length to remove last segment when closed
          var _name2 = "".concat(baseName, "_").concat(_i3);
          removeAnchorVisibility(_name2);
          removeSegmentVisibility(_name2);
        }
      }
    } }, { key: "renderTransformAnchors", value: function renderTransformAnchors(

    markup) {
      if (!markup.isCompleted()) {
        return;
      }

      this._renderScaleAnchors(markup);

      this._renderRotationAnchor(markup);

      this._renderAnchors(markup);
    } }, { key: "createAnchorElement", value: function createAnchorElement(

    name, position, isActive) {var rotation = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;var className = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '';
      var anchorElement = this.anchors[name];

      if (!anchorElement) {
        anchorElement = document.createElement('div');
        anchorElement.className = 'markup-anchor ' + className;
        var diameter = "".concat(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["ANCHOR_RADIUS"] * 2, "px");
        anchorElement.style.width = diameter;
        anchorElement.style.height = diameter;
        this.container.appendChild(anchorElement);
        this.anchors[name] = anchorElement;

        var anchorFill = document.createElement('div');
        anchorFill.className = 'markup-anchor-fill ' + className;
        anchorElement.appendChild(anchorFill);
        anchorElement.anchorFill = anchorFill;
      }

      if (!anchorElement.classList.contains('visible')) {
        anchorElement.classList.add('visible');
      }

      if (isActive && !anchorElement.anchorFill.classList.contains('visible')) {
        anchorElement.anchorFill.classList.add('visible');
      } else if (!isActive && anchorElement.anchorFill.classList.contains('visible')) {
        anchorElement.anchorFill.classList.remove('visible');
      }

      var rotate = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_1__["default"].radiansToDegrees(rotation);

      anchorElement.style.transform = "translate(".concat(position.x - _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["ANCHOR_RADIUS"], "px, ").concat(position.y - _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["ANCHOR_RADIUS"], "px) rotate(").concat(rotate, "deg)");
    } }, { key: "createSegment", value: function createSegment(

    name, p1, p2) {
      var segmentElement = this.segments[name];

      if (!segmentElement) {
        segmentElement = document.createElement('div');
        segmentElement.className = 'markup-selection-frame segment border';
        segmentElement.style.width = "".concat(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], "px");
        segmentElement.style.height = "".concat(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], "px");
        this.container.appendChild(segmentElement);
        this.segments[name] = segmentElement;
      }

      if (!segmentElement.classList.contains('visible')) {
        segmentElement.classList.add('visible');
      }

      var center = p1.clone().add(p2).multiplyScalar(0.5);
      center.x -= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"] / 2;
      center.y -= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"] / 2;
      var length = p1.distanceTo(p2);

      var rotate = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_1__["default"].getSignedAngle(p2.clone().sub(p1), this.markupsExtension.renderer.getCameraUpVector(), this.markupsExtension.renderer.getCameraEyeVector());

      segmentElement.style.transform = "translate(".concat(center.x, "px, ").concat(center.y, "px) rotate(").concat(_Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_1__["default"].radiansToDegrees(rotate + this.markupsExtension.renderer.getCameraRotation()), "deg) scale(").concat(1 / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], ", ").concat(length / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["FRAME_SIZE_SCALE"], ")");
    } }, { key: "onLayerDeleted", value: function onLayerDeleted(_ref3)

    {var layer = _ref3.layer;
      var name = layer.id;
      var layerElement = this.layerFrames[name];

      if (layerElement) {
        this.container.removeChild(layerElement);
      }

      delete this.layerFrames[name];
    } }, { key: "onMarkupRemoved", value: function onMarkupRemoved(_ref4)

    {var markup = _ref4.markup;
      var name = markup.id;
      var markupElement = this.markupFrames[name];

      if (markupElement) {
        this.container.removeChild(markupElement);
      }

      delete this.markupFrames[name];

      if (markup.layer && markup.layer.isEmpty()) {
        this.onLayerDeleted(markup);
      }
    } }, { key: "onRectSelectorUpdated", value: function onRectSelectorUpdated(_ref5)

    {var bounds = _ref5.bounds;
      if (!this.rectSelectorFrame) {
        this.rectSelectorFrame = document.createElement('div');
        this.rectSelectorFrame.className = 'rect-selector-frame';
        this.container.appendChild(this.rectSelectorFrame);
      }

      var visible = !bounds.empty();

      if (visible && !this.rectSelectorFrame.classList.contains('visible')) {
        this.rectSelectorFrame.classList.add('visible');
        this.rectSelectorFrame.offsetHeight; // Force update DOM.
      } else if (!visible && this.rectSelectorFrame.classList.contains('visible')) {
        this.rectSelectorFrame.classList.remove('visible');
        this.rectSelectorFrame.offsetHeight; // Force update DOM.
      }

      var boundsProjected = bounds.clone();

      boundsProjected.min = this.markupsExtension.renderer.worldToClient(boundsProjected.min);
      boundsProjected.max = this.markupsExtension.renderer.worldToClient(boundsProjected.max);
      var size = boundsProjected.size();

      this.rectSelectorFrame.style.width = "".concat(Math.abs(size.x), "px");
      this.rectSelectorFrame.style.height = "".concat(Math.abs(size.y), "px");

      this.rectSelectorFrame.style.transformOrigin = 'top left';
      this.rectSelectorFrame.style.transform = "translate(".concat(boundsProjected.min.x, "px, ").concat(boundsProjected.min.y, "px) scale(").concat(Math.sign(size.x), ", ").concat(Math.sign(size.y), ")");
    } }, { key: "destroy", value: function destroy()

    {var _this5 = this;
      this.unregisterEventListeners();

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_3__["forAll"])(this.markupFrames, function (frame) {
        _this5.container.removeChild(frame);
      });
      this.markupFrames = null;

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_3__["forAll"])(this.layerFrames, function (frame) {
        _this5.container.removeChild(frame);
      });
      this.layerFrames = null;

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_3__["forAll"])(this.anchors, function (anchor) {
        _this5.container.removeChild(anchor);
      });
      this.anchors = null;

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_3__["forAll"])(this.segments, function (segment) {
        _this5.container.removeChild(segment);
      });
      this.segments = null;

      this.markupsExtension = null;
      this.viewer = null;
    } }]);return FrameRenderer;}();

/***/ }),

/***/ "./extensions/BimMarkups/Links/Link.js":
/*!*********************************************!*\
  !*** ./extensions/BimMarkups/Links/Link.js ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Link; });
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _LinkAnchorHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LinkAnchorHandler */ "./extensions/BimMarkups/Links/LinkAnchorHandler.js");
/* harmony import */ var _LinkSelectionHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./LinkSelectionHandler */ "./extensions/BimMarkups/Links/LinkSelectionHandler.js");
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}




var

Link = /*#__PURE__*/function () {
  function Link(markupsExtension, id, guid, layer, type, state) {_classCallCheck(this, Link);
    this.id = id;
    this.guid = guid;
    this.layer = layer;
    this.type = type;
    this.markupsExtension = markupsExtension;

    // Whether the link is visible.
    this.visible = true;

    // Whether the link is selected.
    this.selected = false;

    this.hover = false;

    // Whether the link has changed recently and needs to be re-rendered.
    this.dirty = false;

    if (state) {
      this.state = state;
    } else {
      this.state = this.getDefaultState();
      this.state.style = this.getDefaultStyle();
    }

    this.editState = {};

    this.registerSelectionHandler();
    this.registerAnchorHandler();
  }_createClass(Link, [{ key: "getDefaultState", value: function getDefaultState()

    {
      return {};
    } }, { key: "getDefaultStyle", value: function getDefaultStyle()

    {
      return {};
    } }, { key: "getState", value: function getState()

    {
      return this.state;
    } }, { key: "setState", value: function setState(

    state) {
      this.state = state;
    } }, { key: "getEditState", value: function getEditState()

    {
      return this.editState;
    } }, { key: "setEditState", value: function setEditState(

    editState) {
      this.editState = editState;
      this.setDirty(true);
    } }, { key: "syncEditState", value: function syncEditState()

    {
      this.setEditState(_Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(this.getState()));
    } }, { key: "setDirty", value: function setDirty(

    dirty) {
      this.dirty = dirty;

      if (dirty) {
        this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].LINK_DIRTY, link: this });
      }
    } }, { key: "isDirty", value: function isDirty()

    {
      return this.dirty;
    } }, { key: "isVisible", value: function isVisible()

    {
      return this.layer.isVisible();
    } }, { key: "getLinkBasePosition", value: function getLinkBasePosition()

    {
      var layerBoundingBox = this.layer.getClientBoundingBox(true);
      var posProjected = layerBoundingBox.max.clone().setY(layerBoundingBox.min.y);
      var upVec = this.markupsExtension.renderer.getCameraUpVector();
      var rightVec = this.markupsExtension.renderer.getCameraRightVector();

      var linkBoundingBox = this.getClientBoundingBox();
      var linkSize = linkBoundingBox.size();
      var verticalOffset = upVec.multiplyScalar(this.markupsExtension.renderer.multiplyByNormaStrokeWidth(linkSize.y / 2));
      var horizontalOffset = rightVec.multiplyScalar(this.markupsExtension.renderer.multiplyByNormaStrokeWidth(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["LINK_POSITION_OFFSET"] + linkSize.x / 2));

      // Apply camera rotation.
      var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
      var cameraRotation = this.markupsExtension.renderer.getCameraRotation();
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(posProjected, -cameraRotation, layerBoundingBox.center(), eyeDirection);

      var pos = this.markupsExtension.renderer.clientToWorld(posProjected).sub(verticalOffset).add(horizontalOffset);
      return pos;
    } }, { key: "getClientBoundingBox", value: function getClientBoundingBox()

    {
      return this.markupsExtension.renderer.linksRenderer.getLinkBoundingBox(this);
    } }, { key: "getPosition", value: function getPosition()

    {
      if (this.editState.position) {
        return this.editState.position;
      } else {
        return this.getLinkBasePosition();
      }
    } }, { key: "select", value: function select()

    {
      this.selected = true;
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].LINK_SELECTED, link: this });
      this.setDirty(true);
    } }, { key: "deselect", value: function deselect()

    {
      this.selected = false;
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].LINK_DESELECTED, link: this });
      this.setDirty(true);
    } }, { key: "isSelected", value: function isSelected()

    {
      return this.selected;
    } }, { key: "setHover", value: function setHover(

    hover) {
      if (this.hover !== hover) {
        this.hover = hover;
        this.setDirty(true);
      }
    } }, { key: "isHovered", value: function isHovered()

    {
      return this.hover;
    } }, { key: "isCompleted", value: function isCompleted()

    {
      return true;
    } }, { key: "registerSelectionHandler", value: function registerSelectionHandler()

    {
      this.selectionHandler = new _LinkSelectionHandler__WEBPACK_IMPORTED_MODULE_5__["default"](this.markupsExtension, this);
    } }, { key: "registerAnchorHandler", value: function registerAnchorHandler()

    {
      this.anchorHandler = new _LinkAnchorHandler__WEBPACK_IMPORTED_MODULE_4__["default"](this.markupsExtension, this);
    } }, { key: "destroy", value: function destroy()

    {
      if (this.translationHandler) {
        this.translationHandler.destroy();
        this.translationHandler = null;
      }

      this.markupsExtension = null;
      this.state = null;
      this.editState = null;
    } }]);return Link;}();

/***/ }),

/***/ "./extensions/BimMarkups/Links/LinkAnchorHandler.js":
/*!**********************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinkAnchorHandler.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return AnchorHandler; });
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _LinkEditHandler__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LinkEditHandler */ "./extensions/BimMarkups/Links/LinkEditHandler.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

AnchorHandler = /*#__PURE__*/function (_LinkEditHandler) {_inherits(AnchorHandler, _LinkEditHandler);function AnchorHandler() {_classCallCheck(this, AnchorHandler);return _possibleConstructorReturn(this, _getPrototypeOf(AnchorHandler).apply(this, arguments));}_createClass(AnchorHandler, [{ key: "handleMouseMove", value: function handleMouseMove(
    point) {
      var hovered = this.grabbing || this.intersect(point);
      this.link.setHover(hovered);

      if (this.grabbing) {
        this.updatePosition(point);

        return true;
      }

      return false;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    point, button) {
      if (!this.grabbing) {
        this.grabbing = this.intersect(point);

        if (this.grabbing) {
          this.originalPosition = point.clone();
          this.lastTranslationPoint = point;
        }

        return !!this.grabbing;
      }

      return true;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {
      if (this.grabbing) {
        this.updatePosition(point);

        if (Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_0__["isEqualVectors"])(point, this.originalPosition, this.getMinChangeDistanceWorld())) {
          this.cancelAnchorEditing();
          return false;
        } else {
          this.submitChanges();
        }

        this.grabbing = false;
        this.lastTranslationPoint = null;

        return true;
      }

      return false;
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {
      if (this.grabbing) {
        switch (keyCode) {
          case Autodesk.Viewing.KeyCode.BACKSPACE:
          case Autodesk.Viewing.KeyCode.DELETE:
          case Autodesk.Viewing.KeyCode.ESCAPE:
            this.cancelAnchorEditing();
            return true;
          default:
            break;}

      }

      return false;
    } }, { key: "updateEditStatePosition", value: function updateEditStatePosition()

    {
      this.updateEditState({ position: this.getEditState().position });
    } }, { key: "updatePosition", value: function updatePosition(

    point) {
      var translation = point.clone().sub(this.lastTranslationPoint);

      if (!this.link.editState.position) {
        this.link.editState.position = this.link.getLinkBasePosition();
      }

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_0__["applyTranslation"])(this.link.editState.position, translation);

      this.lastTranslationPoint = point;
      this.updateEditStatePosition();
    } }, { key: "cancelAnchorEditing", value: function cancelAnchorEditing()

    {
      this.grabbing = false;
      this.link.syncEditState();
      this.updateEditStatePosition();
    } }, { key: "isDragging", value: function isDragging()

    {
      return this.grabbing;
    } }, { key: "intersect", value: function intersect(

    point) {
      var p = this.markupsExtension.renderer.worldToClient(point);
      var boundingBox = this.link.getClientBoundingBox();

      return boundingBox.containsPoint(p);
    } }, { key: "getCursor", value: function getCursor()

    {
      if (this.grabbing) {
        return 'grabbing';
      } else {
        return 'grab';
      }
    } }]);return AnchorHandler;}(_LinkEditHandler__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/Links/LinkAttachment.js":
/*!*******************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinkAttachment.js ***!
  \*******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LinkAttachment; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _Link__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Link */ "./extensions/BimMarkups/Links/Link.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

LinkAttachment = /*#__PURE__*/function (_Link) {_inherits(LinkAttachment, _Link);
  function LinkAttachment(markupsExtension, id, guid, layer, state) {_classCallCheck(this, LinkAttachment);return _possibleConstructorReturn(this, _getPrototypeOf(LinkAttachment).call(this,
    markupsExtension, id, guid, layer, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["LINK_TYPE_DOCUMENT_ATTACHMENT"], state));
  }return LinkAttachment;}(_Link__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/Links/LinkEditHandler.js":
/*!********************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinkEditHandler.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return EditHandler; });
/* harmony import */ var _Actions_UpdateMarkupAction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Actions/UpdateMarkupAction */ "./extensions/BimMarkups/Actions/UpdateMarkupAction.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}
var

EditHandler = /*#__PURE__*/function () {
  function EditHandler(markupsExtension, link) {_classCallCheck(this, EditHandler);
    this.markupsExtension = markupsExtension;
    this.viewer = markupsExtension.viewer;
    this.link = link;

    this.link.syncEditState();
  }_createClass(EditHandler, [{ key: "getEditState", value: function getEditState()

    {
      return this.link.getEditState();
    } }, { key: "setEditState", value: function setEditState(

    editState) {
      this.link.setEditState(editState);
    }

    // Use updateEditState whenever there are changes you want to update in the markup's edit state.
  }, { key: "updateEditState", value: function updateEditState(changes) {
      this.setEditState(Object.assign({}, this.getEditState(), changes));
    }

    // Use submitChanges to update the markup with the recent changes of the edit handler.
    // Using this will change the history of the markups, and will add an undo / redo actions.
    // Use it only after you committed changes to the editState, using updateEditState.
  }, { key: "submitChanges", value: function submitChanges() {
      var action = new _Actions_UpdateMarkupAction__WEBPACK_IMPORTED_MODULE_0__["default"](this.markupsExtension.markupsManager, this.link, this.getEditState());
      action.execute();
    } }, { key: "isDragging", value: function isDragging()

    {
      return false;
    } }, { key: "getTouchRadiusWorld", value: function getTouchRadiusWorld()

    {
      return this.markupsExtension.renderer.sizeFromClientToWorld(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["TOUCH_RADIUS"]);
    } }, { key: "getMinChangeDistanceWorld", value: function getMinChangeDistanceWorld()

    {
      return this.markupsExtension.renderer.sizeFromClientToWorld(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["MIN_CHANGE_DISTANCE"]);
    } }, { key: "didMouseMove", value: function didMouseMove()

    {
      return this.markupsExtension.markupsTool.mouseMoved;
    } }, { key: "handleDoubleClick", value: function handleDoubleClick(

    event, button) {
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    event, button) {
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    event, button) {
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {
    } }, { key: "handleKeyUp", value: function handleKeyUp(

    event, keyCode) {
    } }, { key: "handleMouseMove", value: function handleMouseMove(

    event) {
    } }, { key: "handleGesture", value: function handleGesture(

    event) {
    } }, { key: "handleResize", value: function handleResize()

    {
    } }, { key: "destroy", value: function destroy()

    {
      this.markupsExtension = null;
      this.viewer = null;
      this.link = null;
    } }]);return EditHandler;}();

/***/ }),

/***/ "./extensions/BimMarkups/Links/LinkSelectionHandler.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinkSelectionHandler.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return SelectionHandler; });
/* harmony import */ var _LinkEditHandler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LinkEditHandler */ "./extensions/BimMarkups/Links/LinkEditHandler.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}var

SelectionHandler = /*#__PURE__*/function (_LinkEditHandler) {_inherits(SelectionHandler, _LinkEditHandler);function SelectionHandler() {_classCallCheck(this, SelectionHandler);return _possibleConstructorReturn(this, _getPrototypeOf(SelectionHandler).apply(this, arguments));}_createClass(SelectionHandler, [{ key: "intersect", value: function intersect(
    point) {
      var p = this.markupsExtension.renderer.worldToClient(point);
      var boundingBox = this.link.getClientBoundingBox();

      return boundingBox.containsPoint(p);
    } }, { key: "handleMouseMove", value: function handleMouseMove(

    point) {
      if (this.markupsExtension.markupsTool.dragging || Autodesk.Viewing.isMobileDevice()) {
        return false;
      }

      var intersected = this.intersect(point);

      this.link.setHover(intersected);

      if (intersected) {
        this.link.layer.setHover(true);
      }

      return intersected;
    } }, { key: "getCursor", value: function getCursor()

    {
      return 'pointer';
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    point, button) {
      if (!this.didMouseMove() && this.intersect(point)) {
        this.markupsExtension.markupsManager.deselectAllLinks();
        this.markupsExtension.markupsManager.selectLink(this.link);

        return true;
      }

      return false;
    } }]);return SelectionHandler;}(_LinkEditHandler__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/Links/LinkTypesDictionary.js":
/*!************************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinkTypesDictionary.js ***!
  \************************************************************/
/*! exports provided: linkTypesDictionary */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "linkTypesDictionary", function() { return linkTypesDictionary; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _LinkAttachment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LinkAttachment */ "./extensions/BimMarkups/Links/LinkAttachment.js");
function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}


var linkTypesDictionary = _defineProperty({},
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["LINK_TYPE_DOCUMENT_ATTACHMENT"], _LinkAttachment__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/Links/LinksRenderer.css":
/*!*******************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinksRenderer.css ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../node_modules/css-loader!./LinksRenderer.css */ "./node_modules/css-loader/index.js!./extensions/BimMarkups/Links/LinksRenderer.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./extensions/BimMarkups/Links/LinksRenderer.js":
/*!******************************************************!*\
  !*** ./extensions/BimMarkups/Links/LinksRenderer.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return LinksRenderer; });
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _LinksRenderer_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./LinksRenderer.css */ "./extensions/BimMarkups/Links/LinksRenderer.css");
/* harmony import */ var _LinksRenderer_css__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_LinksRenderer_css__WEBPACK_IMPORTED_MODULE_2__);
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}

var

LinksRenderer = /*#__PURE__*/function () {
  function LinksRenderer(markupsExtension) {_classCallCheck(this, LinksRenderer);
    this.markupsExtension = markupsExtension;
    this.viewer = this.markupsExtension.viewer;
    this.container = this.viewer.appendOrderedElementToViewer('markup-links-container');
    this.container.className = 'markup-links-container';

    this.links = {};
    this.linksSizeCache = {};

    this.registerEventListeners();
  }_createClass(LinksRenderer, [{ key: "registerEventListeners", value: function registerEventListeners()

    {
      this.onLinkDirtyBinded = this.onLinkDirty.bind(this);
      this.onMarkupDirtyBinded = this.onMarkupDirty.bind(this);
      this.renderAllLinksBinded = this.renderAllLinks.bind(this);
      this.onLinkDeletedBinded = this.onLinkDeleted.bind(this);

      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LINK_DIRTY, this.onLinkDirtyBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_DIRTY, this.onMarkupDirtyBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LINK_SYNCED, this.renderAllLinksBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LINK_REMOVED, this.onLinkDeletedBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_START, this.renderAllLinksBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_END, this.renderAllLinksBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_SELECTED, this.renderAllLinksBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_DESELECTED, this.renderAllLinksBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_VIEW_EXITED, this.renderAllLinksBinded);

      this.viewer.addEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT, this.renderAllLinksBinded);
    } }, { key: "unregisterEventListeners", value: function unregisterEventListeners()

    {
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LINK_DIRTY, this.onLinkDirtyBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_DIRTY, this.onMarkupDirtyBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LINK_SYNCED, this.renderAllLinksBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LINK_REMOVED, this.onLinkDeletedBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_START, this.renderAllLinksBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_END, this.renderAllLinksBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_SELECTED, this.renderAllLinksBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_DESELECTED, this.renderAllLinksBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_VIEW_EXITED, this.renderAllLinksBinded);

      this.viewer.removeEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT, this.renderAllLinksBinded);
    } }, { key: "onMarkupDirty", value: function onMarkupDirty(_ref)

    {var _this = this;var markup = _ref.markup;
      if (markup.layer) {
        Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["forAll"])(markup.layer.links, function (link) {
          _this.renderLink(link);
        });
      }
    } }, { key: "onLinkDirty", value: function onLinkDirty(_ref2)

    {var link = _ref2.link;
      this.renderLink(link);
    } }, { key: "renderLink", value: function renderLink(

    link) {
      if (link.layer.isEmpty()) {
        return;
      }

      var name = "".concat(link.layer.id, "_link_").concat(link.id);

      if (link.isVisible()) {
        var isSelected = link.isSelected();
        var isHovered = link.isHovered();
        var isActiveLayer = this.markupsExtension.markupsManager.getActiveLayer() === link.layer;
        var count = link.layer.layerData.attachments.length;
        var transparent = this.markupsExtension.markupsManager.isMarkupSessionOpen() && !isActiveLayer ||
        this.markupsExtension.markupsManager.getSelectedLayers().length > 0 && !link.layer.isSelected() ||
        !this.markupsExtension.isToolEnabled();
        this.createLinkElement(name, link, isSelected, isActiveLayer, isHovered, count, transparent);
      } else if (this.links[name]) {
        this.links[name].classList.remove('visible');
      }

      link.setDirty(false);
    } }, { key: "renderAllLinks", value: function renderAllLinks()

    {var _this2 = this;var
      layers = this.markupsExtension.markupsManager.layers;

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["forAll"])(layers, function (layer) {
        Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["forAll"])(layer.links, function (link) {
          _this2.renderLink(link);
        });
      });

      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LINK_RENDERED });
    } }, { key: "createLinkElement", value: function createLinkElement(

    name, link, isSelected, isActiveLayer, isHovered, count, transparent) {
      var anchorElement = this.links[name];

      if (!anchorElement) {
        anchorElement = document.createElement('div');
        anchorElement.className = 'link';

        var icon = document.createElement('div');
        icon.className = 'link-document-attachment';
        anchorElement.appendChild(icon);

        this.container.appendChild(anchorElement);
        this.links[name] = anchorElement;
      }

      if (!anchorElement.classList.contains('visible')) {
        anchorElement.classList.add('visible');
      }

      if (transparent && !anchorElement.classList.contains('transparent')) {
        anchorElement.classList.add('transparent');
      } else if (!transparent && anchorElement.classList.contains('transparent')) {
        anchorElement.classList.remove('transparent');
      }

      if (isSelected && !anchorElement.classList.contains('selected')) {
        anchorElement.classList.add('selected');
      } else if (!isSelected && anchorElement.classList.contains('selected')) {
        anchorElement.classList.remove('selected');
      }

      if (isHovered && !anchorElement.classList.contains('hover')) {
        anchorElement.classList.add('hover');
      } else if (!isHovered && anchorElement.classList.contains('hover')) {
        anchorElement.classList.remove('hover');
      }

      if (isActiveLayer && !anchorElement.classList.contains('editable')) {
        anchorElement.classList.add('editable');
      } else if (!isActiveLayer && anchorElement.classList.contains('editable')) {
        anchorElement.classList.remove('editable');
      }

      var text = count > 99 ? '99+' : count;
      anchorElement.firstChild.innerText = text;

      if (!this.linksSizeCache[text]) {
        this.linksSizeCache[text] = anchorElement.firstChild.getBoundingClientRect();
      }

      // Calculate link's icon bounding box.
      // First we calculate the boundingBox just for the size, without the correct position. It's necessary for link.getPosition().
      var boundingBox = new THREE.Box3();
      var linkHalfSize = new THREE.Vector3(this.linksSizeCache[text].width / 2, this.linksSizeCache[text].height / 2, 0);
      boundingBox.expandByPoint(new THREE.Vector3());
      boundingBox.expandByVector(linkHalfSize);
      anchorElement.boundingBox = boundingBox;
      var pos = link.getPosition();

      var position = this.markupsExtension.renderer.worldToClient(pos);

      anchorElement.style.transform = "translate(".concat(Math.round(position.x - this.linksSizeCache[text].width / 2), "px, ").concat(Math.round(position.y - this.linksSizeCache[text].height / 2), "px)");

      // Now, after we got the right position, we can update the bounding box with the true position.
      boundingBox.makeEmpty();
      boundingBox.expandByPoint(position);
      boundingBox.expandByVector(linkHalfSize);
    } }, { key: "getLinkBoundingBox", value: function getLinkBoundingBox(

    link) {
      var name = "".concat(link.layer.id, "_link_").concat(link.id);
      var anchorElement = this.links[name];
      if (!anchorElement) {
        return new THREE.Box3();
      }

      return anchorElement.boundingBox;
    } }, { key: "onLinkDeleted", value: function onLinkDeleted(_ref3)

    {var link = _ref3.link;
      var name = "".concat(link.layer.id, "_link_").concat(link.id);
      var linkElement = this.links[name];

      if (linkElement) {
        this.container.removeChild(linkElement);
      }

      delete this.links[name];
    } }, { key: "destroy", value: function destroy()

    {var _this3 = this;
      this.unregisterEventListeners();

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["forAll"])(this.links, function (link) {
        _this3.container.removeChild(link);
      });
      this.links = null;

      this.markupsExtension = null;
      this.viewer = null;
    } }]);return LinksRenderer;}();

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/Markup.js":
/*!*****************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/Markup.js ***!
  \*****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Markup; });
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _EditHandlers_SelectionHandler__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../EditHandlers/SelectionHandler */ "./extensions/BimMarkups/EditHandlers/SelectionHandler.js");
/* harmony import */ var _EditHandlers_TranslationHandler__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../EditHandlers/TranslationHandler */ "./extensions/BimMarkups/EditHandlers/TranslationHandler.js");
/* harmony import */ var _EditHandlers_AnchorHandler__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../EditHandlers/AnchorHandler */ "./extensions/BimMarkups/EditHandlers/AnchorHandler.js");
/* harmony import */ var _EditHandlers_RotationHandler__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../EditHandlers/RotationHandler */ "./extensions/BimMarkups/EditHandlers/RotationHandler.js");
/* harmony import */ var _EditHandlers_ScaleHandler__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../EditHandlers/ScaleHandler */ "./extensions/BimMarkups/EditHandlers/ScaleHandler.js");
/* harmony import */ var _EditHandlers_TextInputHandler__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../EditHandlers/TextInputHandler */ "./extensions/BimMarkups/EditHandlers/TextInputHandler.js");
/* harmony import */ var _EditHandlers_DimensionEditHandler__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../EditHandlers/DimensionEditHandler */ "./extensions/BimMarkups/EditHandlers/DimensionEditHandler.js");
/* harmony import */ var _EditHandlers_CreationHandlers_CreationHandlerFactory__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../EditHandlers/CreationHandlers/CreationHandlerFactory */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerFactory.js");
/* harmony import */ var _RendererHelpers_MarkupsGeometryManager__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../RendererHelpers/MarkupsGeometryManager */ "./extensions/BimMarkups/RendererHelpers/MarkupsGeometryManager.js");
function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}











var

Markup = /*#__PURE__*/function () {
  function Markup(markupsExtension, id, type, state) {_classCallCheck(this, Markup);
    this.id = id;
    this.type = type;
    this.markupsExtension = markupsExtension;
    this.materialManager = this.markupsExtension.renderer.materialManager;

    this.layer = null;

    this.meshContainer = null;
    this.strokeMaterial = null;
    this.fillMaterial = null;
    this.center = new THREE.Vector3();

    this.matrix = new THREE.Matrix4();
    this.invMatrix = new THREE.Matrix4();
    this.scaleMatrix = new THREE.Matrix4();
    this.invScaleMatrix = new THREE.Matrix4();

    // Whether the markup creation has been ended successfully.
    this.completed = false;

    // Whether the markup is selected.
    this.selected = false;

    // Whether the markup is in edit mode.
    this.inEdit = false;

    // Whether the markup is enabled for touch.
    this.enabled = true;

    // Whether the markup is transparent.
    this.transparent = false;

    // Whether the markup is visible.
    this.visible = false;

    // Whether the markup is being hovered or not.
    this.hover = false;

    if (state) {
      this.state = state;
    } else {
      this.state = this.getDefaultState();
      this.state.anchors = this.getDefaultAnchors();
      this.state.style = this.getDefaultStyle();
    }

    this.state.translation = this.state.translation || new THREE.Vector3();
    this.state.rotation = this.state.rotation || 0;
    this.state.scale = this.state.scale || new THREE.Vector3(1.0, 1.0, 1.0);

    this.editState = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(this.state);
    this.updateMatrix();

    this.registerSelectionHandler();

    this.creationHandler = _EditHandlers_CreationHandlers_CreationHandlerFactory__WEBPACK_IMPORTED_MODULE_11__["default"].getCreationHandler(this.type, this.markupsExtension, this);
  }_createClass(Markup, [{ key: "updateMatrix", value: function updateMatrix()

    {
      this.scaleMatrix.makeScale(this.editState.scale.x, this.editState.scale.y, this.editState.scale.z);

      this.matrix.copy(this.scaleMatrix);
      this.matrix.setPosition(this.editState.translation);
      this.invMatrix.getInverse(this.matrix);
      this.invScaleMatrix.getInverse(this.scaleMatrix);
      this.updateCenter();
    } }, { key: "updateCenter", value: function updateCenter()

    {
      if (this.editState.anchors.length === 0) {return;}

      var max = new THREE.Vector3().set(-Infinity, -Infinity, -Infinity);
      var min = new THREE.Vector3().set(Infinity, Infinity, Infinity);
      this.editState.anchors.forEach(function (anchor) {
        max = max.max(anchor);
        min = min.min(anchor);
      });

      this.center.x = (max.x + min.x) / 2;
      this.center.y = (max.y + min.y) / 2;
    } }, { key: "getDefaultState", value: function getDefaultState()

    {
      return {};
    } }, { key: "getDefaultAnchors", value: function getDefaultAnchors()

    {
      return [];
    } }, { key: "getDefaultStyle", value: function getDefaultStyle()

    {var _ref;
      return _ref = {}, _defineProperty(_ref,
      _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].COLOR, this.markupsExtension.getStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].LAST_COLOR)), _defineProperty(_ref,
      _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_SIZE, this.markupsExtension.getStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_SIZE)), _defineProperty(_ref,
      _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_WEIGHT, this.markupsExtension.getStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_WEIGHT)), _defineProperty(_ref,
      _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_FAMILY, this.markupsExtension.getStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_FAMILY)), _defineProperty(_ref,
      _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_STYLE, this.markupsExtension.getStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_STYLE)), _defineProperty(_ref,
      _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_COLOR, this.markupsExtension.getStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_COLOR)), _defineProperty(_ref,
      _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS, this.markupsExtension.getStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS)), _defineProperty(_ref,
      _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_OPACITY, this.markupsExtension.getStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_OPACITY)), _defineProperty(_ref,
      _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_COLOR, this.markupsExtension.getStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_COLOR)), _defineProperty(_ref,
      _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].OPACITY, this.markupsExtension.getStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].OPACITY)), _ref;

    } }, { key: "getState", value: function getState()

    {
      return this.state;
    } }, { key: "setState", value: function setState(

    state) {
      this.state = state;

      this.rotatedBoundingBox = null;
      this.boundingBox = null;
    } }, { key: "getEditState", value: function getEditState()

    {
      return this.editState;
    } }, { key: "setEditState", value: function setEditState(

    editState, changes) {
      this.editState = editState;

      this.updateMatrix();
      this.rotatedBoundingBox = null;
      this.boundingBox = null;

      if (this.visible && this.markupsExtension.renderer) {
        this.render(changes);
      }
    } }, { key: "render", value: function render(

    state) {
      if (!this.meshContainer) {
        this.meshContainer = new THREE.Group();
        this.markupsExtension.renderer.addToScene(this);
      }
    } }, { key: "syncEditState", value: function syncEditState()

    {
      this.setEditState(_Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(this.getState()));
    } }, { key: "syncState", value: function syncState()

    {
      this.setState(_Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(this.getEditState()));
    } }, { key: "select", value: function select()

    {
      if (this.layer && !this.markupsExtension.permissionManager.canEditMarkup(this.layer.layerData)) {
        return;
      }

      this.selected = true;
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].MARKUP_SELECTED, markup: this });

      this.enableEdit();
    } }, { key: "deselect", value: function deselect()

    {
      this.selected = false;
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].MARKUP_DESELECTED, markup: this });

      this.disableEdit();
    } }, { key: "setVisible", value: function setVisible(

    isVisible, forceSet) {
      if (this.visible !== isVisible || forceSet) {
        this.visible = isVisible;

        if (this.meshContainer) {
          this.meshContainer.visible = isVisible;
        }

        if (this.markupsExtension.renderer) {
          if (this.visible) {
            this.render();
          } else {
            this.markupsExtension.renderer.invalidate();
          }
        }

        this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].MARKUP_VISIBILITY_CHANGED, markup: this, visible: isVisible });
      }
    } }, { key: "isVisible", value: function isVisible()

    {
      return this.visible;
    } }, { key: "isSelected", value: function isSelected()

    {
      return this.selected;
    } }, { key: "enableEdit", value: function enableEdit()

    {
      this.inEdit = true;
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].MARKUP_ENABLE_EDIT, markup: this });
      this.setDirty();
    } }, { key: "disableEdit", value: function disableEdit()

    {
      this.inEdit = false;
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].MARKUP_DISABLE_EDIT, markup: this });
      this.setDirty();
    } }, { key: "enable", value: function enable()

    {
      this.enabled = true;

      this.changeTransparency(false);
    } }, { key: "disable", value: function disable()

    {
      this.enabled = false;

      this.changeTransparency(true);
    } }, { key: "isEnabled", value: function isEnabled()

    {
      return this.enabled;
    } }, { key: "changeTransparency", value: function changeTransparency(

    transparent) {
      if (this.transparent !== transparent) {
        this.transparent = transparent;

        if (this.visible && this.markupsExtension.renderer) {
          this.render({ style: {} });
        }

        this.setDirty();
      }
    } }, { key: "isTransparent", value: function isTransparent()

    {
      return this.transparent;
    } }, { key: "setHover", value: function setHover(

    hover) {
      if (this.hover !== hover) {
        this.hover = hover;
        this.setDirty();
      }
    } }, { key: "isHovered", value: function isHovered()

    {
      return this.hover;
    } }, { key: "isInEdit", value: function isInEdit()

    {
      return this.inEdit;
    } }, { key: "setDirty", value: function setDirty()

    {
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].MARKUP_DIRTY, markup: this });
    } }, { key: "isCompleted", value: function isCompleted()

    {
      return this.completed;
    } }, { key: "complete", value: function complete()

    {
      this.completed = true;

      if (this.selectWhenCompleted()) {
        this.select();
      } else {
        this.setDirty();
      }

      if (this.visible && this.markupsExtension.renderer) {
        this.render();
      }

      this.markupsExtension.markupsManager.selectLayer(this.layer, false, false);
    } }, { key: "selectWhenCompleted", value: function selectWhenCompleted()

    {
      return true;
    } }, { key: "registerAnchorHandler", value: function registerAnchorHandler(

    options) {
      this.anchorHandler = new _EditHandlers_AnchorHandler__WEBPACK_IMPORTED_MODULE_6__["default"](this.markupsExtension, this, options);
    } }, { key: "registerTranslationHandler", value: function registerTranslationHandler(

    options) {
      this.translationHandler = new _EditHandlers_TranslationHandler__WEBPACK_IMPORTED_MODULE_5__["default"](this.markupsExtension, this, options);
    } }, { key: "registerRotationHandler", value: function registerRotationHandler(

    options) {
      this.rotationHandler = new _EditHandlers_RotationHandler__WEBPACK_IMPORTED_MODULE_7__["default"](this.markupsExtension, this, options);
    } }, { key: "registerScaleHandler", value: function registerScaleHandler(

    options) {
      this.scaleHandler = new _EditHandlers_ScaleHandler__WEBPACK_IMPORTED_MODULE_8__["default"](this.markupsExtension, this, options);
    } }, { key: "registerSelectionHandler", value: function registerSelectionHandler(

    options) {
      this.selectionHandler = new _EditHandlers_SelectionHandler__WEBPACK_IMPORTED_MODULE_4__["default"](this.markupsExtension, this, options);
    } }, { key: "registerTextInputHandler", value: function registerTextInputHandler(

    options) {
      this.textInputHandler = new _EditHandlers_TextInputHandler__WEBPACK_IMPORTED_MODULE_9__["default"](this.markupsExtension, this, options);
    } }, { key: "registerDimensionEditHandler", value: function registerDimensionEditHandler(

    options) {
      this.dimensionEditHandler = new _EditHandlers_DimensionEditHandler__WEBPACK_IMPORTED_MODULE_10__["default"](this.markupsExtension, this, options);
    } }, { key: "applyCameraRotation", value: function applyCameraRotation(

    point) {
      var cameraRotation = this.markupsExtension.renderer.getCameraRotation();
      var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(point, cameraRotation, this.getWorldCenter(), eyeDirection);
    } }, { key: "applyInverseCameraRotation", value: function applyInverseCameraRotation(

    point) {
      var cameraRotation = this.markupsExtension.renderer.getCameraRotation();
      var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(point, -cameraRotation, this.getWorldCenter(), eyeDirection);
    } }, { key: "applyInverseRotation", value: function applyInverseRotation(

    point) {
      var rotation = this.getRotation();
      if (rotation === 0) {
        return;
      }

      var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(point, -rotation, this.getWorldCenter(), eyeDirection);
    } }, { key: "applyRotation", value: function applyRotation(

    point) {
      var rotation = this.getRotation();
      if (rotation === 0) {
        return;
      }

      var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(point, rotation, this.getWorldCenter(), eyeDirection);
    } }, { key: "applyRotationForAnchors", value: function applyRotationForAnchors(

    anchors) {
      var rotation = this.getRotation();
      if (rotation === 0) {
        return;
      }

      var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
      var center = this.getWorldCenter();
      anchors.forEach(function (anchor) {
        _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(anchor, rotation, center, eyeDirection);
      });
    } }, { key: "applyScaleAndTranslation", value: function applyScaleAndTranslation(

    point) {
      point.sub(this.center);
      point.applyMatrix4(this.matrix);
      point.add(this.center);
    } }, { key: "applyInverseScaleAndTranslation", value: function applyInverseScaleAndTranslation(

    point) {
      point.sub(this.center);
      point.applyMatrix4(this.invMatrix);
      point.add(this.center);
    } }, { key: "calculateWorldBoundingBox", value: function calculateWorldBoundingBox(

    rotate) {var _this = this;
      var boundingBox = new THREE.Box3();
      var anchors;
      if (this.meshLine && this.meshLine.boundingPoints) {
        anchors = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(this.meshLine.boundingPoints);
      } else {
        anchors = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(this.editState.anchors);
      }

      anchors.forEach(function (anchor) {
        _this.applyScaleAndTranslation(anchor);
      });

      if (rotate) {
        this.applyRotationForAnchors(anchors);
      }

      anchors.forEach(function (anchor) {
        boundingBox.expandByPoint(anchor);
      });

      var halfThickness = this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] / 2;
      boundingBox.expandByVector(new THREE.Vector3(halfThickness, halfThickness, 0));

      return boundingBox;
    }

    // If you need to change the bounding box after getting it, make sure to clone it first!
  }, { key: "getWorldBoundingBox", value: function getWorldBoundingBox(rotate) {
      if (rotate) {
        if (!this.rotatedBoundingBox) {
          this.rotatedBoundingBox = this.calculateWorldBoundingBox(rotate);
        }
        return this.rotatedBoundingBox;
      } else {
        if (!this.boundingBox) {
          this.boundingBox = this.calculateWorldBoundingBox(rotate);
        }
        return this.boundingBox;
      }
    } }, { key: "getClientBoundingBox", value: function getClientBoundingBox(

    withMargin, rotate) {
      var boundingBox = this.getWorldBoundingBox(rotate).clone();

      boundingBox.min = this.markupsExtension.renderer.worldToClient(boundingBox.min);
      boundingBox.max = this.markupsExtension.renderer.worldToClient(boundingBox.max);

      var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
      var center = boundingBox.center();

      var cameraRotation = this.markupsExtension.renderer.getCameraRotation();

      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(boundingBox.min, cameraRotation, center, eyeDirection);
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(boundingBox.max, cameraRotation, center, eyeDirection);

      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].swapBoundingBoxY(boundingBox);

      if (withMargin) {
        var margin = this.getMarginSize();
        boundingBox.expandByVector(new THREE.Vector3(margin, margin, 0));
      }

      boundingBox.min.z = 0;
      boundingBox.max.z = 0;

      return boundingBox;
    } }, { key: "getMarginSize", value: function getMarginSize()

    {
      return _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["BOUNDING_BOX_MARGIN"];
    } }, { key: "getCenter", value: function getCenter()

    {
      return this.center;
    } }, { key: "setPosition", value: function setPosition()

    {
      var translation = this.center.clone().add(this.editState.translation);
      this.meshContainer.position.copy(translation);
    } }, { key: "setRotation", value: function setRotation()

    {
      this.meshContainer.rotation.z = this.editState.rotation * this.markupsExtension.renderer.getCameraEyeVector().z;
    } }, { key: "getWorldCenter", value: function getWorldCenter()

    {
      return this.center.clone().add(this.editState.translation);
    } }, { key: "getClientCenter", value: function getClientCenter()

    {
      return this.markupsExtension.renderer.worldToClient(this.getWorldCenter());
    } }, { key: "getRotation", value: function getRotation()

    {
      return this.editState.rotation;
    } }, { key: "getScale", value: function getScale()

    {
      return this.editState.scale;
    } }, { key: "getAnchors", value: function getAnchors()

    {
      return this.editState.anchors;
    } }, { key: "intersect", value: function intersect(

    _point) {
      var point = _point.clone();
      this.applyInverseRotation(point);
      var p = this.markupsExtension.renderer.worldToClient(point);

      var boundingBox = this.getClientBoundingBox(true);

      var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
      var cameraRotation = this.markupsExtension.renderer.getCameraRotation();
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(p, cameraRotation, boundingBox.center(), eyeDirection);
      p.z = 0;

      var inBoundingBox = boundingBox.containsPoint(p);

      if (!inBoundingBox || this.isTextMarkup()) {
        return inBoundingBox;
      }

      if (this.hasFill() && this.fillMesh) {
        var intersects = this.markupsExtension.renderer.raycaster.intersectObject(this.fillMesh);
        if (intersects.length > 0) {
          return true;
        }
      }

      var halfWidth = this.strokeMaterial.uniforms.lineWidth.value / 2;

      halfWidth += this.markupsExtension.renderer.sizeFromClientToWorld(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["HIT_AREA_MARGIN"]);

      return this.meshLine.isPointNear(_point, halfWidth * halfWidth, this.meshContainer.matrixWorld);
    }

    // A text markup
  }, { key: "isTextMarkup", value: function isTextMarkup() {
      return false;
    }

    // A geometric shape with thickness
  }, { key: "isGeometricMarkup", value: function isGeometricMarkup() {
      return true;
    } }, { key: "isWithFillMarkup", value: function isWithFillMarkup()

    {
      return false;
    } }, { key: "isPoint", value: function isPoint()

    {
      return this.editState.anchors.length < 2 || _RendererHelpers_MarkupsGeometryManager__WEBPACK_IMPORTED_MODULE_12__["default"].areAllAnchorsEqual(this.editState.anchors);
    } }, { key: "hasFill", value: function hasFill()

    {
      return this.isWithFillMarkup() && this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_OPACITY] > 0 && this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_COLOR] !== _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["COLORS"].NO_COLOR;
    } }, { key: "needsMiter", value: function needsMiter()

    {
      return true;
    } }, { key: "showPath", value: function showPath()

    {
      return false;
    } }, { key: "hasThicknessChanged", value: function hasThicknessChanged()

    {
      return this.strokeMaterial && this.strokeMaterial.uniforms.lineWidth.value !== this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS];
    } }, { key: "removeFill", value: function removeFill()

    {
      if (this.fillMaterial) {
        this.materialManager.removeMaterial(this.fillMaterial);
        this.fillMaterial = null;
      }

      if (this.fillMesh) {
        this.meshContainer.remove(this.fillMesh);
        this.fillMesh = null;
      }
    } }, { key: "remove", value: function remove()

    {var doDispatchEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
      if (!this.markupsExtension.renderer) {
        return;
      }

      if (this.strokeMaterial) {
        this.materialManager.removeMaterial(this.strokeMaterial);
        this.strokeMaterial = null;
      }

      if (this.strokeMesh) {
        this.meshContainer.remove(this.strokeMesh);
        this.strokeMesh = null;
      }

      if (this.meshLine && !this.markupsExtension.renderer.geometryManager.isCachedGeometry(this.meshLine)) {
        this.meshLine.dispose();
        this.meshLine = null;
      }

      if (this.fillMaterial) {
        this.materialManager.removeMaterial(this.fillMaterial);
        this.fillMaterial = null;
      }

      if (this.fillMesh) {
        if (!this.markupsExtension.renderer.geometryManager.isCachedGeometry(this.fillMesh.geometry)) {
          this.fillMesh.traverse(function (child) {if (child.geometry) child.geometry.dispose();});
        }
        this.meshContainer.remove(this.fillMesh);
        this.fillMesh = null;
      }

      if (this.meshContainer) {
        this.markupsExtension.renderer.removeFromScene(this);
        this.meshContainer = null;
      }

      if (doDispatchEvent) {
        this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_3__["MARKUPS_EVENTS"].MARKUP_REMOVED, markup: this });
      }
    } }, { key: "destroy", value: function destroy()

    {
      if (this.anchorHandler) {
        this.anchorHandler.destroy();
        this.anchorHandler = null;
      }

      if (this.translationHandler) {
        this.translationHandler.destroy();
        this.translationHandler = null;
      }

      if (this.rotationHandler) {
        this.rotationHandler.destroy();
        this.rotationHandler = null;
      }

      if (this.scaleHandler) {
        this.scaleHandler.destroy();
        this.scaleHandler = null;
      }

      if (this.selectionHandler) {
        this.selectionHandler.destroy();
        this.selectionHandler = null;
      }

      if (this.textInputHandler) {
        this.textInputHandler.destroy();
        this.textInputHandler = null;
      }

      this.markupsExtension = null;
      this.state = null;
      this.editState = null;
      this.layer = null;
    } }]);return Markup;}();


Markup.singleClickMarkup = false;
Markup.withSnappingMarkup = false;
Markup.useTimerBeforeSelection = false;

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupArrow.js":
/*!**********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupArrow.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupArrow; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupLines__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupLines */ "./extensions/BimMarkups/MarkupTypes/MarkupLines.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

MarkupArrow = /*#__PURE__*/function (_MarkupLines) {_inherits(MarkupArrow, _MarkupLines);
  function MarkupArrow(markupsExtension, id, state) {_classCallCheck(this, MarkupArrow);return _possibleConstructorReturn(this, _getPrototypeOf(MarkupArrow).call(this,
    markupsExtension, id, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_ARROW"], state));
  }return MarkupArrow;}(_MarkupLines__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupArrowCallout.js":
/*!*****************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupArrowCallout.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupArrowCallout; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Markup */ "./extensions/BimMarkups/MarkupTypes/Markup.js");
/* harmony import */ var _EditHandlers_CreationHandlers_CreationHandlerArrowCallout__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../EditHandlers/CreationHandlers/CreationHandlerArrowCallout */ "./extensions/BimMarkups/EditHandlers/CreationHandlers/CreationHandlerArrowCallout.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}

var

MarkupArrowCallout = /*#__PURE__*/function (_Markup) {_inherits(MarkupArrowCallout, _Markup);
  function MarkupArrowCallout(markupsExtension, id, state) {var _this;_classCallCheck(this, MarkupArrowCallout);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupArrowCallout).call(this, markupsExtension, id, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_ARROW_CALLOUT"], state));

    _this.creationHandler = new _EditHandlers_CreationHandlers_CreationHandlerArrowCallout__WEBPACK_IMPORTED_MODULE_2__["default"](_this.markupsExtension, _assertThisInitialized(_assertThisInitialized(_this)));

    _this.registerTranslationHandler();
    _this.registerRotationHandler();
    _this.registerScaleHandler();
    _this.registerAnchorHandler();return _this;
  }

  // getAnchors() {
  //   const { anchors } = this.getEditState();
  //   return [anchors.head, anchors.joint];
  // }
  return MarkupArrowCallout;}(_Markup__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupCircle.js":
/*!***********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupCircle.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupCircle; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupScalableShape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupScalableShape */ "./extensions/BimMarkups/MarkupTypes/MarkupScalableShape.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

MarkupCircle = /*#__PURE__*/function (_MarkupScalableShape) {_inherits(MarkupCircle, _MarkupScalableShape);
  function MarkupCircle(markupsExtension, id, state) {_classCallCheck(this, MarkupCircle);return _possibleConstructorReturn(this, _getPrototypeOf(MarkupCircle).call(this,
    markupsExtension, id, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_CIRCLE"], state));
  }_createClass(MarkupCircle, [{ key: "isWithFillMarkup", value: function isWithFillMarkup()

    {
      return true;
    } }, { key: "needsMiter", value: function needsMiter()

    {
      return false;
    } }]);return MarkupCircle;}(_MarkupScalableShape__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupCloud.js":
/*!**********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupCloud.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupCloud; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Markup */ "./extensions/BimMarkups/MarkupTypes/Markup.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target, property, receiver) {if (typeof Reflect !== "undefined" && Reflect.get) {_get = Reflect.get;} else {_get = function _get(target, property, receiver) {var base = _superPropBase(target, property);if (!base) return;var desc = Object.getOwnPropertyDescriptor(base, property);if (desc.get) {return desc.get.call(receiver);}return desc.value;};}return _get(target, property, receiver || target);}function _superPropBase(object, property) {while (!Object.prototype.hasOwnProperty.call(object, property)) {object = _getPrototypeOf(object);if (object === null) break;}return object;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

MarkupCloud = /*#__PURE__*/function (_Markup) {_inherits(MarkupCloud, _Markup);
  function MarkupCloud(markupsExtension, id, state) {var _this;_classCallCheck(this, MarkupCloud);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupCloud).call(this, markupsExtension, id, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_CLOUD"], state));

    _this.registerTranslationHandler();
    _this.registerRotationHandler();
    _this.registerScaleHandler();return _this;
  }_createClass(MarkupCloud, [{ key: "createCloud", value: function createCloud()

    {
      if (this.strokeMesh) {
        this.meshContainer.remove(this.strokeMesh);
      }
      if (this.fillMesh) {
        this.meshContainer.remove(this.fillMesh);
        this.fillMesh = null;
      }

      // stroke mesh
      if (!this.strokeMaterial) {
        this.strokeMaterial = this.materialManager.addMaterial(this, false);
      }

      this.meshLine = this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this);
      this.strokeMesh = new THREE.Mesh(this.meshLine.geometry, this.strokeMaterial);

      // fill mesh
      if (this.hasFill() && !this.isPoint()) {
        this.createFillMesh();
      }

      this.meshContainer.add(this.strokeMesh);

      if (this.meshLine.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_CIRCLE"]) {
        var width = this.editState.anchors[0].distanceTo(this.editState.anchors[1]);
        var height = this.editState.anchors[2].distanceTo(this.editState.anchors[1]);
        var minSize = this.markupsExtension.renderer.getNormaStrokeWidth();
        this.meshContainer.scale.x = Math.max(Math.abs(width * this.editState.scale.x), minSize) * Math.sign(this.editState.scale.x);
        this.meshContainer.scale.y = Math.max(Math.abs(height * this.editState.scale.y), minSize) * Math.sign(this.editState.scale.y);

        // Set the initial rotation to be according to camera rotation.
        if (this.isCompleted()) {
          this.setRotation();
        } else {
          this.meshContainer.rotation.z = -this.markupsExtension.renderer.getCameraRotation() * this.markupsExtension.renderer.getCameraEyeVector().z;
        }
      } else {
        this.meshContainer.scale.x = 1.0;
        this.meshContainer.scale.y = 1.0;
        this.setRotation();
      }

      this.setPosition();
    } }, { key: "createFillMesh", value: function createFillMesh()

    {var _this2 = this;
      var fill = this.markupsExtension.renderer.geometryManager.getFillGeometry(this);
      if (!fill.innerGeometry) {
        return;
      }
      if (!this.fillMaterial) {
        this.fillMaterial = this.materialManager.addMaterial(this, true);
      }

      this.fillMesh = new THREE.Mesh(fill.innerGeometry, this.fillMaterial);
      this.meshContainer.add(this.fillMesh);

      if (fill.arcGeometry) {
        this.meshLine.arcs.forEach(function (arc) {
          var mesh = new THREE.Mesh(fill.arcGeometry, _this2.fillMaterial);
          _this2.fillMesh.add(mesh);
          mesh.position.x = arc.x;
          mesh.position.y = arc.y;
        });
      }
    } }, { key: "render", value: function render()

    {var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.editState;
      _get(_getPrototypeOf(MarkupCloud.prototype), "render", this).call(this);

      var anchors = changes.anchors;
      if (anchors && anchors.length > 1 || this.editState.anchors.length > 1 && changes.scale) {// Scale recreates the mesh as well
        this.createCloud();
      }

      if (!this.strokeMesh) {
        return;
      }

      if (changes.style) {
        var recreateCloud = this.hasThicknessChanged();

        var newStrokeMaterial = this.materialManager.editMaterial(this.strokeMaterial, this, false);

        if (newStrokeMaterial) {
          this.strokeMaterial = newStrokeMaterial;
          this.strokeMesh.material = newStrokeMaterial;
        }

        if (this.hasFill()) {
          if (this.fillMesh) {
            var newFillMaterial = this.materialManager.editMaterial(this.fillMaterial, this, true);

            if (newFillMaterial) {
              this.fillMaterial = newFillMaterial;
              this.fillMesh.traverse(function (child) {return child.material = newFillMaterial;});
            }
          } else {
            recreateCloud = true;
          }
        } else {
          this.removeFill();
        }

        if (recreateCloud) {
          this.createCloud();
        }
      }

      if (changes.translation) {
        this.setPosition();
      }

      if (changes.rotation !== undefined) {
        this.setRotation();
      }

      this.markupsExtension.renderer.invalidate();
    } }, { key: "isWithFillMarkup", value: function isWithFillMarkup()

    {
      return true;
    } }, { key: "needsMiter", value: function needsMiter()

    {
      return false;
    } }]);return MarkupCloud;}(_Markup__WEBPACK_IMPORTED_MODULE_1__["default"]);


MarkupCloud.withSnappingMarkup = true;

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupDimension.js":
/*!**************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupDimension.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupDimension; });
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Markup */ "./extensions/BimMarkups/MarkupTypes/Markup.js");
/* harmony import */ var _MarkupText__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MarkupText */ "./extensions/BimMarkups/MarkupTypes/MarkupText.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _get(target, property, receiver) {if (typeof Reflect !== "undefined" && Reflect.get) {_get = Reflect.get;} else {_get = function _get(target, property, receiver) {var base = _superPropBase(target, property);if (!base) return;var desc = Object.getOwnPropertyDescriptor(base, property);if (desc.get) {return desc.get.call(receiver);}return desc.value;};}return _get(target, property, receiver || target);}function _superPropBase(object, property) {while (!Object.prototype.hasOwnProperty.call(object, property)) {object = _getPrototypeOf(object);if (object === null) break;}return object;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}



var

MarkupDimension = /*#__PURE__*/function (_Markup) {_inherits(MarkupDimension, _Markup);
  function MarkupDimension(markupsExtension, id, state) {var _this;_classCallCheck(this, MarkupDimension);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupDimension).call(this, markupsExtension, id, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_DIMENSION"], state));

    if (_this.markupsExtension.viewer.impl.is2d) {
      _this.registerDimensionEditHandler();
    }

    _this.textMarkup = new _MarkupText__WEBPACK_IMPORTED_MODULE_4__["default"](markupsExtension, id);
    _this.textMarkup.editState.isFrameUsed = false;

    _this.registerTextInputHandler({ singleLine: true, onEmptyTextMarkup: _this.onEmptyTextMarkup.bind(_assertThisInitialized(_assertThisInitialized(_this))), submitChanges: _this.onSubmitChanges.bind(_assertThisInitialized(_assertThisInitialized(_this))) });

    _this.getTextStyle = _this.textMarkup.getTextStyle.bind(_this.textMarkup);

    var originalEditStart = _this.textInputHandler.editStart;
    _this.textInputHandler.editStart = function () {
      originalEditStart.bind(_this.textInputHandler)();
      _this.onTextMarkupEditStart();
    };

    var originalEditEnd = _this.textInputHandler.editEnd;
    _this.textInputHandler.editEnd = function () {
      originalEditEnd.bind(_this.textInputHandler)();
      _this.onTextMarkupEditEnd();
    };

    _this.textMarkup.textInputHandler = _this.textInputHandler;return _this;
  }_createClass(MarkupDimension, [{ key: "setVisible", value: function setVisible(

    isVisible, forceSet) {
      _get(_getPrototypeOf(MarkupDimension.prototype), "setVisible", this).call(this, isVisible, forceSet);

      this.textMarkup.setVisible(isVisible, forceSet);
    } }, { key: "setState", value: function setState(

    state) {
      _get(_getPrototypeOf(MarkupDimension.prototype), "setState", this).call(this, state);

      this.textMarkup.rotatedBoundingBox = null;
      this.textMarkup.boundingBox = null;
      this.textMarkup.resetFrameBoundingBox();
    } }, { key: "setEditState", value: function setEditState(

    editState, changes) {
      this.textMarkup.rotatedBoundingBox = null;
      this.textMarkup.boundingBox = null;
      this.textMarkup.resetFrameBoundingBox();

      _get(_getPrototypeOf(MarkupDimension.prototype), "setEditState", this).call(this, editState, changes);
    } }, { key: "createDimension", value: function createDimension()

    {
      if (this.strokeMesh) {
        this.meshContainer.remove(this.strokeMesh);
      }

      if (!this.strokeMaterial) {
        this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] *= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DIMENSION_THICKNESS_FACTOR"];
        this.strokeMaterial = this.materialManager.addMaterial(this, false);
        this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] /= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DIMENSION_THICKNESS_FACTOR"];
      }

      this.meshLine = this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this);

      this.strokeMesh = new THREE.Mesh(this.meshLine.geometry, this.strokeMaterial);

      this.meshContainer.add(this.strokeMesh);

      this.setPosition();
    } }, { key: "calculateWorldBoundingBox", value: function calculateWorldBoundingBox(

    rotate) {
      var boundingBox = _get(_getPrototypeOf(MarkupDimension.prototype), "calculateWorldBoundingBox", this).call(this, rotate);

      var textBoundingBox = this.textMarkup.calculateWorldBoundingBox(true);
      return boundingBox.union(textBoundingBox);
    } }, { key: "renderText", value: function renderText()

    {var _this$getEditState =
      this.getEditState(),anchors = _this$getEditState.anchors,text = _this$getEditState.text,style = _this$getEditState.style;
      var textStyle = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(style);
      textStyle[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_SIZE] *= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DIMENSION_FONT_SIZE_FACTOR"];
      this.textMarkup.enabled = this.enabled;
      this.textMarkup.transparent = this.isTransparent();
      this.textMarkup.editState.style = textStyle;
      this.textMarkup.editState.text = text;
      this.textMarkup.editState.isSingleLine = true;

      var pos = anchors[0].clone().add(anchors[1]).multiplyScalar(0.5);
      this.applyScaleAndTranslation(pos);
      this.textMarkup.creationHandler.calculateAnchorsByCenterPoint(pos);

      var cameraRotation = this.markupsExtension.renderer.getCameraRotation();
      var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();

      // Modify markup's anchors, so the rotation won't affect the final result, except of the bounding box.
      var textAnchors = this.textMarkup.editState.anchors;
      textAnchors.forEach(function (anchor) {
        _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(anchor, cameraRotation, pos, eyeDirection);
      });

      var angle = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getSignedAngle(this.markupsExtension.renderer.getCameraRightVector(), anchors[1].clone().sub(anchors[0]), this.markupsExtension.renderer.getCameraEyeVector());
      // Text should always be readable - flip it if it's upside down.
      if (Math.abs(angle) > Math.PI / 2) {
        angle += Math.PI;
      }

      this.textMarkup.editState.rotation = angle - cameraRotation;

      var p1 = textAnchors[1].clone();
      var p2 = textAnchors[2].clone();

      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation([p1, p2], this.textMarkup.editState.rotation, pos, eyeDirection);

      var thickness = this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] * _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DIMENSION_THICKNESS_FACTOR"];
      var tipLength = thickness * _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DIMENSION_TIP_LENGTH"];

      var dir = p2.clone().sub(p1);
      var textTranslation = dir.clone().normalize().multiplyScalar(tipLength).add(dir.multiplyScalar(0.5));

      textAnchors.forEach(function (anchor) {
        anchor.add(textTranslation);
      });

      this.textMarkup.render();
    } }, { key: "render", value: function render()

    {var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.editState;
      _get(_getPrototypeOf(MarkupDimension.prototype), "render", this).call(this);var

      anchors = changes.anchors;

      if (anchors && anchors.length > 1) {
        this.createDimension();
      }

      if (!this.strokeMesh) {
        return;
      }

      if (changes.style) {
        this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] *= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DIMENSION_THICKNESS_FACTOR"];
        var recreateDimension = this.hasThicknessChanged();
        var newStrokeMaterial = this.materialManager.editMaterial(this.strokeMaterial, this, false);
        this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] /= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DIMENSION_THICKNESS_FACTOR"];

        if (newStrokeMaterial) {
          this.strokeMaterial = newStrokeMaterial;
          this.strokeMesh.material = newStrokeMaterial;
          if (recreateDimension) {
            this.createDimension();
          }
        }
      }

      if (changes.translation) {
        this.createDimension(); // Due to change in translation, need to update dimension geometry too.
        this.setPosition();
      }

      this.renderText();

      this.markupsExtension.renderer.invalidate();
    } }, { key: "isTextMarkup", value: function isTextMarkup()

    {
      return true;
    } }, { key: "isWithFillMarkup", value: function isWithFillMarkup()

    {
      return true;
    } }, { key: "onEmptyTextMarkup", value: function onEmptyTextMarkup()

    {
      this.markupsExtension.markupsManager.actionManager.undo();

      var text = this.creationHandler.getDistance();
      this.creationHandler.updateEditState({ text: text });
      this.creationHandler.submitChanges();
    } }, { key: "onSubmitChanges", value: function onSubmitChanges()

    {
      this.textInputHandler.submitChanges();
      this.hasChanges = true;
    } }, { key: "remove", value: function remove()

    {var doDispatchEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
      this.textMarkup.remove(false);
      _get(_getPrototypeOf(MarkupDimension.prototype), "remove", this).call(this, doDispatchEvent);
    } }, { key: "onTextMarkupEditStart", value: function onTextMarkupEditStart()

    {var
      text = this.textMarkup.editState.text;

      if (text[0] === '(' && text[text.length - 1] === ')') {
        text = text.slice(1, text.length - 1);
      }

      this.hasChanges = false;

      this.creationHandler.updateEditState({ text: text });
    } }, { key: "onTextMarkupEditEnd", value: function onTextMarkupEditEnd()

    {var
      text = this.textMarkup.editState.text;

      if (text[0] === '(' && text[text.length - 1] === ')') {
        text = text.slice(1, text.length - 1);
      }
      if (text !== '') {
        if (this.hasChanges) {
          this.markupsExtension.markupsManager.actionManager.undo();

          this.creationHandler.updateEditState({ text: "(".concat(text, ")") });
          this.creationHandler.submitChanges();
        } else if (text !== this.creationHandler.getDistance()) {
          this.creationHandler.updateEditState({ text: "(".concat(text, ")") });
        }
      }
    } }]);return MarkupDimension;}(_Markup__WEBPACK_IMPORTED_MODULE_3__["default"]);


MarkupDimension.withSnappingMarkup = true;

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupFreehand.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupFreehand.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupFreehand; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupPen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupPen */ "./extensions/BimMarkups/MarkupTypes/MarkupPen.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

MarkupFreehand = /*#__PURE__*/function (_MarkupPen) {_inherits(MarkupFreehand, _MarkupPen);
  function MarkupFreehand(markupsExtension, id, state) {_classCallCheck(this, MarkupFreehand);return _possibleConstructorReturn(this, _getPrototypeOf(MarkupFreehand).call(this,
    markupsExtension, id, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_FREEHAND"], state));
  }return MarkupFreehand;}(_MarkupPen__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupHighlight.js":
/*!**************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupHighlight.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupHighlight; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupPen__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupPen */ "./extensions/BimMarkups/MarkupTypes/MarkupPen.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target, property, receiver) {if (typeof Reflect !== "undefined" && Reflect.get) {_get = Reflect.get;} else {_get = function _get(target, property, receiver) {var base = _superPropBase(target, property);if (!base) return;var desc = Object.getOwnPropertyDescriptor(base, property);if (desc.get) {return desc.get.call(receiver);}return desc.value;};}return _get(target, property, receiver || target);}function _superPropBase(object, property) {while (!Object.prototype.hasOwnProperty.call(object, property)) {object = _getPrototypeOf(object);if (object === null) break;}return object;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

MarkupHighlight = /*#__PURE__*/function (_MarkupPen) {_inherits(MarkupHighlight, _MarkupPen);
  function MarkupHighlight(markupsExtension, id, state) {_classCallCheck(this, MarkupHighlight);return _possibleConstructorReturn(this, _getPrototypeOf(MarkupHighlight).call(this,
    markupsExtension, id, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_HIGHLIGHT"], state));
  }_createClass(MarkupHighlight, [{ key: "getDefaultStyle", value: function getDefaultStyle()

    {
      var style = _get(_getPrototypeOf(MarkupHighlight.prototype), "getDefaultStyle", this).call(this);
      style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].OPACITY] = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["DEFAULT_HIGHLIGHT_OPACITY"];

      return style;
    } }]);return MarkupHighlight;}(_MarkupPen__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupLine.js":
/*!*********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupLine.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupLine; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupLines__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupLines */ "./extensions/BimMarkups/MarkupTypes/MarkupLines.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

MarkupLine = /*#__PURE__*/function (_MarkupLines) {_inherits(MarkupLine, _MarkupLines);
  function MarkupLine(markupsExtension, id, state) {_classCallCheck(this, MarkupLine);return _possibleConstructorReturn(this, _getPrototypeOf(MarkupLine).call(this,
    markupsExtension, id, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_LINE"], state));
  }return MarkupLine;}(_MarkupLines__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupLines.js":
/*!**********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupLines.js ***!
  \**********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupLines; });
/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ "./extensions/BimMarkups/MarkupTypes/Markup.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target, property, receiver) {if (typeof Reflect !== "undefined" && Reflect.get) {_get = Reflect.get;} else {_get = function _get(target, property, receiver) {var base = _superPropBase(target, property);if (!base) return;var desc = Object.getOwnPropertyDescriptor(base, property);if (desc.get) {return desc.get.call(receiver);}return desc.value;};}return _get(target, property, receiver || target);}function _superPropBase(object, property) {while (!Object.prototype.hasOwnProperty.call(object, property)) {object = _getPrototypeOf(object);if (object === null) break;}return object;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}var

MarkupLines = /*#__PURE__*/function (_Markup) {_inherits(MarkupLines, _Markup);
  function MarkupLines(markupsExtension, id, type, state) {var _this;_classCallCheck(this, MarkupLines);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupLines).call(this, markupsExtension, id, type, state));

    _this.registerTranslationHandler();
    _this.registerAnchorHandler();return _this;
  }_createClass(MarkupLines, [{ key: "createLine", value: function createLine()


    {
      if (this.strokeMesh) {
        this.meshContainer.remove(this.strokeMesh);
      }

      if (!this.strokeMaterial) {
        this.strokeMaterial = this.materialManager.addMaterial(this, false);
      }

      this.meshLine = this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this);

      this.strokeMesh = new THREE.Mesh(this.meshLine.geometry, this.strokeMaterial);

      this.setPosition();

      this.meshContainer.add(this.strokeMesh);
    } }, { key: "render", value: function render()

    {var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.editState;
      _get(_getPrototypeOf(MarkupLines.prototype), "render", this).call(this);

      var anchors = changes.anchors;
      if (anchors && anchors.length > 1) {
        this.createLine();
      }

      if (!this.strokeMesh) {
        return;
      }

      if (changes.style) {
        var recreateLines = this.hasThicknessChanged();

        var newStrokeMaterial = this.materialManager.editMaterial(this.strokeMaterial, this, false);

        if (newStrokeMaterial) {
          this.strokeMaterial = newStrokeMaterial;
          this.strokeMesh.material = newStrokeMaterial;
          if (recreateLines) {
            this.createLine();
          }
        }
      }

      if (changes.translation) {
        this.setPosition();
      }

      this.markupsExtension.renderer.invalidate();
    } }]);return MarkupLines;}(_Markup__WEBPACK_IMPORTED_MODULE_0__["default"]);


MarkupLines.withSnappingMarkup = true;

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupPen.js":
/*!********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupPen.js ***!
  \********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupPen; });
/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ "./extensions/BimMarkups/MarkupTypes/Markup.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target, property, receiver) {if (typeof Reflect !== "undefined" && Reflect.get) {_get = Reflect.get;} else {_get = function _get(target, property, receiver) {var base = _superPropBase(target, property);if (!base) return;var desc = Object.getOwnPropertyDescriptor(base, property);if (desc.get) {return desc.get.call(receiver);}return desc.value;};}return _get(target, property, receiver || target);}function _superPropBase(object, property) {while (!Object.prototype.hasOwnProperty.call(object, property)) {object = _getPrototypeOf(object);if (object === null) break;}return object;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}var

MarkupPen = /*#__PURE__*/function (_Markup) {_inherits(MarkupPen, _Markup);
  function MarkupPen(markupsExtension, id, type, state) {var _this;_classCallCheck(this, MarkupPen);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupPen).call(this, markupsExtension, id, type, state));

    _this.registerTranslationHandler();
    _this.registerRotationHandler();
    _this.registerScaleHandler();return _this;
  }_createClass(MarkupPen, [{ key: "selectWhenCompleted", value: function selectWhenCompleted()

    {
      return false;
    } }, { key: "needsMiter", value: function needsMiter()

    {
      return true;
    } }, { key: "createPen", value: function createPen()

    {
      if (this.strokeMesh) {
        this.meshContainer.remove(this.strokeMesh);
      }

      if (!this.strokeMaterial) {
        this.strokeMaterial = this.materialManager.addMaterial(this, false);
      }

      this.meshLine = this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this);

      this.strokeMesh = new THREE.Mesh(this.meshLine.geometry, this.strokeMaterial);

      this.meshContainer.add(this.strokeMesh);

      this.setPosition();
      this.setRotation();
    } }, { key: "render", value: function render()

    {var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.editState;
      _get(_getPrototypeOf(MarkupPen.prototype), "render", this).call(this);

      var anchors = changes.anchors;
      if (anchors && anchors.length > 0 || this.editState.anchors.length > 0 && changes.scale) {// Scale recreates the mesh as well
        this.createPen();
      }

      if (!this.strokeMesh) {
        return;
      }

      if (changes.style) {
        var newStrokeMaterial = this.materialManager.editMaterial(this.strokeMaterial, this, false);

        if (newStrokeMaterial) {
          this.strokeMaterial = newStrokeMaterial;
          this.strokeMesh.material = newStrokeMaterial;
        }
      }

      if (changes.translation) {
        this.setPosition();
      }

      if (changes.rotation !== undefined) {
        this.setRotation();
      }

      this.markupsExtension.renderer.invalidate();
    } }]);return MarkupPen;}(_Markup__WEBPACK_IMPORTED_MODULE_0__["default"]);


MarkupPen.singleClickMarkup = true;
MarkupPen.useTimerBeforeSelection = true;

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupPolycloud.js":
/*!**************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupPolycloud.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupPolycloud; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Markup */ "./extensions/BimMarkups/MarkupTypes/Markup.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target, property, receiver) {if (typeof Reflect !== "undefined" && Reflect.get) {_get = Reflect.get;} else {_get = function _get(target, property, receiver) {var base = _superPropBase(target, property);if (!base) return;var desc = Object.getOwnPropertyDescriptor(base, property);if (desc.get) {return desc.get.call(receiver);}return desc.value;};}return _get(target, property, receiver || target);}function _superPropBase(object, property) {while (!Object.prototype.hasOwnProperty.call(object, property)) {object = _getPrototypeOf(object);if (object === null) break;}return object;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}

var

MarkupPolycloud = /*#__PURE__*/function (_Markup) {_inherits(MarkupPolycloud, _Markup);
  function MarkupPolycloud(markupsExtension, id, state) {var _this;_classCallCheck(this, MarkupPolycloud);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupPolycloud).call(this, markupsExtension, id, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_POLYCLOUD"], state));

    _this.registerTranslationHandler();
    _this.registerAnchorHandler();
    _this.registerRotationHandler();
    _this.registerScaleHandler();return _this;
  }_createClass(MarkupPolycloud, [{ key: "getDefaultState", value: function getDefaultState()

    {
      return {
        closed: false };

    } }, { key: "needsMiter", value: function needsMiter()

    {
      return false;
    } }, { key: "createCloud", value: function createCloud()

    {
      if (this.strokeMesh) {
        this.meshContainer.remove(this.strokeMesh);
      }
      if (this.fillMesh) {
        this.meshContainer.remove(this.fillMesh);
        this.fillMesh = null;
      }

      // stroke mesh
      if (!this.strokeMaterial) {
        this.strokeMaterial = this.materialManager.addMaterial(this, false);
      }

      this.meshLine = this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this);
      if (this.meshLine.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_CIRCLE"]) {
        var minSize = this.markupsExtension.renderer.getNormaStrokeWidth();
        this.meshContainer.scale.x = minSize;
        this.meshContainer.scale.y = minSize;
      } else {
        this.meshContainer.scale.x = 1.0;
        this.meshContainer.scale.y = 1.0;
      }

      this.strokeMesh = new THREE.Mesh(this.meshLine.geometry, this.strokeMaterial);

      if (this.hasFill() && !this.isPoint() && Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["isPolygonSimple"])(this.editState.anchors)) {
        this.createFillMesh();
      }
      this.meshContainer.add(this.strokeMesh);

      this.setPosition();
      this.setRotation();
    } }, { key: "createFillMesh", value: function createFillMesh()

    {var _this2 = this;
      var fill = this.markupsExtension.renderer.geometryManager.getFillGeometry(this);
      if (!fill.innerGeometry) {
        return;
      }

      if (!this.fillMaterial) {
        this.fillMaterial = this.materialManager.addMaterial(this, true);
      }

      this.fillMesh = new THREE.Mesh(fill.innerGeometry, this.fillMaterial);
      this.meshContainer.add(this.fillMesh);

      if (fill.arcGeometry) {
        this.meshLine.arcs.forEach(function (arc) {
          var mesh = new THREE.Mesh(fill.arcGeometry, _this2.fillMaterial);
          _this2.fillMesh.add(mesh);
          mesh.position.x = arc.x;
          mesh.position.y = arc.y;
        });
      }

      if (fill.fillGapGeometries) {
        fill.fillGapGeometries.forEach(function (shape) {
          var mesh = new THREE.Mesh(shape, _this2.fillMaterial);
          _this2.fillMesh.add(mesh);
        });
      }
    } }, { key: "render", value: function render()

    {var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.editState;
      _get(_getPrototypeOf(MarkupPolycloud.prototype), "render", this).call(this);

      var anchors = changes.anchors;
      if (anchors && anchors.length > 0 || this.editState.anchors.length > 0 && changes.scale) {// Scale recreates the mesh as well
        this.createCloud();
      }

      if (!this.strokeMesh) {
        return;
      }

      if (changes.style) {
        var recreateCloud = this.hasThicknessChanged();

        var newStrokeMaterial = this.materialManager.editMaterial(this.strokeMaterial, this, false);

        if (newStrokeMaterial) {
          this.strokeMaterial = newStrokeMaterial;
          this.strokeMesh.material = newStrokeMaterial;
        }

        if (this.hasFill()) {
          if (this.fillMesh) {
            var newFillMaterial = this.materialManager.editMaterial(this.fillMaterial, this, true);

            if (newFillMaterial) {
              this.fillMaterial = newFillMaterial;
              this.fillMesh.traverse(function (child) {return child.material = newFillMaterial;});
            }
          } else {
            recreateCloud = true; // To trigger re-creation
          }
        } else {
          this.removeFill();
        }

        if (recreateCloud) {
          this.createCloud();
        }
      }

      if (changes.translation) {
        this.setPosition();
      }

      if (changes.rotation !== undefined) {
        this.setRotation();
      }

      this.markupsExtension.renderer.invalidate();
    } }, { key: "showPath", value: function showPath()

    {
      return true;
    } }, { key: "isWithFillMarkup", value: function isWithFillMarkup()

    {
      return this.editState.closed;
    } }]);return MarkupPolycloud;}(_Markup__WEBPACK_IMPORTED_MODULE_2__["default"]);


MarkupPolycloud.withSnappingMarkup = true;

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupPolyline.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupPolyline.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupPolyline; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Markup */ "./extensions/BimMarkups/MarkupTypes/Markup.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target, property, receiver) {if (typeof Reflect !== "undefined" && Reflect.get) {_get = Reflect.get;} else {_get = function _get(target, property, receiver) {var base = _superPropBase(target, property);if (!base) return;var desc = Object.getOwnPropertyDescriptor(base, property);if (desc.get) {return desc.get.call(receiver);}return desc.value;};}return _get(target, property, receiver || target);}function _superPropBase(object, property) {while (!Object.prototype.hasOwnProperty.call(object, property)) {object = _getPrototypeOf(object);if (object === null) break;}return object;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}

var

MarkupPolyline = /*#__PURE__*/function (_Markup) {_inherits(MarkupPolyline, _Markup);
  function MarkupPolyline(markupsExtension, id, state) {var _this;_classCallCheck(this, MarkupPolyline);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupPolyline).call(this, markupsExtension, id, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_POLYLINE"], state));

    _this.registerTranslationHandler();
    _this.registerAnchorHandler();
    _this.registerRotationHandler();
    _this.registerScaleHandler();return _this;
  }_createClass(MarkupPolyline, [{ key: "getDefaultState", value: function getDefaultState()

    {
      return {
        closed: false };

    } }, { key: "createPolyline", value: function createPolyline()

    {
      if (this.strokeMesh) {
        this.meshContainer.remove(this.strokeMesh);
      }
      if (this.fillMesh) {
        this.meshContainer.remove(this.fillMesh);
        this.fillMesh = null;
      }

      // stroke mesh
      if (!this.strokeMaterial) {
        this.strokeMaterial = this.materialManager.addMaterial(this, false);
      }

      this.meshLine = this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this);
      this.strokeMesh = new THREE.Mesh(this.meshLine.geometry, this.strokeMaterial);

      // fill mesh
      if (this.hasFill() && !this.isPoint() && Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["isPolygonSimple"])(this.editState.anchors)) {
        if (!this.fillMaterial) {
          this.fillMaterial = this.materialManager.addMaterial(this, true);
        }

        var fillGeometry = this.markupsExtension.renderer.geometryManager.getFillGeometry(this);
        if (fillGeometry) {
          this.fillMesh = new THREE.Mesh(fillGeometry, this.fillMaterial);
          this.meshContainer.add(this.fillMesh);
        }
      }

      this.meshContainer.add(this.strokeMesh);

      this.setPosition();
      this.setRotation();
    } }, { key: "render", value: function render()

    {var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.editState;
      _get(_getPrototypeOf(MarkupPolyline.prototype), "render", this).call(this);


      var anchors = changes.anchors;
      if (anchors && anchors.length > 0 || this.editState.anchors.length > 0 && changes.scale) {// Scale recreates the mesh as well
        this.createPolyline();
      }

      if (!this.strokeMesh) {
        return;
      }

      if (changes.style) {
        var newStrokeMaterial = this.materialManager.editMaterial(this.strokeMaterial, this, false);

        if (newStrokeMaterial) {
          this.strokeMaterial = newStrokeMaterial;
          this.strokeMesh.material = newStrokeMaterial;
        }

        var recreate = false;
        if (this.hasFill()) {
          if (this.fillMesh) {
            var newFillMaterial = this.materialManager.editMaterial(this.fillMaterial, this, true);

            if (newFillMaterial) {
              this.fillMaterial = newFillMaterial;
              this.fillMesh.material = newFillMaterial;
            }
          } else {
            recreate = true; // To trigger re-creation
          }
        } else {
          this.removeFill();
        }

        if (recreate) {
          this.createPolyline();
        }
      }

      if (changes.translation) {
        this.setPosition();
      }

      if (changes.rotation !== undefined) {
        this.setRotation();
      }

      this.markupsExtension.renderer.invalidate();
    } }, { key: "isWithFillMarkup", value: function isWithFillMarkup()

    {
      return this.editState.closed;
    } }, { key: "showPath", value: function showPath()

    {
      return true;
    } }]);return MarkupPolyline;}(_Markup__WEBPACK_IMPORTED_MODULE_2__["default"]);


MarkupPolyline.withSnappingMarkup = true;

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupRectangle.js":
/*!**************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupRectangle.js ***!
  \**************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupRectangle; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupScalableShape__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupScalableShape */ "./extensions/BimMarkups/MarkupTypes/MarkupScalableShape.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

MarkupRectangle = /*#__PURE__*/function (_MarkupScalableShape) {_inherits(MarkupRectangle, _MarkupScalableShape);
  function MarkupRectangle(markupsExtension, id, state) {_classCallCheck(this, MarkupRectangle);return _possibleConstructorReturn(this, _getPrototypeOf(MarkupRectangle).call(this,
    markupsExtension, id, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_RECTANGLE"], state));
  }_createClass(MarkupRectangle, [{ key: "isWithFillMarkup", value: function isWithFillMarkup()

    {
      return true;
    } }]);return MarkupRectangle;}(_MarkupScalableShape__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupScalableShape.js":
/*!******************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupScalableShape.js ***!
  \******************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupScalableShape; });
/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Markup */ "./extensions/BimMarkups/MarkupTypes/Markup.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target, property, receiver) {if (typeof Reflect !== "undefined" && Reflect.get) {_get = Reflect.get;} else {_get = function _get(target, property, receiver) {var base = _superPropBase(target, property);if (!base) return;var desc = Object.getOwnPropertyDescriptor(base, property);if (desc.get) {return desc.get.call(receiver);}return desc.value;};}return _get(target, property, receiver || target);}function _superPropBase(object, property) {while (!Object.prototype.hasOwnProperty.call(object, property)) {object = _getPrototypeOf(object);if (object === null) break;}return object;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}var

MarkupScalableShape = /*#__PURE__*/function (_Markup) {_inherits(MarkupScalableShape, _Markup);
  function MarkupScalableShape(markupsExtension, id, type, state) {var _this;_classCallCheck(this, MarkupScalableShape);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupScalableShape).call(this, markupsExtension, id, type, state));

    _this.width = 0;
    _this.height = 0;

    _this.registerTranslationHandler();
    _this.registerRotationHandler();
    _this.registerScaleHandler();return _this;
  }_createClass(MarkupScalableShape, [{ key: "setSize", value: function setSize()

    {
      var minSize = this.markupsExtension.renderer.getNormaStrokeWidth();
      this.meshContainer.scale.x = Math.max(Math.abs(this.width * this.editState.scale.x), minSize) * Math.sign(this.editState.scale.x);
      this.meshContainer.scale.y = Math.max(Math.abs(this.height * this.editState.scale.y), minSize) * Math.sign(this.editState.scale.y);
    } }, { key: "createShape", value: function createShape(

    anchors) {
      if (!this.strokeMesh) {
        if (!this.strokeMaterial) {
          this.strokeMaterial = this.materialManager.addMaterial(this, false);
        }

        // stroke mesh
        this.meshLine = this.markupsExtension.renderer.geometryManager.getStrokeGeometry(this);
        this.strokeMesh = new THREE.Mesh(this.meshLine.geometry, this.strokeMaterial);

        this.meshContainer.add(this.strokeMesh);

        // Set the initial rotation to be according to camera rotation.
        this.meshContainer.rotation.z = -this.markupsExtension.renderer.getCameraRotation() * this.markupsExtension.renderer.getCameraEyeVector().z;
      }

      if (!this.fillMesh && this.hasFill()) {
        this.createFill();
      }

      this.width = anchors[0].distanceTo(anchors[1]);
      this.height = anchors[2].distanceTo(anchors[1]);

      this.setPosition();
      this.setSize();
    } }, { key: "createFill", value: function createFill()

    {
      this.fillGeometry = this.markupsExtension.renderer.geometryManager.getFillGeometry(this);

      if (this.fillGeometry) {
        if (!this.fillMaterial) {
          this.fillMaterial = this.materialManager.addMaterial(this, true);
        }

        this.fillMesh = new THREE.Mesh(this.fillGeometry, this.fillMaterial);

        // Make sure fill is first in order
        this.meshContainer.add(this.fillMesh);
        this.meshContainer.add(this.strokeMesh);
      }
    } }, { key: "render", value: function render()

    {var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.editState;
      _get(_getPrototypeOf(MarkupScalableShape.prototype), "render", this).call(this);

      var anchors = changes.anchors;
      if (anchors && anchors.length > 1) {
        this.createShape(anchors);
      }

      if (!this.strokeMesh) {
        return;
      }

      if (changes.style) {
        var newStrokeMaterial = this.materialManager.editMaterial(this.strokeMaterial, this, false);

        if (newStrokeMaterial) {
          this.strokeMaterial = newStrokeMaterial;
          this.strokeMesh.material = newStrokeMaterial;
        }

        if (this.hasFill()) {
          if (this.fillMesh) {
            var newFillMaterial = this.materialManager.editMaterial(this.fillMaterial, this, true);

            if (newFillMaterial) {
              this.fillMaterial = newFillMaterial;
              this.fillMesh.material = newFillMaterial;
            }
          } else {
            this.createFill();
          }
        } else {
          this.removeFill();
        }
      }

      if (changes.translation) {
        this.setPosition();
      }

      if (changes.rotation !== undefined) {
        this.setRotation();
      }

      if (changes.scale) {
        this.setSize();
      }

      this.markupsExtension.renderer.invalidate();
    } }, { key: "isWithFillMarkup", value: function isWithFillMarkup()

    {
      return true;
    } }]);return MarkupScalableShape;}(_Markup__WEBPACK_IMPORTED_MODULE_0__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupText.js":
/*!*********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupText.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupText; });
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _Markup__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Markup */ "./extensions/BimMarkups/MarkupTypes/Markup.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _MarkupRectangle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MarkupRectangle */ "./extensions/BimMarkups/MarkupTypes/MarkupRectangle.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _get(target, property, receiver) {if (typeof Reflect !== "undefined" && Reflect.get) {_get = Reflect.get;} else {_get = function _get(target, property, receiver) {var base = _superPropBase(target, property);if (!base) return;var desc = Object.getOwnPropertyDescriptor(base, property);if (desc.get) {return desc.get.call(receiver);}return desc.value;};}return _get(target, property, receiver || target);}function _superPropBase(object, property) {while (!Object.prototype.hasOwnProperty.call(object, property)) {object = _getPrototypeOf(object);if (object === null) break;}return object;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}




var

MarkupText = /*#__PURE__*/function (_Markup) {_inherits(MarkupText, _Markup);
  function MarkupText(markupsExtension, id, state) {var _this;_classCallCheck(this, MarkupText);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupText).call(this, markupsExtension, id, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CALLOUT"], state));

    _this.registerTranslationHandler();
    _this.registerScaleHandler({ onlyHorizontal: true });
    _this.registerTextInputHandler();
    _this.registerRotationHandler();return _this;
  }_createClass(MarkupText, [{ key: "getDefaultState", value: function getDefaultState()

    {
      return {
        text: 'Default Text',
        isFrameUsed: true };

    } }, { key: "shouldRenderFrame", value: function shouldRenderFrame()

    {
      return this.editState.isFrameUsed || this.hasFill();
    } }, { key: "setVisible", value: function setVisible(

    isVisible, forceSet) {
      _get(_getPrototypeOf(MarkupText.prototype), "setVisible", this).call(this, isVisible, forceSet);

      if (this.frameMarkup) {
        this.frameMarkup.setVisible(isVisible, forceSet);
      } else if (this.shouldRenderFrame() && isVisible) {
        this.renderFrame();
      }
    } }, { key: "render", value: function render()

    {var changes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.editState;
      this.markupsExtension.renderer.textRenderer.renderMarkup(this);
      if (this.shouldRenderFrame()) {
        this.renderFrame();
      } else {
        this.removeFrame();

        // Since there is no geometry changes in this case, we need to trigger the bounding box rendering using setDirty.
        this.setDirty();
      }
    } }, { key: "renderFrame", value: function renderFrame()

    {
      if (!this.frameMarkup) {
        this.frameMarkup = new _MarkupRectangle__WEBPACK_IMPORTED_MODULE_5__["default"](this.markupsExtension, this.id);
        this.frameMarkup.layer = this.layer;
        this.frameMarkup.transparent = this.isTransparent();
        this.frameMarkup.editState.anchors = [new THREE.Vector3(), new THREE.Vector3(), new THREE.Vector3(), new THREE.Vector3()];
      }

      var state = this.frameMarkup.editState;
      // Copy style
      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] = this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS];
      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].OPACITY] = this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].OPACITY];
      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_COLOR] = this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_COLOR];
      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_OPACITY] = this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_OPACITY];

      if (!this.editState.isFrameUsed) {
        state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].COLOR] = this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_COLOR];
        state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].OPACITY] = this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_OPACITY];
      } else {
        state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].COLOR] = this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].COLOR];
        state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].OPACITY] = 1.0;
      }


      // Set anchors
      var bbox = this.getWorldBoundingBox();
      var t = state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] / 2;
      this.frameMarkup.editState.anchors[0].set(bbox.min.x + t, bbox.min.y + t, 0);
      this.frameMarkup.editState.anchors[1].set(bbox.max.x - t, bbox.min.y + t, 0);
      this.frameMarkup.editState.anchors[2].set(bbox.max.x - t, bbox.max.y - t, 0);
      this.frameMarkup.editState.anchors[3].set(bbox.min.x + t, bbox.max.y - t, 0);

      // Copy rotation (translate and scale not needed since they are already included in the bounding box)
      state.rotation = this.editState.rotation;

      this.frameMarkup.updateMatrix();

      this.frameMarkup.render();
    } }, { key: "removeFrame", value: function removeFrame()

    {
      if (this.frameMarkup) {
        this.frameMarkup.remove(false);
        this.frameMarkup = null;
      }
    } }, { key: "remove", value: function remove()

    {var doDispatchEvent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;
      this.removeFrame();
      _get(_getPrototypeOf(MarkupText.prototype), "remove", this).call(this, doDispatchEvent);
    } }, { key: "changeTransparency", value: function changeTransparency(

    transparent) {
      if (this.frameMarkup) {
        this.frameMarkup.transparent = transparent;
      }
      _get(_getPrototypeOf(MarkupText.prototype), "changeTransparency", this).call(this, transparent);
    } }, { key: "resetFrameBoundingBox", value: function resetFrameBoundingBox()

    {
      if (this.frameMarkup) {
        this.frameMarkup.rotatedBoundingBox = null;
        this.frameMarkup.boundingBox = null;
      }
    } }, { key: "setState", value: function setState(

    state) {
      this.resetFrameBoundingBox();

      _get(_getPrototypeOf(MarkupText.prototype), "setState", this).call(this, state);
    } }, { key: "setEditState", value: function setEditState(

    editState, changes) {
      if (changes && changes.style) {
        // When changing font-size, we want it to grow down, instead of from the middle.
        var fontToWorldScale = this.markupsExtension.renderer.getFontToWorldScale(); // Font to World conversion
        var _this$getTextWidthInF = this.getTextWidthInFontScale(),width = _this$getTextWidthInF.width;

        var oldStyle = this.getTextStyle(this.editState);
        var newStyle = this.getTextStyle(editState);
        oldStyle.width = "".concat(width, "px");
        newStyle.width = "".concat(width, "px");
        var oldSize = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__["getTextSize"])(this.editState.text, oldStyle);
        var newSize = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__["getTextSize"])(editState.text, newStyle);

        if (newSize.height !== oldSize.height) {
          var offsetWorld = (newSize.height - oldSize.height) * fontToWorldScale;
          var delta = this.getBoundingBoxVerticalTranslation(offsetWorld);

          if (this.shouldRenderFrame()) {
            var oldFrameSize = this.calculateFrameSize(this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_SIZE]);
            var newFrameSize = this.calculateFrameSize(editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_SIZE]);
            var deltaFrameSize = newFrameSize - oldFrameSize;
            var deltaFrameVec = new THREE.Vector3(deltaFrameSize, -deltaFrameSize, 0);

            this._rotateTranslationVector(deltaFrameVec);
            delta.add(deltaFrameVec);
          }

          if (!changes.translation) {var _this$getEditState =
            this.getEditState(),translation = _this$getEditState.translation;
            translation.add(delta);
            changes.translation = translation;
          } else {
            changes.translation.add(delta);
          }
        }

        editState.isFrameUsed = editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].COLOR] !== _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["COLORS"].NO_COLOR;
      }

      this.resetFrameBoundingBox();

      _get(_getPrototypeOf(MarkupText.prototype), "setEditState", this).call(this, editState, changes);
    } }, { key: "getTextWidthInFontScale", value: function getTextWidthInFontScale()

    {
      var isSafari = Autodesk.Viewing.isSafari() || Autodesk.Viewing.isIOSDevice();

      var fontToWorldScale = this.markupsExtension.renderer.getFontToWorldScale(); // Font to World conversion
      var preciseWidth = this.getWorldBoundingBoxTextOnly().size().x / fontToWorldScale;
      var width = isSafari ? preciseWidth : Math.ceil(preciseWidth) || 1; // Safari doesn't need rounded width

      return { preciseWidth: preciseWidth, width: width };
    } }, { key: "getBoundingBoxVerticalTranslation", value: function getBoundingBoxVerticalTranslation(

    offsetWorld) {
      var delta = new THREE.Vector3(0, -offsetWorld / 2, 0);

      this._rotateTranslationVector(delta);

      return delta;
    } }, { key: "_rotateTranslationVector", value: function _rotateTranslationVector(

    vec) {
      var rotation = this.getRotation();
      if (rotation !== 0) {
        var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
        _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(vec, rotation, new THREE.Vector3(), eyeDirection);
      }
    } }, { key: "_rotateBoundingBox", value: function _rotateBoundingBox(

    boundingBox) {
      var rotation = this.getRotation();
      if (rotation === 0) {
        return boundingBox;
      }

      var center = boundingBox.center();
      var size = boundingBox.size();
      var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
      var rotatedBoundingBox = new THREE.Box3();
      var points = [boundingBox.min, boundingBox.min.clone().add(new THREE.Vector3(size.x, 0, 0)), boundingBox.max, boundingBox.min.clone().add(new THREE.Vector3(0, size.y, 0))];
      points.forEach(function (point) {
        _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(point, rotation, center, eyeDirection);
        rotatedBoundingBox.expandByPoint(point);
      });

      return rotatedBoundingBox;
    } }, { key: "_calculateWorldBoundingBoxText", value: function _calculateWorldBoundingBoxText()

    {var _this2 = this;
      var boundingBox = new THREE.Box3();
      var anchors = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(this.editState.anchors);

      anchors.forEach(function (anchor) {
        _this2.applyScaleAndTranslation(anchor);
      });

      anchors.forEach(function (anchor) {
        boundingBox.expandByPoint(anchor);
      });

      // Now, make some text adjustments, so the bounding box will fit exactly to the text.
      var center = boundingBox.center();
      var style = this.getTextStyle();
      var fontToWorldScale = this.markupsExtension.renderer.getFontToWorldScale(); // Font to World conversion

      // If the width of the bounding box is smaller than a single letter width, change the bounding box width to be in the size of a single letter.
      var textBounds = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__["getTextSize"])('A', style);
      if (boundingBox.size().x < textBounds.width * fontToWorldScale) {
        boundingBox.min.x = center.x;
        boundingBox.max.x = center.x;
        boundingBox.expandByVector(new THREE.Vector3(textBounds.width * fontToWorldScale / 2, 0, 0));
      }

      var unscaledWidth = Math.ceil(boundingBox.size().x / fontToWorldScale);
      style.width = "".concat(unscaledWidth, "px");

      // Set the height of the bounding box according to the text measurement.
      textBounds = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__["getTextSize"])(this.editState.text, style);
      boundingBox.min.y = center.y;
      boundingBox.max.y = center.y;
      boundingBox.expandByVector(new THREE.Vector3(0, textBounds.height * fontToWorldScale / 2, 0));

      return boundingBox;
    } }, { key: "calculateWorldBoundingBox", value: function calculateWorldBoundingBox(

    rotate) {
      var boundingBox = this._calculateWorldBoundingBoxText();

      if (this.shouldRenderFrame()) {
        var frameSize = this.getWorldFrameSize();
        boundingBox.expandByVector(new THREE.Vector3(frameSize, frameSize, 0));
      }

      if (rotate) {
        return this._rotateBoundingBox(boundingBox);
      }

      return boundingBox;
    } }, { key: "calculateFrameSize", value: function calculateFrameSize(

    fontSize) {var thickness = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS];
      var fontToWorldScale = this.markupsExtension.renderer.getFontToWorldScale(); // Font to World conversion
      var padding = fontSize * fontToWorldScale / 2;

      thickness = this.editState.isFrameUsed ? thickness : 0;

      return padding + thickness;
    } }, { key: "getWorldFrameSize", value: function getWorldFrameSize()

    {
      return this.calculateFrameSize(this.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_SIZE]);
    } }, { key: "getClientFrameSize", value: function getClientFrameSize()

    {
      var frameSize = this.getWorldFrameSize();

      return this.markupsExtension.renderer.sizeFromWorldToClient(frameSize);
    } }, { key: "getWorldBoundingBoxTextOnly", value: function getWorldBoundingBoxTextOnly(

    rotate) {
      if (!this.shouldRenderFrame()) {
        return this.getWorldBoundingBox(rotate).clone();
      }

      var boundingBox = this.getWorldBoundingBox(false).clone();

      var frameSize = this.getWorldFrameSize();
      boundingBox.expandByVector(new THREE.Vector3(-frameSize, -frameSize, 0));

      if (rotate) {
        return this._rotateBoundingBox(boundingBox);
      }

      return boundingBox;
    } }, { key: "getClientBoundingBoxTextOnly", value: function getClientBoundingBoxTextOnly(

    rotate) {var normalizeY = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;
      var boundingBox = this.getWorldBoundingBoxTextOnly(rotate);

      boundingBox.min = this.markupsExtension.renderer.worldToClient(boundingBox.min);
      boundingBox.max = this.markupsExtension.renderer.worldToClient(boundingBox.max);

      if (normalizeY) {
        _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].swapBoundingBoxY(boundingBox);
      }

      return boundingBox;
    } }, { key: "getTextStyle", value: function getTextStyle()

    {var editState = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getEditState();var
      style = editState.style;

      var textStyle = {};
      textStyle.color = style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_COLOR];
      textStyle.fontFamily = style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_FAMILY];
      textStyle.opacity = style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].OPACITY] * (this.isTransparent() ? _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DISABLED_OPACITY"] : 1.0);
      textStyle.fontSize = "".concat(style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_SIZE], "px");
      textStyle.fontWeight = style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_WEIGHT];
      textStyle.fontStyle = style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_STYLE];
      textStyle.whiteSpace = editState.isSingleLine ? 'nowrap' : 'pre-wrap';
      textStyle.lineHeight = 1;
      textStyle.backgroundColor = null;

      return textStyle;
    } }, { key: "isTextMarkup", value: function isTextMarkup()

    {
      return true;
    } }, { key: "isGeometricMarkup", value: function isGeometricMarkup()

    {
      return false;
    } }, { key: "isWithFillMarkup", value: function isWithFillMarkup()

    {
      return true;
    } }]);return MarkupText;}(_Markup__WEBPACK_IMPORTED_MODULE_3__["default"]);


MarkupText.singleClickMarkup = true;

/***/ }),

/***/ "./extensions/BimMarkups/MarkupTypes/MarkupsTypesDictionary.js":
/*!*********************************************************************!*\
  !*** ./extensions/BimMarkups/MarkupTypes/MarkupsTypesDictionary.js ***!
  \*********************************************************************/
/*! exports provided: markupsTypesDictionary */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "markupsTypesDictionary", function() { return markupsTypesDictionary; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupArrow__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupArrow */ "./extensions/BimMarkups/MarkupTypes/MarkupArrow.js");
/* harmony import */ var _MarkupPolyline__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupPolyline */ "./extensions/BimMarkups/MarkupTypes/MarkupPolyline.js");
/* harmony import */ var _MarkupPolycloud__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupPolycloud */ "./extensions/BimMarkups/MarkupTypes/MarkupPolycloud.js");
/* harmony import */ var _MarkupRectangle__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MarkupRectangle */ "./extensions/BimMarkups/MarkupTypes/MarkupRectangle.js");
/* harmony import */ var _MarkupCircle__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MarkupCircle */ "./extensions/BimMarkups/MarkupTypes/MarkupCircle.js");
/* harmony import */ var _MarkupCloud__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./MarkupCloud */ "./extensions/BimMarkups/MarkupTypes/MarkupCloud.js");
/* harmony import */ var _MarkupFreehand__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MarkupFreehand */ "./extensions/BimMarkups/MarkupTypes/MarkupFreehand.js");
/* harmony import */ var _MarkupHighlight__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MarkupHighlight */ "./extensions/BimMarkups/MarkupTypes/MarkupHighlight.js");
/* harmony import */ var _MarkupArrowCallout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MarkupArrowCallout */ "./extensions/BimMarkups/MarkupTypes/MarkupArrowCallout.js");
/* harmony import */ var _MarkupText__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./MarkupText */ "./extensions/BimMarkups/MarkupTypes/MarkupText.js");
/* harmony import */ var _MarkupDimension__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./MarkupDimension */ "./extensions/BimMarkups/MarkupTypes/MarkupDimension.js");
/* harmony import */ var _MarkupLine__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./MarkupLine */ "./extensions/BimMarkups/MarkupTypes/MarkupLine.js");
var _markupsTypesDictiona;function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}













var markupsTypesDictionary = (_markupsTypesDictiona = {}, _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_ARROW"], _MarkupArrow__WEBPACK_IMPORTED_MODULE_1__["default"]), _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_POLYLINE"], _MarkupPolyline__WEBPACK_IMPORTED_MODULE_2__["default"]), _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_POLYCLOUD"], _MarkupPolycloud__WEBPACK_IMPORTED_MODULE_3__["default"]), _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_RECTANGLE"], _MarkupRectangle__WEBPACK_IMPORTED_MODULE_4__["default"]), _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_CIRCLE"], _MarkupCircle__WEBPACK_IMPORTED_MODULE_5__["default"]), _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_CLOUD"], _MarkupCloud__WEBPACK_IMPORTED_MODULE_6__["default"]), _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_FREEHAND"], _MarkupFreehand__WEBPACK_IMPORTED_MODULE_7__["default"]), _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_HIGHLIGHT"], _MarkupHighlight__WEBPACK_IMPORTED_MODULE_8__["default"]), _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_ARROW_CALLOUT"], _MarkupArrowCallout__WEBPACK_IMPORTED_MODULE_9__["default"]), _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_CALLOUT"], _MarkupText__WEBPACK_IMPORTED_MODULE_10__["default"]), _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_TEXT"], _MarkupText__WEBPACK_IMPORTED_MODULE_10__["default"]), _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_DIMENSION"], _MarkupDimension__WEBPACK_IMPORTED_MODULE_11__["default"]), _defineProperty(_markupsTypesDictiona,
_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_TYPE_LINE"], _MarkupLine__WEBPACK_IMPORTED_MODULE_12__["default"]), _markupsTypesDictiona);

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsCommon.js":
/*!************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsCommon.js ***!
  \************************************************/
/*! exports provided: forAll, flatten, isEqualVectors, getObjectAsList, nearestPointInPointToLine, applyTranslation, convertHexToRGBA, getTextSize, createArc, createCloud, isClockwise, isTrueValue, getArcAngleSize, insertInSortedArray, handleIntersection, markupsOverlayRenderer, getScreenShotOfMarkup, setCustomGestureValues, restoreGestureValues, simplify, isPolygonSimple */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "forAll", function() { return forAll; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "flatten", function() { return flatten; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isEqualVectors", function() { return isEqualVectors; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getObjectAsList", function() { return getObjectAsList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "nearestPointInPointToLine", function() { return nearestPointInPointToLine; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "applyTranslation", function() { return applyTranslation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "convertHexToRGBA", function() { return convertHexToRGBA; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTextSize", function() { return getTextSize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createArc", function() { return createArc; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createCloud", function() { return createCloud; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isClockwise", function() { return isClockwise; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isTrueValue", function() { return isTrueValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getArcAngleSize", function() { return getArcAngleSize; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "insertInSortedArray", function() { return insertInSortedArray; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "handleIntersection", function() { return handleIntersection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "markupsOverlayRenderer", function() { return markupsOverlayRenderer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getScreenShotOfMarkup", function() { return getScreenShotOfMarkup; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setCustomGestureValues", function() { return setCustomGestureValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "restoreGestureValues", function() { return restoreGestureValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "simplify", function() { return simplify; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "isPolygonSimple", function() { return isPolygonSimple; });
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");



var forAll = function forAll(obj, func) {
  if (obj) {
    Object.keys(obj).forEach(function (key) {
      var m = obj[key];
      if (m) {
        func(m);
      }
    });
  }
};

// Converts a deep array to a flat array
var flatten = function flatten(list) {return list.reduce(function (a, b) {return a.concat(Array.isArray(b) ? flatten(b) : b);}, []);};

var isEqualVectors = function isEqualVectors(v1, v2, precision) {
  if (!v1 || !v2) {
    return false;
  }

  precision = precision || _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["EPSILON"];

  if (v1.distanceTo(v2) <= precision) {
    return true;
  }
  return false;
};

// Converts the object into a flat list, keeping the same pointers for all items (shallow copy).
var getObjectAsList = function getObjectAsList(object) {
  var list = [];

  forAll(object, function (item) {
    if (Array.isArray(item)) {
      item.forEach(function (i) {
        list.push(i);
      });
    } else {
      list.push(item);
    }
  });

  return list;
};

var nearestPointInPointToLine = function nearestPointInPointToLine(point, lineStart, lineEnd) {
  var X0 = new THREE.Vector3();
  var X1 = new THREE.Vector3();
  var nearestPoint;
  var param;

  X0.subVectors(lineStart, point);
  X1.subVectors(lineEnd, lineStart);
  param = X0.dot(X1);
  X0.subVectors(lineEnd, lineStart);
  param = -param / X0.dot(X0);

  X0.subVectors(lineEnd, lineStart);
  X0.multiplyScalar(param);
  nearestPoint = X0.add(lineStart);

  return nearestPoint;
};

var applyTranslation = function applyTranslation(points, translation) {
  if (!(points instanceof Array)) {
    points = [points];
  }

  points.forEach(function (point) {
    point.x += translation.x;
    point.y += translation.y;
    point.z += translation.z;
  });
};

var convertHexToRGBA = function convertHexToRGBA(hex, opacity) {
  if (!hex || hex === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["COLORS"].NO_COLOR || !opacity) {
    return null;
  }

  hex = hex.replace('#', '');
  var r = parseInt(hex.substring(0, 2), 16);
  var g = parseInt(hex.substring(2, 4), 16);
  var b = parseInt(hex.substring(4, 6), 16);
  return 'rgba(' + r + ',' + g + ',' + b + ',' + opacity + ')';
};

var getTextSize = function () {
  var measureDiv = document.createElement('div');
  measureDiv.id = 'text-markup-measure-div';
  measureDiv.style.position = 'absolute';
  measureDiv.style.visibility = 'hidden';
  measureDiv.style.pointerEvents = 'none';
  measureDiv.style.textRendering = 'geometricPrecision';

  document.body.appendChild(measureDiv);
  var cache = {};

  return function (text, style) {
    var hash = "".concat(text, "_").concat(style.fontWeight, "_").concat(style.fontSize, "_").concat(style.fontFamily, "_").concat(style.fontStyle, "_").concat(style.width);

    if (cache[hash]) {
      return cache[hash];
    }

    measureDiv.innerText = text;
    measureDiv.style.fontWeight = style.fontWeight;
    measureDiv.style.fontSize = style.fontSize;
    measureDiv.style.fontFamily = style.fontFamily;
    measureDiv.style.fontStyle = style.fontStyle;
    measureDiv.style.overflowWrap = style.overflowWrap || 'break-word';
    measureDiv.style.wordWrap = style.wordWrap || 'break-word'; //IE11 
    measureDiv.style.whiteSpace = style.whiteSpace || 'pre-wrap';
    measureDiv.style.width = style.width || (Autodesk.Viewing.isIE11 ? 'auto' : 'unset');
    measureDiv.style.lineHeight = style.lineHeight || 1;var _measureDiv$getBoundi =

    measureDiv.getBoundingClientRect(),width = _measureDiv$getBoundi.width,height = _measureDiv$getBoundi.height;

    cache[hash] = { width: width, height: height };

    return cache[hash];
  };
}();

var createArc = function createArc(x, y, radius, start, end, clockwise, steps, path) {var radiusInMM = arguments.length > 8 && arguments[8] !== undefined ? arguments[8] : null;var bbox = arguments.length > 9 && arguments[9] !== undefined ? arguments[9] : null;
  if (!path)
  path = [];

  x = x || 0;
  y = y || 0;
  radius = radius || 0;
  start = start || 0;
  end = end || 0;

  var dist = Math.abs(start - end);
  if (dist > 2 * Math.PI) dist -= 2 * Math.PI;
  if (!clockwise && start > end)
  dist = 2 * Math.PI - dist;else
  if (clockwise && end > start)
  dist = 2 * Math.PI - dist;

  //approximate the # of steps using the cube root of the radius
  if (typeof steps !== 'number') {
    radiusInMM = radiusInMM || radius;
    steps = Math.max(6, 2 * Math.floor(6 * Math.pow(radiusInMM, 1 / 3) * (dist / Math.PI)));
  }

  //ensure we have at least 3 steps
  steps = Math.max(steps, 3);

  var f = dist / steps,
  t = start;

  //modify direction
  f *= clockwise ? -1 : 1;

  for (var i = 0; i < steps + 1; i++) {
    var nx = x + Math.cos(t) * radius;
    var ny = y + Math.sin(t) * radius;

    path.push({ x: nx, y: ny, z: 0 });

    if (bbox) {
      bbox.min.x = Math.min(bbox.min.x, nx);
      bbox.min.y = Math.min(bbox.min.y, ny);
      bbox.max.x = Math.max(bbox.max.x, nx);
      bbox.max.y = Math.max(bbox.max.y, ny);
    }

    t += f;
  }

  return path;
};

var _addFillingCircle = function _addFillingCircle(circles, radius, begin, end) {
  var beginPoint = new THREE.Vector2(circles[begin].x + Math.cos(circles[begin].end) * radius, circles[begin].y + Math.sin(circles[begin].end) * radius);
  var endPoint = new THREE.Vector2(circles[end].x + Math.cos(circles[end].begin) * radius, circles[end].y + Math.sin(circles[end].begin) * radius);

  var difVec = beginPoint.clone().sub(endPoint);

  var vecLength = difVec.length();

  var mid = beginPoint.clone().add(endPoint).divideScalar(2);

  difVec.normalize();
  var perpenLength = Math.sqrt(Math.max(0, radius * radius - vecLength / 2 * (vecLength / 2)));
  var perpenVec = new THREE.Vector2(difVec.y, -difVec.x);
  perpenVec.multiplyScalar(perpenLength);

  var newPoint = mid.clone().add(perpenVec);

  var beginAng = Math.atan2(beginPoint.y - newPoint.y, beginPoint.x - newPoint.x);
  var endAng = Math.atan2(endPoint.y - newPoint.y, endPoint.x - newPoint.x);

  var newCircle = {
    x: newPoint.x,
    y: newPoint.y,
    begin: beginAng,
    end: endAng };


  circles.splice(begin + 1, 0, newCircle);

  return { newCircle: newCircle, beginPoint: beginPoint, endPoint: endPoint };
};

var _hideIntersectionCircles = function _hideIntersectionCircles(circles, radius, intersectionObjects) {
  for (var t = 0; t < intersectionObjects.length; t++) {
    var begin = null;
    var end = 0;
    for (var k = 0; k < circles.length; k++) {
      if (circles[k]['isCurrentIntersection' + t]) {
        for (var j = 0; j < circles.length; j++) {
          if (circles[j]['isNextIntersection' + t]) {
            var dist = Math.sqrt((circles[k].x - circles[j].x) * (circles[k].x - circles[j].x) + (circles[k].y - circles[j].y) * (circles[k].y - circles[j].y));
            if (dist < 2 * radius) {
              circles[k].hide = true;
              if (begin === null) begin = k - 1;
              circles[j].hide = true;
              if (end < j + 1) end = j + 1;
            }
          }
        }
      }
    }
    intersectionObjects[t].begin = begin;
    intersectionObjects[t].end = end;
  }
};

var createCloud = function createCloud(poly, radius) {var isClosed = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;var intersectionObjects = arguments.length > 3 ? arguments[3] : undefined;var overlap = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 4 / 5;var incise = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 20;var stretch = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;
  /*
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      *      Global intersection angles of two circles of the same radius
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */
  function intersect(p, q, r) {
    var dx = q.x - p.x;
    var dy = q.y - p.y;

    var len = Math.sqrt(dx * dx + dy * dy);
    var a = 0.5 * len / r;

    if (a < -1) a = -1;
    if (a > 1) a = 1;

    var phi = Math.atan2(dy, dx);
    var gamma = Math.acos(a);

    return [phi - gamma, Math.PI + phi + gamma];
  }

  // Create a list of circles
  var circles = [];
  var delta = 2 * radius * overlap;
  var prev = isClosed ? poly[poly.length - 1] : poly[0];
  stretch = stretch || !isClosed;

  for (var i = isClosed ? 0 : 1; i < poly.length; i++) {
    var curr = poly[i];

    var dx = curr.x - prev.x;
    var dy = curr.y - prev.y;

    var len = Math.sqrt(dx * dx + dy * dy);

    dx /= len;
    dy /= len;

    var firstAngle = 0;
    var lastAngle = 0;
    if (!isClosed) {
      if (i === 1) {// Start point
        len -= radius;
        prev.x += dx * radius;
        prev.y += dy * radius;
        firstAngle = Math.atan2(dy, dx) + Math.PI;
      } else if (i === poly.length - 1) {// End point
        lastAngle = Math.atan2(dy, dx);
      }
    }

    var d = delta;

    if (stretch) {
      var n = len / delta + 0.5 | 0;

      if (n < 1) {
        n = 1;
      }

      d = len / n;
    }

    for (var a = 0; a + 0.1 * d < len; a += d) {
      circles.push({
        x: prev.x + a * dx,
        y: prev.y + a * dy,
        begin: firstAngle,
        end: lastAngle,
        isAnchor: a === 0 });


      for (var j = 0; j < intersectionObjects.length; j++) {
        circles[circles.length - 1]['isNextIntersection' + j] = curr['isNextIntersection' + j];
        circles[circles.length - 1]['isCurrentIntersection' + j] = curr['isCurrentIntersection' + j];
        if (curr['isNextIntersection' + j] && a === 0) {
          intersectionObjects[j].anchorPoint = circles[circles.length - 1];
        }
      }
    }

    prev = curr;
  }

  // Determine intersection angles of circles

  var inciseInRadians = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].degreesToRadians(incise);

  prev = circles[circles.length - 1];
  for (var _i = 0; _i < circles.length; _i++) {
    var _curr = circles[_i];
    var angle = intersect(prev, _curr, radius);

    if (isClosed || _i !== 0) {// For open clouds, first and last angles were calculated in previous loop
      prev.end = angle[0] + inciseInRadians;
      _curr.begin = angle[1];
    }

    prev = _curr;
  }

  // Hide all circles that appear between the intersection point and the intersection anchor.
  _hideIntersectionCircles(circles, radius, intersectionObjects);

  // In case there is an intersection and arcs are hidden, insert a new arc to fill the gap that was created
  for (var k = intersectionObjects.length - 1; k > -1; k--) {
    if (circles[intersectionObjects[k].begin] && circles[intersectionObjects[k].end]) {
      intersectionObjects[k].beginCircle = circles[intersectionObjects[k].begin];
      intersectionObjects[k].endCircle = circles[intersectionObjects[k].end];var _addFillingCircle2 =
      _addFillingCircle(circles, radius, intersectionObjects[k].begin, intersectionObjects[k].end),newCircle = _addFillingCircle2.newCircle,beginPoint = _addFillingCircle2.beginPoint,endPoint = _addFillingCircle2.endPoint;
      intersectionObjects[k].newCircle = newCircle;
      intersectionObjects[k].beginPoint = beginPoint;
      intersectionObjects[k].endPoint = endPoint;
    }
  }

  // Remove all hidden arcs
  circles = circles.filter(function (cir) {return !cir.hide;});

  return circles;
};

var isClockwise = function isClockwise(anchors, markup) {
  var sum = 0;
  for (var i = 0; i < anchors.length; i++) {
    var p1 = anchors[i];
    var p2 = anchors[(i + 1) % anchors.length];
    sum += (p2.x - p1.x) * (p2.y + p1.y);
  }
  return sum * markup.scaleMatrix.elements[0] * markup.scaleMatrix.elements[5] > 0;
};

var isTrueValue = function isTrueValue(value) {
  return value === 'true' || value === true || value === 1;
};

var locationInArray = function locationInArray(element, array, comparer) {
  if (array.length === 0) return -1;

  var start = 0;
  var end = array.length;
  var pivot = Math.floor(end / 2);

  while (end - start > 1) {
    var comp = comparer(array[pivot], element);
    if (comp === 0) return pivot;

    if (comp > 0) {
      end = pivot;
    } else {
      start = pivot;
    }

    pivot = Math.floor(start + (end - start) / 2);
  }

  return comparer(array[pivot], element) > 0 ? pivot - 1 : pivot;
};

var getArcAngleSize = function getArcAngleSize(arc, clockwise) {
  var dist = Math.abs(arc.begin - arc.end);
  if (dist > 2 * Math.PI) dist -= 2 * Math.PI;
  if (!clockwise && arc.begin > arc.end) {
    dist = 2 * Math.PI - dist;
  } else if (clockwise && arc.end > arc.begin) {
    dist = 2 * Math.PI - dist;
  }
  return dist;
};

var insertInSortedArray = function insertInSortedArray(element, array, comparer) {
  array.splice(locationInArray(element, array, comparer) + 1, 0, element);
  return array;
};

// if the lines intersect, the result contains the x and y of the intersection (treating the lines as infinite) and booleans for whether line segment 1 or line segment 2 contain the point
var _checkLineIntersection = function _checkLineIntersection(line1Start, line1End, line2Start, line2End) {
  var result = {
    x: null,
    y: null,
    onLine1: false,
    onLine2: false };

  var denominator = (line2End.y - line2Start.y) * (line1End.x - line1Start.x) - (line2End.x - line2Start.x) * (line1End.y - line1Start.y);

  if (denominator === 0) {
    return result;
  }

  var a = line1Start.y - line2Start.y;
  var b = line1Start.x - line2Start.x;
  var numerator1 = (line2End.x - line2Start.x) * a - (line2End.y - line2Start.y) * b;
  var numerator2 = (line1End.x - line1Start.x) * a - (line1End.y - line1Start.y) * b;
  a = numerator1 / denominator;
  b = numerator2 / denominator;

  // if we cast these lines infinitely in both directions, they intersect here:
  result.x = line1Start.x + a * (line1End.x - line1Start.x);
  result.y = line1Start.y + a * (line1End.y - line1Start.y);

  // if line1 is a segment and line2 is infinite, they intersect if:
  if (a > 0 && a < 1) {
    result.onLine1 = true;
  }
  // if line2 is a segment and line1 is infinite, they intersect if:
  if (b > 0 && b < 1) {
    result.onLine2 = true;
  }
  // if line1 and line2 are segments, they intersect if both of the above are true
  return result;
};

var handleIntersection = function handleIntersection(anchors, radius, markup) {
  var leng = anchors.length;
  var intersects = [];
  for (var i = 0; i < leng; i++) {
    var ind = i === 0 ? leng - 1 : i - 1;
    var prevAnchor = anchors[ind];
    var currentAnchor = anchors[i];
    var nextAnchor = anchors[(i + 1) % leng];

    if (!currentAnchor || !nextAnchor) {
      break;
    }

    var angA = Math.atan2(currentAnchor.y - prevAnchor.y, currentAnchor.x - prevAnchor.x);

    var tangentA2 = {};
    tangentA2.p1 = new THREE.Vector3(prevAnchor.x + Math.cos(angA - Math.PI / 2) * radius, prevAnchor.y + Math.sin(angA - Math.PI / 2) * radius, 1);
    tangentA2.p2 = new THREE.Vector3(currentAnchor.x + Math.cos(angA - Math.PI / 2) * radius, currentAnchor.y + Math.sin(angA - Math.PI / 2) * radius, 1);

    var angB = Math.atan2(nextAnchor.y - currentAnchor.y, nextAnchor.x - currentAnchor.x);

    var tangentB2 = {};
    tangentB2.p1 = new THREE.Vector3(currentAnchor.x + Math.cos(angB - Math.PI / 2) * radius, currentAnchor.y + Math.sin(angB - Math.PI / 2) * radius, 1);
    tangentB2.p2 = new THREE.Vector3(nextAnchor.x + Math.cos(angB - Math.PI / 2) * radius, nextAnchor.y + Math.sin(angB - Math.PI / 2) * radius, 1);

    var intersect = _checkLineIntersection(tangentA2.p1, tangentA2.p2, tangentB2.p1, tangentB2.p2);

    // if there is an intersection point on the lines
    if (intersect.onLine1 && intersect.onLine2) {
      var vec1 = new THREE.Vector3(currentAnchor.x - prevAnchor.x, currentAnchor.y - prevAnchor.y, 0);
      var vec2 = new THREE.Vector3(nextAnchor.x - currentAnchor.x, nextAnchor.y - currentAnchor.y, 0);
      vec1.normalize();
      vec2.normalize();
      vec1.multiplyScalar(-1);

      var cross = new THREE.Vector3().crossVectors(vec1, vec2);

      var asin = Math.asin(cross.z);

      var acos = vec1.dot(vec2);

      var diff = Math.atan2(asin, acos);

      if (diff < Math.PI / 2) {
        currentAnchor['isCurrentIntersection' + intersects.length] = true;
        nextAnchor['isNextIntersection' + intersects.length] = true;

        currentAnchor.intersects = intersects;
        nextAnchor.intersects = intersects;

        intersects.push(intersect);
      }
    }
  }
  return intersects;
};

var markupsOverlayRenderer = function markupsOverlayRenderer(viewer, options) {var overlayRendererExtraOptions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};var
  width = options.width,height = options.height,ctx = options.ctx,target = options.target,screenshotCamera = options.screenshotCamera,onRenderDone = options.onRenderDone;var
  markupLayer = overlayRendererExtraOptions.markupLayer;

  var markupsExtension = viewer.getExtension('Autodesk.BIM360.Markups');

  if (!markupsExtension) {
    onRenderDone(ctx.targetToCanvas(target).canvas);
    return;
  }

  var canvasBounds = viewer.impl.getCanvasBoundingClientRect();
  var originalWidth = canvasBounds.width;
  var originalHeight = canvasBounds.height;

  var webglRenderer = viewer.impl.glrenderer();
  webglRenderer.pushViewport();
  var pixelRatio = webglRenderer.getPixelRatio();
  webglRenderer.setPixelRatio(1.0);
  webglRenderer.setViewport(0, 0, width, height);
  markupsExtension.renderer.onResize({ width: width, height: height });

  var cam = viewer.impl.is2d ? screenshotCamera : markupsExtension.renderer.markupsCamera;
  var visibleLayers = markupsExtension.markupsManager.getVisibleLayers();

  if (markupLayer) {
    visibleLayers.forEach(function (layer) {return layer !== markupLayer && layer.setVisible(false);});
  }

  var wasVisible;
  var wasTransparent;

  // Make sure the current layer is fully visible before rendering.
  var beforeRender = function beforeRender() {
    if (markupLayer) {
      wasVisible = markupLayer.isVisible();
      wasTransparent = markupLayer.isTransparent();

      markupLayer.setVisible(true);
      markupLayer.changeTransparency(false);
    }
  };

  var afterRender = function afterRender() {
    if (markupLayer) {
      markupLayer.setVisible(wasVisible);
      markupLayer.changeTransparency(!wasTransparent);
    }
  };

  beforeRender();

  markupsExtension.renderer.render(target, cam);

  afterRender();

  // Restore previous state
  webglRenderer.popViewport();
  webglRenderer.setPixelRatio(pixelRatio);
  markupsExtension.renderer.onResize({ width: originalWidth, height: originalHeight });var _ctx$targetToCanvas =

  ctx.targetToCanvas(target),canvas = _ctx$targetToCanvas.canvas;
  var scaleRatio = width / originalWidth;

  markupsExtension.renderer.textRenderer.renderTextToCanvas(canvas, cam, scaleRatio, beforeRender, afterRender, onRenderDone);

  if (markupLayer) {
    visibleLayers.forEach(function (layer) {return layer !== markupLayer && layer.setVisible(true);});
  }
};

var getScreenShotOfMarkup = function getScreenShotOfMarkup(viewer, callback, markupLayer) {
  var markupsExtension = viewer.getExtension('Autodesk.BIM360.Markups');
  var bounds;

  if (markupLayer && viewer.impl.is2d) {
    bounds = markupLayer.getWorldBoundingBox();
    Autodesk.Viewing.ScreenShot.makeBoundsSquare(bounds);
  }

  var getCropBounds = function getCropBounds(viewer, camera) {
    bounds = markupLayer.getWorldBoundingBox();
    Autodesk.Viewing.ScreenShot.makeBoundsSquare(bounds);

    var markupsCameraBackup = markupsExtension.renderer.markupsCamera;

    if (viewer.impl.is2d) {
      markupsExtension.renderer.markupsCamera = camera;
    }

    var min = markupsExtension.renderer.worldToClient(bounds.min);
    var max = markupsExtension.renderer.worldToClient(bounds.max);

    markupsExtension.renderer.markupsCamera = markupsCameraBackup;

    var clientBounds = new THREE.Box3().setFromPoints([min, max]);
    Autodesk.Viewing.ScreenShot.makeBoundsSquare(clientBounds, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["MINIMUM_THUMBNAIL_SIZE"]);

    var size = clientBounds.size().x;
    clientBounds.expandByVector(new THREE.Vector3(size * _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["SELECTION_ZOOM_MARGIN"], size * _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["SELECTION_ZOOM_MARGIN"], 0));

    return clientBounds;
  };

  var options = {
    bounds: bounds,
    margin: markupLayer ? _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["SELECTION_ZOOM_MARGIN"] : 0,
    overlayRenderer: markupsOverlayRenderer,
    overlayRendererExtraOptions: { markupLayer: markupLayer },
    getCropBounds: markupLayer && getCropBounds };


  Autodesk.Viewing.ScreenShot.getScreenShotAtScreenSize(viewer, callback, options);
};

var setCustomGestureValues = function setCustomGestureValues(viewer) {
  var gestureHandler = viewer.toolController.getTool('gestures');
  if (gestureHandler) {
    gestureHandler.setGestureParameter('singletap', 'time', 250);
    gestureHandler.setGestureParameter('drag', 'threshold', 0);
  }
};

var restoreGestureValues = function restoreGestureValues(viewer) {
  var gestureHandler = viewer.toolController.getTool('gestures');
  if (gestureHandler) {
    gestureHandler.restoreGestureParameterDefault('singletap', 'time');
    gestureHandler.restoreGestureParameterDefault('drag', 'threshold');
  }
};
/*
    * Taken from Simplify.js, a high-performance JS polyline simplification library
    * (c) 2013, Vladimir Agafonkin
    * mourner.github.io/simplify-js
    */
var simplify = function simplify(points, tolerance, highestQuality) {

  if (points.length <= 2) return points;

  // square distance between 2 points
  function getSqDist(p1, p2) {
    var dx = p1.x - p2.x,
    dy = p1.y - p2.y;

    return dx * dx + dy * dy;
  }

  // square distance from a point to a segment
  function getSqSegDist(p, p1, p2) {
    var x = p1.x,
    y = p1.y,
    dx = p2.x - x,
    dy = p2.y - y;

    if (dx !== 0 || dy !== 0) {
      var t = ((p.x - x) * dx + (p.y - y) * dy) / (dx * dx + dy * dy);

      if (t > 1) {
        x = p2.x;
        y = p2.y;

      } else if (t > 0) {
        x += dx * t;
        y += dy * t;
      }
    }

    dx = p.x - x;
    dy = p.y - y;

    return dx * dx + dy * dy;
  }

  // basic distance-based simplification
  function simplifyRadialDist(points, sqTolerance) {

    var prevPoint = points[0],
    newPoints = [prevPoint],
    point;

    for (var i = 1, len = points.length; i < len; i++) {
      point = points[i];

      if (getSqDist(point, prevPoint) > sqTolerance) {
        newPoints.push(point);
        prevPoint = point;
      }
    }

    if (prevPoint !== point) newPoints.push(point);

    return newPoints;
  }

  function simplifyDPStep(points, first, last, sqTolerance, simplified) {
    var maxSqDist = sqTolerance,
    index;

    for (var i = first + 1; i < last; i++) {
      var sqDist = getSqSegDist(points[i], points[first], points[last]);

      if (sqDist > maxSqDist) {
        index = i;
        maxSqDist = sqDist;
      }
    }

    if (maxSqDist > sqTolerance) {
      if (index - first > 1) simplifyDPStep(points, first, index, sqTolerance, simplified);
      simplified.push(points[index]);
      if (last - index > 1) simplifyDPStep(points, index, last, sqTolerance, simplified);
    }
  }

  // simplification using Ramer-Douglas-Peucker algorithm
  function simplifyDouglasPeucker(points, sqTolerance) {
    var last = points.length - 1;

    var simplified = [points[0]];
    simplifyDPStep(points, 0, last, sqTolerance, simplified);
    simplified.push(points[last]);

    return simplified;
  }

  // both algorithms combined for awesome performance
  var sqTolerance = tolerance !== undefined ? tolerance * tolerance : 1;

  points = highestQuality ? points : simplifyRadialDist(points, sqTolerance);
  points = simplifyDouglasPeucker(points, sqTolerance);

  return points;
};

// A polygon is a simple polygon if there are no intersection between its edges.	
function isPolygonSimple(points) {
  var n = points.length;

  if (n === 3) {
    return true;
  }

  for (var i = 0; i < n; i++) {

    var p1 = points[i];
    var p2 = points[(i + 1) % n];

    for (var j = i + 2; j < n; j++) {

      var q1 = points[j % n];
      var q2 = points[(j + 1) % n];

      if (q2 === p1) {
        break;
      }

      var intersect = _checkLineIntersection(p1, p2, q1, q2);

      // if there is an intersection point on the lines
      if (intersect.onLine1 && intersect.onLine2) {
        return false;
      }
    }
  }

  return true;
};

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsConstants.js":
/*!***************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsConstants.js ***!
  \***************************************************/
/*! exports provided: COLORS, DEFAULT_COLORS, DEFAULT_FILL_COLORS, STYLE_PROPERTIES, FONT_SIZES, MESHLINE_PATH_START, MESHLINE_PATH_END, MESHLINE_PATH_DEFAULT, MESHLINE_PATH_ROUND_CAP, MESHLINE_PATH_FLAT_CAP, MARKUP_TYPE_ARROW, MARKUP_TYPE_RECTANGLE, MARKUP_TYPE_CIRCLE, MARKUP_TYPE_CLOUD, MARKUP_TYPE_FREEHAND, MARKUP_TYPE_HIGHLIGHT, MARKUP_TYPE_POLYLINE, MARKUP_TYPE_POLYCLOUD, MARKUP_TYPE_TEXT, MARKUP_TYPE_CALLOUT, MARKUP_TYPE_ARROW_CALLOUT, MARKUP_TYPE_DIMENSION, MARKUP_TYPE_LINE, RECT_SELECTOR, MARKUP_STATUS_SAVE_FAILED, MARKUP_STATUS_SAVE_SUCCEED, MARKUP_STATUS_SAVING, MARKUP_STATUS_DELETING, MARKUP_STATUS_DELETE_SUCCEED, MARKUP_STATUS_DELETE_FAILED, MARKUP_STATUS_CREATED, MARKUP_STATUS_OPEN, MARKUP_STATUS_PRIVATE, MARKUP_STATUS_PUBLISHED, MARKUP_STATUS_PUBLISHING, MARKUP_STATUS_CLOSED, MARKUP_STATUS_ARCHIVED, MARKUP_STATUS_ARCHIVING, MARKUP_ATTACHMENT_LOADING, MARKUP_ATTACHMENT_SAVING, MARKUP_ATTACHMENT_SAVE_SUCCEED, MARKUP_ATTACHMENT_SAVE_FAILED, MARKUP_ATTACHMENT_RENAMING, MARKUP_ATTACHMENT_DELETEING, ATTACHMENT_DATA_TYPE_BINARY, ATTACHMENT_DATA_TYPE_TEXT, MARKUP_RESOURCE_TYPE_SVG, MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE, DEFAULT_STATUSES_TO_LOAD, MARKUP_SUPPORT_GUID_EXT, LINK_TYPE_ATTACHMENTS, LINK_TYPE_DOCUMENT_ATTACHMENT, DEFAULT_MARKUP, DEFAULT_COLOR, DEFAULT_FONT_COLOR, DEFAULT_FILL_COLOR, DEFAULT_THICKNESS, DEFAULT_OPACITY, DEFAULT_HIGHLIGHT_OPACITY, DEFAULT_FILL_OPACITY, DEFAULT_STROKE_IN_MM, DEFAULT_FONT_SIZE_IN_PIXELS, DEFAULT_FONT_SIZE_IN_MM, DEFAULT_FONT_WEIGHT, DEFAULT_FONT_FAMILY, DEFAULT_FONT_STYLE, SUB_MENU_VISIBLE_CLASS, ARROW_TIP_LENGTH, EPSILON, TOUCH_RADIUS, ANCHOR_RADIUS, MIN_CHANGE_DISTANCE, SNAP_DISTANCE, MIN_FREEHAND_POINT_DISTANCE, MIN_ANGLE_CHANGE, ROTATION_ANCHOR_DISTANCE, ROTATION_SNAP_DEGREES, PASTE_OFFSET, ARROW_MOVE_OFFSET, CONTEXTUAL_MENU_OFFSET, LINK_POSITION_OFFSET, LINK_ICON_SIZE, SELECTION_ZOOM_MARGIN, MAX_THICKNESS, PERSPECTIVE_MODE_SCALE, FRAME_SIZE_SCALE, BOUNDING_BOX_MARGIN, HIT_AREA_MARGIN, TEXT_DEBOUNCE, DIMENSION_TIP_LENGTH, DIMENSION_THICKNESS_FACTOR, DIMENSION_FONT_SIZE_FACTOR, DISABLED_OPACITY, MOBILE_GESTURES_MIN_THRESHOLD_TIME, SCREEN_MARGIN, TEXT_LENGTH_LIMIT, MINIMUM_THUMBNAIL_SIZE, WORLD_3D_SIZE, MAX_NORMA_PERCENTAGE, MAX_NORMA_TEXT_PERCENTAGE, NORMA_3D, NORMA_TEXT_3D, POINT_SIZE_IN_MM, TIMEOUT_TO_SELECT_AFTER_DRAWEND, MARKUP_CREATION_CURSORS, MARKUP_ERRORS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "COLORS", function() { return COLORS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_COLORS", function() { return DEFAULT_COLORS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FILL_COLORS", function() { return DEFAULT_FILL_COLORS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "STYLE_PROPERTIES", function() { return STYLE_PROPERTIES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FONT_SIZES", function() { return FONT_SIZES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MESHLINE_PATH_START", function() { return MESHLINE_PATH_START; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MESHLINE_PATH_END", function() { return MESHLINE_PATH_END; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MESHLINE_PATH_DEFAULT", function() { return MESHLINE_PATH_DEFAULT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MESHLINE_PATH_ROUND_CAP", function() { return MESHLINE_PATH_ROUND_CAP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MESHLINE_PATH_FLAT_CAP", function() { return MESHLINE_PATH_FLAT_CAP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_ARROW", function() { return MARKUP_TYPE_ARROW; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_RECTANGLE", function() { return MARKUP_TYPE_RECTANGLE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_CIRCLE", function() { return MARKUP_TYPE_CIRCLE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_CLOUD", function() { return MARKUP_TYPE_CLOUD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_FREEHAND", function() { return MARKUP_TYPE_FREEHAND; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_HIGHLIGHT", function() { return MARKUP_TYPE_HIGHLIGHT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_POLYLINE", function() { return MARKUP_TYPE_POLYLINE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_POLYCLOUD", function() { return MARKUP_TYPE_POLYCLOUD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_TEXT", function() { return MARKUP_TYPE_TEXT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_CALLOUT", function() { return MARKUP_TYPE_CALLOUT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_ARROW_CALLOUT", function() { return MARKUP_TYPE_ARROW_CALLOUT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_DIMENSION", function() { return MARKUP_TYPE_DIMENSION; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_TYPE_LINE", function() { return MARKUP_TYPE_LINE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RECT_SELECTOR", function() { return RECT_SELECTOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_SAVE_FAILED", function() { return MARKUP_STATUS_SAVE_FAILED; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_SAVE_SUCCEED", function() { return MARKUP_STATUS_SAVE_SUCCEED; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_SAVING", function() { return MARKUP_STATUS_SAVING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_DELETING", function() { return MARKUP_STATUS_DELETING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_DELETE_SUCCEED", function() { return MARKUP_STATUS_DELETE_SUCCEED; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_DELETE_FAILED", function() { return MARKUP_STATUS_DELETE_FAILED; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_CREATED", function() { return MARKUP_STATUS_CREATED; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_OPEN", function() { return MARKUP_STATUS_OPEN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_PRIVATE", function() { return MARKUP_STATUS_PRIVATE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_PUBLISHED", function() { return MARKUP_STATUS_PUBLISHED; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_PUBLISHING", function() { return MARKUP_STATUS_PUBLISHING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_CLOSED", function() { return MARKUP_STATUS_CLOSED; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_ARCHIVED", function() { return MARKUP_STATUS_ARCHIVED; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_STATUS_ARCHIVING", function() { return MARKUP_STATUS_ARCHIVING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_ATTACHMENT_LOADING", function() { return MARKUP_ATTACHMENT_LOADING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_ATTACHMENT_SAVING", function() { return MARKUP_ATTACHMENT_SAVING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_ATTACHMENT_SAVE_SUCCEED", function() { return MARKUP_ATTACHMENT_SAVE_SUCCEED; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_ATTACHMENT_SAVE_FAILED", function() { return MARKUP_ATTACHMENT_SAVE_FAILED; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_ATTACHMENT_RENAMING", function() { return MARKUP_ATTACHMENT_RENAMING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_ATTACHMENT_DELETEING", function() { return MARKUP_ATTACHMENT_DELETEING; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ATTACHMENT_DATA_TYPE_BINARY", function() { return ATTACHMENT_DATA_TYPE_BINARY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ATTACHMENT_DATA_TYPE_TEXT", function() { return ATTACHMENT_DATA_TYPE_TEXT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_RESOURCE_TYPE_SVG", function() { return MARKUP_RESOURCE_TYPE_SVG; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE", function() { return MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_STATUSES_TO_LOAD", function() { return DEFAULT_STATUSES_TO_LOAD; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_SUPPORT_GUID_EXT", function() { return MARKUP_SUPPORT_GUID_EXT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LINK_TYPE_ATTACHMENTS", function() { return LINK_TYPE_ATTACHMENTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LINK_TYPE_DOCUMENT_ATTACHMENT", function() { return LINK_TYPE_DOCUMENT_ATTACHMENT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_MARKUP", function() { return DEFAULT_MARKUP; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_COLOR", function() { return DEFAULT_COLOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FONT_COLOR", function() { return DEFAULT_FONT_COLOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FILL_COLOR", function() { return DEFAULT_FILL_COLOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_THICKNESS", function() { return DEFAULT_THICKNESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_OPACITY", function() { return DEFAULT_OPACITY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_HIGHLIGHT_OPACITY", function() { return DEFAULT_HIGHLIGHT_OPACITY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FILL_OPACITY", function() { return DEFAULT_FILL_OPACITY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_STROKE_IN_MM", function() { return DEFAULT_STROKE_IN_MM; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FONT_SIZE_IN_PIXELS", function() { return DEFAULT_FONT_SIZE_IN_PIXELS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FONT_SIZE_IN_MM", function() { return DEFAULT_FONT_SIZE_IN_MM; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FONT_WEIGHT", function() { return DEFAULT_FONT_WEIGHT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FONT_FAMILY", function() { return DEFAULT_FONT_FAMILY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FONT_STYLE", function() { return DEFAULT_FONT_STYLE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SUB_MENU_VISIBLE_CLASS", function() { return SUB_MENU_VISIBLE_CLASS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ARROW_TIP_LENGTH", function() { return ARROW_TIP_LENGTH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EPSILON", function() { return EPSILON; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TOUCH_RADIUS", function() { return TOUCH_RADIUS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ANCHOR_RADIUS", function() { return ANCHOR_RADIUS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_CHANGE_DISTANCE", function() { return MIN_CHANGE_DISTANCE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SNAP_DISTANCE", function() { return SNAP_DISTANCE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_FREEHAND_POINT_DISTANCE", function() { return MIN_FREEHAND_POINT_DISTANCE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MIN_ANGLE_CHANGE", function() { return MIN_ANGLE_CHANGE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROTATION_ANCHOR_DISTANCE", function() { return ROTATION_ANCHOR_DISTANCE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ROTATION_SNAP_DEGREES", function() { return ROTATION_SNAP_DEGREES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PASTE_OFFSET", function() { return PASTE_OFFSET; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ARROW_MOVE_OFFSET", function() { return ARROW_MOVE_OFFSET; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CONTEXTUAL_MENU_OFFSET", function() { return CONTEXTUAL_MENU_OFFSET; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LINK_POSITION_OFFSET", function() { return LINK_POSITION_OFFSET; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LINK_ICON_SIZE", function() { return LINK_ICON_SIZE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SELECTION_ZOOM_MARGIN", function() { return SELECTION_ZOOM_MARGIN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAX_THICKNESS", function() { return MAX_THICKNESS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PERSPECTIVE_MODE_SCALE", function() { return PERSPECTIVE_MODE_SCALE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FRAME_SIZE_SCALE", function() { return FRAME_SIZE_SCALE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BOUNDING_BOX_MARGIN", function() { return BOUNDING_BOX_MARGIN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HIT_AREA_MARGIN", function() { return HIT_AREA_MARGIN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TEXT_DEBOUNCE", function() { return TEXT_DEBOUNCE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DIMENSION_TIP_LENGTH", function() { return DIMENSION_TIP_LENGTH; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DIMENSION_THICKNESS_FACTOR", function() { return DIMENSION_THICKNESS_FACTOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DIMENSION_FONT_SIZE_FACTOR", function() { return DIMENSION_FONT_SIZE_FACTOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DISABLED_OPACITY", function() { return DISABLED_OPACITY; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MOBILE_GESTURES_MIN_THRESHOLD_TIME", function() { return MOBILE_GESTURES_MIN_THRESHOLD_TIME; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCREEN_MARGIN", function() { return SCREEN_MARGIN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TEXT_LENGTH_LIMIT", function() { return TEXT_LENGTH_LIMIT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MINIMUM_THUMBNAIL_SIZE", function() { return MINIMUM_THUMBNAIL_SIZE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WORLD_3D_SIZE", function() { return WORLD_3D_SIZE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAX_NORMA_PERCENTAGE", function() { return MAX_NORMA_PERCENTAGE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAX_NORMA_TEXT_PERCENTAGE", function() { return MAX_NORMA_TEXT_PERCENTAGE; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NORMA_3D", function() { return NORMA_3D; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NORMA_TEXT_3D", function() { return NORMA_TEXT_3D; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "POINT_SIZE_IN_MM", function() { return POINT_SIZE_IN_MM; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TIMEOUT_TO_SELECT_AFTER_DRAWEND", function() { return TIMEOUT_TO_SELECT_AFTER_DRAWEND; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_CREATION_CURSORS", function() { return MARKUP_CREATION_CURSORS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUP_ERRORS", function() { return MARKUP_ERRORS; });
var _MARKUP_CREATION_CURS;function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}var COLORS = {
  RED: '#FF0000',
  GREEN: '#00F72C',
  BLUE: '#103FFB',
  ORANGE: '#FF9224',
  YELLOW: '#FEF935',
  CYAN: '#03FCFE',
  WHITE: '#FFFFFF',
  BLACK: '#000000',
  PINK: '#FF4CFC',
  PURPLE: '#922890',
  NO_COLOR: '-1' };


var DEFAULT_COLORS = [
{
  color: COLORS.RED,
  label: 'Red' },

{
  color: COLORS.BLUE,
  label: 'Blue' },

{
  color: COLORS.PURPLE,
  label: 'Purple' },

{
  color: COLORS.YELLOW,
  label: 'Yellow' },

{
  color: COLORS.ORANGE,
  label: 'Orange' },

{
  color: COLORS.CYAN,
  label: 'Cyan' },

{
  color: COLORS.PINK,
  label: 'Pink' },

{
  color: COLORS.GREEN,
  label: 'Green' },

{
  color: COLORS.BLACK,
  label: 'Black' },

{
  color: COLORS.WHITE,
  label: 'White' }];



var DEFAULT_FILL_COLORS = [
{
  color: COLORS.RED,
  label: 'Red' },

{
  color: COLORS.BLUE,
  label: 'Blue' },

{
  color: COLORS.PURPLE,
  label: 'Purple' },

{
  color: COLORS.YELLOW,
  label: 'Yellow' },

{
  color: COLORS.ORANGE,
  label: 'Orange' },

{
  color: COLORS.CYAN,
  label: 'Cyan' },

{
  color: COLORS.PINK,
  label: 'Pink' },

{
  color: COLORS.GREEN,
  label: 'Green' },

{
  color: COLORS.NO_COLOR,
  label: 'No Fill' },

{
  color: COLORS.BLACK,
  label: 'Black' },

{
  color: COLORS.WHITE,
  label: 'White' }];



var STYLE_PROPERTIES = {
  COLOR: 'stroke-color',
  FILL_COLOR: 'fill-color',
  THICKNESS: 'stroke-width',
  OPACITY: 'stroke-opacity',
  FILL_OPACITY: 'fill-opacity',
  FONT_SIZE: 'font-size',
  FONT_WEIGHT: 'font-weight',
  FONT_FAMILY: 'font-family',
  FONT_STYLE: 'font-style',
  FONT_COLOR: 'font-color',
  STROKE_LINEJOIN: 'stroke-linejoin' };


var FONT_SIZES = [10, 12, 14, 16, 18, 20, 24, 28, 32, 36, 40, 44, 48, 52, 58, 64, 70, 76, 82, 88, 94, 100];

var MESHLINE_PATH_START = 1;
var MESHLINE_PATH_END = 2;

var MESHLINE_PATH_DEFAULT = 1;
var MESHLINE_PATH_ROUND_CAP = 2;
var MESHLINE_PATH_FLAT_CAP = 3;

// Markup types
var MARKUP_TYPE_ARROW = 'arrow';
var MARKUP_TYPE_RECTANGLE = 'rectangle';
var MARKUP_TYPE_CIRCLE = 'ellipse';
var MARKUP_TYPE_CLOUD = 'cloud';
var MARKUP_TYPE_FREEHAND = 'freehand';
var MARKUP_TYPE_HIGHLIGHT = 'highlight';
var MARKUP_TYPE_POLYLINE = 'polyline';
var MARKUP_TYPE_POLYCLOUD = 'polycloud';
var MARKUP_TYPE_TEXT = 'label';
var MARKUP_TYPE_CALLOUT = 'callout';
var MARKUP_TYPE_ARROW_CALLOUT = 'arrow-callout';
var MARKUP_TYPE_DIMENSION = 'dimension';
var MARKUP_TYPE_LINE = 'line';

var RECT_SELECTOR = 'selector';

// Statuses
var MARKUP_STATUS_SAVE_FAILED = 'save_failed';
var MARKUP_STATUS_SAVE_SUCCEED = 'save_success';
var MARKUP_STATUS_SAVING = 'markup_saving';
var MARKUP_STATUS_DELETING = 'deleting';
var MARKUP_STATUS_DELETE_SUCCEED = 'delete_success';
var MARKUP_STATUS_DELETE_FAILED = 'delete_failed';
var MARKUP_STATUS_CREATED = 'created';
var MARKUP_STATUS_OPEN = 'open';
var MARKUP_STATUS_PRIVATE = 'private';
var MARKUP_STATUS_PUBLISHED = 'published';
var MARKUP_STATUS_PUBLISHING = 'publishing';
var MARKUP_STATUS_CLOSED = 'closed';
var MARKUP_STATUS_ARCHIVED = 'archived';
var MARKUP_STATUS_ARCHIVING = 'archiving';
var MARKUP_ATTACHMENT_LOADING = 'attachment_loading';
var MARKUP_ATTACHMENT_SAVING = 'attachment_saving';
var MARKUP_ATTACHMENT_SAVE_SUCCEED = 'attachment_save_success';
var MARKUP_ATTACHMENT_SAVE_FAILED = 'attachment_save_failed';
var MARKUP_ATTACHMENT_RENAMING = 'attachment_renaming';
var MARKUP_ATTACHMENT_DELETEING = 'attachment_deleting';

// Metadata
var ATTACHMENT_DATA_TYPE_BINARY = 'binary';
var ATTACHMENT_DATA_TYPE_TEXT = 'text';
var MARKUP_RESOURCE_TYPE_SVG = 'svg';
var MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE = 'screencapture';
var DEFAULT_STATUSES_TO_LOAD = [MARKUP_STATUS_PRIVATE, MARKUP_STATUS_PUBLISHED, MARKUP_STATUS_ARCHIVED].join(',');
var MARKUP_SUPPORT_GUID_EXT = ['dwfx', 'rvt', 'dwf'];

// Link types
var LINK_TYPE_ATTACHMENTS = 'attachments';
var LINK_TYPE_DOCUMENT_ATTACHMENT = 'document';

// Default Properties values
var DEFAULT_MARKUP = MARKUP_TYPE_FREEHAND;
var DEFAULT_COLOR = COLORS.RED;
var DEFAULT_FONT_COLOR = COLORS.RED;
var DEFAULT_FILL_COLOR = COLORS.NO_COLOR;
var DEFAULT_THICKNESS = 10.0;
var DEFAULT_OPACITY = 1.0;
var DEFAULT_HIGHLIGHT_OPACITY = 0.5;
var DEFAULT_FILL_OPACITY = 0.5;
var DEFAULT_STROKE_IN_MM = 0.1;
var DEFAULT_FONT_SIZE_IN_PIXELS = 36.0;
var DEFAULT_FONT_SIZE_IN_MM = 10.0;
var DEFAULT_FONT_WEIGHT = 'normal';
var DEFAULT_FONT_FAMILY = 'Artifakt Element, Arial';
var DEFAULT_FONT_STYLE = 'normal';

var SUB_MENU_VISIBLE_CLASS = 'subMenuVisible';


var isTouchDevice = typeof window !== 'undefined' && ('ontouchstart' in window || navigator.maxTouchPoints > 0);

// Other constants
var ARROW_TIP_LENGTH = 5;
var EPSILON = 0.0001;
var TOUCH_RADIUS = isTouchDevice ? 34 : 4;
var ANCHOR_RADIUS = 4;
var MIN_CHANGE_DISTANCE = 5;
var SNAP_DISTANCE = 20;
var MIN_FREEHAND_POINT_DISTANCE = 1;
var MIN_ANGLE_CHANGE = 0.05;
var ROTATION_ANCHOR_DISTANCE = isTouchDevice ? 30 : 20;
var ROTATION_SNAP_DEGREES = 45;
var PASTE_OFFSET = 20;
var ARROW_MOVE_OFFSET = 20;
var CONTEXTUAL_MENU_OFFSET = 60;
var LINK_POSITION_OFFSET = 10;
var LINK_ICON_SIZE = 20;
var SELECTION_ZOOM_MARGIN = 0.05;
var MAX_THICKNESS = 100;
var PERSPECTIVE_MODE_SCALE = 1000; // Legacy constant - Don't change!
var FRAME_SIZE_SCALE = 20; // Used in order to prevent render errors when changing browser's zoom.
var BOUNDING_BOX_MARGIN = window.devicePixelRatio * 4 + 10;
var HIT_AREA_MARGIN = TOUCH_RADIUS + 10;
var TEXT_DEBOUNCE = 200;
var DIMENSION_TIP_LENGTH = 8;
var DIMENSION_THICKNESS_FACTOR = 2 / 5;
var DIMENSION_FONT_SIZE_FACTOR = 3 / 5;
var DISABLED_OPACITY = 0.3;
var MOBILE_GESTURES_MIN_THRESHOLD_TIME = 100;
var SCREEN_MARGIN = 10;
var TEXT_LENGTH_LIMIT = 3000;
var MINIMUM_THUMBNAIL_SIZE = 92; // According to the markup's panel.

var WORLD_3D_SIZE = 1000; // This needs to be constant so that markups appear consistently in the same place

var MAX_NORMA_PERCENTAGE = 0.05 / 100; // Percentage of document diagonal. A boundary for the norma
var MAX_NORMA_TEXT_PERCENTAGE = 20 * MAX_NORMA_PERCENTAGE;
var NORMA_3D = 1; // We chose a 3D world size (WORLD_3D_SIZE) such that 1 is the norma size there
var NORMA_TEXT_3D = 20 * NORMA_3D;

var POINT_SIZE_IN_MM = 0.005; // A point is created by drawing a minimal meshline with round caps. This is the distance between the points.
var TIMEOUT_TO_SELECT_AFTER_DRAWEND = 700;

var MARKUP_CREATION_CURSORS = (_MARKUP_CREATION_CURS = {}, _defineProperty(_MARKUP_CREATION_CURS,
RECT_SELECTOR, 'cell'), _defineProperty(_MARKUP_CREATION_CURS,
MARKUP_TYPE_TEXT, 'text'), _defineProperty(_MARKUP_CREATION_CURS,
MARKUP_TYPE_CALLOUT, 'text'), _MARKUP_CREATION_CURS);


var MARKUP_ERRORS = {
  MARKUP_SAVE_FAILED: 'MARKUP_SAVE_FAILED',
  MARKUP_DELETE_FAILED: 'MARKUP_DELETE_FAILED',
  MARKUP_PUBLISH_FAILED: 'MARKUP_PUBLISH_FAILED',
  MARKUP_ARCHIVE_FAILED: 'MARKUP_ARCHIVE_FAILED',
  MARKUP_ATTACHMENT_CREATE_FAILED: 'MARKUP_ATTACHMENT_CREATE_FAILED',
  MARKUP_ATTACHMENT_DELETE_FAILED: 'MARKUP_ATTACHMENT_DELETE_FAILED',
  MARKUP_ATTACHMENT_RENAME_FAILED: 'MARKUP_ATTACHMENT_RENAME_FAILED',
  MARKUP_ATTACHMENT_UPDATE_FAILED: 'MARKUP_ATTACHMENT_UPDATE_FAILED' };

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsDeserializer.js":
/*!******************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsDeserializer.js ***!
  \******************************************************/
/*! exports provided: stringToSvgNode, parseMetadata, getLayerDataModelVersion, parseMarkupLayer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "stringToSvgNode", function() { return stringToSvgNode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseMetadata", function() { return parseMetadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getLayerDataModelVersion", function() { return getLayerDataModelVersion; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "parseMarkupLayer", function() { return parseMarkupLayer; });
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _MarkupsSceneState__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupsSceneState */ "./extensions/BimMarkups/MarkupsSceneState.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");




var stringToSvgNode = function stringToSvgNode(markupString) {
  var node;

  try {
    var domParser = new DOMParser();
    var doc = domParser.parseFromString(markupString, 'text/xml');
    node = doc.firstChild;
  } catch (err) {
    console.warn('stringToSvgNode failed to generate an HTMLElement from its string representation.');
  }

  return node;
};

// Converts a point from legacy markups coordinates to current ones. Relevant for 3D and PDF files
var markupsToWorld = function markupsToWorld(point, viewer, renderer, layerData) {
  var isPdf = viewer.model.getData().isPdf;

  if (viewer.model.getData().isLeaflet || isPdf) {
    var loadOptions;
    var bounds;

    if (isPdf) {
      loadOptions = Autodesk.Viewing.PDFUtils.getLeafletLoadOptions(viewer);
      bounds = Autodesk.Viewing.PDFUtils.getLeafletBoundingBox(viewer);
    } else {
      var modelData = viewer.model.getData();
      loadOptions = modelData.loadOptions.loadOptions;
      bounds = modelData.bbox;
    }var _loadOptions =

    loadOptions,texWidth = _loadOptions.texWidth,texHeight = _loadOptions.texHeight;

    // https://jira.autodesk.com/browse/BLMV-2853
    // In case that the DPI of the current document is different than the DPI of the document where the markup has originally created (or edited)
    // We need to scale the ratio back in order that the markup will appear in the same place.
    var originalDocumentWidth = layerData.metadata.markup_metadata &&
    layerData.metadata.markup_metadata.originalDocumentResolution &&
    layerData.metadata.markup_metadata.originalDocumentResolution[0] || texWidth;
    var dpiCorrection = texWidth / originalDocumentWidth;

    var wx = point.x / (texWidth / dpiCorrection) * bounds.size().x;
    var wy = point.y / (texHeight / dpiCorrection) * bounds.size().y;

    var worldPos = new THREE.Vector3(wx, wy, 0);
    var worldTopLeft = new THREE.Vector3(bounds.min.x, bounds.max.y, 0);
    worldPos.add(worldTopLeft);

    if (isPdf) {
      Autodesk.Viewing.PDFUtils.leafletToPdfWorld(viewer, worldPos);
    }

    return worldPos;
  }

  // 3D document
  if (renderer.documentCamera.isPerspective) {
    var bb = viewer.impl.getCanvasBoundingClientRect();

    // Factor by PERSPECTIVE_MODE_SCALE because Firefox on Windows machines have problems dealing with very small paths (SVG legacy factor)
    point.x = point.x / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["PERSPECTIVE_MODE_SCALE"] * (bb.height * 0.5) + bb.width * 0.5;
    point.y = -point.y / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["PERSPECTIVE_MODE_SCALE"] * (bb.height * 0.5) + bb.height * 0.5;

    point = renderer.clientToWorld(point);
  } else {// Orthographic
    point.applyMatrix4(renderer.documentCamera.matrixWorld);
    point.sub(renderer.documentCamera.position);

    // In LMV model is offset by a global offset, we correct this offset when transforming to markups space, so
    // exported markups don't have the offset.
    var globalOffset = viewer.model && viewer.model.getData().globalOffset;
    if (globalOffset) {
      point.sub(globalOffset);
    }

    point = renderer.documentCameraToMarkupsCamera(point);
  }

  return point;
};

var sizeFromMarkupsToWorld = function sizeFromMarkupsToWorld(size, viewer, renderer, layerData) {
  var a = markupsToWorld(new THREE.Vector3(), viewer, renderer, layerData);
  var b = markupsToWorld(new THREE.Vector3(size, 0, 0), viewer, renderer, layerData);

  return a.distanceTo(b);
};

var parseMetadata = function parseMetadata(svgNode, layerData, viewer, renderer, dataModelVersion) {
  var meta = svgNode.childNodes[0].childNodes[0];

  var getMetaAttribute = function getMetaAttribute(attribute) {
    return meta.getAttribute(attribute) || meta.getAttribute(attribute.toLowerCase());
  };

  var type = getMetaAttribute('type') || '';

  var isLegacyMarkup = dataModelVersion < 5;
  var isLeaflet = viewer.model.getData().isLeaflet;
  var isPdf = viewer.model.getData().isPdf;

  var state = {
    style: {},
    anchors: [] };


  var output = {
    type: type,
    state: state };


  var getStyle = function getStyle(styleObj) {
    var source = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_0__["getObjectAsList"])(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"]);
    var style = {};

    for (var i = 0; i < source.length; i++) {
      var value = styleObj.getAttribute(source[i]);

      if (value) {
        switch (source[i]) {
          case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS:
            style[source[i]] = parseFloat(value);
            break;
          case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_SIZE:
          case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].OPACITY:
          case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_OPACITY:
            style[source[i]] = parseFloat(value);
            break;
          case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].STROKE_LINEJOIN:
            break;
          case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_FAMILY:
          case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_STYLE:
          case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_WEIGHT:
          case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].COLOR:
          case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_COLOR:
          case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_COLOR:
            style[source[i]] = value;
            break;
          default:
            break;}

      }
    }

    if (!style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_COLOR]) {
      style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_COLOR] = style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].COLOR];
    }

    if (!style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_COLOR]) {
      style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_COLOR] = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["COLORS"].NO_COLOR;
    }

    return style;
  };

  var isClosed = function isClosed() {
    var path = svgNode.childNodes[1] || '';
    var closed = false;

    if (typeof path !== 'string') {
      var d = path.getAttribute('d').split(' ');
      if (d[d.length - 1].toLowerCase() === 'z') {
        closed = true;
      }
    }
    return closed;
  };

  var getLocations = function getLocations() {
    var locations = [];
    var attribute = getMetaAttribute('locations');
    var locStr = attribute && attribute.split(' ') || '';

    for (var i = 0; i < locStr.length; i += 2) {
      var point = new THREE.Vector3(parseFloat(locStr[i]), parseFloat(locStr[i + 1]), 0);
      locations.push(point);
    }

    return locations;
  };

  var getAttributeVector = function getAttributeVector(attribute) {
    var posVec = new THREE.Vector3();
    var value = getMetaAttribute(attribute);

    if (value) {
      var strPos = value.split(' ');

      posVec.x = strPos[0] && parseFloat(strPos[0]) || 0;
      posVec.y = strPos[1] && parseFloat(strPos[1]) || 0;
      posVec.z = strPos[2] && parseFloat(strPos[2]) || 0;
    }

    return posVec;
  };

  var getPosition = function getPosition() {
    return getAttributeVector('position');
  };

  var getSize = function getSize() {
    return getAttributeVector('size');
  };

  var getRotation = function getRotation() {
    var strRot = getMetaAttribute('rotation');
    return strRot && parseFloat(strRot) || 0;
  };

  var getText = function getText() {
    return getMetaAttribute('text') || '';
  };

  var getIsFrameUsed = function getIsFrameUsed() {
    return !!parseInt(getMetaAttribute('isFrameUsed'), 10);
  };

  var fixScalableShapeAnchors = function fixScalableShapeAnchors() {
    var halfThickness = state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] / 2;
    state.anchors[0].add(new THREE.Vector3(halfThickness, halfThickness, 0));
    state.anchors[1].add(new THREE.Vector3(-halfThickness, halfThickness, 0));
    state.anchors[2].add(new THREE.Vector3(-halfThickness, -halfThickness, 0));
    state.anchors[3].add(new THREE.Vector3(halfThickness, -halfThickness, 0));
  };

  var fixLegacyFontSize = function fixLegacyFontSize() {
    // Fix font size for older markups by converting from world to font
    var scale = renderer.getFontToWorldScale();
    state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_SIZE] /= scale;
  };

  var fixLegacyFill = function fixLegacyFill() {
    if (!state.isFrameUsed) {
      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_OPACITY] = 0;
    }
  };

  state.style = getStyle(meta);

  // Support legacy markup extension - BLMV-3054.
  if (state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_COLOR] === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["COLORS"].NO_COLOR) {
    state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FILL_OPACITY] = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DEFAULT_FILL_OPACITY"];
  }

  state.position = getPosition();
  state.rotation = getRotation();
  state.size = getSize();

  if (!viewer.impl.is2d) {
    Object(_MarkupsSceneState__WEBPACK_IMPORTED_MODULE_1__["restoreMarkupViewState"])(viewer, layerData, true);
  }

  var offset;

  switch (type) {
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_RECTANGLE"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CLOUD"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CIRCLE"]:
      state.anchors[0] = new THREE.Vector3(-state.size.x / 2, -state.size.y / 2, 0);
      state.anchors[1] = new THREE.Vector3(state.size.x / 2, -state.size.y / 2, 0);
      state.anchors[2] = new THREE.Vector3(state.size.x / 2, state.size.y / 2, 0);
      state.anchors[3] = new THREE.Vector3(-state.size.x / 2, state.size.y / 2, 0);
      if (isLegacyMarkup && type !== _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CLOUD"]) {
        fixScalableShapeAnchors(); // Legacy circle/rectangle markups grow inwards
      }
      break;

    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_ARROW"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_LINE"]:
      state.anchors[0] = getAttributeVector('tail');
      state.anchors[1] = getAttributeVector('head');
      if (isLegacyMarkup) {
        state.rotation = 0;
      }
      break;

    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_TEXT"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CALLOUT"]:
      state.text = getText();
      state.isFrameUsed = getIsFrameUsed();

      if (isLegacyMarkup || isLeaflet || isPdf) {// For Leaflet we do it for new markups as well
        fixLegacyFontSize();
        if (isLegacyMarkup) {
          fixLegacyFill();
        }
      }

      state.anchors[0] = new THREE.Vector3(-state.size.x / 2, -state.size.y / 2, 0);
      state.anchors[1] = new THREE.Vector3(state.size.x / 2, -state.size.y / 2, 0);
      state.anchors[2] = new THREE.Vector3(state.size.x / 2, state.size.y / 2, 0);
      state.anchors[3] = new THREE.Vector3(-state.size.x / 2, state.size.y / 2, 0);
      break;

    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_ARROW_CALLOUT"]:
      state.text = getText();
      state.anchors[0] = getAttributeVector('p1');
      state.anchors[1] = getAttributeVector('p2');
      state.anchors[2] = getAttributeVector('p3');
      state.anchors[3] = getAttributeVector('p4');
      state.anchors[4] = getAttributeVector('tail');
      state.anchors[5] = getAttributeVector('joint');
      state.anchors[6] = getAttributeVector('head');
      break;

    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_HIGHLIGHT"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_FREEHAND"]:
      state.anchors = getLocations();
      break;

    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_POLYCLOUD"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_POLYLINE"]:
      state.anchors = getLocations();
      state.closed = isClosed();
      break;

    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_DIMENSION"]:
      state.anchors[0] = getAttributeVector('firstAnchor');
      state.anchors[1] = getAttributeVector('secondAnchor');

      offset = getAttributeVector('offset');
      state.position.sub(offset);
      state.translation = markupsToWorld(offset, viewer, renderer, layerData).sub(markupsToWorld(new THREE.Vector3(), viewer, renderer, layerData));

      state.text = getText();

      if (isLegacyMarkup || isLeaflet || isPdf) {// For Leaflet we do it for new markups as well
        fixLegacyFontSize();
        if (isLegacyMarkup) {
          // Legacy dimension used half the thickness
          state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] /= 2;
        }
      }

      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_SIZE] /= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DIMENSION_FONT_SIZE_FACTOR"];
      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] /= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DIMENSION_THICKNESS_FACTOR"];
      break;

    default:
      break;}


  // Translate to position.
  Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_0__["applyTranslation"])(state.anchors, state.position);

  // Conversion for legacy markups
  // For Leaflet we do it for new markups as well, to support exporting to PDF with markups included
  // Also, for Leaflet we have to make sure we support different DPIs from old versions.
  if (isLegacyMarkup && viewer.model.is3d() || isLeaflet || isPdf) {
    // Get the world position from the legacy markups coordinate system.
    state.anchors.forEach(function (anchor) {
      anchor.copy(markupsToWorld(anchor, viewer, renderer, layerData));
    });

    // Convert font and thickness sizes
    state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] = sizeFromMarkupsToWorld(state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS], viewer, renderer, layerData);
    state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_SIZE] = sizeFromMarkupsToWorld(state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].FONT_SIZE], viewer, renderer, layerData);
  }

  return output;
};

var getLayerDataModelVersion = function getLayerDataModelVersion(layerMetadata) {
  var versionAttr = layerMetadata.getAttribute('data-model-version');
  return typeof versionAttr === 'string' ? parseFloat(versionAttr) : 0;
};

var parseMarkupLayer = function parseMarkupLayer(svgString, layerData, viewer, renderer) {
  try {
    // data-model-version 6 and up saved as JSON.
    var metadata = JSON.parse(svgString);
    return metadata;
  } catch (e) {
    // data-model-version 5 and lower saved as SVG.
    var parentSvgNode = stringToSvgNode(svgString);
    var children = parentSvgNode.childNodes;

    var markups = [];

    var layerMetadata = children[0].childNodes[0];
    var dataModelVersion = getLayerDataModelVersion(layerMetadata);

    var viewerStateBackup = !viewer.impl.is2d ? viewer.getState() : null;

    for (var i = 0; i < children.length; i++) {
      var child = children[i];
      var _metadata = child.childNodes[0].childNodes[0];
      if (_metadata) {
        var markup = parseMetadata(child, layerData, viewer, renderer, dataModelVersion);
        markups.push(markup);
      }
    }

    if (viewerStateBackup) {
      viewer.restoreState(viewerStateBackup, null, true);
    }

    return markups;
  }
};

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsEvents.js":
/*!************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsEvents.js ***!
  \************************************************/
/*! exports provided: MARKUPS_EVENTS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MARKUPS_EVENTS", function() { return MARKUPS_EVENTS; });
var MARKUPS_EVENTS = {
  MARKUP_SESSION_START: 'markup.session.start', // Triggered when a markup session starts. Can be creation or edition of existing markup.
  MARKUP_SESSION_END: 'markup.session.end', // Triggered when a markup session ends. Can be creation or edition of existing markup.
  MARKUP_TOOL_ENABLED_CHANGED: 'markup.tool.enabled.changed', // Triggered when tool enabled / disabled. When disabled, all user interactions disabled.
  MARKUP_REMOVED: 'markup.removed', // Triggered when markup has been removed from the canvas.
  MARKUP_DRAWING_START: 'markup.drawing.start', // Triggered when markup drawing starts - The drawing itself.
  MARKUP_DRAWING_END: 'markup.drawing.end', // Triggered when markup drawing ends - When the user stops drawing.
  MARKUP_DRAWING_CANCEL: 'markup.drawing.cancel', // Triggered when markup drawing has been canceled.
  MARKUP_EDIT_START: 'markup.edit.start', // Triggered when a markup edit has started.
  MARKUP_EDIT_END: 'markup.edit.end', // Triggered when a markup edit has ended.
  MARKUP_SELECTED: 'markup.selected', // Triggered when a markup has been selected.
  MARKUP_DESELECTED: 'markup.deselected', // Triggered when a markup has been deselected.
  MARKUP_ENABLE_EDIT: 'markup.enable.edit', // Triggered when a markup edit is enabled. Used for user interactions.
  MARKUP_DISABLE_EDIT: 'markup.disable.edit', // Triggered when a markup edit is disabled.
  MARKUP_DIRTY: 'markup.dirty', // Triggered when a markup is dirty. Used for rendering.
  MARKUP_VISIBILITY_CHANGED: 'markup.visibility.changed', // Triggered when markup visibility changed. Invisible markups won't be rendered.
  MARKUP_VIEW_ENTERED: 'markup.view.entered', // Triggered when entering markup view (3D only). locks camera & navigation.
  MARKUP_VIEW_EXITED: 'markup.view.exited', // Triggered when exiting markup view (3D only). makes visible layers invisible, and unlock camera & navigation.
  TEXT_EDITING_STARTED: 'text.editing.started', // Triggered when text editing has been enabled. Used to notify when mobile keyboard turns on.
  TEXT_EDITING_ENDED: 'text.editing.ended', // Triggered when text editing has been disabled. Used to notify when mobile keyboard turns off.

  LAYER_DIRTY: 'layer.dirty', // Triggered when a layer is dirty. Used for rendering.
  LAYER_SELECTED: 'layer.selected', // Triggered when a layer has been selected.
  LAYER_DESELECTED: 'layer.deselected', // Triggered when a layer has been deselected.
  LAYER_SELECTED_FROM_DIFFERENT_SHEET: 'layer.selected.from.different.sheet', // Triggered when a layer has been selected, but it's not from the current sheet. Used to let the viewer observer to switch sheet and then select the layer.
  LAYER_EDITED_FROM_DIFFERENT_SHEET: 'layer.edited.from.different.sheet', // Triggered when a layer has been selected for editing, but it's not from the current sheet. Used to let the viewer observer to switch sheet and then edit the layer.
  LAYER_DELETE: 'layer.delete', // Triggered in order to signal the service operator to start deleting a layer.
  LAYER_DELETED: 'layer.deleted', // Triggered when a layer has been deleted from the backend.
  LAYER_PUBLISH: 'layer.publish', // Triggered in order to signal the service operator to start publishing a layer.
  LAYER_ARCHIVE: 'layer.archive', // Triggered in order to signal the service operator to start archiving a layer.
  LAYER_SYNCING: 'layer.syncing', // Triggered when a layer syncing with the backend has been started. Could be saving, editing, deleting or updating status.
  LAYER_SYNCED: 'layer.synced', // Triggered when a layer sync with the backend has been completed.
  LAYER_READY_TO_SAVE: 'layer.ready.to.save', // Triggered when a layer is ready for being saved. Used to enable / disable save button.
  LAYER_CREATED: 'layer.created', // Triggered when a layer is created.

  DOCUMENT_ATTACHMENT_CREATION_START: 'document.attachment.creation.start', // Triggered in order to signal the service operator to start create a new document attachment.
  DOCUMENT_ATTACHMENT_RENAME: 'document.attachment.rename', // Triggered in order to signal the service operator to start renaming a document attachment.
  DOCUMENT_ATTACHMENT_DELETE: 'document.attachment.delete', // Triggered in order to signal the service operator to start deleting a document attachment.

  LAYER_FETCHED: 'layer.fetched', // Triggered when a layer has been downloaded from the backend.
  LAYER_RESOURCE_FETCHED: 'layer.resource.fetched', // Triggered when a layer's resource has been downloaded from the backend.
  LAYER_THUMBNAIL_FETCHED: 'layer.thumbnail.fetched', // Triggered when a layer's thumbnail has been downloaded from the backend.
  LAYER_METADATA_FETCHED: 'layer.metadata.fetched', // Triggered when a layer's metadata has been downloaded from the backend.
  ATTACHMENT_THUMBNAIL_LOADED: 'attachment.thumbnail.loaded', // Triggered when an attachment thumbnail has been downloaded from the backend.
  ALL_MARKUPS_LOADED: 'all.markups.loaded', // Triggered when all markups have been loaded from the backend.
  PROJECT_USERS_FETCHED: 'project.users.fetched', // Triggered when the users' array has been fetched from the backend.

  LINK_DIRTY: 'link.dirty', // Triggered when a link icon is dirty. Used for rendering.
  LINK_SELECTED: 'link.selected', // Triggered when a link has been selected.
  LINK_DESELECTED: 'link.deselected', // Triggered when a link has been deselected.
  LINK_SYNCED: 'link.synced', // Triggered when a link sync with the backend has been completed.
  LINK_SYNCING: 'link.syncing', // Triggered when a link syncing with the backend has been started. Could be saving, editing, deleting or updating status.
  LINK_REMOVED: 'link.removed', // Triggered when link has been removed from the canvas.
  LINK_RENDERED: 'link.rendered', // Triggered after a link icon has been rendered.

  FILTER_CHANGED: 'filter.changed', // Triggered when a filter has been changed.
  BUTTON_DOWN: 'button.down', // Triggered when the user clicked somewhere on the canvas. Used to notify menus to close submenus.
  MARKUP_CREATION_TYPE_CHANGED: 'markup.creation.type.changed', // Triggered when the selected markup tool has changed. (i.e. polyline, arrow).
  MARKUP_STYLE_PROPERTY_CHANGED: 'markup.style.property.changed', // Triggered when style property has been changed. Affect the toolbar and contextual menu style buttons.

  LAYER_DISCARD_PRESSED: 'layer.discard.pressed', // Triggered when 'discard markup' has been selected by the user.
  LAYER_PUBLISH_PRESSED: 'layer.publish.pressed', // Triggered when 'publish markup' has been selected by the user.
  LAYER_ARCHIVE_PRESSED: 'layer.archive.pressed', // Triggered when 'archive markup' has been selected by the user.
  LAYER_DELETE_PRESSED: 'layer.delete.pressed', // Triggered when 'delete markup' has been selected by the user.
  LAYER_DELETE_EMPTY_PRESSED: 'layer.delete.empty.pressed', // Triggered when 'save markup' has been selected by the user, while the layer is empty.
  EXIT_VIEWER_PRESSED: 'exit.viewer.pressed', // Triggered when exiting the viewer, while the layer is still in saving process.

  RECT_SELECTOR_UPDATED: 'rect.selector.updated', // Triggered when a rect selector frame changed.
  CALIBRATION_REQUIRED: 'calibration.required' // Triggered when trying to create a measure markup, and the document requires calibration first
};

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsLayer.js":
/*!***********************************************!*\
  !*** ./extensions/BimMarkups/MarkupsLayer.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupsLayer; });
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _MarkupTypes_Markup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupTypes/Markup */ "./extensions/BimMarkups/MarkupTypes/Markup.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupsLayerData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupsLayerData */ "./extensions/BimMarkups/MarkupsLayerData.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _Links_Link__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Links/Link */ "./extensions/BimMarkups/Links/Link.js");
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}





var

MarkupsLayer = /*#__PURE__*/function () {
  function MarkupsLayer(markupsExtension, id, layerData) {_classCallCheck(this, MarkupsLayer);
    this.markupsExtension = markupsExtension;
    this.id = id;
    this.layerData = !layerData || layerData instanceof _MarkupsLayerData__WEBPACK_IMPORTED_MODULE_3__["default"] ? layerData : new _MarkupsLayerData__WEBPACK_IMPORTED_MODULE_3__["default"](layerData.guid, layerData.resources, layerData.attachments, layerData.status, layerData.metadata);

    this.markups = {};
    this.links = {};

    this.selected = false;
    this.visible = false;
    this.transparent = false;
    this.hover = false;
  }_createClass(MarkupsLayer, [{ key: "addMarkup", value: function addMarkup(

    markup) {
      this.markups[markup.id] = markup;
      markup.layer = this;

      markup.setVisible(this.visible, true);
    } }, { key: "deleteMarkup", value: function deleteMarkup(

    markup) {
      var markupId = markup instanceof _MarkupTypes_Markup__WEBPACK_IMPORTED_MODULE_1__["default"] ? markup.id : markup;

      if (this.markups[markupId]) {
        markup.deselect();

        delete this.markups[markupId];
        markup.remove();
        markup.layer = null;

        this.setDirty();
      } else {
        console.warn('deleteMarkup - markup does not exist');
      }
    } }, { key: "deleteAllMarkups", value: function deleteAllMarkups()

    {var _this = this;
      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_5__["forAll"])(this.markups, function (markup) {
        _this.deleteMarkup(markup);
      });
    } }, { key: "getMarkupById", value: function getMarkupById(

    markupId) {
      return this.markups[markupId];
    } }, { key: "isEmpty", value: function isEmpty()

    {
      return Object.keys(this.markups).length === 0;
    } }, { key: "addLink", value: function addLink(

    link) {
      this.links[link.id] = link;
    } }, { key: "deleteLink", value: function deleteLink(

    link) {
      var linkId = link instanceof _Links_Link__WEBPACK_IMPORTED_MODULE_6__["default"] ? link.id : link;

      if (this.links[linkId]) {
        this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_4__["MARKUPS_EVENTS"].LINK_REMOVED, link: link });
        delete this.links[linkId];
      } else {
        console.warn('deleteLink - markup does not exist');
      }
    } }, { key: "deleteAllLinks", value: function deleteAllLinks()

    {var _this2 = this;
      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_5__["forAll"])(this.links, function (link) {
        _this2.deleteLink(link);
      });
    } }, { key: "getLinkById", value: function getLinkById(

    linkId) {
      return this.links[linkId];
    } }, { key: "getClientBoundingBox", value: function getClientBoundingBox(

    withMargin) {
      var boundingBox = this.getWorldBoundingBox();

      boundingBox.min = this.markupsExtension.renderer.worldToClient(boundingBox.min);
      boundingBox.max = this.markupsExtension.renderer.worldToClient(boundingBox.max);

      var eyeDirection = this.markupsExtension.renderer.getCameraEyeVector();
      var center = boundingBox.center();

      var cameraRotation = this.markupsExtension.renderer.getCameraRotation();

      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(boundingBox.min, cameraRotation, center, eyeDirection);
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(boundingBox.max, cameraRotation, center, eyeDirection);

      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].swapBoundingBoxY(boundingBox);

      if (withMargin) {
        var margin = this.getMarginSize();
        boundingBox.expandByVector(new THREE.Vector3(margin, margin, 0));
      }

      boundingBox.min.z = 0;
      boundingBox.max.z = 0;

      return boundingBox;
    } }, { key: "getMarginSize", value: function getMarginSize()

    {
      return _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["BOUNDING_BOX_MARGIN"];
    } }, { key: "getWorldBoundingBox", value: function getWorldBoundingBox()

    {
      var boundingBox = new THREE.Box3();

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_5__["forAll"])(this.markups, function (markup) {
        var bbox = markup.getWorldBoundingBox(true);
        boundingBox.union(bbox);
      });

      return boundingBox;
    } }, { key: "getRotation", value: function getRotation()

    {
      return 0;
    } }, { key: "getAllMarkups", value: function getAllMarkups()

    {
      return Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_5__["getObjectAsList"])(this.markups);
    } }, { key: "getAllLinks", value: function getAllLinks()

    {
      return Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_5__["getObjectAsList"])(this.links);
    } }, { key: "hasSingleMarkup", value: function hasSingleMarkup()

    {
      return this.getAllMarkups().length === 1;
    } }, { key: "select", value: function select()

    {
      this.selected = true;
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_4__["MARKUPS_EVENTS"].LAYER_SELECTED, layer: this });
      this.setDirty();
    } }, { key: "deselect", value: function deselect()

    {
      this.selected = false;
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_4__["MARKUPS_EVENTS"].LAYER_DESELECTED, layer: this });
      this.setDirty();
    } }, { key: "isSelected", value: function isSelected()

    {
      return this.selected;
    } }, { key: "setHover", value: function setHover(

    hover) {
      if (this.hover !== hover) {
        this.hover = hover;

        this.getAllLinks().forEach(function (link) {
          link.setHover(hover);
        });

        this.setDirty();
      }
    } }, { key: "isHovered", value: function isHovered()

    {
      return this.hover;
    } }, { key: "unhoverAllMarkups", value: function unhoverAllMarkups()

    {
      var markups = this.getAllMarkups();
      markups.forEach(function (markup) {
        markup.setHover(false);
      });
    } }, { key: "setVisible", value: function setVisible(

    isVisible) {
      this.visible = isVisible;
      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_5__["forAll"])(this.markups, function (markup) {
        markup.setVisible(isVisible);
      });
      this.setDirty();
    } }, { key: "isVisible", value: function isVisible()

    {
      return this.visible;
    } }, { key: "setDirty", value: function setDirty()

    {
      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_4__["MARKUPS_EVENTS"].LAYER_DIRTY, layer: this });
    } }, { key: "getGuid", value: function getGuid()

    {
      return this.layerData && this.layerData.guid;
    } }, { key: "selectAllMarkups", value: function selectAllMarkups()

    {
      this.getAllMarkups().forEach(function (markup) {
        markup.select();
      });
    } }, { key: "changeTransparency", value: function changeTransparency(

    transparent) {
      this.transparent = transparent;

      this.getAllMarkups().forEach(function (markup) {
        markup.changeTransparency(transparent);
      });
    } }, { key: "isTransparent", value: function isTransparent()

    {
      return this.transparent;
    } }, { key: "enable", value: function enable()

    {
      this.getAllMarkups().forEach(function (markup) {
        markup.enable();
      });
    } }, { key: "disable", value: function disable()

    {
      this.getAllMarkups().forEach(function (markup) {
        markup.disable();
      });
    } }]);return MarkupsLayer;}();

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsLayerData.js":
/*!***************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsLayerData.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupsLayerData; });
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}var MarkupsLayerData = /*#__PURE__*/function () {
  function MarkupsLayerData(guid, resources, attachments, status, metadata) {_classCallCheck(this, MarkupsLayerData);
    this.guid = guid;
    this.resources = resources || [];
    this.attachments = attachments || [];
    this.status = status;
    this.metadata = metadata || {};
  }_createClass(MarkupsLayerData, [{ key: "getSvgResource", value: function getSvgResource()

    {
      return this.resources[0] && this.resources[0].data;
    } }, { key: "getScreenCaptureResource", value: function getScreenCaptureResource()

    {
      return this.resources[1] && this.resources[1].data;
    } }, { key: "getLinksMetadata", value: function getLinksMetadata()

    {
      return this.metadata && this.metadata.markup_metadata && this.metadata.markup_metadata.links;
    } }, { key: "getMetadata", value: function getMetadata()

    {
      return this.metadata;
    } }]);return MarkupsLayerData;}();

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsManager.js":
/*!*************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsManager.js ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupsManager; });
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _Utils_EventUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils/EventUtils */ "./extensions/BimMarkups/Utils/EventUtils.js");
/* harmony import */ var _Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Utils/ActionManager/ActionManager */ "./extensions/BimMarkups/Utils/ActionManager/ActionManager.js");
/* harmony import */ var _MarkupsLayer__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupsLayer */ "./extensions/BimMarkups/MarkupsLayer.js");
/* harmony import */ var _MarkupTypes_Markup__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MarkupTypes/Markup */ "./extensions/BimMarkups/MarkupTypes/Markup.js");
/* harmony import */ var _MarkupTypes_MarkupsTypesDictionary__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./MarkupTypes/MarkupsTypesDictionary */ "./extensions/BimMarkups/MarkupTypes/MarkupsTypesDictionary.js");
/* harmony import */ var _Links_LinkTypesDictionary__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Links/LinkTypesDictionary */ "./extensions/BimMarkups/Links/LinkTypesDictionary.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _MarkupsDeserializer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./MarkupsDeserializer */ "./extensions/BimMarkups/MarkupsDeserializer.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _Actions_AddMarkupAction__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Actions/AddMarkupAction */ "./extensions/BimMarkups/Actions/AddMarkupAction.js");
/* harmony import */ var _MarkupsSceneState__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./MarkupsSceneState */ "./extensions/BimMarkups/MarkupsSceneState.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _toConsumableArray(arr) {return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();}function _nonIterableSpread() {throw new TypeError("Invalid attempt to spread non-iterable instance");}function _iterableToArray(iter) {if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);}function _arrayWithoutHoles(arr) {if (Array.isArray(arr)) {for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {arr2[i] = arr[i];}return arr2;}}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}











var

MarkupsManager = /*#__PURE__*/function (_Autodesk$Viewing$Eve) {_inherits(MarkupsManager, _Autodesk$Viewing$Eve);
  function MarkupsManager(markupsExtension) {var _this;_classCallCheck(this, MarkupsManager);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupsManager).call(this));

    _this.markupsExtension = markupsExtension;
    _this.actionManager = new _Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_2__["default"]();

    _this.registerEvents();
    _this.reset();return _this;
  }_createClass(MarkupsManager, [{ key: "registerEvents", value: function registerEvents()

    {
      this.onHistoryChangedBinded = this.onHistoryChanged.bind(this);
      this.actionManager.addEventListener(_Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_2__["default"].HISTORY_CHANGED_EVENT, this.onHistoryChangedBinded);

      this.onAllMarkupsLoadedBinded = this.onAllMarkupsLoaded.bind(this);
      this.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].ALL_MARKUPS_LOADED, this.onAllMarkupsLoadedBinded);

      this.onMarkupLayerFetchedBinded = this.onMarkupLayerFetched.bind(this);
      this.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_FETCHED, this.onMarkupLayerFetchedBinded);

      this.onMarkupResourceFetchedBinded = this.onMarkupResourceFetched.bind(this);
      this.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_RESOURCE_FETCHED, this.onMarkupResourceFetchedBinded);

      this.onMarkupLinkSyncedBinded = this.onMarkupLinkSynced.bind(this);
      this.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LINK_SYNCED, this.onMarkupLinkSyncedBinded);

      this.onLayerSyncedBinded = this.onLayerSynced.bind(this);
      this.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_SYNCED, this.onLayerSyncedBinded);

      this.onLayerSyncingBinded = this.onLayerSyncing.bind(this);
      this.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_SYNCING, this.onLayerSyncingBinded);

      this.onLayerSelectedBinded = this.onLayerSelected.bind(this);
      this.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_SELECTED, this.onLayerSelectedBinded);

      this.onLayerDeselectedBinded = this.onLayerDeselected.bind(this);
      this.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_DESELECTED, this.onLayerDeselectedBinded);

      this.onCalibrationEndedBinded = this.onCalibrationEnded.bind(this);
      this.markupsExtension.viewer.addEventListener(Autodesk.Viewing.MeasureCommon.Events.FINISHED_CALIBRATION_FOR_DIMENSION_EVENT, this.onCalibrationEndedBinded);

      this.onDrawingStartBinded = this.onDrawingStart.bind(this);
      this.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_DRAWING_START, this.onDrawingStartBinded);

      this.onDrawingEndBinded = this.onDrawingEnd.bind(this);
      this.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_DRAWING_END, this.onDrawingEndBinded);
      this.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_DRAWING_CANCEL, this.onDrawingEndBinded);
    } }, { key: "unregisterEvents", value: function unregisterEvents()

    {
      this.actionManager.removeEventListener(_Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_2__["default"].HISTORY_CHANGED_EVENT, this.onHistoryChangedBinded);
      this.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].ALL_MARKUPS_LOADED, this.onAllMarkupsLoadedBinded);
      this.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_FETCHED, this.onMarkupLayerFetchedBinded);
      this.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_RESOURCE_FETCHED, this.onMarkupResourceFetchedBinded);
      this.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LINK_SYNCED, this.onMarkupLinkSyncedBinded);
      this.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_SYNCED, this.onLayerSyncedBinded);
      this.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_SYNCING, this.onLayerSyncingBinded);
      this.markupsExtension.viewer.removeEventListener(Autodesk.Viewing.MeasureCommon.Events.FINISHED_CALIBRATION_FOR_DIMENSION_EVENT, this.onCalibrationEndedBinded);
      this.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_DRAWING_START, this.onDrawingStartBinded);
      this.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_DRAWING_END, this.onDrawingEndBinded);
      this.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_DRAWING_CANCEL, this.onDrawingEndBinded);
    } }, { key: "createLayer", value: function createLayer(

    layerJson) {
      var layer = new _MarkupsLayer__WEBPACK_IMPORTED_MODULE_3__["default"](this.markupsExtension, this.nextLayerId, layerJson);
      this.layers[layer.id] = layer;

      this.nextLayerId += 1;

      this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_CREATED });
      return layer;
    } }, { key: "loadLayers", value: function loadLayers(

    layersJson, ignoreFilters, removeExistingLayers) {var _this2 = this;
      if (removeExistingLayers) {
        this.removeAllLayers([this.getActiveLayer()]);

        if (this.markupsExtension.markupsCache) {
          this.markupsExtension.markupsCache.cleanCache();
        }
      }

      layersJson = layersJson instanceof Array ? layersJson : [layersJson];

      layersJson.forEach(function (layerJson) {
        // Add layer to cache if it's not there
        if (_this2.markupsExtension.markupsCache && layerJson.guid && !_this2.markupsExtension.markupsCache.get(layerJson.guid)) {
          _this2.markupsExtension.markupsCache.add(layerJson.guid, layerJson);
        }
      });

      var layersFiltered = ignoreFilters ? layersJson : this.markupsExtension.filterManager.filterLayers(layersJson);

      // Remove filtered out layers that currently on canvas.
      this.getLayersAsList().forEach(function (layer) {
        if (layer !== _this2.getActiveLayer() && layersFiltered.findIndex(function (l) {return l.guid === layer.getGuid();}) === -1) {
          _this2.removeLayer(layer);
        }
      });

      // Add new layers that was added to canvas.
      layersFiltered.forEach(function (layerJson) {
        if (!_this2.getLayerByGuid(layerJson.guid)) {
          var layer = _this2.createLayer(layerJson);

          if (_this2.markupsExtension.viewer.impl.is2d) {
            layer.setVisible(true);
            _this2.loadMarkupsToLayer(layer);
          }

          _this2.loadLinksToLayer(layer);
        }
      });
    } }, { key: "removeLayer", value: function removeLayer(

    layer) {
      var layerId = layer.id;
      var layerToDelete = this.layers[layerId];

      if (layerToDelete) {
        if (this.isMarkupSessionOpen() && layerToDelete === this.getActiveLayer()) {
          this.endMarkupSession(false);
        } else if (this.markupsExtension.viewer.model && this.markupsExtension.viewer.model.is3d() && this.isInMarkupView() && this.getVisibleLayers()[0] === layerToDelete) {
          this.exitMarkupView();
        }

        this.deselectLayer(layer);
        layer.deleteAllMarkups();
        layer.deleteAllLinks();
        layer.setVisible(false);

        this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_DELETED, layer: layer });
        delete this.layers[layerId];
      } else {
        console.warn('deleteLayer - layer does not exist');
      }
    } }, { key: "removeAllLayers", value: function removeAllLayers(

    exclude) {var _this3 = this;
      this.getLayersAsList().forEach(function (layer) {
        if (!exclude || exclude.indexOf(layer) === -1) {
          _this3.removeLayer(layer);
        }
      });
    } }, { key: "deleteLayer", value: function deleteLayer(

    layer) {
      // Delete the layer from backend.
      this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_DELETE, layerData: layer.layerData });
    } }, { key: "getLayerById", value: function getLayerById(

    layerId) {
      return this.layers[layerId];
    } }, { key: "getLayerByGuid", value: function getLayerByGuid(

    layerGuid) {
      if (layerGuid === null || layerGuid === undefined) {
        return null;
      }

      return this.getLayersAsList().find(function (layer) {return layer.getGuid() === layerGuid;});
    } }, { key: "addMarkupToLayer", value: function addMarkupToLayer(

    markup, layer) {
      if (!this.getLayerById(layer.id)) {
        this.layers[layer.id] = layer;
      }

      // If other layer is selected, make new markup transparent.
      if (this.markupsExtension.markupsManager.getSelectedLayers().length > 0 && !layer.isSelected()) {
        markup.changeTransparency(true);
      }

      // If other layer is under edit session, make new markup transparent.
      if (this.isMarkupSessionOpen() && layer !== this.getActiveLayer() || !this.isToolEnabled()) {
        markup.disable();
      }

      layer.addMarkup(markup);
      return true;
    } }, { key: "addLinkToLayer", value: function addLinkToLayer(

    link, layer) {
      if (!this.getLayerById(layer.id)) {
        this.layers[layer.id] = layer;
      }

      layer.addLink(link);
      return true;
    } }, { key: "createMarkup", value: function createMarkup(

    type, optionalState) {
      var MarkupClass = _MarkupTypes_MarkupsTypesDictionary__WEBPACK_IMPORTED_MODULE_5__["markupsTypesDictionary"][type];

      if (MarkupClass) {
        var markup = new MarkupClass(this.markupsExtension, this.nextMarkupId, optionalState);
        this.nextMarkupId += 1;
        return markup;
      }

      return null;
    } }, { key: "createLink", value: function createLink(

    layer, linkMetadata) {
      var position = linkMetadata.position ? new THREE.Vector3().copy(linkMetadata.position) : null;

      if (position && this.markupsExtension.viewer.model.getData().isPdf) {
        Autodesk.Viewing.PDFUtils.leafletToPdfWorld(this.markupsExtension.viewer, position);
      }

      var link = new _Links_LinkTypesDictionary__WEBPACK_IMPORTED_MODULE_6__["linkTypesDictionary"][linkMetadata.type](this.markupsExtension, this.nextLinkId, linkMetadata.id, layer, { position: position });
      this.nextLinkId += 1;
      return link;
    } }, { key: "onAllMarkupsLoaded", value: function onAllMarkupsLoaded(_ref)

    {var amount = _ref.amount;
      console.log('All markups have been loaded. Amount: ' + amount);
    } }, { key: "onMarkupLayerFetched", value: function onMarkupLayerFetched(_ref2)

    {var _this4 = this;var layerData = _ref2.layerData;
      this.markupsExtension.filterManager.filterLayers([layerData]).forEach(function (data) {
        var layer = _this4.createLayer(data);

        if (_this4.markupsExtension.viewer.impl.is2d) {
          layer.setVisible(true);
        }
      });
    } }, { key: "onMarkupResourceFetched", value: function onMarkupResourceFetched(_ref3)

    {var layerData = _ref3.layerData;
      if (this.markupsExtension.viewer.impl.is2d) {
        var layer = this.getLayerByGuid(layerData.guid);

        if (layer) {
          this.loadMarkupsToLayer(layer);
        }
      }
    } }, { key: "onMarkupLinkSynced", value: function onMarkupLinkSynced(_ref4)

    {var documentAttachment = _ref4.documentAttachment,layerData = _ref4.layerData;
      var layer = this.getLayerByGuid(layerData.guid);

      if (layer) {
        if (documentAttachment && documentAttachment.status === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["MARKUP_ATTACHMENT_DELETEING"] &&
        layerData.attachments.length === 0) {
          layer.deleteAllLinks();
        }
        this.loadLinksToLayer(layer);
      }
    } }, { key: "onDrawingStart", value: function onDrawingStart()

    {
      var duringCreationMarkup = this.getDuringCreationMarkup(false);
      this.polySaveDisabled = duringCreationMarkup && duringCreationMarkup.inEdit && (
      duringCreationMarkup.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["MARKUP_TYPE_POLYLINE"] ||
      duringCreationMarkup.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["MARKUP_TYPE_POLYCLOUD"]);

      this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_READY_TO_SAVE, readyToSave: this.getReadyToSave() });
    } }, { key: "onDrawingEnd", value: function onDrawingEnd()

    {
      this.polySaveDisabled = false;

      this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_READY_TO_SAVE, readyToSave: this.getReadyToSave() });
    } }, { key: "getReadyToSave", value: function getReadyToSave()

    {
      var activeLayer = this.getActiveLayer();
      var isEmpty;
      var hasEmptyText;

      if (activeLayer) {
        isEmpty = activeLayer.isEmpty();

        if (!isEmpty) {
          // Don't allow saving empty text.
          hasEmptyText = activeLayer.getAllMarkups().some(function (markup) {
            return markup.isTextMarkup() && markup.textInputHandler.isEmpty();
          });
        }
      }

      // For mobile, disable save button if the layer is empty.
      // For web, enable the save button in case of an empty layer, what will trigger a deletion of the layer (in case the user has permissions)
      var emptynessCondition = this.markupsExtension.options.isMobileApp ?
      !isEmpty :
      !isEmpty || isEmpty && this.markupsExtension.permissionManager.canDeleteMarkup(activeLayer.layerData);
      var ready = activeLayer && emptynessCondition && !this.polySaveDisabled && !hasEmptyText;

      return !!ready;
    } }, { key: "removeMarkupFromLayer", value: function removeMarkupFromLayer(

    markup) {
      var layer = markup.layer;

      if (layer) {
        this.duringCreationMarkup = null;

        markup.deselect();
        markup.disableEdit();
        layer.deleteMarkup(markup);

        return true;
      } else {
        console.warn('removeMarkupFromLayer - markup does not exist');
        return false;
      }
    } }, { key: "getMarkupById", value: function getMarkupById(

    markupId) {
      var markup = null;

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__["forAll"])(this.layers, function (l) {
        var m = l.getMarkupById(markupId);

        if (m) {
          markup = m;
        }
      });

      return markup;
    } }, { key: "getSelectedMarkups", value: function getSelectedMarkups()

    {
      return this.getMarkupsByProperty('selected', true);
    } }, { key: "getUnselectedMarkups", value: function getUnselectedMarkups()

    {
      return this.getMarkupsByProperty('selected', false);
    } }, { key: "getSelectedLayers", value: function getSelectedLayers()

    {
      return this.getLayersByProperty('selected', true);
    } }, { key: "getUnselectedLayers", value: function getUnselectedLayers()

    {
      return this.getLayersByProperty('selected', false);
    } }, { key: "getSelectedLayer", value: function getSelectedLayer()

    {
      return this.getSelectedLayers()[0];
    } }, { key: "getVisibleLayers", value: function getVisibleLayers()

    {
      return this.getLayersByProperty('visible', true);
    } }, { key: "getVisibleMarkups", value: function getVisibleMarkups()

    {
      return this.getMarkupsByProperty('visible', true);
    } }, { key: "getEnabledMarkups", value: function getEnabledMarkups()

    {
      return this.getMarkupsByProperty('enabled', true).filter(function (markup) {return !markup.layer || markup.layer.isVisible();});
    } }, { key: "getDisabledMarkups", value: function getDisabledMarkups()

    {
      return this.getMarkupsByProperty('enabled', false);
    } }, { key: "getVisibleLinks", value: function getVisibleLinks()

    {
      var visibleLayers = this.getVisibleLayers();
      var res = [];
      visibleLayers.forEach(function (layer) {
        var links = layer.getAllLinks();
        links.forEach(function (link) {
          res.push(link);
        });
      });

      return res;
    } }, { key: "getDirtyLinks", value: function getDirtyLinks()

    {
      return this.getLinksByProperty('dirty', true);
    } }, { key: "getSelectedLinks", value: function getSelectedLinks()

    {
      return this.getLinksByProperty('selected', true);
    } }, { key: "getInEditMarkups", value: function getInEditMarkups()

    {
      var inEditMarkups = this.getMarkupsByProperty('inEdit', true);

      if (this.duringCreationMarkup && inEditMarkups.indexOf(this.duringCreationMarkup) === -1) {
        inEditMarkups.push(this.duringCreationMarkup);
      }

      return inEditMarkups;
    } }, { key: "getMarkupsByProperty", value: function getMarkupsByProperty(

    key, value) {
      var markups = [];

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__["forAll"])(this.layers, function (l) {
        Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__["forAll"])(l.markups, function (m) {
          if (m[key] === value) {
            markups.push(m);
          }
        });
      });

      return markups;
    } }, { key: "getLayersByProperty", value: function getLayersByProperty(

    key, value) {
      var layers = [];

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__["forAll"])(this.layers, function (l) {
        if (l[key] === value) {
          layers.push(l);
        }
      });

      return layers;
    } }, { key: "getLinksByProperty", value: function getLinksByProperty(

    key, value) {
      var links = [];

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__["forAll"])(this.layers, function (l) {
        Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__["forAll"])(l.links, function (m) {
          if (m[key] === value) {
            links.push(m);
          }
        });
      });

      return links;
    } }, { key: "selectMarkup", value: function selectMarkup(

    markup) {
      markup = markup instanceof _MarkupTypes_Markup__WEBPACK_IMPORTED_MODULE_4__["default"] ? markup : this.getMarkupById(markup);

      if (markup) {
        markup.select();
      } else {
        console.warn('selectMarkup - markup does not exist');
      }
    } }, { key: "deselectMarkup", value: function deselectMarkup(

    markup) {
      markup = markup instanceof _MarkupTypes_Markup__WEBPACK_IMPORTED_MODULE_4__["default"] ? markup : this.getMarkupById(markup);

      if (markup) {
        markup.deselect();
      } else {
        console.warn('selectMarkup - markup does not exist');
      }
    } }, { key: "deselectAllMarkups", value: function deselectAllMarkups(

    exclude) {
      var selectedMarkups = this.getSelectedMarkups();
      selectedMarkups.forEach(function (markup) {
        if ((!exclude || exclude.indexOf(markup) === -1) && markup.isSelected()) {
          markup.deselect();
        }
      });
    } }, { key: "unhoverAllLayers", value: function unhoverAllLayers()

    {
      var layers = this.getLayersAsList();
      layers.forEach(function (layer) {
        layer.setHover(false);
      });
    } }, { key: "unhoverAllMarkups", value: function unhoverAllMarkups()

    {
      var markups = this.getAllMarkups();
      markups.forEach(function (markup) {
        markup.setHover(false);
      });
    } }, { key: "enableAllMarkups", value: function enableAllMarkups()

    {
      this.getAllMarkups().forEach(function (markup) {
        markup.enable();
      });
    } }, { key: "disableAllMarkups", value: function disableAllMarkups()

    {
      this.getAllMarkups().forEach(function (markup) {
        markup.disable();
      });
    } }, { key: "lockNavigation", value: function lockNavigation()

    {
      if (!this.lockSettings) {
        this.lockSettings = this.markupsExtension.viewer.getNavigationLockSettings();
        this.markupsExtension.viewer.setNavigationLockSettings({
          orbit: false, pan: false, zoom: false, roll: false, fov: false, gotoview: false, walk: false });

        this.markupsExtension.viewer.navigation.setIsLocked(true);
      }

      this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_VIEW_ENTERED });
    } }, { key: "unlockNavigation", value: function unlockNavigation()

    {
      if (this.lockSettings) {
        this.markupsExtension.viewer.setNavigationLockSettings(this.lockSettings);
        this.markupsExtension.viewer.setNavigationLock(false);
        this.markupsExtension.viewer.toolController.setIsLocked(false);
        this.lockSettings = null;
      }
    } }, { key: "loadLayerIfHidden", value: function loadLayerIfHidden(

    layerGuid) {
      var layer = layerGuid instanceof _MarkupsLayer__WEBPACK_IMPORTED_MODULE_3__["default"] ? layerGuid : this.getLayerByGuid(layerGuid);

      // In case the layer is hidden because of a filter, load it and then select it.
      if (!layer && this.markupsExtension.markupsCache) {
        var layerData = this.markupsExtension.markupsCache.get(layerGuid);

        if (layerData) {
          if (this.markupsExtension.filterManager.filterWithGUID) {
            var sheetGUIDInMarkup = layerData.metadata.markup_metadata.sheetGUID;

            // Different sheet - don't load layer here.
            if (this.markupsExtension.options.sheetGUID !== sheetGUIDInMarkup) {
              layerData = null;
            }
          } else {
            var sheetNameInMarkup = layerData.metadata.markup_metadata.sheetName;

            // Different sheet - don't load layer here.
            if (this.markupsExtension.options.sheetName !== sheetNameInMarkup) {
              layerData = null;
            }
          }
        }

        if (layerData) {
          this.loadLayers([layerData], true);
          layer = this.getLayerByGuid(layerGuid);
        }
      }

      return layer;
    } }, { key: "selectLayer", value: function selectLayer(

    layerGuid, focus, immediate) {var _this5 = this;var cb = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};
      var layer = this.loadLayerIfHidden(layerGuid);
      var onSelectionDone = cb.bind(this);

      if (layer) {
        var wasSelected = layer.isSelected();
        this.deselectAllLayers([layer]);
        this.exitMarkupView([layer]);

        if (this.markupsExtension.viewer.impl.is2d) {
          layer.select();

          if (focus) {
            var marginBackup = {
              horizontal: this.markupsExtension.viewer.navigation.FIT_TO_VIEW_HORIZONTAL_MARGIN,
              vertical: this.markupsExtension.viewer.navigation.FIT_TO_VIEW_VERTICAL_MARGIN };


            // Change global bounds margins.
            this.markupsExtension.viewer.navigation.FIT_TO_VIEW_HORIZONTAL_MARGIN = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["SELECTION_ZOOM_MARGIN"];
            this.markupsExtension.viewer.navigation.FIT_TO_VIEW_VERTICAL_MARGIN = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["SELECTION_ZOOM_MARGIN"];

            var boundingBox = layer.getWorldBoundingBox();
            this.markupsExtension.viewer.navigation.fitBounds(immediate, boundingBox);

            // Restore global bounds margins.
            this.markupsExtension.viewer.navigation.FIT_TO_VIEW_HORIZONTAL_MARGIN = marginBackup.horizontal;
            this.markupsExtension.viewer.navigation.FIT_TO_VIEW_VERTICAL_MARGIN = marginBackup.vertical;
          }

          onSelectionDone();
        } else {
          this.loadMarkupsToLayer(layer);
          layer.select();
          this.navigationToolBackup = this.markupsExtension.viewer.getActiveNavigationTool();
          this.markupsExtension.viewer.setActiveNavigationTool(this.markupsExtension.markupsTool.getName());

          Object(_MarkupsSceneState__WEBPACK_IMPORTED_MODULE_11__["restoreMarkupViewState"])(this.markupsExtension.viewer, layer.layerData, immediate || wasSelected, function () {
            if (layer.isSelected()) {
              layer.setVisible(true);
              _this5.lockNavigation();
            }

            onSelectionDone();
          });
        }
      } else {
        this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_SELECTED_FROM_DIFFERENT_SHEET, layerGuid: layerGuid });
        var cache = this.markupsExtension.cache; // Must get the cache because when loading sheet, extension will be gone
        cache.layerToSelect = this.loadRelevantSheet(layerGuid);
      }
    } }, { key: "deselectLayer", value: function deselectLayer(

    layer) {
      layer = layer instanceof _MarkupsLayer__WEBPACK_IMPORTED_MODULE_3__["default"] ? layer : this.getLayerByGuid(layer);

      if (layer) {
        if (layer.isSelected()) {
          layer.deselect();

          if (layer.layerData) {
            // In case layer was hidden before selection, hide it.
            if (this.markupsExtension.filterManager.filterLayers([layer.layerData]).length === 0) {
              this.removeLayer(layer);
            }
          }
        }
      } else {
        console.warn('deselectLayer - layer does not exist');
      }
    } }, { key: "deselectAllLayers", value: function deselectAllLayers(

    exclude) {var _this6 = this;
      var selectedLayers = this.getSelectedLayers();
      selectedLayers.forEach(function (layer) {
        if ((!exclude || exclude.indexOf(layer) === -1) && layer.isSelected()) {
          _this6.deselectLayer(layer);
        }
      });
    } }, { key: "loadRelevantSheet", value: function loadRelevantSheet(

    layerGuid) {var _this7 = this;
      var doLoadSheet = function doLoadSheet(key, value) {
        for (var i = 0; i < _this7.markupsExtension.sheetList.length; i++) {
          var s = _this7.markupsExtension.sheetList[i];
          var sheet = s.search(_defineProperty({}, key, value))[0];

          if (sheet) {
            if (_this7.markupsExtension.options.loadDocumentCallback) {
              _this7.markupsExtension.options.loadDocumentCallback(sheet);
            } else {
              _this7.markupsExtension.viewer.loadDocumentNode(_this7.markupsExtension.viewer.model.getDocumentNode().getDocument(),
              sheet,
              { loadAsHidden: false, applyRefPoint: false, keepCurrentModels: false });
            }

            return layerGuid;
          }
        }

        console.warn('loadRelevantSheet - Sheet not found.');
      };

      var layer = this.markupsExtension.markupsCache.get(layerGuid);

      if (!layer) {
        console.warn('loadRelevantSheet - Cant find selected layer.');
        return null;
      }

      if (!this.markupsExtension.options.hasMultiSheet) {
        console.warn('loadRelevantSheet - Something weird just happened. This method shouldnt be called on Plans folder.');
        return;
      }

      if (this.markupsExtension.filterManager.filterWithGUID) {
        var sheetGUIDInMarkup = layer.metadata.markup_metadata.sheetGUID;

        // Same sheet.
        if (!sheetGUIDInMarkup || this.sheetGUID === sheetGUIDInMarkup) {
          return null;
        }

        // Different guid - switch sheet.
        return doLoadSheet('guid', sheetGUIDInMarkup);
      } else
      {
        var sheetNameInMarkup = layer.metadata.markup_metadata.sheetName;

        // Same sheet.
        if (!sheetNameInMarkup || this.sheetName === sheetNameInMarkup) {
          return;
        }

        // Different name - switch sheet.
        return doLoadSheet('name', sheetNameInMarkup);
      }
    } }, { key: "isInMarkupView", value: function isInMarkupView()


    {
      var visibleLayers = this.getVisibleLayers();
      return !this.isMarkupSessionOpen() && visibleLayers.length > 0;
    } }, { key: "exitMarkupView", value: function exitMarkupView(

    exclude) {var _this8 = this;
      if (this.markupsExtension.viewer.impl.is2d || !this.isInMarkupView()) {
        return;
      }

      var visibleLayers = this.getVisibleLayers();
      if (exclude) {
        visibleLayers = visibleLayers.filter(function (layer) {return exclude.indexOf(layer) === -1;});
      }

      if (visibleLayers.length === 0) {
        return;
      }

      visibleLayers.forEach(function (layer) {
        _this8.deselectLayer(layer);
        layer.setVisible(false);
      });

      this.unlockNavigation();
      this.markupsExtension.viewer.setActiveNavigationTool(this.navigationToolBackup);

      var sectionExt = this.markupsExtension.viewer.getExtension('Autodesk.Section');

      if (sectionExt && sectionExt.getSectionPlanes().length === 1) {
        sectionExt.setSectionFromPlane(null);
      } else {
        this.markupsExtension.viewer.impl.setCutPlaneSet('__set_view', undefined);
      }

      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_VIEW_EXITED });
    } }, { key: "changeAllLayersTransparency", value: function changeAllLayersTransparency(

    isTransparent, exclude) {
      if (this.markupsExtension.isToolEnabled()) {
        var layers = this.getLayersAsList();
        layers.forEach(function (layer) {
          if (!exclude || exclude.indexOf(layer) === -1) {
            layer.changeTransparency(isTransparent);
          }
        });
      }
    } }, { key: "onLayerSynced", value: function onLayerSynced(_ref5)

    {var layerData = _ref5.layerData,layer = _ref5.layer;
      layer = layer || this.getLayerByGuid(layerData.guid);

      if (layer) {
        // Verify there is no markup session active currently, before enabling the layer.
        if (!this.isMarkupSessionOpen()) {
          layer.enable();

          var selectedLayer = this.getSelectedLayer();

          if (selectedLayer && selectedLayer !== layer || !this.markupsExtension.isToolEnabled()) {
            layer.changeTransparency(true);
          }
        }

        if (this.markupsExtension.filterManager.filterLayers([layerData]).length === 0) {
          this.removeLayer(layer);
        }
      }

      if (this.markupsExtension.options.onMarkupsSyncCallback) {
        this.markupsExtension.options.onMarkupsSyncCallback({ count: this.markupsExtension.markupsCache.length() });
      }
    } }, { key: "onLayerSyncing", value: function onLayerSyncing(_ref6)

    {var layerData = _ref6.layerData,layer = _ref6.layer;
      layer = layer || this.getLayerByGuid(layerData.guid);

      if (layer) {
        if (this.markupsExtension.viewer.impl.is2d) {
          layer.deselect();
        }

        layer.disable();
      }
    } }, { key: "selectLink", value: function selectLink(

    link) {
      if (link) {
        link.select();
      } else {
        console.warn('selectLink - link does not exist');
      }
    } }, { key: "deselectLink", value: function deselectLink(

    link) {
      if (link) {
        link.deselect();
      } else {
        console.warn('deselectLink - link does not exist');
      }
    } }, { key: "deselectAllLinks", value: function deselectAllLinks()

    {var _this9 = this;
      var selectedLinks = this.getSelectedLinks();
      selectedLinks.forEach(function (link) {
        _this9.deselectLink(link);
      });
    } }, { key: "getDuringCreationMarkup", value: function getDuringCreationMarkup(

    create) {
      if (!this.duringCreationMarkup && create) {
        var type = this.getMarkupCreationType();
        var markup = this.createMarkup(type);

        if (markup) {
          markup.setVisible(true);
          markup.enableEdit();
          this.duringCreationMarkup = markup;
        }
      }

      return this.duringCreationMarkup;
    } }, { key: "getActiveLayer", value: function getActiveLayer()

    {
      return this.activeLayer;
    } }, { key: "setActiveLayer", value: function setActiveLayer(

    layer) {
      layer = layer instanceof _MarkupsLayer__WEBPACK_IMPORTED_MODULE_3__["default"] ? layer : this.getLayerById(layer);
      this.activeLayer = layer;
    } }, { key: "isMarkupSessionOpen", value: function isMarkupSessionOpen()

    {
      return this.sessionOpen;
    } }, { key: "changeMarkupCreationType", value: function changeMarkupCreationType()

    {var _this10 = this;var creationType = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_MARKUP"];
      _Utils_EventUtils__WEBPACK_IMPORTED_MODULE_1__["default"].executeAfterTransitionEnded(this.markupsExtension.viewer, function () {
        var duringCreationMarkup = _this10.markupsExtension.markupsManager.getDuringCreationMarkup(false);

        if (duringCreationMarkup) {
          duringCreationMarkup.creationHandler.onEscape();
        }

        _this10.markupCreationType = creationType;
        _this10.markupsExtension.viewer.setActiveNavigationTool(creationType ? _this10.markupsExtension.markupsTool.getName() : _this10.navigationToolBackup);

        _this10.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_CREATION_TYPE_CHANGED, creationType: creationType });

        if (creationType && !_this10.isMarkupSessionOpen() && creationType !== _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["RECT_SELECTOR"]) {
          _this10.startMarkupSession();
        }
      });
    } }, { key: "getMarkupCreationType", value: function getMarkupCreationType()

    {
      return this.markupCreationType;
    } }, { key: "setToolEnabled", value: function setToolEnabled(

    enable) {var _this11 = this;
      this.toolEnabled = enable;

      if (!enable) {
        this.deselectAllLayers();
        this.deselectAllLinks();
        this.disableAllMarkups();
      } else {
        this.enableAllMarkups();
      }

      // Solving a bug that happens in Safari and Edge. 
      // In those browsers, Rendering the MarkupsToolbar just after creating a new issue
      // Causing the markups toolbar to render without it's buttons:
      // https://jira.autodesk.com/browse/BLMV-3152
      // Another render of the toolbar solves the problem.
      if (Autodesk.Viewing.isSafari() || Autodesk.Viewing.isIE11) {
        setTimeout(function () {
          if (_this11.markupsExtension.markupsUI) {
            _this11.markupsExtension.markupsUI.toolbar.renderToolbar();
          }
        }, 1);
      }

      this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_TOOL_ENABLED_CHANGED, enable: enable });
    } }, { key: "isToolEnabled", value: function isToolEnabled()

    {
      return this.toolEnabled;
    } }, { key: "startMarkupSession", value: function startMarkupSession(

    creationType, layer) {
      if (!this.isToolEnabled()) {
        return false;
      }

      this.deselectAllLayers(layer && [layer]);
      this.exitMarkupView([layer]);
      this.deselectAllLinks();

      this.sessionOpen = true;

      this.markupsExtension.markupsTool.updateToolPriority();

      layer = layer || this.createLayer();
      layer.setVisible(true);
      this.setActiveLayer(layer);

      this.navigationToolBackup = this.markupsExtension.viewer.getActiveNavigationTool();
      this.markupsExtension.viewer.setActiveNavigationTool(this.markupsExtension.markupsTool.getName());

      if (!this.markupsExtension.viewer.impl.is2d) {
        this.lockNavigation();
      }

      if (creationType || !this.getMarkupCreationType()) {
        this.changeMarkupCreationType(creationType);
      }

      this.getAllMarkups().forEach(function (markup) {
        if (markup.layer !== layer) {
          markup.disable();
        }
      });

      this.creationStatusType = this.markupsExtension.options.defaultMarkupStatus || _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["MARKUP_STATUS_PRIVATE"];

      this.contextMenu = this.markupsExtension.viewer.contextMenu;
      this.markupsExtension.viewer.setContextMenu(null);

      this.markupsExtension.viewer.impl.pauseHighlight(true);
      this.markupsExtension.viewer.impl.disableSelection(true);

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__["setCustomGestureValues"])(this.markupsExtension.viewer);

      this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_SESSION_START, layer: layer });

      return true;
    } }, { key: "endMarkupSession", value: function endMarkupSession(

    save) {var _this12 = this;
      if (!this.isMarkupSessionOpen()) {
        return;
      }

      var layer = this.getActiveLayer();
      var deleteLayer = false;

      if (save && layer.isEmpty()) {
        if (layer.layerData) {
          // In case the layer already saved in the backend, trying to save it when it's empty is prohibited.
          // So the options are to delete it, or undo the changes.
          this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_DELETE_EMPTY_PRESSED, onConfirmCB: function onConfirmCB() {return _this12.deleteLayer(layer);} });
          return;
        } else {
          deleteLayer = true;
        }

        // Don't allow saving an empty layer.
        save = false;
      }

      this.sessionOpen = false;

      if (!save) {
        this.exitMarkupView();
      }

      if (this.markupsExtension.markupsTool) this.markupsExtension.markupsTool.updateToolPriority();
      this.changeMarkupCreationType(null);
      this.setActiveLayer(null);

      if (this.duringCreationMarkup) {
        this.duringCreationMarkup.creationHandler.creationCancel();
      }

      this.deselectAllMarkups();

      this.enableAllMarkups();
      this.unhoverAllMarkups();

      if (!save) {
        while (!this.actionManager.isUndoStackEmpty()) {
          this.undo();
        }
      }

      this.actionManager.clear();

      if (deleteLayer) {
        this.deleteLayer(layer);
      } else if (layer.isEmpty()) {
        this.removeLayer(layer);
      }

      layer.deselect();

      this.markupsExtension.viewer.setContextMenu(this.contextMenu);

      this.markupsExtension.viewer.impl.pauseHighlight(false);
      this.markupsExtension.viewer.impl.disableSelection(false);

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__["restoreGestureValues"])(this.markupsExtension.viewer);

      this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_SESSION_END, layer: layer, save: save });
    } }, { key: "editLayer", value: function editLayer(

    layerGuid, focus, selectAllMarkups, immediate) {var _this13 = this;
      if (!this.isToolEnabled()) {
        return;
      }

      var layer = this.loadLayerIfHidden(layerGuid);

      if (layer) {
        if (this.markupsExtension.permissionManager.canEditMarkup(layer.layerData)) {
          this.selectLayer(layer, focus, immediate, function () {
            _this13.startMarkupSession(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_MARKUP"], layer);
            if (selectAllMarkups) {
              // Currently, mobile devices don't support multi selection of markups.
              if (!Autodesk.Viewing.isMobileDevice()) {
                layer.selectAllMarkups();
              }
            }
          });
        } else {
          console.warn('editLayer - Cant edit layer, permissions not valid.');
        }
      } else {
        this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_EDITED_FROM_DIFFERENT_SHEET, layerGuid: layerGuid });
        var cache = this.markupsExtension.cache; // Must get the cache because when loading sheet, extension will be gone
        cache.layerToEdit = this.loadRelevantSheet(layerGuid);
      }
    } }, { key: "onLayerSelected", value: function onLayerSelected(_ref7)

    {var layer = _ref7.layer;
      this.changeAllLayersTransparency(true, [layer]);
    } }, { key: "onLayerDeselected", value: function onLayerDeselected()

    {
      if (!this.getSelectedLayer()) {
        this.changeAllLayersTransparency(false);
      }
    } }, { key: "deleteMarkup", value: function deleteMarkup(

    markup) {
      markup = markup instanceof _MarkupTypes_Markup__WEBPACK_IMPORTED_MODULE_4__["default"] ? markup : this.getMarkupById(markup);

      if (markup) {
        markup.creationHandler.deleteMarkup();
      } else {
        console.warn('deleteMarkup - markup does not exist');
      }
    } }, { key: "deleteInEditMarkups", value: function deleteInEditMarkups()

    {var _this14 = this;
      this.markupsToDelete = this.getInEditMarkups();

      this.openActionGroup();

      this.markupsToDelete.forEach(function (markup) {
        _this14.deleteMarkup(markup);
      });

      this.closeActionGroup();
    } }, { key: "undo", value: function undo()

    {
      if (this.duringCreationMarkup) {
        this.duringCreationMarkup.creationHandler.onEscape(false);
      } else {
        this.actionManager.undo();
      }
    } }, { key: "redo", value: function redo()

    {
      this.actionManager.redo();
    } }, { key: "openActionGroup", value: function openActionGroup()

    {
      this.actionManager.openActionGroup();
    } }, { key: "closeActionGroup", value: function closeActionGroup()

    {
      this.actionManager.closeActionGroup();
    } }, { key: "copy", value: function copy()

    {
      this.markupsToCopy = this.getSelectedMarkups();
      this.pasteOffset = 1;
    } }, { key: "paste", value: function paste()

    {var _this15 = this;
      this.deselectAllMarkups();

      this.openActionGroup();

      this.markupsToCopy.forEach(function (markup) {
        _this15.duplicateMarkup(markup);
      });

      this.closeActionGroup();

      this.pasteOffset += 1;
    } }, { key: "cut", value: function cut()

    {
      this.copy();
      this.deleteInEditMarkups();
    } }, { key: "duplicateMarkup", value: function duplicateMarkup(

    markup) {
      // Markups without translationHandler can't be duplicated. aka dimension markup.
      if (markup.translationHandler) {
        var newState = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_0__["default"].cloneDeep(markup.getState());
        var newMarkup = this.createMarkup(markup.type, newState);

        // Translate
        var rightVec = this.markupsExtension.renderer.getCameraRightVector();
        var upVec = this.markupsExtension.renderer.getCameraUpVector();
        var translationSize = this.markupsExtension.renderer.multiplyByNormaStrokeWidth(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["PASTE_OFFSET"] * this.pasteOffset);
        var translationVec = rightVec.sub(upVec).normalize().multiplyScalar(translationSize);
        var translationAbs = translationVec.clone().add(newMarkup.state.translation);
        newMarkup.translationHandler.updateEditState({ translation: translationAbs });
        newMarkup.syncState();

        newMarkup.completed = true;

        var layer = this.activeLayer ? this.activeLayer : this.createLayer();

        var action = new _Actions_AddMarkupAction__WEBPACK_IMPORTED_MODULE_10__["default"](this, newMarkup, layer);
        action.execute();

        newMarkup.select();
      }
    } }, { key: "loadMarkupsToLayer", value: function loadMarkupsToLayer(

    layer) {var _this16 = this;
      var svgString = layer.layerData && layer.layerData.getSvgResource();

      if (!svgString || !layer.isEmpty()) {
        return;
      }

      var svgMetadata = Object(_MarkupsDeserializer__WEBPACK_IMPORTED_MODULE_8__["parseMarkupLayer"])(svgString, layer.layerData, this.markupsExtension.viewer, this.markupsExtension.renderer);

      svgMetadata.forEach(function (markupMetadata) {
        var newMarkup = _this16.createMarkup(markupMetadata.type, markupMetadata.state);

        if (newMarkup) {
          newMarkup.completed = true;
          _this16.addMarkupToLayer(newMarkup, layer);
          newMarkup.setDirty(true);
        }
      });
    } }, { key: "createLinkMetadata", value: function createLinkMetadata(

    layerData) {var
      metadata = layerData.metadata;
      metadata.markup_metadata = metadata.markup_metadata || {};
      metadata.markup_metadata.links = metadata.markup_metadata.links || [];

      layerData.attachments.forEach(function (docAttachment) {
        // Only one link per attachment type.
        if (!metadata.markup_metadata.links.some(function (link) {return link.id === docAttachment.attributes.issue_id && link.type === docAttachment.attributes.attachment_type;})) {
          metadata.markup_metadata.links.push({
            id: docAttachment.attributes.issue_id,
            type: docAttachment.attributes.attachment_type,
            position: null });

        }
      });
    } }, { key: "loadLinksToLayer", value: function loadLinksToLayer(

    layer) {var _this17 = this;
      this.createLinkMetadata(layer.layerData);
      var links = layer.layerData.getLinksMetadata();

      if (!links) {
        return;
      }

      links.forEach(function (linkMetadata) {
        // Checks if a link is already loaded to the layer, Will not recreate it in this case.
        if (layer.getAllLinks().find(function (link) {return link.guid === linkMetadata.id;})) {
          return;
        }

        if (layer.layerData.attachments.some(function (attachment) {return attachment.attributes.issue_id === linkMetadata.id;})) {
          var newLink = _this17.createLink(layer, linkMetadata);
          _this17.addLinkToLayer(newLink, layer);
          newLink.setDirty(true);
        }
      });
    } }, { key: "changeStyleProperty", value: function changeStyleProperty(

    key, value, dontSubmit) {
      // Transform color to its true value if needed.
      if (typeof value === 'string') {
        value = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["COLORS"][value.toUpperCase()] || value;
      }

      if (key === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].THICKNESS) {
        value *= this.markupsExtension.renderer.getNormaStrokeWidth(); // The input thickness is just a factor, so multiply by the norma.
      }

      this.creationStyleProperties[key] = value;

      if (key === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].COLOR && value !== _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["COLORS"].NO_COLOR) {
        this.creationStyleProperties[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].LAST_COLOR] = value;
      }

      if (this.isMarkupSessionOpen()) {
        this.openActionGroup();

        this.getSelectedMarkups().forEach(function (markup) {
          markup.creationHandler.changeStyleProperty(key, value, dontSubmit);
        });

        this.closeActionGroup();
      }

      this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].MARKUP_STYLE_PROPERTY_CHANGED, styleProperty: key, value: value });
    } }, { key: "getStyleProperty", value: function getStyleProperty(

    key) {
      return this.creationStyleProperties[key];
    } }, { key: "onCalibrationEnded", value: function onCalibrationEnded()

    {
      this.markupsExtension.setToolEnabled(true);
      this.startMarkupSession(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["MARKUP_TYPE_DIMENSION"]);
    } }, { key: "onHistoryChanged", value: function onHistoryChanged(

    event) {var
      actionGroup = event.actionGroup;

      actionGroup.forEach(function (a) {
        a.markup.setDirty(true);
      });

      // In order to centralize all the events in one place, the events from actionManager will pass threw markupsManager's event dispatcher.
      this.dispatchEvent(event);
      this.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_9__["MARKUPS_EVENTS"].LAYER_READY_TO_SAVE, readyToSave: this.getReadyToSave() });
    } }, { key: "getLayersAsList", value: function getLayersAsList()

    {
      return Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__["getObjectAsList"])(this.layers);
    } }, { key: "getAllMarkups", value: function getAllMarkups()

    {
      var markups = [];

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__["forAll"])(this.layers, function (layer) {
        markups.push.apply(markups, _toConsumableArray(Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__["getObjectAsList"])(layer.markups)));
      });

      return markups;
    } }, { key: "generateScreenCapture", value: function generateScreenCapture(

    layer) {var _this18 = this;
      return new Promise(function (resolve) {
        setTimeout(function () {
          Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_7__["getScreenShotOfMarkup"])(_this18.markupsExtension.viewer, function (img) {
            resolve(img);
          }, layer);
        }, 100);
      });
    } }, { key: "changeCreationStatusType", value: function changeCreationStatusType(

    status) {
      this.creationStatusType = status;
    } }, { key: "getCreationStatusType", value: function getCreationStatusType()

    {
      return this.creationStatusType;
    } }, { key: "setDefaultCreationStyleProperties", value: function setDefaultCreationStyleProperties()

    {
      this.creationStyleProperties = {};
      this.changeStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].LAST_COLOR, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_COLOR"]);
      this.changeStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].COLOR, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_COLOR"]);
      this.changeStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].FILL_COLOR, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_FILL_COLOR"]);
      this.changeStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].THICKNESS, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_THICKNESS"]);
      this.changeStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].OPACITY, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_OPACITY"]);
      this.changeStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].FILL_OPACITY, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_FILL_OPACITY"]);
      this.changeStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].FONT_SIZE, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_FONT_SIZE_IN_PIXELS"]);
      this.changeStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].FONT_WEIGHT, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_FONT_WEIGHT"]);
      this.changeStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].FONT_FAMILY, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_FONT_FAMILY"]);
      this.changeStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].FONT_STYLE, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_FONT_STYLE"]);
      this.changeStyleProperty(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["STYLE_PROPERTIES"].FONT_COLOR, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_12__["DEFAULT_FONT_COLOR"]);
    } }, { key: "reset", value: function reset()

    {
      this.nextMarkupId = 0;
      this.nextLinkId = 0;
      this.nextLayerId = 0;
      this.sessionOpen = false;
      this.layers = {};
      this.selectedLayers = [];
      this.duringCreationMarkup = null;
      this.activeLayer = null;
      this.markupCreationType = null;
      this.markupsToCopy = [];
      this.pasteOffset = 1;
      this.toolEnabled = true;
      this.contextMenu = null;
      this.actionManager.clear();
      this.creationStyleProperties = {};
    } }, { key: "destroy", value: function destroy()

    {
      this.removeAllLayers();
      this.unlockNavigation();
      this.unregisterEvents();
      this.reset();
      this.clearListeners();
      this.markupsExtension = null;
      this.actionManager = null;
    } }]);return MarkupsManager;}(Autodesk.Viewing.EventDispatcher);

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsMobileCallbacks.js":
/*!*********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsMobileCallbacks.js ***!
  \*********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupMobileCallbacks; });
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Utils/ActionManager/ActionManager */ "./extensions/BimMarkups/Utils/ActionManager/ActionManager.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}


var

MarkupMobileCallbacks = /*#__PURE__*/function () {
  function MarkupMobileCallbacks(markupsExtension) {_classCallCheck(this, MarkupMobileCallbacks);
    this.markupsExtension = markupsExtension;
    this.registerEventListeners();
  }_createClass(MarkupMobileCallbacks, [{ key: "registerEventListeners", value: function registerEventListeners()








































    {
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_DESELECTED, this.onLayerDeselected);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_DESELECTED, this.onMarkupDeselected);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_SELECTED_FROM_DIFFERENT_SHEET, this.onLayerSelectedDifferentSheet);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_EDITED_FROM_DIFFERENT_SHEET, this.onLayerEditDifferentSheet);

      this.markupsExtension.markupsManager.addEventListener(_Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_1__["default"].HISTORY_CHANGED_EVENT, this.onHistoryChanged);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_SESSION_START, this.onMarkupSessionStart);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_SESSION_END, this.onMarkupSessionEnd);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_DRAWING_START, this.onMarkupDrawingStart);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_DRAWING_END, this.onMarkupDrawingEnd);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_DRAWING_CANCEL, this.onMarkupDrawingCancel);

      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LINK_SELECTED, this.onLinkSelected);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LINK_DESELECTED, this.onLinkDeselected);

      this.onLayerReadyToSaveChangedBinded = this.onLayerReadyToSaveChanged.bind(this);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_READY_TO_SAVE, this.onLayerReadyToSaveChangedBinded);

      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_VIEW_ENTERED, this.onMarkupViewEntered);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_VIEW_EXITED, this.onMarkupViewExited);

      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].TEXT_EDITING_STARTED, this.onTextEditingStarted);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].TEXT_EDITING_ENDED, this.onTextEditingEnded);

      // Contextual menu
      this.updateContextualMenuBinded = this.updateContextualMenu.bind(this);
      this.hideContextualMenuBinded = this.hideContextualMenu.bind(this);

      this.updateContextualMenuDebouncedShort = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_0__["default"].debounce(this.updateContextualMenuBinded, 10);
      this.updateContextualMenuDebouncedLong = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_0__["default"].debounce(this.updateContextualMenuBinded, 200);

      this.markupsExtension.markupsManager.addEventListener(_Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_1__["default"].HISTORY_CHANGED_EVENT, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_SELECTED, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_DIRTY, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_SYNCED, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_SELECTED, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_EDIT_END, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_TOOL_ENABLED_CHANGED, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_DESELECTED, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_DESELECTED, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_EDIT_START, this.hideContextualMenuBinded);

      this.markupsExtension.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.updateContextualMenuDebouncedLong);
    } }, { key: "unregisterEventListeners", value: function unregisterEventListeners()

    {
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_DESELECTED, this.onLayerDeselected);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_DESELECTED, this.onMarkupDeselected);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_SELECTED_FROM_DIFFERENT_SHEET, this.onLayerSelectedDifferentSheet);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_EDITED_FROM_DIFFERENT_SHEET, this.onLayerEditDifferentSheet);

      this.markupsExtension.markupsManager.removeEventListener(_Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_1__["default"].HISTORY_CHANGED_EVENT, this.onHistoryChanged);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_SESSION_START, this.onMarkupSessionStart);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_SESSION_END, this.onMarkupSessionEnd);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_DRAWING_START, this.onMarkupDrawingStart);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_DRAWING_END, this.onMarkupDrawingEnd);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_DRAWING_CANCEL, this.onMarkupDrawingCancel);

      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LINK_SELECTED, this.onLinkSelected);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LINK_DESELECTED, this.onLinkDeselected);

      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_READY_TO_SAVE, this.onLayerReadyToSaveChangedBinded);

      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_VIEW_ENTERED, this.onMarkupViewEntered);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_VIEW_EXITED, this.onMarkupViewExited);

      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].TEXT_EDITING_STARTED, this.onTextEditingStarted);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].TEXT_EDITING_ENDED, this.onTextEditingEnded);

      this.markupsExtension.markupsManager.removeEventListener(_Utils_ActionManager_ActionManager__WEBPACK_IMPORTED_MODULE_1__["default"].HISTORY_CHANGED_EVENT, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_SELECTED, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_DIRTY, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_SYNCED, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_SELECTED, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_EDIT_END, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_TOOL_ENABLED_CHANGED, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].LAYER_DESELECTED, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_DESELECTED, this.updateContextualMenuDebouncedShort);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_EDIT_START, this.hideContextualMenuBinded);

      this.markupsExtension.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.updateContextualMenuDebouncedLong);

      this.updateContextualMenuDebouncedShort.cancel();
      this.updateContextualMenuDebouncedLong.cancel();
    }

    // Callbacks //
  }, { key: "markupToolLoaded", value: function markupToolLoaded()
    {
      MarkupMobileCallbacks.send('onMarkupToolLoaded');
    } }, { key: "onMarkupSessionStart", value: function onMarkupSessionStart()

    {
      MarkupMobileCallbacks.send('onMarkupSessionStart');
    } }, { key: "onMarkupSessionEnd", value: function onMarkupSessionEnd()

    {
      MarkupMobileCallbacks.send('onMarkupSessionEnd');
    } }, { key: "onMarkupDrawingStart", value: function onMarkupDrawingStart(_ref)

    {var markup = _ref.markup;
      MarkupMobileCallbacks.send('onMarkupDrawingStart', markup.type);
    } }, { key: "onMarkupDrawingEnd", value: function onMarkupDrawingEnd(_ref2)

    {var markup = _ref2.markup;
      MarkupMobileCallbacks.send('onMarkupDrawingEnd', markup.type);
    } }, { key: "onMarkupDrawingCancel", value: function onMarkupDrawingCancel(_ref3)

    {var markup = _ref3.markup;
      MarkupMobileCallbacks.send('onMarkupDrawingCancel', markup.type);
    } }, { key: "onLayerSelectedDifferentSheet", value: function onLayerSelectedDifferentSheet(_ref4)

    {var layerGuid = _ref4.layerGuid;
      MarkupMobileCallbacks.send('onLayerSelectedDifferentSheet', layerGuid);
    } }, { key: "onLayerEditDifferentSheet", value: function onLayerEditDifferentSheet(_ref5)

    {var layerGuid = _ref5.layerGuid;
      MarkupMobileCallbacks.send('onLayerEditDifferentSheet', layerGuid);
    } }, { key: "onLayerSelected", value: function onLayerSelected(_ref6)

    {var layer = _ref6.layer;
      var guid = layer.getGuid();

      if (guid) {
        var dataObj = {
          guid: guid,
          boundingBox: MarkupMobileCallbacks.correctPixelRatio(layer.getClientBoundingBox(true)) };


        MarkupMobileCallbacks.send('onLayerSelected', dataObj);
      }
    } }, { key: "onLayerDeselected", value: function onLayerDeselected(_ref7)

    {var layer = _ref7.layer;
      var guid = layer.getGuid();

      if (guid) {
        MarkupMobileCallbacks.send('onLayerDeselected', guid);
      }
    } }, { key: "onMarkupSelected", value: function onMarkupSelected(_ref8)

    {var markup = _ref8.markup;
      var dataObj = {
        id: markup.id,
        layerGuid: markup.layer && markup.layer.getGuid() || '', // Needed for Android ugly fix.
        type: markup.type,
        style: markup.editState.style,
        boundingBox: MarkupMobileCallbacks.correctPixelRatio(markup.getClientBoundingBox(true, true)) };


      MarkupMobileCallbacks.send('onMarkupSelected', dataObj);
    } }, { key: "onMarkupDeselected", value: function onMarkupDeselected(_ref9)

    {var markup = _ref9.markup;
      MarkupMobileCallbacks.send('onMarkupDeselected', markup.id);
    } }, { key: "onHistoryChanged", value: function onHistoryChanged(_ref10)

    {var hasUndo = _ref10.hasUndo,hasRedo = _ref10.hasRedo;
      var dataObj = {
        enableUndo: hasUndo,
        enableRedo: hasRedo };


      MarkupMobileCallbacks.send('onMarkupHistoryChanged', dataObj);
    } }, { key: "onLayerReadyToSaveChanged", value: function onLayerReadyToSaveChanged(_ref11)

    {var readyToSave = _ref11.readyToSave;
      MarkupMobileCallbacks.send('onLayerReadyToSaveChanged', readyToSave);
    } }, { key: "postLayer", value: function postLayer(

    metadata, resources, requestId) {var _resources;
      var dataObj = {
        metadata: metadata,
        resources: (_resources = {}, _defineProperty(_resources,
        _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_RESOURCE_TYPE_SVG"], resources[0]), _defineProperty(_resources,
        _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE"], resources[1]), _resources),

        requestId: requestId };


      MarkupMobileCallbacks.send('onPostLayer', dataObj);
    } }, { key: "updateLayer", value: function updateLayer(

    originalGuid, metadata, resources, requestId) {var _resources2;
      var dataObj = {
        originalGuid: originalGuid,
        metadata: metadata,
        resources: (_resources2 = {}, _defineProperty(_resources2,
        _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_RESOURCE_TYPE_SVG"], resources[0]), _defineProperty(_resources2,
        _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE"], resources[1]), _resources2),

        requestId: requestId };


      MarkupMobileCallbacks.send('onUpdateLayer', dataObj);
    } }, { key: "deleteLayer", value: function deleteLayer(

    guid, requestId) {
      var dataObj = {
        guid: guid,
        requestId: requestId };


      MarkupMobileCallbacks.send('onDeleteLayer', dataObj);
    } }, { key: "publishLayer", value: function publishLayer(

    guid, requestId) {
      var dataObj = {
        guid: guid,
        requestId: requestId };


      MarkupMobileCallbacks.send('onPublishLayer', dataObj);
    } }, { key: "archiveLayer", value: function archiveLayer(

    guid, closeVersion, requestId) {
      var dataObj = {
        guid: guid,
        closeVersion: closeVersion,
        requestId: requestId };


      MarkupMobileCallbacks.send('onArchiveLayer', dataObj);
    } }, { key: "onLinkSelected", value: function onLinkSelected(_ref12)

    {var link = _ref12.link;
      var dataObj = {
        type: link.type,
        layerGuid: link.layer.layerData.guid,
        boundingBox: link.getClientBoundingBox() };


      MarkupMobileCallbacks.send('onLinkSelected', dataObj);
    } }, { key: "onLinkDeselected", value: function onLinkDeselected(_ref13)

    {var link = _ref13.link;
      var dataObj = {
        type: link.type,
        layerGuid: link.layer.layerData.guid };


      MarkupMobileCallbacks.send('onLinkDeselected', dataObj);
    }

    // Used to update contextual menu position.
  }, { key: "updateContextualMenu", value: function updateContextualMenu() {
      var duringCreation = this.markupsExtension.markupsManager.getDuringCreationMarkup();

      if (!duringCreation) {
        var markup = this.markupsExtension.markupsManager.getSelectedMarkups()[0];

        if (markup) {
          this.onMarkupSelected({ markup: markup });
          return;
        } else if (!this.markupsExtension.markupsManager.isMarkupSessionOpen()) {
          var layer = this.markupsExtension.markupsManager.getSelectedLayer();

          if (layer) {
            this.onLayerSelected({ layer: layer });
            return;
          }
        }
      }

      this.hideContextualMenu();
    } }, { key: "hideContextualMenu", value: function hideContextualMenu()

    {
      MarkupMobileCallbacks.send('onHideContextualMenu');
    } }, { key: "onMarkupViewExited", value: function onMarkupViewExited()

    {
      MarkupMobileCallbacks.send('onMarkupViewExited');
    } }, { key: "onMarkupViewEntered", value: function onMarkupViewEntered()

    {
      MarkupMobileCallbacks.send('onMarkupViewEntered');
    } }, { key: "onTextEditingStarted", value: function onTextEditingStarted()

    {
      MarkupMobileCallbacks.send('onTextEditingStarted');
    } }, { key: "onTextEditingEnded", value: function onTextEditingEnded()

    {
      MarkupMobileCallbacks.send('onTextEditingEnded');
    } }, { key: "destroy", value: function destroy()

    {
      this.unregisterEventListeners();

      this.iosSend = null;
      this.androidSend = null;
      this.send = null;
    } }], [{ key: "send", value: function send(callbackName, dataObj) {var iosBridge = window.webkit && window.webkit.messageHandlers.callbackHandler;var iosSend = iosBridge ? function (messageName, data) {iosBridge.postMessage({ command: messageName, data: data });} : null;var androidSend = window.JSINTERFACE;var dataAsString = _typeof(dataObj) === 'object' ? JSON.stringify(dataObj) : dataObj;if (iosSend) {if (dataAsString !== undefined) {iosSend(callbackName, dataAsString);} else {iosSend(callbackName);}} else if (androidSend) {if (androidSend[callbackName]) {if (dataAsString !== undefined) {androidSend[callbackName](dataAsString);} else {androidSend[callbackName]();}}}} }, { key: "correctPixelRatio", value: function correctPixelRatio(boundingBox) {// iOS gets their coordinates in points, while Android in pixels.
      // Android need to fix the result according to devicePixelRatio.
      if (Autodesk.Viewing.isAndroidDevice()) {boundingBox.min.multiplyScalar(window.devicePixelRatio);boundingBox.max.multiplyScalar(window.devicePixelRatio);}return boundingBox;} }]);return MarkupMobileCallbacks;}();

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsPermissionManager.js":
/*!***********************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsPermissionManager.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupsPermissionManager; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}var

MarkupsPermissionManager = /*#__PURE__*/function () {
  function MarkupsPermissionManager() {var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};_classCallCheck(this, MarkupsPermissionManager);
    this.options = options;
  }_createClass(MarkupsPermissionManager, [{ key: "canPublishMarkup", value: function canPublishMarkup(

    layerData) {
      // Layer hasn't been saved yet.
      if (!layerData || !layerData.guid) {
        return false;
      }

      // Already published.
      if (!layerData.metadata.status === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_STATUS_PUBLISHED"]) {
        return false;
      }

      return !(!this.options.userId ||
      !layerData.metadata.permitted_statuses ||
      layerData.metadata.permitted_statuses.indexOf(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_STATUS_PUBLISHED"]) === -1);
    } }, { key: "canArchiveMarkup", value: function canArchiveMarkup(

    layerData) {
      // Layer hasn't been saved yet.
      if (!layerData || !layerData.guid) {
        return false;
      }

      // Already published.
      if (!layerData.metadata.status === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_STATUS_ARCHIVED"]) {
        return false;
      }

      return !(!this.options.userId ||
      !layerData.metadata.permitted_statuses ||
      layerData.metadata.permitted_statuses.indexOf(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_STATUS_ARCHIVED"]) === -1);
    } }, { key: "canEditMarkup", value: function canEditMarkup(

    layerData) {
      // During initial creation - allow editing.
      if (!layerData) {
        return true;
      }

      // Layer hasn't been saved yet.
      if (!layerData.guid) {
        return false;
      }

      var editableStatuses = [_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_STATUS_PRIVATE"], _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_STATUS_PUBLISHED"]];

      if (!this.options.userId || editableStatuses.indexOf(layerData.metadata.status) === -1) {
        return false;
      }

      // Can't edit markup when viewing a previous document version
      if (this.options.documentVersion < this.options.currentRawDocumentVersion) {
        return false;
      }

      // Admin or creator can delete any markups
      return this.options.isAdmin || this.options.userId === layerData.metadata.created_by;
    } }, { key: "canDeleteMarkup", value: function canDeleteMarkup(

    layerData) {
      // Layer hasn't been saved yet.
      if (!layerData || !layerData.guid) {
        return false;
      }

      var deletableStatuses = [_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_STATUS_OPEN"], _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_STATUS_PRIVATE"]];

      if (!this.options.userId || deletableStatuses.indexOf(layerData.metadata.status) === -1) {
        return false;
      }

      // Admin or creator can delete any markups
      return this.options.isAdmin || this.options.userId === layerData.metadata.created_by;
    } }, { key: "canEditMarkupAttachment", value: function canEditMarkupAttachment(

    layerData, docAttachment) {
      // Layer hasn't been saved yet.
      if (!layerData || !layerData.guid) {
        return false;
      }

      // Cannot edit any attachments of closed markup.
      if (layerData.metadata.status === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_STATUS_CLOSED"] || layerData.metadata.status === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_STATUS_ARCHIVED"]) {
        return false;
      }

      if (this.options.documentVersion !== this.options.currentRawDocumentVersion) {
        return false;
      }

      if (!this.options.userId) {
        // No userId, won't allow to edit a markup at all.
        return false;
      }

      // Rule number 1, admin can edit any attachments.
      if (this.options.isAdmin) {
        return true;
      }

      // Rule number 2, only attachment author can edit the attachment.
      return !docAttachment || docAttachment && this.options.userId === docAttachment.attributes.created_by;
    } }, { key: "canCreateMarkup", value: function canCreateMarkup()

    {
      if (this.options.documentVersion !== this.options.currentRawDocumentVersion) {
        return false;
      }

      return true;
    } }, { key: "destroy", value: function destroy()

    {
      this.options = null;
    } }]);return MarkupsPermissionManager;}();

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsRenderer.js":
/*!**************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsRenderer.js ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupsRenderer; });
/* harmony import */ var _FrameRenderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FrameRenderer */ "./extensions/BimMarkups/FrameRenderer.js");
/* harmony import */ var _Links_LinksRenderer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Links/LinksRenderer */ "./extensions/BimMarkups/Links/LinksRenderer.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _RendererHelpers_MarkupsMaterialManager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RendererHelpers/MarkupsMaterialManager */ "./extensions/BimMarkups/RendererHelpers/MarkupsMaterialManager.js");
/* harmony import */ var _RendererHelpers_MarkupsGeometryManager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RendererHelpers/MarkupsGeometryManager */ "./extensions/BimMarkups/RendererHelpers/MarkupsGeometryManager.js");
/* harmony import */ var _RendererHelpers_TextRenderer__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./RendererHelpers/TextRenderer */ "./extensions/BimMarkups/RendererHelpers/TextRenderer.js");
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _src_wgs_render_ShaderPass__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../src/wgs/render/ShaderPass */ "./src/wgs/render/ShaderPass.js");
/* harmony import */ var _src_wgs_render_CopyShader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../src/wgs/render/CopyShader */ "./src/wgs/render/CopyShader.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _Utils_CameraUtils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Utils/CameraUtils */ "./extensions/BimMarkups/Utils/CameraUtils.js");
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}










var

MarkupsRenderer = /*#__PURE__*/function () {
  function MarkupsRenderer(markupsExtension) {_classCallCheck(this, MarkupsRenderer);
    this.markupsExtension = markupsExtension;
    this.viewer = this.markupsExtension.viewer;
    this.viewer.impl.updateCameraMatrices();

    this.viewer.navigation.updateCamera();
    this.documentCamera = this.viewer.navigation.getCamera();
    this.documentCamera.updateMatrixWorld();
    this.documentCamera.matrixWorldInverse.getInverse(this.documentCamera.matrixWorld);

    this.textRenderer = new _RendererHelpers_TextRenderer__WEBPACK_IMPORTED_MODULE_6__["default"](this.markupsExtension);
    this.frameRenderer = new _FrameRenderer__WEBPACK_IMPORTED_MODULE_0__["default"](this.markupsExtension);
    this.linksRenderer = new _Links_LinksRenderer__WEBPACK_IMPORTED_MODULE_1__["default"](this.markupsExtension);
    this.materialManager = new _RendererHelpers_MarkupsMaterialManager__WEBPACK_IMPORTED_MODULE_4__["default"](this.markupsExtension);
    this.geometryManager = new _RendererHelpers_MarkupsGeometryManager__WEBPACK_IMPORTED_MODULE_5__["default"](this.markupsExtension);

    this.is3d = this.viewer.model.is3d();

    this.raycaster = new THREE.Raycaster();

    this.size = {
      width: this.viewer.canvas.clientWidth,
      height: this.viewer.canvas.clientHeight };


    if (this.is3d) {
      this.viewSize = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["WORLD_3D_SIZE"];
      this.markupsCamera = new THREE.OrthographicCamera(0, this.viewSize, this.viewSize, 0, 0, 1);
      this.markupsCamera.position.set(0, 0, 1);
      this.markupsCamera.target = new THREE.Vector3(0, 0, 0);
    } else {
      this.markupsCamera = this.viewer.navigation.getCamera();
    }

    this.markups = [];

    this.glrenderer = this.viewer.impl.glrenderer();
    this.copyPass = new _src_wgs_render_ShaderPass__WEBPACK_IMPORTED_MODULE_8__["ShaderPass"](_src_wgs_render_CopyShader__WEBPACK_IMPORTED_MODULE_9__["CopyShader"]);
    this.copyPass.material.depthWrite = false;
    this.copyPass.material.depthTest = false;
    this.copyPass.material.transparent = true;

    this._tmpScene = new THREE.Scene();
    this._black = new THREE.Color(0, 0, 0);

    this.absoluteRightVec = new THREE.Vector3(1, 0, 0);
    this.absoluteUpVec = new THREE.Vector3(0, 1, 0);
    this.absoluteEyeVec = new THREE.Vector3(0, 0, 1);

    this.tmpMatrix = new THREE.Matrix4();
    this.frustum = new THREE.Frustum();

    this.setMMtoUnitConversion();
    this.setNormaStrokeWidth();
    this.setNormaTextSize();

    this.registerEventListeners();
    this.updateCameraAndMaterialParameters();
  }_createClass(MarkupsRenderer, [{ key: "registerEventListeners", value: function registerEventListeners()

    {
      this.onRenderBinded = this.onRender.bind(this);
      this.onResizeBinded = this.onResize.bind(this);
      this.invalidateBinded = this.invalidate.bind(this);
      this.onCameraChangedBinded = this.onCameraChanged.bind(this);
      this.viewer.addEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT, this.onRenderBinded);
      this.viewer.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.onResizeBinded);
      this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangedBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_REMOVED, this.invalidateBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_DRAWING_CANCEL, this.invalidateBinded);
    } }, { key: "removeEventListeners", value: function removeEventListeners()

    {
      this.viewer.removeEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT, this.onRenderBinded);
      this.viewer.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.onResizeBinded);
      this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangedBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_REMOVED, this.invalidateBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_2__["MARKUPS_EVENTS"].MARKUP_DRAWING_CANCEL, this.invalidateBinded);
    } }, { key: "onCameraChanged", value: function onCameraChanged()

    {
      this.eyeVector = null;
      this.upVector = null;
      this.rightVector = null;
    } }, { key: "getResolution", value: function getResolution()

    {
      var pixelRatio = this.glrenderer.getPixelRatio();

      return {
        width: this.size.width * pixelRatio,
        height: this.size.height * pixelRatio };

    } }, { key: "supportsInt32Index", value: function supportsInt32Index()

    {
      return !!this.glrenderer.supportsElementIndexUint();
    } }, { key: "disposeTmpTarget", value: function disposeTmpTarget()

    {
      if (this._tmpTarget) {
        this._tmpTarget.dispose();
        this._tmpTarget = null;
      }
    } }, { key: "createTempRenderTarget", value: function createTempRenderTarget()

    {var resolution = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getResolution();
      this.disposeTmpTarget();

      if (resolution.width === 0 || resolution.height === 0) {
        return false;
      }

      this._tmpTarget = new THREE.WebGLRenderTarget(resolution.width, resolution.height,
      {
        minFilter: THREE.LinearFilter,
        magFilter: THREE.LinearFilter,
        format: THREE.RGBAFormat,
        stencilBuffer: false,
        depthBuffer: false });

      this._tmpTarget.generateMipmaps = false;

      return true;
    } }, { key: "onRender", value: function onRender()

    {
      this.render();
    } }, { key: "onResize", value: function onResize(

    e) {
      this.size.width = e.width;
      this.size.height = e.height;

      this.updateCameraAndMaterialParameters();
    } }, { key: "updateCameraAndMaterialParameters", value: function updateCameraAndMaterialParameters()

    {
      if (this.is3d) {
        var aspect = this.size.width / (this.size.height || 1); // In case height is 0.
        var newRight = this.viewSize * aspect;
        var delta = this.markupsCamera.right - newRight;

        this.markupsCamera.position.x += delta / 2;
        this.markupsCamera.target.x += delta / 2;
        this.markupsCamera.right = newRight;

        this.markupsCamera.updateProjectionMatrix();
        this.markupsCamera.updateMatrixWorld();
        this.markupsCamera.matrixWorldInverse.getInverse(this.markupsCamera.matrixWorld);
      }

      var resolution = this.getResolution();

      if (this._tmpTarget) {// Resize only if it already exists
        this.createTempRenderTarget(resolution);
      }

      this.materialManager.updateScreenSize(resolution);
    }

    // A null target means render to screen
  }, { key: "render", value: function render() {var _this = this;var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;var camera = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.markupsCamera;
      //
      // Markups can have a combination of fill and stroke, each one with a different opacity. To avoid the overlapping parts
      // of a transparent markup having darker areas (because of the alpha values being blended) we render them to a 
      // temporary target first, with blending off. Afterwards the result is blended with the final image.
      // In order to render correctly we must take into account the following:
      // 
      //          Fill            Stroke          How to render
      //      ----------------------------------------------------
      //         Opaque          Opaque           Normally
      //         Transparent     Opaque           Fill with temp target, stroke normally
      //         Transparent     Transparent      Both with temp target
      //         None            Opaque           Normally
      //         None            Transparent      With temp target
      //

      // TODO: Improve performance by simplifying the check in isInsideCamera.
      this.tmpMatrix.multiplyMatrices(camera.projectionMatrix, camera.matrixWorldInverse);
      this.frustum.setFromMatrix(this.tmpMatrix);

      var isInsideCamera = function isInsideCamera(box) {
        var topRight = box.max;
        var topLeft = box.max.clone().setX(box.min.x);
        var bottomLeft = box.min;
        var bottomRight = box.min.clone().setX(box.max.x);
        return _this.frustum.containsPoint(topRight) || _this.frustum.containsPoint(topLeft) || _this.frustum.containsPoint(bottomLeft) || _this.frustum.containsPoint(bottomRight) || _this.frustum.intersectsBox(box);
      };

      var is2DBoxIntersection = function is2DBoxIntersection(box1, box2) {
        return !(box2.max.x < box1.min.x || box2.min.x > box1.max.x ||
        box2.max.y < box1.min.y || box2.min.y > box1.max.y);
      };

      var normalMeshes = [];
      var transparentMeshes = [],transparentProperties = [];

      var flushNormalMeshes = function flushNormalMeshes() {var _this$_tmpScene;
        if (normalMeshes.length === 0) return;

        (_this$_tmpScene = _this._tmpScene).add.apply(_this$_tmpScene, normalMeshes);

        _this.glrenderer.render(_this._tmpScene, camera, target);

        _this._tmpScene.children.length = 0;
        normalMeshes.length = 0;
      };

      var flushTransparentMeshes = function flushTransparentMeshes() {var _this$_tmpScene2;
        if (transparentMeshes.length === 0) return;

        (_this$_tmpScene2 = _this._tmpScene).add.apply(_this$_tmpScene2, transparentMeshes);

        _this.glrenderer.setClearColor(_this._black, 0.0);
        _this.glrenderer.clearTarget(_this._tmpTarget, true, false, false);

        _this.glrenderer.render(_this._tmpScene, camera, _this._tmpTarget);
        _this.copyPass.render(_this.glrenderer, target, _this._tmpTarget);

        _this._tmpScene.children.length = 0;
        transparentMeshes.length = 0;
        transparentProperties.length = 0;
      };

      this.markups.forEach(function (markup) {
        var meshContainer = markup.meshContainer;
        if (!meshContainer.visible || meshContainer.children.length === 0) {
          return;
        }

        if (!_this.is3d) {// No point in checking in 3D since the camera is fixed
          var bbox = markup.getWorldBoundingBox(true);
          if (!isInsideCamera(bbox)) {
            return;
          }
        }

        var fillMesh = markup.fillMesh;
        var strokeMesh = markup.strokeMesh;
        var hasTransparentFill = fillMesh && fillMesh.material.opacity < 1;
        var hasTransparentStroke = strokeMesh.material.uniforms.opacity.value < 1;

        var normalRender = !hasTransparentFill && !hasTransparentStroke;
        if (normalRender) {
          flushTransparentMeshes();
          normalMeshes.push(meshContainer);
        } else {
          if (!_this._tmpTarget) {// Create only if needed
            if (!_this.createTempRenderTarget()) {
              return;
            }
          }

          flushNormalMeshes();

          if ((hasTransparentFill || !fillMesh) && hasTransparentStroke) {
            var currentBBox = markup.getWorldBoundingBox(true);
            if (transparentProperties.some(function (prop) {
              if (markup.isTransparent() && prop.isTransparent) {
                return false;
              }

              return is2DBoxIntersection(currentBBox, prop.bbox);
            })) {
              flushTransparentMeshes();
            }

            transparentMeshes.push(meshContainer);
            transparentProperties.push({
              bbox: currentBBox,
              isTransparent: markup.isTransparent() });

          } else {
            flushTransparentMeshes();

            _this._tmpScene.add(meshContainer);

            // Fill to tmpTarget                   
            meshContainer.remove(strokeMesh);

            _this.glrenderer.setClearColor(_this._black, 0.0);
            _this.glrenderer.clearTarget(_this._tmpTarget, true, false, false);

            _this.glrenderer.render(_this._tmpScene, camera, _this._tmpTarget);
            _this.copyPass.render(_this.glrenderer, target, _this._tmpTarget);

            // Stroke as normal
            meshContainer.remove(fillMesh);
            meshContainer.add(strokeMesh);

            _this.glrenderer.render(_this._tmpScene, camera, target);

            // Restore mesh container (adding back in the correct order)
            meshContainer.add(fillMesh);
            meshContainer.add(strokeMesh);

            _this._tmpScene.remove(meshContainer);
          }
        }
      });

      flushNormalMeshes();
      flushTransparentMeshes();
    } }, { key: "getCameraEyeVector", value: function getCameraEyeVector()

    {
      if (!this.eyeVector) {
        this.eyeVector = _Utils_CameraUtils__WEBPACK_IMPORTED_MODULE_11__["default"].getCameraEyeVector(this.markupsCamera);
      }

      return this.eyeVector.clone();
    } }, { key: "getCameraRightVector", value: function getCameraRightVector()

    {
      if (!this.rightVector) {
        this.rightVector = _Utils_CameraUtils__WEBPACK_IMPORTED_MODULE_11__["default"].getCameraRightVector(this.markupsCamera);
      }

      return this.rightVector.clone();
    } }, { key: "getCameraUpVector", value: function getCameraUpVector()

    {
      if (!this.upVector) {
        this.upVector = _Utils_CameraUtils__WEBPACK_IMPORTED_MODULE_11__["default"].getCameraUpVector(this.markupsCamera);
      }

      return this.upVector.clone();
    } }, { key: "getCameraRotation", value: function getCameraRotation()

    {
      return _Utils_CameraUtils__WEBPACK_IMPORTED_MODULE_11__["default"].getCameraRotation(this.markupsCamera);
    } }, { key: "worldToClient", value: function worldToClient(

    point) {var camera = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.markupsCamera;
      var containerBounds = this.viewer.navigation.getScreenViewport();
      var p = point.clone().project(camera);

      return new THREE.Vector3((p.x + 1) / 2 * containerBounds.width, (-p.y + 1) / 2 * containerBounds.height, 0);
    } }, { key: "clientToWorld", value: function clientToWorld(

    point) {var camera = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.markupsCamera;
      var containerBounds = this.viewer.navigation.getScreenViewport();
      var p = new THREE.Vector3();

      p.x = point.x / containerBounds.width * 2 - 1;
      p.y = -(point.y / containerBounds.height * 2 - 1);

      var result = p.unproject(camera);
      result.z = 0;
      return result;
    } }, { key: "sizeFromWorldToClient", value: function sizeFromWorldToClient(

    size) {
      var a = this.worldToClient(new THREE.Vector3());
      var b = this.worldToClient(new THREE.Vector3(size, 0, 0));

      return a.distanceTo(b);
    } }, { key: "sizeFromClientToWorld", value: function sizeFromClientToWorld(

    size) {
      var a = this.clientToWorld(new THREE.Vector3());
      var b = this.clientToWorld(new THREE.Vector3(size, 0, 0));

      return a.distanceTo(b);
    } }, { key: "multiplyByNormaStrokeWidth", value: function multiplyByNormaStrokeWidth(

    size) {
      return this.normaStrokeWidth * size;
    } }, { key: "documentCameraToMarkupsCamera", value: function documentCameraToMarkupsCamera(

    point) {
      if (!this.is3d) {
        point.z = 0;
        return point; // in 2D, both cameras are the same.
      }

      var p = this.worldToClient(point, this.documentCamera);
      return this.clientToWorld(p);
    } }, { key: "_fromMMtoWorldUnits", value: function _fromMMtoWorldUnits(

    value) {
      if (this.is3d) {
        return 1;
      }

      var model = this.viewer.model;

      // Prefer page units (model might be in meters while the page units are in inches or mm). If not available take model units
      // If that is also not available (i.e. raster image) use a default of mm for a 1 to 1 conversion
      var units = model.getMetadata('page_dimensions', 'page_units', null) || model.getMetadata('page_dimensions', 'model_units', 'mm');
      units = model.getUnitData(units.toLowerCase()).unitString;

      var worldUnits = Autodesk.Viewing.Private.convertUnits('mm', units, 1, value);

      if (model.getData().isLeaflet) {
        var bounds = this.viewer.impl.getFitBounds(true);
        var worldWidth = bounds.size().x;
        var pageWidth = model.getMetadata('page_dimensions', 'page_width');
        worldUnits *= worldWidth / pageWidth;
      }

      return worldUnits;
    } }, { key: "_calcNormaSize", value: function _calcNormaSize(

    defaultValue, maxSizePercentange) {
      var norma = this.mmToWorldUnitFactor * defaultValue;

      var bounds = this.viewer.impl.getFitBounds(true);
      var worldWidth = bounds.size().x;
      var worldHeight = bounds.size().y;

      var diagonal = Math.sqrt(worldWidth * worldWidth + worldHeight * worldHeight);
      norma = Math.min(norma, diagonal * maxSizePercentange);

      return norma;
    } }, { key: "setMMtoUnitConversion", value: function setMMtoUnitConversion()

    {
      this.mmToWorldUnitFactor = this._fromMMtoWorldUnits(1);
    } }, { key: "setNormaStrokeWidth", value: function setNormaStrokeWidth()

    {
      if (this.is3d) {
        this.normaStrokeWidth = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["NORMA_3D"];
      } else {
        this.normaStrokeWidth = this._calcNormaSize(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["DEFAULT_STROKE_IN_MM"], _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MAX_NORMA_PERCENTAGE"]);
      }
    } }, { key: "setNormaTextSize", value: function setNormaTextSize()

    {
      if (this.is3d) {
        this.normaTextSize = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["NORMA_TEXT_3D"];
      } else {
        this.normaTextSize = this._calcNormaSize(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["DEFAULT_FONT_SIZE_IN_MM"], _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MAX_NORMA_TEXT_PERCENTAGE"]);
      }
    } }, { key: "getNormaStrokeWidth", value: function getNormaStrokeWidth()

    {
      return this.normaStrokeWidth;
    }

    // We defined the baseline font size in px, and what it's value should be in mm, so that we can perform this
    // conversion, and have a consistent experience among documents with different scales
  }, { key: "getFontToWorldScale", value: function getFontToWorldScale() {
      return this.normaTextSize / _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["DEFAULT_FONT_SIZE_IN_PIXELS"];
    } }, { key: "addToScene", value: function addToScene(

    markup) {
      var hasCreationDate = function hasCreationDate(m) {return m.layer && m.layer.layerData && m.layer.layerData.metadata && m.layer.layerData.metadata.created_at;};

      var comparer = function comparer(a, b) {
        if (!hasCreationDate(a)) return 1; // It's a markup we just added by pushing to the array and should be left untouched at the end 

        var dateA = Date.parse(a.layer.layerData.metadata.created_at); // The array element
        var dateB = Date.parse(b.layer.layerData.metadata.created_at); // The element being inserted

        // First priority - oldest first
        if (dateA > dateB) return 1;
        if (dateA < dateB) return -1;

        // Second priority - id
        if (a.id > b.id) return 1;
        if (a.id < b.id) return -1;

        return 0;
      };

      if (hasCreationDate(markup)) {
        Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_10__["insertInSortedArray"])(markup, this.markups, comparer);
      } else {// Newly created markups don't have a layer yet
        this.markups.push(markup);
      }
    } }, { key: "removeFromScene", value: function removeFromScene(

    markup) {
      _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_7__["default"].remove(this.markups, function (m) {return m === markup;});
    } }, { key: "invalidate", value: function invalidate()

    {
      this.markupsExtension.viewer.impl.invalidate(false, false, true);
    } }, { key: "updateRaycaster", value: function updateRaycaster(

    mouse) {
      var containerBounds = this.viewer.navigation.getScreenViewport();
      var x = mouse.x / containerBounds.width * 2 - 1;
      var y = -(mouse.y / containerBounds.height) * 2 + 1;

      this.raycaster.ray.origin.set(x, y, (this.markupsCamera.near + this.markupsCamera.far) / (this.markupsCamera.near - this.markupsCamera.far)).unproject(this.markupsCamera);
      this.raycaster.ray.direction.set(0, 0, -1);
    } }, { key: "destroy", value: function destroy()

    {
      this.removeEventListeners();

      if (this.frameRenderer) {
        this.frameRenderer.destroy();
        this.frameRenderer = null;
      }

      if (this.linksRenderer) {
        this.linksRenderer.destroy();
        this.linksRenderer = null;
      }

      if (this.textRenderer) {
        this.textRenderer.destroy();
        this.textRenderer = null;
      }

      if (this.materialManager) {
        this.materialManager.destroy();
        this.materialManager = null;
      }

      if (this.geometryManager) {
        this.geometryManager.destroy();
        this.geometryManager = null;
      }

      this.disposeTmpTarget();

      this.invalidate();

      this.markupsExtension = null;
      this.viewer = null;
    } }]);return MarkupsRenderer;}();

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsSceneState.js":
/*!****************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsSceneState.js ***!
  \****************************************************/
/*! exports provided: generateSceneMetadata, getViewportData, restoreMarkupViewState */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateSceneMetadata", function() { return generateSceneMetadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getViewportData", function() { return getViewportData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "restoreMarkupViewState", function() { return restoreMarkupViewState; });
/* harmony import */ var _Utils_EventUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils/EventUtils */ "./extensions/BimMarkups/Utils/EventUtils.js");


var applyOffsetToCamera = function applyOffsetToCamera(viewport, offset) {
  if (!viewport || !offset) {
    return;
  }

  if ('eye' in viewport) {
    viewport.eye[0] = (Number(viewport.eye[0]) + offset.x).toString();
    viewport.eye[1] = (Number(viewport.eye[1]) + offset.y).toString();
    viewport.eye[2] = (Number(viewport.eye[2]) + offset.z).toString();
  }

  if ('target' in viewport) {
    viewport.target[0] = (Number(viewport.target[0]) + offset.x).toString();
    viewport.target[1] = (Number(viewport.target[1]) + offset.y).toString();
    viewport.target[2] = (Number(viewport.target[2]) + offset.z).toString();
  }

  if ('pivotPoint' in viewport) {
    viewport.pivotPoint[0] = (Number(viewport.pivotPoint[0]) + offset.x).toString();
    viewport.pivotPoint[1] = (Number(viewport.pivotPoint[1]) + offset.y).toString();
    viewport.pivotPoint[2] = (Number(viewport.pivotPoint[2]) + offset.z).toString();
  }
};

var generateSceneMetadata = function generateSceneMetadata(viewerState, globalOffset, options) {
  var state = JSON.parse(JSON.stringify(viewerState));

  if (globalOffset) {
    applyOffsetToCamera(state.viewport, globalOffset);
  }

  state.sheetGUID = options.sheetGUID;
  state.sheetName = options.sheetName;
  return state;
};

var getViewportData = function getViewportData(viewer, layerData) {var
  model = viewer.model;
  var globalOffset = model ? model.getData().globalOffset : null;

  var metadata = layerData.metadata.markup_metadata;

  if (globalOffset) {
    var clonedMarkupData = JSON.parse(JSON.stringify(metadata));var

    viewport = clonedMarkupData.viewport;

    var invGlobalOffset = { x: -globalOffset.x, y: -globalOffset.y, z: -globalOffset.z };
    applyOffsetToCamera(viewport, invGlobalOffset);

    return clonedMarkupData;
  }

  return metadata;
};

var restoreMarkupViewState = function restoreMarkupViewState(viewer, layerData, immediate) {var cb = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : function () {};
  if (!layerData) {
    cb(false);
    return;
  }

  var amendedData = getViewportData(viewer, layerData);

  viewer.restoreState(amendedData, null, immediate);

  var onTransitionComplete = function onTransitionComplete() {
    // Fix ALEX-6333
    // RestoreState will async to update camera's all data. Here force update camera before load markup.
    var camera = viewer.navigation.getCamera();
    viewer.navigation.updateCamera();
    camera.updateMatrixWorld();
    camera.matrixWorldInverse.getInverse(camera.matrixWorld);
    viewer.impl.sceneUpdated(true);

    cb(true);
  };

  if (immediate) {
    onTransitionComplete();
  } else {
    _Utils_EventUtils__WEBPACK_IMPORTED_MODULE_0__["default"].executeAfterTransitionEnded(viewer, onTransitionComplete);
  }

  var updateScene = function updateScene() {
    viewer.impl.sceneUpdated(true);
  };

  viewer.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, updateScene, { once: true });
};

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsSerializer.js":
/*!****************************************************!*\
  !*** ./extensions/BimMarkups/MarkupsSerializer.js ***!
  \****************************************************/
/*! exports provided: leafletWorldToMarkups, generateSVGData, generateJsonData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "leafletWorldToMarkups", function() { return leafletWorldToMarkups; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateSVGData", function() { return generateSVGData; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "generateJsonData", function() { return generateJsonData; });
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _MarkupsSceneState__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupsSceneState */ "./extensions/BimMarkups/MarkupsSceneState.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}




var removeUnnecessaryProperties = function removeUnnecessaryProperties(state) {
  delete state.scale;
  delete state.translation;
};

var leafletWorldToMarkups = function leafletWorldToMarkups(point, viewer) {
  var loadOptions;
  var bounds;

  if (viewer.model.getData().isPdf) {
    Autodesk.Viewing.PDFUtils.pdfToLeafletWorld(viewer, point);
    loadOptions = Autodesk.Viewing.PDFUtils.getLeafletLoadOptions(viewer);
    bounds = Autodesk.Viewing.PDFUtils.getLeafletBoundingBox(viewer);
  } else {
    var modelData = viewer.model.getData();
    loadOptions = modelData.loadOptions.loadOptions;
    bounds = modelData.bbox;
  }var _loadOptions =

  loadOptions,texWidth = _loadOptions.texWidth,texHeight = _loadOptions.texHeight;

  var worldPos = point;
  var worldTopLeft = new THREE.Vector3(bounds.min.x, bounds.max.y, 0);

  worldPos.sub(worldTopLeft);
  point.x = worldPos.x * texWidth / bounds.size().x;
  point.y = worldPos.y * texHeight / bounds.size().y;

  return point;
};

var leafletSizeFromWorldToMarkups = function leafletSizeFromWorldToMarkups(size, viewer) {
  var a = leafletWorldToMarkups(new THREE.Vector3(), viewer);
  var b = leafletWorldToMarkups(new THREE.Vector3(size, 0, 0), viewer);

  return a.distanceTo(b);
};

var convertAnchorsToMarkupSpecificNodeNames = function convertAnchorsToMarkupSpecificNodeNames(state) {
  var anchors = {};

  switch (state.type) {
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_RECTANGLE"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_CLOUD"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_CIRCLE"]:
      break;
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_ARROW"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_LINE"]:
      anchors.tail = state.anchors[0];
      anchors.head = state.anchors[1];
      break;
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_DIMENSION"]:
      anchors.firstAnchor = state.anchors[0];
      anchors.secondAnchor = state.anchors[1];
      break;
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_HIGHLIGHT"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_FREEHAND"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_POLYCLOUD"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_POLYLINE"]:
      anchors.locations = state.anchors;
      break;
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_ARROW_CALLOUT"]:
      //TODO
      break;
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_TEXT"]:
    case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_CALLOUT"]:
      //TODO
      break;}


  state.anchors = anchors;
};

var createSvgElement = function createSvgElement(type) {
  return document.createElementNS('http://www.w3.org/2000/svg', type);
};

var addSvgMetadata = function addSvgMetadata(svg, metadata) {
  var metadataNode = document.createElementNS('http://www.w3.org/2000/svg', 'metadata');
  var dataVersionNode = document.createElement('markup_document');

  metadataNode.appendChild(dataVersionNode);

  // NOTE: We could iterate over the properties, but we don't because these are the only ones supported
  dataVersionNode.setAttribute('data-model-version', metadata['data-model-version']); // Version. For example: "1"

  svg.insertBefore(metadataNode, svg.firstChild);
  return metadataNode;
};

var createMarkupPathSvg = function createMarkupPathSvg(closed) {
  var svg = createSvgElement('g');
  svg.setAttribute('cursor', 'inherit');
  svg.setAttribute('pointer-events', 'none');

  var path = createSvgElement('path');
  path.setAttribute('id', 'markup');

  if (closed) {
    path.setAttribute('d', 'M 0 0 z');
  } else {
    path.setAttribute('d', 'M 0 0');
  }

  svg.appendChild(path);

  return svg;
};

var addMarkupMetadata = function addMarkupMetadata(shape, metadata) {
  var metadataNode = document.createElementNS('http://www.w3.org/2000/svg', 'metadata');
  var dataVersionNode = document.createElement('markup_element');

  metadataNode.appendChild(dataVersionNode);

  Object.keys(metadata).forEach(function (key) {
    dataVersionNode.setAttribute(key, metadata[key]);
  });

  shape.insertBefore(metadataNode, shape.firstChild);
  return metadataNode;
};

var svgNodeToString = function svgNodeToString(domNode) {
  var result = '';
  try {
    var xmlSerializer = new XMLSerializer();
    result = xmlSerializer.serializeToString(domNode);
  } catch (err) {
    console.error('svgNodeToString failed to generate string representation of domNode.');
  }

  return result;
};

var flattenObject = function flattenObject(obj) {
  var flattenObj = {};

  Object.keys(obj).forEach(function (key) {
    if (_typeof(obj[key]) === 'object' && !Array.isArray(obj[key])) {
      Object.keys(obj[key]).forEach(function (k) {
        flattenObj[k] = obj[key][k];
      });
    } else {
      flattenObj[key] = obj[key];
    }
  });

  return flattenObj;
};

var convertCoordinatesToStrings = function convertCoordinatesToStrings(state) {
  Object.keys(state).forEach(function (key) {
    if (Array.isArray(state[key])) {
      var arr = state[key];
      var coordinates = [];

      arr.forEach(function (item) {
        coordinates.push(item.x);
        coordinates.push(item.y);
      });

      state[key] = coordinates.join(' ');
    } else if (_typeof(state[key]) === 'object') {
      var obj = state[key];
      var _coordinates = [];

      _coordinates.push(obj.x);
      _coordinates.push(obj.y);

      state[key] = _coordinates.join(' ');
    }
  });
};

var generateSVGData = function generateSVGData(layer, viewer, renderer) {
  var svg = createSvgElement('svg');
  addSvgMetadata(svg, { 'data-model-version': '5' });

  var markups = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["getObjectAsList"])(layer.markups);

  var viewerStateBackup = !viewer.impl.is2d ? viewer.getState() : null;

  var isLeaflet = viewer.model.getData().isLeaflet;
  var isPdf = viewer.model.getData().isPdf;

  markups.forEach(function (markup) {
    var state = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_0__["default"].cloneDeep(markup.getState());

    if (!viewer.impl.is2d) {
      Object(_MarkupsSceneState__WEBPACK_IMPORTED_MODULE_2__["restoreMarkupViewState"])(viewer, layer.layerData, true);
    }

    state.anchors.forEach(function (anchor) {
      markup.applyScaleAndTranslation(anchor);
      if (isLeaflet || isPdf)
      anchor.copy(leafletWorldToMarkups(anchor, viewer));
    });

    // Store size and position, then reverse translate the anchors
    if (markup.type !== _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_ARROW"] &&
    markup.type !== _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_DIMENSION"])
    {
      var boundingBox;

      if (markup.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_CALLOUT"]) {
        // To conform with old style
        state.isFrameUsed = state.isFrameUsed ? 1 : 0;
        // Store size without frame size
        boundingBox = markup.getWorldBoundingBoxTextOnly();
      } else {
        boundingBox = markup.getWorldBoundingBox();
      }

      var size = boundingBox.size();

      var center = boundingBox.center();

      if (isLeaflet || isPdf) {
        center.copy(leafletWorldToMarkups(center, viewer));
        size.x = leafletSizeFromWorldToMarkups(size.x, viewer);
        size.y = leafletSizeFromWorldToMarkups(size.y, viewer);
      }

      state.size = "".concat(size.x, " ").concat(size.y);
      state.position = "".concat(center.x, " ").concat(center.y);

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["applyTranslation"])(state.anchors, center.clone().negate());
    }

    if (markup.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["MARKUP_TYPE_DIMENSION"]) {
      if (isLeaflet || isPdf) {
        state.translation.copy(leafletWorldToMarkups(state.translation, viewer).sub(leafletWorldToMarkups(new THREE.Vector3(), viewer)));
      }
      state.offset = "".concat(state.translation.x, " ").concat(state.translation.y, " ").concat(state.translation.z);
      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["STYLE_PROPERTIES"].FONT_SIZE] *= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["DIMENSION_FONT_SIZE_FACTOR"];
      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["STYLE_PROPERTIES"].THICKNESS] *= _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["DIMENSION_THICKNESS_FACTOR"];
    }

    if (isLeaflet || isPdf) {
      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["STYLE_PROPERTIES"].THICKNESS] = leafletSizeFromWorldToMarkups(state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["STYLE_PROPERTIES"].THICKNESS], viewer);
      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["STYLE_PROPERTIES"].FONT_SIZE] = leafletSizeFromWorldToMarkups(state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["STYLE_PROPERTIES"].FONT_SIZE], viewer);
      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["STYLE_PROPERTIES"].FONT_SIZE] *= renderer.getFontToWorldScale();
    }

    state.type = markup.type;

    // Support legacy markup extension - BLMV-3054.
    if (state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["STYLE_PROPERTIES"].FILL_COLOR] === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["COLORS"].NO_COLOR) {
      state.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_3__["STYLE_PROPERTIES"].FILL_OPACITY] = 0;
    }

    removeUnnecessaryProperties(state);

    convertAnchorsToMarkupSpecificNodeNames(state);

    var flatState = flattenObject(state);

    convertCoordinatesToStrings(flatState);

    var layerSVG = createMarkupPathSvg(flatState.closed);
    addMarkupMetadata(layerSVG, flatState);
    svg.appendChild(layerSVG);
  });

  if (viewerStateBackup) {
    viewer.restoreState(viewerStateBackup, null, true);
  }

  var output = svgNodeToString(svg);

  return output;
};

// Not in use for now.
var generateJsonData = function generateJsonData(layer) {
  var data = [];
  var markups = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_1__["getObjectAsList"])(layer.markups);

  markups.forEach(function (markup) {
    var state = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_0__["default"].cloneDeep(markup.getState());

    removeUnnecessaryProperties(state);

    data.push({
      type: markup.type,
      state: state,
      dataModelVersion: 6 });

  });

  return JSON.stringify(data);
};

/***/ }),

/***/ "./extensions/BimMarkups/MarkupsTool.js":
/*!**********************************************!*\
  !*** ./extensions/BimMarkups/MarkupsTool.js ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupsTool; });
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _EditHandlers_RectSelector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./EditHandlers/RectSelector */ "./extensions/BimMarkups/EditHandlers/RectSelector.js");
/* harmony import */ var _MarkupTypes_MarkupsTypesDictionary__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupTypes/MarkupsTypesDictionary */ "./extensions/BimMarkups/MarkupTypes/MarkupsTypesDictionary.js");
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}


var

MarkupsTool = /*#__PURE__*/function () {
  function MarkupsTool(markupsExtension) {_classCallCheck(this, MarkupsTool);
    this.markupsExtension = markupsExtension;
    this.viewer = markupsExtension.viewer;

    this.names = ['markups'];

    this.isActive = false;

    this.onCameraChangedBinded = this.onCameraChanged.bind(this);
    this.onEditStartBinded = this.onEditStart.bind(this);
    this.onEditEndBinded = this.onEditEnd.bind(this);
    this.onDrawEndBinded = this.onDrawEnd.bind(this);
    this.onCreationTypeChangedBinded = this.onCreationTypeChanged.bind(this);
    this.onSelectionChangedBinded = this.onSelectionChanged.bind(this);

    this.rectSelector = new _EditHandlers_RectSelector__WEBPACK_IMPORTED_MODULE_2__["default"](this.markupsExtension);

    this.lastDrawEndTime = -Infinity;
  }_createClass(MarkupsTool, [{ key: "getNames", value: function getNames()

    {
      return this.names;
    } }, { key: "getName", value: function getName()

    {
      return this.names[0];
    } }, { key: "getPriority", value: function getPriority()

    {
      return this.markupsExtension.markupsManager.isMarkupSessionOpen() ? 200 : 60;
    } }, { key: "updateToolPriority", value: function updateToolPriority()

    {
      this.markupsExtension.viewer.toolController.rearrangeByPriorities();
    } }, { key: "intersectHandler", value: function intersectHandler(

    markups, handlerName) {
      if (this.lastMousePos) {
        for (var i = markups.length - 1; i >= 0; i--) {
          var markup = markups[i];

          if (markup.isCompleted()) {
            var handler = markup[handlerName];

            if (handler) {
              var mousePos = this.lastMousePos.clone();
              var intersected = handler.intersect(mousePos);

              if (intersected || handler.isDragging()) {
                return handler.getCursor();
              }
            }
          }
        }
      }

      return null;
    } }, { key: "getCursor", value: function getCursor()

    {
      var duringCreationMarkup = this.markupsExtension.markupsManager.getDuringCreationMarkup(false);
      var selectableMarkups = this.markupsExtension.markupsManager.getEnabledMarkups();
      var activeLayer = this.markupsExtension.markupsManager.getActiveLayer();
      var hasSelection = this.hasSelection();

      var cursor = null;

      if (this.markupsExtension.markupsManager.isMarkupSessionOpen()) {
        var inEditMarkups = this.markupsExtension.markupsManager.getInEditMarkups();
        var editableLinks = activeLayer.getAllLinks();

        cursor = duringCreationMarkup && duringCreationMarkup.creationHandler.getCursor(); // Get cursor of during creation markups.

        cursor = cursor || this.intersectHandler(editableLinks, 'anchorHandler');

        cursor = cursor || this.intersectHandler(inEditMarkups, 'anchorHandler');
        cursor = cursor || this.intersectHandler(inEditMarkups, 'scaleHandler');
        cursor = cursor || this.intersectHandler(inEditMarkups, 'rotationHandler');
        cursor = cursor || this.intersectHandler(inEditMarkups, 'translationHandler');
        cursor = cursor || this.intersectHandler(inEditMarkups, 'dimensionEditHandler');
      }

      cursor = cursor || this.intersectHandler(selectableMarkups, 'selectionHandler');

      if (!this.markupsExtension.markupsManager.isMarkupSessionOpen()) {
        var visibleLinks = this.markupsExtension.markupsManager.getVisibleLinks();
        cursor = cursor || this.intersectHandler(visibleLinks, 'selectionHandler');
      }

      var creationType = this.markupsExtension.markupsManager.getMarkupCreationType();

      if (!cursor && creationType === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["RECT_SELECTOR"] && !this.isRectSelectorActive()) {
        cursor = 'auto';
      }

      cursor = cursor || creationType && (hasSelection && !this.isRectSelectorActive() ? 'auto' : _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["MARKUP_CREATION_CURSORS"][creationType] || 'crosshair');

      return cursor;
    } }, { key: "register", value: function register()

    {
      this.snapper = new Autodesk.Viewing.MeasureCommon.Snapper(this.viewer, { markupMode: true });
      this.viewer.toolController.registerTool(this.snapper);
    } }, { key: "deregister", value: function deregister()

    {
      if (this.snapper) {
        this.viewer.toolController.deregisterTool(this.snapper);
        this.snapper = null;
      }
    } }, { key: "activate", value: function activate(

    name) {
      if (name === this.getName() && !this.isActive) {
        this.isActive = true;
        this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangedBinded);
        this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_EDIT_START, this.onEditStartBinded);
        this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_EDIT_END, this.onEditEndBinded);
        this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_DRAWING_END, this.onDrawEndBinded);
        this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_CREATION_TYPE_CHANGED, this.onCreationTypeChangedBinded);
        document.addEventListener('selectionchange', this.onSelectionChangedBinded);
      }
    } }, { key: "deactivate", value: function deactivate(

    name) {
      if (name === this.getName() && this.isActive) {
        this.isActive = false;
        this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangedBinded);
        this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_EDIT_START, this.onEditStartBinded);
        this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_EDIT_END, this.onEditEndBinded);
        this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_DRAWING_END, this.onDrawEndBinded);
        this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_CREATION_TYPE_CHANGED, this.onCreationTypeChangedBinded);
        document.removeEventListener('selectionchange', this.onSelectionChangedBinded);
        this.onCreationTypeChanged();
      }
    } }, { key: "onSelectionChanged", value: function onSelectionChanged()

    {
      var markups = this.markupsExtension.markupsManager.getSelectedMarkups();
      markups.forEach(function (markup) {
        if (markup.isTextMarkup() && markup.isInEdit()) {
          markup.textInputHandler.updateCaretPosition();
        }
      });
    } }, { key: "eventToWorld", value: function eventToWorld(

    event) {
      var pointScreen = { x: event.canvasX, y: event.canvasY };
      var point = this.markupsExtension.renderer.clientToWorld(pointScreen);

      return point;
    } }, { key: "getSnappedPosition", value: function getSnappedPosition()

    {
      if (!this.lastSnapPoint) {
        if (!this.viewer.impl.is2d && !this.isSnappingAllowed()) {
          this.lastSnapPoint = this.lastMousePos;
        } else {
          var pointScreen = { x: this.originalEvent.canvasX, y: this.originalEvent.canvasY };
          this.snapper.onMouseMove(pointScreen);

          if (!this.viewer.model.getData().isLeaflet) {
            this.snapper.indicator.render();
          }

          if (this.snapper.isSnapped()) {
            var point = Autodesk.Viewing.MeasureCommon.getSnapResultPosition(this.snapper.getSnapResult(), this.viewer);
            this.lastSnapPoint = this.markupsExtension.renderer.documentCameraToMarkupsCamera(point);
          } else {
            this.lastSnapPoint = this.lastMousePos;
          }
        }
      }

      return this.lastSnapPoint.clone();
    } }, { key: "applyHandler", value: function applyHandler(

    items, handlerName, eventName, button) {
      for (var i = items.length - 1; i >= 0; i--) {
        var item = items[i];

        if (item.isCompleted()) {
          var handler = item[handlerName];
          if (handler) {
            var consume = handler[eventName](this.lastMousePos, button);

            if (consume) {
              return true;
            }
          }
        }
      }

      return false;
    } }, { key: "isNavigationToolActive", value: function isNavigationToolActive()

    {
      return this.viewer.getActiveNavigationTool() !== this.getName();
    } }, { key: "isSnappingAllowed", value: function isSnappingAllowed()

    {
      var markupCreationType = this.markupsExtension.markupsManager.getMarkupCreationType();
      return markupCreationType && _MarkupTypes_MarkupsTypesDictionary__WEBPACK_IMPORTED_MODULE_3__["markupsTypesDictionary"][markupCreationType].withSnappingMarkup && (
      markupCreationType === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["MARKUP_TYPE_DIMENSION"] || !this.viewer.model.getData().isLeaflet);
    }

    // Currently allow rect selecting only when session is open.
  }, { key: "isRectSelectorActive", value: function isRectSelectorActive() {
      return this.markupsExtension.markupsManager.isMarkupSessionOpen() && this.markupsExtension.markupsManager.getMarkupCreationType() === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["RECT_SELECTOR"];
    } }, { key: "hasSelection", value: function hasSelection()

    {
      var isSessionOpen = this.markupsExtension.markupsManager.isMarkupSessionOpen();

      return this.markupsExtension.markupsManager.getSelectedMarkups().length > 0 ||
      !isSessionOpen && (
      this.markupsExtension.markupsManager.getSelectedLayers().length > 0 ||
      this.markupsExtension.markupsManager.getSelectedLinks().length > 0);
    }

    /**
       * Input handling
       */ }, { key: "handleMouseEvent", value: function handleMouseEvent(
    event, button, eventName, clickStart) {
      if (!this.markupsExtension.isToolEnabled()) {
        return false;
      }

      this.lastMousePos = this.eventToWorld(event);
      this.originalEvent = event;

      this.markupsExtension.renderer.updateRaycaster({ x: event.canvasX, y: event.canvasY });

      var markupCreationType = this.markupsExtension.markupsManager.getMarkupCreationType();
      var isSessionOpen = this.markupsExtension.markupsManager.isMarkupSessionOpen();

      var consumeEvent;
      var markup;

      if (!this.markupInEdit) {
        if (!markupCreationType ||
        !_MarkupTypes_MarkupsTypesDictionary__WEBPACK_IMPORTED_MODULE_3__["markupsTypesDictionary"][markupCreationType].useTimerBeforeSelection ||
        _MarkupTypes_MarkupsTypesDictionary__WEBPACK_IMPORTED_MODULE_3__["markupsTypesDictionary"][markupCreationType].useTimerBeforeSelection && performance.now() - this.lastDrawEndTime > _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["TIMEOUT_TO_SELECT_AFTER_DRAWEND"]) {
          // Select & hover markups.
          var selectableMarkups = this.markupsExtension.markupsManager.getEnabledMarkups().filter(function (m) {return !m.isSelected();});
          consumeEvent = consumeEvent || this.applyHandler(selectableMarkups, 'selectionHandler', eventName, button);
        }
      }

      var activeLayer = this.markupsExtension.markupsManager.getActiveLayer();

      // Continue creating existing markup.
      if (markupCreationType) {
        markup = this.markupsExtension.markupsManager.getDuringCreationMarkup(false);

        if (markup) {
          if (!markup.isCompleted()) {
            if (consumeEvent) {
              // If another markup has been selected, cancel creation.
              markup.creationHandler.creationCancel();
            } else {
              var mousePos = markup.creationHandler.getSnappedPosition();

              // mousemove event shouldn't be triggered in creation handlers, unless the mouse moved the minimum threshold.
              if (eventName === 'handleMouseMove' && !(this.mouseMoved || markup.creationHandler.creationStarted)) {
                // Necessary in order to prevent unwanted navigation during creation.
                consumeEvent = true;
              } else {
                consumeEvent = markup.creationHandler[eventName](mousePos, button);
              }
            }
          }
        }
      }

      // Edit existing markups & link icons, using handlers.
      if (isSessionOpen) {
        // Links
        var editableLinks = activeLayer.getAllLinks();
        consumeEvent = consumeEvent || this.applyHandler(editableLinks, 'anchorHandler', eventName, button);

        // Markups
        var inEditMarkups = this.markupsExtension.markupsManager.getInEditMarkups();

        consumeEvent = consumeEvent || this.applyHandler(inEditMarkups, 'scaleHandler', eventName, button);
        consumeEvent = consumeEvent || this.applyHandler(inEditMarkups, 'anchorHandler', eventName, button);
        consumeEvent = consumeEvent || this.applyHandler(inEditMarkups, 'rotationHandler', eventName, button);
        consumeEvent = consumeEvent || this.applyHandler(inEditMarkups, 'translationHandler', eventName, button);
        consumeEvent = consumeEvent || this.applyHandler(inEditMarkups, 'dimensionEditHandler', eventName, button);
        consumeEvent = consumeEvent || this.applyHandler(inEditMarkups, 'textInputHandler', eventName, button);
      }

      // For Dimension markup only, the snapper indicator should be visible even before the creation has started.
      if (!consumeEvent && eventName === 'handleMouseMove' && this.isSnappingAllowed()) {
        this.getSnappedPosition();
      }

      // Selection rect. Currently allow rect selecting only when session is open.
      if (this.isRectSelectorActive()) {
        consumeEvent = consumeEvent || this.rectSelector[eventName](this.lastMousePos);
      }

      // Link icon click & hover.
      if (!isSessionOpen) {
        var visibleLinks = this.markupsExtension.markupsManager.getVisibleLinks();
        consumeEvent = consumeEvent || this.applyHandler(visibleLinks, 'selectionHandler', eventName, button);
      }

      // Click outside to deselect.
      if (!consumeEvent && (eventName === 'handleButtonUp' || eventName === 'handleButtonDown' && markupCreationType && _MarkupTypes_MarkupsTypesDictionary__WEBPACK_IMPORTED_MODULE_3__["markupsTypesDictionary"][markupCreationType].singleClickMarkup)) {
        if (this.hasSelection() && !this.shiftDown && !this.mouseMoved && !this.isRectSelectorActive()) {
          this.markupsExtension.markupsManager.deselectAllMarkups();
          this.markupsExtension.markupsManager.deselectAllLinks();

          if (!isSessionOpen) {
            this.markupsExtension.markupsManager.deselectAllLayers(null);
          }

          consumeEvent = true;
        }
      }

      // Create new markup.
      if (!consumeEvent && clickStart && markupCreationType && !this.isNavigationToolActive()) {
        markup = this.markupsExtension.markupsManager.getDuringCreationMarkup(true);

        if (markup) {
          var _mousePos = markup.creationHandler.getSnappedPosition();
          consumeEvent = markup.creationHandler[eventName](_mousePos, button);

          if (!consumeEvent) {
            markup.creationHandler.creationCancel();
          }
        }
      }

      this.lastSnapPoint = null;

      return consumeEvent;
    } }, { key: "handleButtonDown", value: function handleButtonDown(

    event, button) {
      this.dragging = true;
      this.buttonDownPos = new THREE.Vector2(event.canvasX, event.canvasY, 0);
      this.mouseMoved = false;
      this.buttonDownConsumed = false;
      this.selectedOnDown = false;

      this.panning = !Autodesk.Viewing.isMobileDevice() && (this.isRightClick(event) || this.isMiddleClick(event));

      if (this.panning) {
        return false;
      }

      this.markupsExtension.markupsManager.dispatchEvent({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].BUTTON_DOWN });

      this.buttonDownConsumed = this.handleMouseEvent(event, button, 'handleButtonDown', true);

      var selectedMarkups = this.markupsExtension.markupsManager.getSelectedMarkups();

      this.selectedOnDown = selectedMarkups.length > 0;

      return this.buttonDownConsumed;
    } }, { key: "handleButtonUp", value: function handleButtonUp(

    event, button) {
      this.dragging = false;
      this.buttonDownPos = null;
      this.buttonUpConsumed = false;
      this.buttonUpCalled = true;

      if (this.panning || this.mouseMoved && !this.buttonDownConsumed) {
        this.panning = false;
        this.mouseMoved = false;
        return false;
      }

      var consumed = this.handleMouseEvent(event, button, 'handleButtonUp', false);


      var selectedMarkups = this.markupsExtension.markupsManager.getSelectedMarkups();

      // In case there is a selected markup, single click should only deselect it, and not start creating a new markup.
      if (!this.mouseMoved && this.selectedOnDown && !selectedMarkups[0]) {
        var markup = this.markupsExtension.markupsManager.getDuringCreationMarkup(false);
        if (markup) {
          markup.creationHandler.creationCancel();
        }
        this.markupsExtension.markupsManager.deselectAllMarkups();
      }

      this.buttonUpConsumed = consumed;
      var wasMouseMoved = this.mouseMoved;
      this.mouseMoved = false;

      return consumed && wasMouseMoved || this.isRectSelectorActive();
    } }, { key: "handleDoubleClick", value: function handleDoubleClick(

    event, button) {
      var consumed = this.handleMouseEvent(event, button, 'handleDoubleClick', false);
      var creationToolSelected = this.markupsExtension.markupsManager.isMarkupSessionOpen() && this.markupsExtension.markupsManager.getMarkupCreationType();
      return consumed || creationToolSelected;
    } }, { key: "handleMouseMove", value: function handleMouseMove(

    event) {
      if (this.panning) {
        return false;
      }

      if (this.buttonDownPos && !this.mouseMoved) {
        this.mouseMoved = new THREE.Vector2(event.canvasX, event.canvasY, 0).distanceTo(this.buttonDownPos) > _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["MIN_CHANGE_DISTANCE"];
      }

      this.markupsExtension.markupsManager.unhoverAllLayers();
      this.markupsExtension.markupsManager.unhoverAllMarkups();

      var consumed = this.handleMouseEvent(event, null, 'handleMouseMove', false);

      return this.dragging && consumed;
    } }, { key: "handleKeyDown", value: function handleKeyDown(

    event, keyCode) {var _this = this;
      var inEditMarkups = this.markupsExtension.markupsManager.getInEditMarkups();

      var consumeEvent = false;

      var duringCreationMarkup = this.markupsExtension.markupsManager.getDuringCreationMarkup(false);

      if (duringCreationMarkup) {
        consumeEvent = duringCreationMarkup.creationHandler.handleKeyDown(event, keyCode);
      } else {
        this.markupsExtension.markupsManager.openActionGroup();
        var consumed;

        for (var i = inEditMarkups.length - 1; i >= 0; i--) {
          var markup = inEditMarkups[i];

          if (markup) {
            if (markup.isCompleted()) {
              consumed = markup.anchorHandler && markup.anchorHandler.handleKeyDown(event, keyCode);

              if (!consumed) {
                consumed = markup.textInputHandler && markup.textInputHandler.handleKeyDown(event, keyCode);
              }

              if (!consumed) {
                consumed = markup.scaleHandler && markup.scaleHandler.handleKeyDown(event, keyCode);
              }

              if (!consumed) {
                consumed = markup.rotationHandler && markup.rotationHandler.handleKeyDown(event, keyCode);
              }

              if (!consumed) {
                consumed = markup.translationHandler && markup.translationHandler.handleKeyDown(event, keyCode);
              }

              if (!consumed) {
                consumed = markup.dimensionEditHandler && markup.dimensionEditHandler.handleKeyDown(event, keyCode);
              }

              if (!consumed) {
                consumed = markup.selectionHandler && markup.selectionHandler.handleKeyDown(event, keyCode);
              }
            }
          }

          consumeEvent = consumeEvent || consumed;
        }

        this.markupsExtension.markupsManager.closeActionGroup();
      }

      var links = this.markupsExtension.markupsManager.getVisibleLinks();

      for (var _i = links.length - 1; _i >= 0; _i--) {
        var link = links[_i];

        consumeEvent = consumeEvent || link.anchorHandler && link.anchorHandler.handleKeyDown(event, keyCode);
        consumeEvent = consumeEvent || link.selectionHandler && link.selectionHandler.handleKeyDown(event, keyCode);
      }

      if (!consumeEvent) {
        switch (keyCode) {
          case Autodesk.Viewing.KeyCode.CONTROL:
            this.ctrlDown = true;
            break;
          case Autodesk.Viewing.KeyCode.SHIFT:
            this.shiftDown = true;
            consumeEvent = true;
            break;
          case Autodesk.Viewing.KeyCode.a:
            if (this.ctrlDown) {
              if (this.markupsExtension.markupsManager.isMarkupSessionOpen()) {
                var layer = this.markupsExtension.markupsManager.getActiveLayer();
                layer.selectAllMarkups();
                consumeEvent = true;
              }
            }
            break;
          case Autodesk.Viewing.KeyCode.x:
            if (this.ctrlDown) {
              this.markupsExtension.cut();
              consumeEvent = true;
            }
            break;
          case Autodesk.Viewing.KeyCode.c:
            if (this.ctrlDown) {
              this.markupsExtension.copy();
              consumeEvent = true;
            }
            break;
          case Autodesk.Viewing.KeyCode.v:
            if (this.ctrlDown) {
              this.markupsExtension.paste();
              consumeEvent = true;
            }
            break;
          case Autodesk.Viewing.KeyCode.d: // Duplicate
            if (this.ctrlDown) {
              this.markupsExtension.copy();
              this.markupsExtension.paste();
              consumeEvent = true;
            }
            break;
          case Autodesk.Viewing.KeyCode.z:
            if (this.ctrlDown && !this.shiftDown) {
              this.markupsExtension.undo();
              consumeEvent = true;
            } else if (this.ctrlDown && this.shiftDown) {
              this.markupsExtension.redo();
              consumeEvent = true;
            }
            break;
          case Autodesk.Viewing.KeyCode.y:
            if (this.ctrlDown) {
              this.markupsExtension.redo();
              consumeEvent = true;
            }
            break;
          case Autodesk.Viewing.KeyCode.ESCAPE:
            if (this.markupsExtension.markupsManager.getSelectedMarkups().length > 0) {
              this.markupsExtension.markupsManager.deselectAllMarkups();
              consumeEvent = true;
            } else if (this.markupsExtension.markupsManager.isMarkupSessionOpen()) {
              var _layer = this.markupsExtension.markupsManager.getActiveLayer();

              if (_layer.isEmpty()) {
                this.markupsExtension.endMarkupSession(false);
              } else {
                this.markupsExtension.markupsManager.dispatchEvent({
                  type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_DISCARD_PRESSED,
                  onConfirmCB: function onConfirmCB() {
                    _this.markupsExtension.endMarkupSession(false);
                  } });

              }
              consumeEvent = true;
            } else if (this.markupsExtension.markupsManager.getSelectedLayers().length > 0) {
              this.markupsExtension.markupsManager.deselectAllLayers();
              consumeEvent = true;
            }
            break;
          case Autodesk.Viewing.KeyCode.BACKSPACE:
          case Autodesk.Viewing.KeyCode.DELETE:
            this.markupsExtension.markupsManager.deleteInEditMarkups();
            break;
          default:
            break;}

      }

      return consumeEvent;
    } }, { key: "handleSingleClick", value: function handleSingleClick(

    event, button) {
      return this.buttonUpConsumed;
    } }, { key: "handleKeyUp", value: function handleKeyUp(

    event, keyCode) {
      var inEditMarkups = this.markupsExtension.markupsManager.getInEditMarkups();
      var duringCreationMarkup = this.markupsExtension.markupsManager.getDuringCreationMarkup(false);

      if (duringCreationMarkup) {
        duringCreationMarkup.creationHandler.handleKeyUp(event, keyCode);
      } else {
        this.markupsExtension.markupsManager.openActionGroup();

        for (var i = inEditMarkups.length - 1; i >= 0; i--) {
          var consumed = void 0;
          var markup = inEditMarkups[i];

          if (markup) {
            if (markup.isCompleted()) {
              consumed = markup.anchorHandler && markup.anchorHandler.handleKeyUp(event, keyCode);

              if (!consumed) {
                consumed = markup.translationHandler && markup.translationHandler.handleKeyUp(event, keyCode);
              }
            }
          }
        }

        this.markupsExtension.markupsManager.closeActionGroup();
      }

      switch (keyCode) {
        case Autodesk.Viewing.KeyCode.CONTROL:
          this.ctrlDown = false;
          break;
        case Autodesk.Viewing.KeyCode.SHIFT:
          this.shiftDown = false;
          break;
        default:
          break;}


      return false;
    } }, { key: "onCameraChanged", value: function onCameraChanged()

    {
      if (this.isSnappingAllowed() && !this.viewer.model.getData().isLeaflet) {
        this.snapper.indicator.render();
      }
    } }, { key: "onCreationTypeChanged", value: function onCreationTypeChanged()

    {
      this.snapper.indicator.clearOverlays();
    } }, { key: "onEditStart", value: function onEditStart()

    {
      this.markupInEdit = true;
      this.snapper.indicator.clearOverlays();
    } }, { key: "onEditEnd", value: function onEditEnd()

    {
      this.markupInEdit = false;
      this.snapper.indicator.clearOverlays();
    } }, { key: "onDrawEnd", value: function onDrawEnd()

    {
      this.lastDrawEndTime = performance.now();
    } }, { key: "isMiddleClick", value: function isMiddleClick(

    event) {
      return Autodesk.Viewing.Private.isMiddleClick(event);
    } }, { key: "isRightClick", value: function isRightClick(

    event) {
      return Autodesk.Viewing.Private.isRightClick(event, this.viewer.navigation);
    } }, { key: "handleBlur", value: function handleBlur()

    {
      this.ctrlDown = false;
      this.shiftDown = false;
    }

    // Mobile events
  }, { key: "handleSingleTap", value: function handleSingleTap(
    event) {
      var consumed = this.buttonUpConsumed;

      if (!this.buttonUpCalled) {
        this.handleButtonDown(event, 0);
        consumed = this.handleButtonUp(event, 0) || this.buttonUpConsumed;
      }

      // buttonUpCalled used to fix a bug where LMV sends sometimes both handleButtonUp and handleSingleTap on after the other.
      this.buttonUpCalled = false;

      return consumed;
    } }, { key: "handleDoubleTap", value: function handleDoubleTap(

    event) {
      return this.handleDoubleClick(event, 0);
    } }, { key: "isNavigationJustEnded", value: function isNavigationJustEnded()

    {
      return this.navigationEndTime && Date.now() - this.navigationEndTime < _MarkupsConstants__WEBPACK_IMPORTED_MODULE_1__["MOBILE_GESTURES_MIN_THRESHOLD_TIME"];
    } }, { key: "handleGesture", value: function handleGesture(

    event) {
      var consumed;

      switch (event.type) {
        case 'dragstart':
          if (this.isNavigationJustEnded()) {
            return false;
          }

          return this.handleButtonDown(event, 0);
        case 'dragmove':
          if (this.isNavigationJustEnded()) {
            return false;
          }
          return this.handleMouseMove(event);
        case 'dragend':
          if (this.isNavigationJustEnded()) {
            return false;
          }
          consumed = this.handleButtonUp(event, 0);
          this.buttonUpCalled = false;
          return consumed;
        case 'pinchend':
          this.navigationEndTime = Date.now();
          break;
        case 'panend':
          this.navigationEndTime = Date.now();
          break;

        default:
          break;}


      return false;
    } }]);return MarkupsTool;}();

/***/ }),

/***/ "./extensions/BimMarkups/RendererHelpers/MarkupsGeometryManager.js":
/*!*************************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/MarkupsGeometryManager.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupsGeometryManager; });
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MeshLine__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MeshLine */ "./extensions/BimMarkups/RendererHelpers/MeshLine.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _PenSmoothing__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PenSmoothing */ "./extensions/BimMarkups/RendererHelpers/PenSmoothing.js");
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}




var

MarkupsGeometryManager = /*#__PURE__*/function () {
  function MarkupsGeometryManager(markupsExtension) {_classCallCheck(this, MarkupsGeometryManager);
    this.markupsExtension = markupsExtension;

    this.geoCache = {};
  }_createClass(MarkupsGeometryManager, [{ key: "getStrokeGeometry", value: function getStrokeGeometry(

    markup) {
      if (this._isCacheSupported(markup.type)) {
        return this._getCachedStrokeGeometry(markup.type);
      } else {
        if (MarkupsGeometryManager.areAllAnchorsEqual(markup.editState.anchors)) {
          return this._createPointGeometry(markup);
        }
        return this._createStrokeGeometry(markup);
      }
    } }, { key: "getFillGeometry", value: function getFillGeometry(

    markup) {
      switch (markup.type) {
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CLOUD"]:
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_POLYCLOUD"]:
          var fill = { innerGeometry: this._getFillInnerGeometryFromAnchors(markup) };
          if (markup.meshLine.type !== _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CIRCLE"]) {
            fill.arcGeometry = this._getFillCircleGeometry(markup.meshLine.radius);
            fill.fillGapGeometries = this._getFillingGapsGeometry(markup);
          }
          return fill;
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_POLYLINE"]:
          return this._getFillInnerGeometryFromAnchors(markup);
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CIRCLE"]:
          return this._getFillCircleGeometry(0.5, 72);
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_RECTANGLE"]:
          return this._getFillRectangleGeometry();
        default:
          return null;}

    } }, { key: "_getFillingGapsGeometry", value: function _getFillingGapsGeometry(

    markup) {
      var fillGapGeometries = [];
      for (var i = 0; i < markup.meshLine.intersectionObjects.length; i++) {var _markup$meshLine$inte =
        markup.meshLine.intersectionObjects[i],beginPoint = _markup$meshLine$inte.beginPoint,endPoint = _markup$meshLine$inte.endPoint,newCircle = _markup$meshLine$inte.newCircle,anchorPoint = _markup$meshLine$inte.anchorPoint,beginCircle = _markup$meshLine$inte.beginCircle,endCircle = _markup$meshLine$inte.endCircle;

        if (!beginPoint || !endPoint || !anchorPoint || !beginCircle || !endCircle || !newCircle) {
          return null;
        }

        var vertices = [];
        vertices.push(new THREE.Vector3(anchorPoint.x, anchorPoint.y, 0));
        vertices.push(new THREE.Vector3(beginCircle.x, beginCircle.y, 0));
        vertices.push(new THREE.Vector3(beginPoint.x, beginPoint.y, 0));
        vertices.push(new THREE.Vector3(newCircle.x, newCircle.y, 0));
        vertices.push(new THREE.Vector3(endPoint.x, endPoint.y, 0));
        vertices.push(new THREE.Vector3(endCircle.x, endCircle.y, 0));

        fillGapGeometries.push(new THREE.ShapeGeometry(new THREE.Shape(vertices)));
      }
      return fillGapGeometries;
    } }, { key: "_getFillCircleGeometry", value: function _getFillCircleGeometry(

    radius) {var segments = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 12;
      var hashName = 'circle-fill|r:' + radius + '|s:' + segments;
      if (!this.geoCache[hashName]) {
        this.geoCache[hashName] = new THREE.CircleGeometry(radius, segments);
      }
      return this.geoCache[hashName];
    } }, { key: "_getFillRectangleGeometry", value: function _getFillRectangleGeometry()

    {
      var hashName = 'rectangle-fill';
      if (!this.geoCache[hashName]) {
        this.geoCache[hashName] = new THREE.PlaneBufferGeometry(1, 1, 1, 1);
      }
      return this.geoCache[hashName];
    } }, { key: "_getFillInnerGeometryFromAnchors", value: function _getFillInnerGeometryFromAnchors(

    markup) {
      if (markup.meshLine.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CIRCLE"]) {
        return this._getFillCircleGeometry(0.5, 10);
      }
      var anchors = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(markup.getAnchors());
      this._centerAndScaleLocations(anchors, markup.center, markup.scaleMatrix);
      if (markup.meshLine.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CLOUD"]) {
        this._shiftAnchorsInsideBox(markup, anchors, markup.meshLine.radius);
      }
      return anchors.length > 2 ? new THREE.ShapeGeometry(new THREE.Shape(anchors)) : null;
    } }, { key: "_getCachedStrokeGeometry", value: function _getCachedStrokeGeometry(

    type) {
      var hashName = type;
      if (!this.geoCache[hashName]) {
        this.geoCache[hashName] = this._createCachedStrokeGeometry(type);
      }

      return this.geoCache[hashName];
    } }, { key: "_isCacheSupported", value: function _isCacheSupported(

    type) {
      var supportedTypes = [_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_RECTANGLE"], _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CIRCLE"]];
      return supportedTypes.includes(type);
    } }, { key: "isCachedGeometry", value: function isCachedGeometry(

    meshLine) {
      for (var key in this.geoCache) {
        if (meshLine === this.geoCache[key]) {
          return true;
        }
      }

      return false;
    } }, { key: "_createCachedStrokeGeometry", value: function _createCachedStrokeGeometry(

    type) {
      switch (type) {
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_RECTANGLE"]:
          return this._createRectangleStrokeGeometry();
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CIRCLE"]:
          return this._createCircleStrokeGeometry();
        default:
          return null;}

    } }, { key: "_createStrokeGeometry", value: function _createStrokeGeometry(

    markup) {
      switch (markup.type) {
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CLOUD"]:
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_POLYCLOUD"]:
          var geo = this._createCloudGeometry(markup);
          if (!geo) {
            geo = this._getCachedStrokeGeometry(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CIRCLE"]);
          }
          return geo;
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_POLYLINE"]:
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_LINE"]:
          return this._createLineGeometry(markup, 179);
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_FREEHAND"]:
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_HIGHLIGHT"]:
          return this._createLineGeometry(markup, 120);
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_ARROW"]:
          return this._createArrowGeometry(markup);
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_DIMENSION"]:
          return this._createDimensionGeometry(markup);
        default:
          return null;}

    } }, { key: "_createPointGeometry", value: function _createPointGeometry(

    markup) {
      var capType, width;

      switch (markup.type) {
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CLOUD"]:
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_POLYCLOUD"]:
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_FREEHAND"]:
        case _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_HIGHLIGHT"]:
          capType = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_ROUND_CAP"];
          width = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["POINT_SIZE_IN_MM"] * this.markupsExtension.renderer.mmToWorldUnitFactor;
          break;
        default:
          capType = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_FLAT_CAP"];
          width = this.markupsExtension.renderer.getNormaStrokeWidth();
          break;}


      var geometry = [
      { x: 0.0, y: 0.0, z: 0.0 },
      { x: width, y: 0.0, z: 0.0 }];


      return this._createMeshLine(geometry, markup.type, markup, null, { capType: capType });
    } }, { key: "_createMeshLine", value: function _createMeshLine(

    geometry, type, markup, connectivity) {var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};var widthCB = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : null;
      var meshLine;
      if (markup) {
        meshLine = markup.meshLine;
        options.useExactSize = markup.completed;
      } else {
        options.useExactSize = true; // For a cached geometry
      }

      if (!meshLine || meshLine.type !== type) {
        meshLine = new _MeshLine__WEBPACK_IMPORTED_MODULE_3__["MeshLine"](this.markupsExtension.renderer.supportsInt32Index());
      }

      meshLine.type = type;
      meshLine.setGeometry(geometry, widthCB, connectivity, options);

      return meshLine;
    } }, { key: "_createRectangleStrokeGeometry", value: function _createRectangleStrokeGeometry()

    {
      var geometry = [
      { x: -0.5, y: -0.5, z: 0 },
      { x: 0.5, y: -0.5, z: 0 },
      { x: 0.5, y: 0.5, z: 0 },
      { x: -0.5, y: 0.5, z: 0 },
      { x: -0.5, y: -0.5, z: 0 }];


      return this._createMeshLine(geometry, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_RECTANGLE"], null, null, { isClosed: true });
    } }, { key: "_createCircleStrokeGeometry", value: function _createCircleStrokeGeometry()

    {
      var geometry = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__["createArc"])(0, 0, 0.5, 0, 2 * Math.PI, false, 72);
      return this._createMeshLine(geometry, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CIRCLE"], null, null, { isClosed: true });
    } }, { key: "_centerAndScaleLocations", value: function _centerAndScaleLocations(

    locations, center, scale) {
      locations.forEach(function (location) {
        location.sub(center);
        location.applyMatrix4(scale);
      });
    } }, { key: "_createLineGeometry", value: function _createLineGeometry(

    markup) {var limitDegrees = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 29;
      var isPen = markup.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_FREEHAND"] || markup.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_HIGHLIGHT"];
      var anchors = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(markup.getEditState().anchors);

      this._centerAndScaleLocations(anchors, markup.center, markup.scaleMatrix);

      var connectivity = [],widths = null;
      if (markup.editState.closed) {
        anchors.push(anchors[0]);
      }

      if (isPen) {
        var segmentSize = 0.5 * markup.markupsExtension.renderer.mmToWorldUnitFactor;
        var useVariableWidth = false; //markup.type === MarkupsConstants.MARKUP_TYPE_FREEHAND && anchors[0] && anchors[0].width !== undefined; // TODO define width location in state
        var smoothie = Object(_PenSmoothing__WEBPACK_IMPORTED_MODULE_5__["default"])(anchors, segmentSize, useVariableWidth);
        anchors = smoothie.anchors;
        widths = smoothie.widths;
      }

      // Use a joinType if miter will be too long. Default limit taken from:
      // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-miterlimit
      var prev = new THREE.Vector3();
      var next = new THREE.Vector3();
      var limit = Math.cos(limitDegrees * Math.PI / 180);

      for (var i = 1; i < anchors.length - 1; i++) {
        prev.copy(anchors[i - 1]).sub(anchors[i]).normalize();
        next.copy(anchors[i + 1]).sub(anchors[i]).normalize();
        if (next.dot(prev) > limit) {
          anchors.splice(i, 0, anchors[i]); // Adding a repeated point for the join
          widths && widths.splice(i, 0, widths[i]);
          connectivity[i] = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_END"];
          i++;
        }
      }

      if (markup.editState.closed) {
        prev.copy(anchors[anchors.length - 2]).sub(anchors[anchors.length - 1]).normalize();
        next.copy(anchors[1]).sub(anchors[0]).normalize();
        if (next.dot(prev) > limit) {
          anchors.push(anchors[0]);
          widths && widths.push(widths[0]);
        }
      }

      return this._createMeshLine(anchors, markup.type, markup, connectivity, {
        capType: isPen ? _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_ROUND_CAP"] : _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_FLAT_CAP"],
        joinType: _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_ROUND_CAP"],
        isClosed: markup.editState.closed }, widths);
    } }, { key: "_createArrowGeometry", value: function _createArrowGeometry(

    markup) {// Can probably be cached
      var t = markup.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS];

      var anchors = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(markup.getEditState().anchors);
      // Actual anchors
      anchors[0].sub(markup.center); // Tail
      anchors[1].sub(markup.center); // Head

      var line = anchors[1].clone().sub(anchors[0]);

      var eyeVec = this.markupsExtension.renderer.getCameraEyeVector();
      var tipLength = Math.min(t * _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["ARROW_TIP_LENGTH"], line.length() / 2); // If the line length is short, then reduce tip length.

      var connectivity = [];

      // If the tip length is smaller than the thickness, don't render it at all.
      var withTip = tipLength > t;
      if (withTip) {
        var lineDirection = line.clone().normalize();
        var p = anchors[1].clone().sub(lineDirection.multiplyScalar(tipLength));
        var angle = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].degreesToRadians(30);

        anchors[2] = p.clone();
        _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(anchors[2], angle, anchors[1], eyeVec);

        anchors[3] = anchors[1].clone();

        anchors[4] = p.clone();
        _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation(anchors[4], -angle, anchors[1], eyeVec);

        connectivity[1] = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_END"];
        connectivity[2] = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_START"];
      }

      var meshLine = this._createMeshLine(anchors, markup.type, markup, connectivity);

      // Find bounding points (for accurate bounding box). Needs to take into the account the arrow head
      if (withTip) {
        anchors[0].add(markup.center);
        anchors[1].add(markup.center);
        anchors[2].add(markup.center);
        anchors[4].add(markup.center);

        meshLine.boundingPoints = [anchors[0], anchors[2], anchors[1], anchors[4]];
      }

      return meshLine;
    } }, { key: "_createDimensionGeometry", value: function _createDimensionGeometry(

    markup) {
      var thickness = markup.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] * _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DIMENSION_THICKNESS_FACTOR"];

      var anchors = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(markup.getEditState().anchors);

      var points = [];
      var connectivity = [];

      function addSingleSegment(p1, p2) {
        points = points.concat([p1, p2]);
        connectivity = connectivity.concat([
        _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_START"],
        _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_END"]]);

      }

      // Actual anchors
      anchors[0].sub(markup.center); // firstAnchor
      anchors[1].sub(markup.center); // secondAnchor

      addSingleSegment(anchors[0], anchors[1]);

      var lineDirection = anchors[0].clone().sub(anchors[1]);
      var eyeVec = this.markupsExtension.renderer.getCameraEyeVector();
      var normal = lineDirection.clone().cross(eyeVec).normalize();
      var tipLength = thickness * _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["DIMENSION_TIP_LENGTH"];
      var halfTip = normal.clone().multiplyScalar(tipLength);
      var angle = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].degreesToRadians(45);

      // diagonal tip
      anchors[2] = anchors[0].clone().add(halfTip);
      anchors[3] = anchors[0].clone().sub(halfTip);
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation([anchors[2], anchors[3]], angle, anchors[0], eyeVec);
      addSingleSegment(anchors[2], anchors[3]);

      // diagonal tip
      anchors[4] = anchors[1].clone().add(halfTip);
      anchors[5] = anchors[1].clone().sub(halfTip);
      _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].applyRotation([anchors[4], anchors[5]], angle, anchors[1], eyeVec);
      addSingleSegment(anchors[4], anchors[5]);

      // Dashed line
      anchors[6] = anchors[0].clone();
      markup.applyInverseScaleAndTranslation(anchors[6]); // Dashed line start
      if (!Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__["isEqualVectors"])(anchors[6], anchors[0])) {
        anchors[7] = anchors[0].clone().sub(anchors[0].clone().sub(anchors[6]).normalize().multiplyScalar(tipLength)); // Dashed line end
        addSingleSegment(anchors[6], anchors[7]);
      }

      // Dashed line
      anchors[8] = anchors[1].clone();
      markup.applyInverseScaleAndTranslation(anchors[8]); // Dashed line start
      if (!Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__["isEqualVectors"])(anchors[8], anchors[1])) {
        anchors[9] = anchors[1].clone().sub(anchors[1].clone().sub(anchors[8]).normalize().multiplyScalar(tipLength)); // Dashed line end
        addSingleSegment(anchors[8], anchors[9]);
      }

      // straight tip
      anchors[10] = anchors[0].clone().add(halfTip);
      anchors[11] = anchors[0].clone().sub(halfTip);
      addSingleSegment(anchors[10], anchors[11]);

      // straight tip
      anchors[12] = anchors[1].clone().add(halfTip);
      anchors[13] = anchors[1].clone().sub(halfTip);
      addSingleSegment(anchors[12], anchors[13]);

      return this._createMeshLine(points, markup.type, markup, connectivity);
    } }, { key: "_createCloudGeometry", value: function _createCloudGeometry(

    markup) {
      var anchors = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(markup.getEditState().anchors);

      if (Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__["isClockwise"])(anchors, markup)) {
        anchors.reverse();
      }

      var minRadius = this.markupsExtension.renderer.mmToWorldUnitFactor * (this.markupsExtension.viewer.impl.is2d ? 1 : 10);
      var radius = Math.max(markup.editState.style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["STYLE_PROPERTIES"].THICKNESS] * 3, minRadius);
      var radiusInMM = radius / this.markupsExtension.renderer.mmToWorldUnitFactor;

      this._centerAndScaleLocations(anchors, markup.center, markup.scaleMatrix);

      var isClosed = markup.editState.closed;
      var boundingBox;
      if (markup.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MARKUP_TYPE_CLOUD"]) {
        isClosed = true;
        var isShift = this._shiftAnchorsInsideBox(markup, anchors, radius);
        if (!isShift) {
          return null;
        }
      } else {// Polycloud
        boundingBox = new THREE.Box3();
        boundingBox.min.z = boundingBox.max.z = 0;
      }

      var intersectionObjects = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__["handleIntersection"])(anchors, radius, markup);

      var arcs = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__["createCloud"])(anchors, radius, isClosed, intersectionObjects);

      if (arcs.length === 0) {
        return null;
      }

      var path = [];
      var connectivity = [];
      var prevPathLength = 0;

      for (var i = 0; i < arcs.length; i++) {
        var curr = arcs[i];
        // Hide circle if an anchor's circle is larger that 342 degrees
        if (curr.isAnchor) {
          var angleSize = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__["getArcAngleSize"])(curr);
          if (angleSize > Math.PI * 1.9) {
            curr.begin = curr.end;
          }
        }
        Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_4__["createArc"])(curr.x, curr.y, radius, curr.begin, curr.end, false, null, path, radiusInMM, boundingBox);
        var length = path.length - prevPathLength;
        connectivity[prevPathLength] = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_START"];
        connectivity[prevPathLength + length - 1] = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_END"];
        prevPathLength += length;
      }

      var meshLine = this._createMeshLine(path, markup.type, markup, connectivity, {
        capType: _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_ROUND_CAP"],
        joinType: _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_ROUND_CAP"] });

      meshLine.arcs = arcs;
      meshLine.radius = radius;
      meshLine.intersectionObjects = intersectionObjects;

      if (boundingBox) {// Polycloud
        boundingBox.applyMatrix4(markup.invScaleMatrix);
        boundingBox.translate(markup.center);
        // Store the 4 corners of the bounding box, so if it's rotated later on we get the proper bounds
        meshLine.boundingPoints = [boundingBox.min.clone(), boundingBox.max.clone(), boundingBox.max.clone(), boundingBox.min.clone()];
        meshLine.boundingPoints[1].y = boundingBox.min.y;
        meshLine.boundingPoints[3].y = boundingBox.max.y;
      }

      return meshLine;
    } }, { key: "_shiftAnchorsInsideBox", value: function _shiftAnchorsInsideBox(

    markup, anchors, radius) {
      var rightVec = anchors[0].clone().sub(anchors[1]).normalize();
      var upVec = anchors[2].clone().sub(anchors[1]).normalize();

      var width = anchors[0].distanceTo(anchors[1]) / 2;
      var height = anchors[2].distanceTo(anchors[1]) / 2;

      if (height < radius || width < radius) {
        return false;
      }

      for (var i = 0; i < anchors.length; i++) {
        // Shift anchors inside bounding box
        var anchor = anchors[i];

        var dist = radius * Math.sign(anchor.dot(upVec));
        anchor.sub(upVec.clone().multiplyScalar(dist));

        dist = radius * Math.sign(anchor.dot(rightVec));
        anchor.sub(rightVec.clone().multiplyScalar(dist));
      }

      return true;
    } }, { key: "destroy", value: function destroy()













    {
      for (var key in this.geoCache) {
        this.geoCache[key].dispose();
      }
      this.geoCache = null;
    } }], [{ key: "areAllAnchorsEqual", value: function areAllAnchorsEqual(anchors) {var first = anchors[0];for (var i = 1; i < anchors.length; i++) {if (!anchors[i].equals(first)) {return false;}}return true;} }]);return MarkupsGeometryManager;}();

/***/ }),

/***/ "./extensions/BimMarkups/RendererHelpers/MarkupsMaterialManager.js":
/*!*************************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/MarkupsMaterialManager.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupsMaterialManager; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MeshLine__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MeshLine */ "./extensions/BimMarkups/RendererHelpers/MeshLine.js");
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}
var

MarkupsMaterialManager = /*#__PURE__*/function () {
  function MarkupsMaterialManager(markupsExtension) {_classCallCheck(this, MarkupsMaterialManager);
    this.markupsExtension = markupsExtension;
    this.viewer = markupsExtension.viewer;
    this.materials = {};
  }_createClass(MarkupsMaterialManager, [{ key: "_getHashName", value: function _getHashName(

    type, style, isFill, isTransparent) {
      var name = type;

      if (isFill) {
        name += '|f';
        if (style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].FILL_COLOR]) {
          name += '|c' + style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].FILL_COLOR];
        }
        if (style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].FILL_OPACITY] !== undefined) {
          name += '|o' + style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].FILL_OPACITY] * (isTransparent ? _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["DISABLED_OPACITY"] : 1.0);
        }
      } else {
        if (style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].THICKNESS]) {
          name += '|t' + style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].THICKNESS];
        }
        if (style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].COLOR]) {
          name += '|c' + style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].COLOR];
        }
        if (style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].OPACITY] !== undefined) {
          name += '|o' + style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].OPACITY] * (isTransparent ? _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["DISABLED_OPACITY"] : 1.0);
        }
      }
      return name;
    } }, { key: "_setResolution", value: function _setResolution(

    material, resolution) {
      if (material.uniforms && material.uniforms.resolution) {
        material.uniforms.resolution.value.set(resolution.width, resolution.height);
      }
    } }, { key: "getMaterial", value: function getMaterial(

    type, style, isFill) {
      var name = this._getHashName(type, style, isFill);

      if (this.materials[name]) {
        return this.materials[name];
      }

      return null;
    } }, { key: "_setFillBlending", value: function _setFillBlending(

    material) {
      material.blending = material.opacity < 1 ? THREE.NoBlending : THREE.NormalBlending;
    } }, { key: "_setStrokeBlending", value: function _setStrokeBlending(

    material) {
      if (material.uniforms.opacity.value < 1) {
        material.blending = THREE.CustomBlending;
        // Take color from source (the markup being shaded). This is akin to NoBlending for the RGB component.
        material.blendDst = THREE.ZeroFactor;
        material.blendSrc = THREE.OneFactor;
        material.blendEquation = THREE.AddEquation;
        if (!Autodesk.Viewing.isIE11) {
          // Note: IE11 doesn't support MaxEquation, so use just Add, but don't use AA to avoid
          // rendering artifacts
          //
          // Take the max alpha between source and destination,
          // so that AA areas that overlap the markup are shaded with the markup opacity
          // If the fill opacity is larger than the stroke opacity, the fill part that overlaps the stroke will
          // affect the alpha in those areas, though. So this is a limitation of the current approach.
          material.blendEquationAlpha = THREE.MaxEquation;
        }
      } else {
        material.blending = THREE.NormalBlending;
      }
    } }, { key: "_createStrokeMaterial", value: function _createStrokeMaterial(

    style, needsMiter, isTransparent) {
      var resolution = this.markupsExtension.renderer.getResolution();

      var matOpt = {
        color: new THREE.Color(style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].COLOR]),
        opacity: style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].OPACITY] * (isTransparent ? _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["DISABLED_OPACITY"] : 1.0),
        resolution: new THREE.Vector2(resolution.width, resolution.height),
        lineWidth: style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].THICKNESS],
        side: THREE.FrontSide,
        miter: needsMiter };


      var material = new _MeshLine__WEBPACK_IMPORTED_MODULE_1__["MeshLineMaterial"](matOpt);
      this._setStrokeBlending(material);

      return material;
    } }, { key: "_createFillMaterial", value: function _createFillMaterial(

    style, isTransparent) {
      var matOpt = {
        color: new THREE.Color(style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].FILL_COLOR]),
        transparent: true,
        opacity: style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].FILL_OPACITY] * (isTransparent ? _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["DISABLED_OPACITY"] : 1.0),
        side: THREE.DoubleSide,
        wireframe: false };


      var material = new THREE.MeshBasicMaterial(matOpt);
      this._setFillBlending(material);

      return material;
    } }, { key: "_editStrokeMaterial", value: function _editStrokeMaterial(

    material, style, isTransparent) {
      material.uniforms.color.value.setStyle(style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].COLOR]);
      material.uniforms.lineWidth.value = style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].THICKNESS];
      material.uniforms.opacity.value = style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].OPACITY] * (isTransparent ? _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["DISABLED_OPACITY"] : 1.0);
      this._setStrokeBlending(material);
    } }, { key: "_editFillMaterial", value: function _editFillMaterial(

    material, style, isTransparent) {
      material.color.setStyle(style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].FILL_COLOR]);
      material.opacity = style[_MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["STYLE_PROPERTIES"].FILL_OPACITY] * (isTransparent ? _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["DISABLED_OPACITY"] : 1.0);
      material.needsUpdate = true;
      this._setFillBlending(material);
    } }, { key: "hasThicknessChanged", value: function hasThicknessChanged(

    material, newMaterial) {
      return material && newMaterial &&
      material.uniforms && newMaterial.uniforms &&
      material.uniforms.lineWidth.value !== newMaterial.uniforms.lineWidth.value;
    } }, { key: "addMaterial", value: function addMaterial(

    markup, isFill) {
      var type = markup.type;
      var style = markup.editState.style;
      var isTransparent = markup.isTransparent();

      var name = this._getHashName(type, style, isFill, isTransparent);

      if (!this.materials[name]) {
        var material = isFill ? this._createFillMaterial(style, isTransparent) : this._createStrokeMaterial(style, markup.needsMiter(), isTransparent);
        material.depthWrite = false;
        material.depthTest = false;
        material.transparent = true;
        material.refCount = 1;
        material.name = name;
        this.materials[name] = material;
      } else {
        this.materials[name].refCount++;
      }

      return this.materials[name];
    } }, { key: "removeMaterial", value: function removeMaterial(

    material) {
      if (!this.materials[material.name]) {
        console.error('Trying to remove a non-existing material');
        return;
      }

      material.refCount--;
      if (material.refCount === 0) {
        material.dispose();
        material.needsUpdate = true;
        delete this.materials[material.name];
      }
    } }, { key: "editMaterial", value: function editMaterial(

    material, markup, isFill) {
      if (!this.materials[material.name]) {
        console.error('Trying to edit a non-existing material');
        return;
      }

      var type = markup.type;
      var style = markup.editState.style;
      var isTransparent = markup.isTransparent();

      var newName = this._getHashName(type, style, isFill, isTransparent);
      if (newName === material.name) {
        return; // No change being done
      }

      // Cases:
      // 1. Material is used only by one mesh and new style doesn't exist already: can edit in place
      // 2. Material with new style already exists: use new material instead of current one
      // 3. This material is in use in more than one place: create a new material so changes don't affect the other usages        

      if (material.refCount === 1 && !this.materials[newName]) {// Can edit in place
        if (isFill) {
          this._editFillMaterial(material, style, isTransparent);
        } else {
          this._editStrokeMaterial(material, style, isTransparent);
        }

        delete this.materials[material.name];
        material.name = newName;
        this.materials[newName] = material;
        material.needsUpdate = true;

        return material;
      }

      this.removeMaterial(material);

      return this.addMaterial(markup, isFill);
    } }, { key: "destroy", value: function destroy()

    {
      for (var key in this.materials) {
        this.materials[key].dispose();
        this.materials[key].needsUpdate = true;
      }

      this.materials = {};
    } }, { key: "updateScreenSize", value: function updateScreenSize(

    resolution) {
      for (var key in this.materials) {
        this._setResolution(this.materials[key], resolution);
      }
    } }]);return MarkupsMaterialManager;}();

/***/ }),

/***/ "./extensions/BimMarkups/RendererHelpers/MeshLine.js":
/*!***********************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/MeshLine.js ***!
  \***********************************************************/
/*! exports provided: MeshLine, MeshLineMaterial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MeshLine", function() { return MeshLine; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MeshLineMaterial", function() { return MeshLineMaterial; });
/* harmony import */ var _Shaders_MeshLineVert_glsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Shaders/MeshLineVert.glsl */ "./extensions/BimMarkups/RendererHelpers/Shaders/MeshLineVert.glsl");
/* harmony import */ var _Shaders_MeshLineVert_glsl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Shaders_MeshLineVert_glsl__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Shaders_MeshLineFrag_glsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Shaders/MeshLineFrag.glsl */ "./extensions/BimMarkups/RendererHelpers/Shaders/MeshLineFrag.glsl");
/* harmony import */ var _Shaders_MeshLineFrag_glsl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Shaders_MeshLineFrag_glsl__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");




function MeshLine(supportsInt32Index) {
  this.supportsInt32Index = supportsInt32Index;
}

MeshLine.prototype.create = function () {
  this.geometry = new THREE.BufferGeometry();
};

MeshLine.prototype.dispose = function () {
  if (this.geometry) {
    this.geometry.dispose();
    this.geometry = null;
  }

  if (this.attributes) {
    for (var key in this.attributes) {
      delete this.attributes[key].array;
    }
    this.attributes = null;
  }

  this.positions = null;
  this.previous = null;
  this.next = null;
  this.side = null;
  this.width = null;
  this.counters = null;
  this.indices_array = null;
};

MeshLine.prototype.setGeometry = function (sourceGeo, widthCB, connectivity, options) {var _this = this;
  this.sourceGeo = sourceGeo;

  if (Array.isArray(widthCB)) {
    this.widthArray = widthCB;
    this.widthCallback = function (i) {return _this.widthArray[i];};
  } else {
    this.widthCallback = widthCB;
  }

  this.sourceConnectivity = connectivity || [];
  this.connectivity = {};

  this.options = Object.assign({}, {
    capType: _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_FLAT_CAP"],
    joinType: _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_FLAT_CAP"],
    useExactSize: false },
  options);

  this.isClosed = !!this.options.isClosed;

  this.process();
};

MeshLine.prototype.isPointNear = function () {
  var a = new THREE.Vector3();
  var b = new THREE.Vector3();

  // get squared distance from a point to a segment
  function getSegmentDistSq(p) {
    var x = a.x;
    var y = a.y;
    var dx = b.x - x;
    var dy = b.y - y;

    if (dx !== 0 || dy !== 0) {

      var t = ((p.x - x) * dx + (p.y - y) * dy) / (dx * dx + dy * dy);

      if (t > 1) {
        x = b.x;
        y = b.y;

      } else if (t > 0) {
        x += dx * t;
        y += dy * t;
      }
    }

    dx = p.x - x;
    dy = p.y - y;

    return dx * dx + dy * dy;
  }

  return function (point, thresholdSq, matrixWorld) {
    for (var i = 0, l = this.numPoints - 1; i < l; i++) {
      if (this.connectivity[i] === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_END"]) {
        continue;
      }

      a.fromArray(this.positions, 6 * i).applyMatrix4(matrixWorld);
      b.fromArray(this.positions, 6 * (i + 1)).applyMatrix4(matrixWorld);

      if (getSegmentDistSq(point) < thresholdSq) {
        return true;
      }
    }

    return false;
  };
}();

MeshLine.prototype.getPositionV3 = function (a) {
  var aa = a * 6;

  return [this.positions[aa], this.positions[aa + 1], this.positions[aa + 2]];
};

MeshLine.prototype.initArrays = function (numPoints) {
  // Factors explanation:
  // For position 6 because: (x, y, z) times 2 vertices per position
  // For prev and next 4 because: (x, y) times 2 vertices per position
  // It'd be preferable to use only x,y for position as well, but since this an attribute that threejs access to do things like
  // calculate bounding sphere, it could break some things (we could get away by calculating the bounding sphere ourselves,
  // but would need to check first that other things can't break as well. Probably not worth the effort)
  var useExactSize = this.options.useExactSize;
  if (!this.capacity || this.capacity < numPoints || useExactSize && this.capacity !== numPoints) {
    this.dispose();
    var capacity = useExactSize ? numPoints : Math.ceil(1.5 * numPoints);
    this.positions = new Float32Array(6 * capacity);
    this.previous = new Float32Array(4 * capacity);
    this.next = new Float32Array(4 * capacity);

    this.side = new Float32Array(2 * capacity); // Side joined with pointType
    this.width = new Float32Array(2 * capacity);
    this.counters = new Float32Array(2 * capacity);

    // 6 because 2 triangles times 3 vertices per 2 points. So if capacity is 2 --> 6*(2-1) = 6 indices for 2 triangles
    var indexSize = 6 * (capacity - 1);
    this.indices_array = this.supportsInt32Index && indexSize > 65535 ? new Uint32Array(indexSize) : new Uint16Array(indexSize);

    this.capacity = capacity;
  }

  this.numPoints = numPoints;
};

MeshLine.prototype.getWidth = function (idx, ratio) {
  if (this.widthCallback) {
    return this.widthCallback(idx, ratio);
  }

  return 1;
};

MeshLine.prototype.process = function () {var _this2 = this;
  var srcLength = this.sourceGeo.length;
  var maxCount = Math.max(1, srcLength - 1);

  var addPosition = function addPosition(from, to, count, type) {
    var v = _this2.sourceGeo[from];
    _this2.positions.set([v.x, v.y, v.z, v.x, v.y, v.z], to * 6);

    _this2.counters.set([count, count], to * 2);

    _this2.side.set([type, -type], to * 2);

    var w = _this2.getWidth(from, from / maxCount);
    _this2.width.set([w, w], to * 2);
  };

  var addPrevious = function addPrevious() {
    var v;
    if (_this2.isClosed) {
      v = _this2.getPositionV3(l - 2);
    } else {
      v = _this2.getPositionV3(0);
    }
    _this2.previous.set([v[0], v[1], v[0], v[1]], 0);

    for (var _j = 1; _j < l; _j++) {
      if (_this2.connectivity[_j] === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_START"]) {
        v = _this2.getPositionV3(_j);
      } else if (_this2.connectivity[_j] === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_END"]) {
        v = _this2.getPositionV3(_j - 2);
      } else {
        v = _this2.getPositionV3(_j - 1);
      }
      _this2.previous.set([v[0], v[1], v[0], v[1]], _j * 4);
    }
  };

  var addNext = function addNext() {
    var v;
    for (var _j2 = 0; _j2 < l - 1; _j2++) {
      if (_this2.connectivity[_j2] === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_END"]) {
        v = _this2.getPositionV3(_j2);
      } else if (_this2.connectivity[_j2] === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_START"]) {
        v = _this2.getPositionV3(_j2 + 2);
      } else {
        v = _this2.getPositionV3(_j2 + 1);
      }
      _this2.next.set([v[0], v[1], v[0], v[1]], _j2 * 4);
    }

    if (_this2.isClosed) {
      v = _this2.getPositionV3(1);
    } else {
      v = _this2.getPositionV3(l - 1);
    }
    _this2.next.set([v[0], v[1], v[0], v[1]], (l - 1) * 4);
  };

  var usedIndices = 0;
  var addIndices = function addIndices() {
    for (var _j3 = 0; _j3 < l - 1; _j3++) {
      if (_this2.connectivity[_j3] === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_END"]) {
        continue; // Do not add the rect between a path end and a path start
      }
      var n = _j3 * 2;
      _this2.indices_array.set(
      [n, n + 1, n + 2,
      n + 2, n + 1, n + 3], usedIndices);

      usedIndices += 6;
    }
  };

  var setAttributes = function setAttributes() {
    if (!_this2.attributes) {
      _this2.create();
      _this2.attributes = {
        position: new THREE.BufferAttribute(_this2.positions, 3),
        previous: new THREE.BufferAttribute(_this2.previous, 2),
        next: new THREE.BufferAttribute(_this2.next, 2),
        side: new THREE.BufferAttribute(_this2.side, 1),
        width: new THREE.BufferAttribute(_this2.width, 1),
        index: new THREE.BufferAttribute(_this2.indices_array, 1),
        counters: new THREE.BufferAttribute(_this2.counters, 1) };


      _this2.geometry.addAttribute('position', _this2.attributes.position);
      _this2.geometry.addAttribute('previous', _this2.attributes.previous);
      _this2.geometry.addAttribute('next', _this2.attributes.next);
      _this2.geometry.addAttribute('side', _this2.attributes.side);
      _this2.geometry.addAttribute('width', _this2.attributes.width);
      _this2.geometry.addAttribute('index', _this2.attributes.index);
      _this2.geometry.addAttribute('counters', _this2.attributes.counters);
    } else {
      _this2.attributes.position.array = _this2.positions;
      _this2.attributes.position.needsUpdate = true;
      _this2.attributes.previous.array = _this2.previous;
      _this2.attributes.previous.needsUpdate = true;
      _this2.attributes.next.array = _this2.next;
      _this2.attributes.next.needsUpdate = true;
      _this2.attributes.side.array = _this2.side;
      _this2.attributes.side.needsUpdate = true;
      _this2.attributes.width.array = _this2.width;
      _this2.attributes.width.needsUpdate = true;
      _this2.attributes.index.array = _this2.indices_array;
      _this2.attributes.index.needsUpdate = true;
      _this2.attributes.counters.array = _this2.counters;
      _this2.attributes.counters.needsUpdate = true;
    }
  };

  if (srcLength === 0) {
    setAttributes();
    return;
  }

  // If open (or joinType === MarkupsConstants.MESHLINE_PATH_ROUND_CAP, like polyline, because there are no endcaps when closed),
  // need to add 1 vertex for each endcap.
  if (!this.isClosed || this.options.joinType === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_ROUND_CAP"]) {
    this.sourceConnectivity[0] = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_START"];
    this.sourceConnectivity[srcLength - 1] = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_END"];
  }

  // Calculate number of vertices needed
  // For each start / end in the middle, add another position
  var l = srcLength + this.sourceConnectivity.reduce(function (x) {return x + 1;}, 0);

  // Now init array beforehand.
  // If array already exists, check if it's big enough, and if not, use heuristic to increase size
  this.initArrays(l);

  // Iterate through geoSource. Add multiple points when connectivity calls for it
  // In the end, add prev, next, indices.
  var j = 0;
  for (var i = 0; i < srcLength; i++) {
    if (this.sourceConnectivity[i] === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_START"]) {
      var endType = i === 0 && !this.isClosed ? this.options.capType : this.options.joinType;
      this.connectivity[j] = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_START"];
      addPosition(i, j++, -1, endType);
      addPosition(i, j++, 0, endType);
    } else if (this.sourceConnectivity[i] === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_END"]) {
      var _endType = i === srcLength - 1 && !this.isClosed ? this.options.capType : this.options.joinType;
      addPosition(i, j++, 1, _endType);
      this.connectivity[j] = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_END"];
      addPosition(i, j++, 2, _endType);
    } else {
      addPosition(i, j++, i / maxCount, _MarkupsConstants__WEBPACK_IMPORTED_MODULE_2__["MESHLINE_PATH_DEFAULT"]);
    }
  }

  addPrevious();
  addNext();
  addIndices();
  setAttributes();

  this.geometry.offsets[0] = {
    index: 0,
    start: 0,
    count: usedIndices };

};

function MeshLineMaterial(parameters) {

  function check(v, d) {
    if (v === undefined) return d;
    return v;
  }

  THREE.Material.call(this);

  parameters = parameters || {};

  this.lineWidth = check(parameters.lineWidth, 1);
  this.miter = check(parameters.miter, true);
  this.color = check(parameters.color, new THREE.Color(0xffffff));
  this.opacity = check(parameters.opacity, 1);
  this.resolution = check(parameters.resolution, new THREE.Vector2(1, 1));

  var material = new THREE.RawShaderMaterial({
    uniforms: {
      lineWidth: { type: 'f', value: this.lineWidth },
      color: { type: 'c', value: this.color },
      opacity: { type: 'f', value: this.opacity },
      resolution: { type: 'v2', value: this.resolution } },

    vertexShader: _Shaders_MeshLineVert_glsl__WEBPACK_IMPORTED_MODULE_0___default.a,
    fragmentShader: _Shaders_MeshLineFrag_glsl__WEBPACK_IMPORTED_MODULE_1___default.a,
    attributes: {
      previous: { type: 'v2', value: new THREE.Vector2() },
      next: { type: 'v2', value: new THREE.Vector2() },
      side: { type: 'f', value: 0 },
      width: { type: 'f', value: 0 },
      counters: { type: 'f', value: 0 } } });



  material.type = 'MeshLineMaterial';
  if (Autodesk.Viewing.isIE11) {
    material.defines.IS_IE_11 = 1;
  }
  if (this.miter) {
    material.defines.MITER = 1;
  }

  delete parameters.lineWidth;
  delete parameters.color;
  delete parameters.opacity;
  delete parameters.resolution;
  delete parameters.miter;

  material.setValues(parameters);

  return material;
}

MeshLineMaterial.prototype = Object.create(THREE.Material.prototype);
MeshLineMaterial.prototype.constructor = MeshLineMaterial;

MeshLineMaterial.prototype.copy = function (source) {

  THREE.Material.prototype.copy.call(this, source);

  this.lineWidth = source.lineWidth;
  this.color.copy(source.color);
  this.opacity = source.opacity;
  this.resolution.copy(source.resolution);
  this.miter = source.miter;

  return this;
};

/***/ }),

/***/ "./extensions/BimMarkups/RendererHelpers/PenSmoothing.js":
/*!***************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/PenSmoothing.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return penSmoothing; });
// Reference: http://scaledinnovation.com/analytics/splines/aboutSplines.html
function getControlPoints(x0, y0, x1, y1, x2, y2) {var tension = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 0.333;
  //  x0,y0,x1,y1 are the coordinates of the end (knot) pts of this segment
  //  x2,y2 is the next knot -- not connected here but needed to calculate p2
  //  p1 is the control point calculated here, from x1 back toward x0.
  //  p2 is the next control point, calculated here and returned to become the 
  //  next segment's p1.
  //  t is the 'tension' which controls how far the control points spread.

  //  Scaling factors: distances from this knot to the previous and following knots.
  var d01 = Math.sqrt(Math.pow(x1 - x0, 2) + Math.pow(y1 - y0, 2));
  var d12 = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));

  var fa = tension * d01 / (d01 + d12);
  var fb = tension - fa;

  var p1x = x1 + fa * (x0 - x2);
  var p1y = y1 + fa * (y0 - y2);

  var p2x = x1 - fb * (x0 - x2);
  var p2y = y1 - fb * (y0 - y2);

  return [{ x: p1x, y: p1y }, { x: p2x, y: p2y }];
}

function calcQuadBezier(p0, p1, p2, t) {
  var tt = t * t;
  var u = 1 - t;
  var uu = u * u;

  var x = uu * p0.x;
  x += 2 * u * t * p1.x;
  x += tt * p2.x;
  var y = uu * p0.y;
  y += 2 * u * t * p1.y;
  y += tt * p2.y;

  return { x: x, y: y, z: 0 };
}

function calcCubicBezier(p0, p1, p2, p3, t) {
  var tt = t * t;
  var ttt = tt * t;
  var u = 1 - t;
  var uu = u * u;
  var uuu = uu * u;

  var x = uuu * p0.x;
  x += 3 * uu * t * p1.x;
  x += 3 * u * tt * p2.x;
  x += ttt * p3.x;
  var y = uuu * p0.y;
  y += 3 * uu * t * p1.y;
  y += 3 * u * tt * p2.y;
  y += ttt * p3.y;

  return { x: x, y: y, z: 0 };
}

var calcPolygonLength = function () {
  var calcDistance = function calcDistance(p1, p2) {
    var dx = p1.x - p2.x;
    var dy = p1.y - p2.y;
    return Math.sqrt(dx * dx + dy * dy);
  };

  return function (points) {
    var length = 0;

    for (var i = 1; i < points.length; i++) {
      length += calcDistance(points[i], points[i - 1]);
    }

    return length;
  };
}();

function addQuadBezier(startPoint, control, endPoint, segmentSize, points, widths) {
  var segments = Math.max(Math.round(calcPolygonLength([startPoint, control, endPoint]) / segmentSize), 4);
  for (var i = 0; i < segments; i++) {
    // Calculate the Bezier (x, y) coordinate for this step.
    var t = i / segments;
    var point = calcQuadBezier(startPoint, control, endPoint, t);
    points.push(point);
    widths && widths.push(startPoint.width + t * t * (endPoint.width - startPoint.width));
  }
}

function addCubicBezier(startPoint, control1, control2, endPoint, segmentSize, points, widths) {
  var segments = Math.max(Math.round(calcPolygonLength([startPoint, control1, control2, endPoint]) / segmentSize), 4);
  for (var i = 0; i < segments; i++) {
    // Calculate the Bezier (x, y) coordinate for this step.
    var t = i / segments;
    var point = calcCubicBezier(startPoint, control1, control2, endPoint, t);
    points.push(point);
    widths && widths.push(startPoint.width + t * t * t * (endPoint.width - startPoint.width));
  }
}

function penSmoothing(anchors, segmentSize, useVariableWidth) {
  if (anchors.length < 3) {
    return { anchors: anchors };
  }

  var cp = [];
  var finalAnchors = [];
  var widths = useVariableWidth ? [] : null;
  var n = anchors.length;
  // Low pass filter to smooth uneven input - doesn't seem necessary when using simplify. Leaving it just in case.
  // const alpha = 0.9;
  // for (let i = 1; i < n - 1; i++){
  //     anchors[i].x = anchors[i].x * alpha + (1 - alpha) * anchors[i - 1].x;
  //     anchors[i].y = anchors[i].y * alpha + (1 - alpha) * anchors[i - 1].y;
  // }

  // Calculate control points for bezier curves
  for (var i = 0; i < n - 2; i++) {
    cp = cp.concat(getControlPoints(anchors[i].x, anchors[i].y, anchors[i + 1].x, anchors[i + 1].y, anchors[i + 2].x, anchors[i + 2].y));
  }

  // First 2 points get a quadratic bezier (because need at least 3 points for a cubic one)
  addQuadBezier(anchors[0], cp[0], anchors[1], segmentSize, finalAnchors, widths);

  // Middle points get cubic beziers
  for (var _i = 1; _i < n - 3; _i++) {
    addCubicBezier(anchors[_i], cp[2 * _i - 1], cp[2 * _i], anchors[_i + 1], segmentSize, finalAnchors, widths);
  }

  // Last 2 points get a quadratic bezier again
  addQuadBezier(anchors[n - 2], cp[2 * n - 5], anchors[n - 1], segmentSize, finalAnchors, widths);

  // Since it's continuous, the quad and cubic functions don't add the last point
  // (to avoid duplicating with the first point of the next curve), so need to add the very last point here.
  finalAnchors.push(anchors[n - 1]);
  widths && widths.push(anchors[n - 1].width);

  return { anchors: finalAnchors, widths: widths };
}

/***/ }),

/***/ "./extensions/BimMarkups/RendererHelpers/Shaders/MeshLineFrag.glsl":
/*!*************************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/Shaders/MeshLineFrag.glsl ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "#extension GL_OES_standard_derivatives : enable\nprecision highp float;\n#define MESHLINE_PATH_FLAT_CAP      3.0\nuniform vec3 color;\nuniform float opacity;\nvarying float vCounters;\nvarying float vDistance;\nvarying float aaRange;\nvarying float totalWidth;\nvarying vec2 center;\nvarying vec2 finalPos;\nvarying float vPointType;\nfloat when_eq(float x, float y) {\n  return 1.0 - abs(sign(x - y));\n}\nfloat getSmoothStep(float t, float d) {\n    return smoothstep(t - aaRange, t + aaRange, abs(d));\n}\nvoid main() {\n    float t = totalWidth / 2.0;\n    float d = vDistance;\n    float aa = 1.0;\n    if (vCounters < 0.0 || vCounters > 1.0) {\n        d = length(finalPos - center);\n        if (vPointType == MESHLINE_PATH_FLAT_CAP) {\n            t = aaRange;\n        }\n        if (d > t + aaRange) {\n            discard;\n        }\n        aa = 1.0 - getSmoothStep(t, d);       \n    }\n        \n#ifdef IS_IE_11\n    aa = (1.0 - when_eq(opacity, 1.0) * getSmoothStep(totalWidth / 2.0, vDistance)) * aa;\n#else\n    aa = (1.0 - getSmoothStep(totalWidth / 2.0, vDistance)) * aa;\n#endif\n    gl_FragColor = vec4(color, opacity * aa);\n}\n";

/***/ }),

/***/ "./extensions/BimMarkups/RendererHelpers/Shaders/MeshLineVert.glsl":
/*!*************************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/Shaders/MeshLineVert.glsl ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "precision highp float;\n#define MESHLINE_PATH_ROUND_CAP     2.\n#define MESHLINE_PATH_FLAT_CAP      3.\nattribute vec3 position;\nattribute vec2 previous;\nattribute vec2 next;\nattribute float side;\nattribute float width;\nattribute float counters;\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec2 resolution;\nuniform float lineWidth;\nuniform float opacity;\nvarying float vCounters;\nvarying float vPointType;\nvarying float vDistance;\nvarying float aaRange;\nvarying float totalWidth;\nvarying vec2 center;\nvarying vec2 finalPos;\nfloat when_eq(float x, float y) {\n  return 1.0 - abs(sign(x - y));\n}\nfloat when_neq(float x, float y) {\n  return abs(sign(x - y));\n}\nvoid main() {\n    float pixelsPerUnit = 0.5 * resolution.x * projectionMatrix[0][0];\n    vCounters = counters;\n    vPointType = abs(side);\n    float sideSgn = sign(side);\n    vec4 curPosition = modelViewMatrix * vec4(position.xy, 0.0, 1.0);\n    vec2 prevPos = (modelViewMatrix * vec4(previous, 0.0, 1.0)).xy;\n    vec2 nextPos = (modelViewMatrix * vec4(next, 0.0, 1.0)).xy;\n#ifdef IS_IE_11\n    aaRange = when_neq(width, 0.0) * when_eq(opacity, 1.0) * 1.0 / pixelsPerUnit;\n#else\n    aaRange = when_neq(width, 0.0) * 1.0 / pixelsPerUnit;\n#endif\n    \n    float minSize = when_neq(width, 0.0) * 0.5 / pixelsPerUnit;    \n   \n    totalWidth = lineWidth * width;\n    \n    float w = max(.5 * totalWidth, minSize) + aaRange;\n    \n    vDistance = w * sideSgn;\n    vec2 dir;\n    if (nextPos == curPosition.xy) {\n        dir = normalize(curPosition.xy - prevPos);\n    } else if (prevPos == curPosition.xy) {\n        dir = normalize(nextPos - curPosition.xy);\n    } else {\n#ifdef MITER\n        vec2 dir1 = normalize(curPosition.xy - prevPos);\n        vec2 dir2 = normalize(nextPos - curPosition.xy);\n        dir = normalize(dir1 + dir2);\n        vec2 perp = vec2(-dir1.y, dir1.x);\n        vec2 miter = vec2(-dir.y, dir.x);\n        w = clamp(w / dot(miter, perp), minSize + aaRange, 20. * w);\n#else\n        dir = normalize(curPosition.xy - prevPos);\n#endif\n    }\n    vec2 normal = vec2(-dir.y, dir.x);\n    normal *= w * sideSgn;\n    \n    if (vPointType == MESHLINE_PATH_ROUND_CAP) {\n        center = curPosition.xy;\n        curPosition.xy += normal;\n    } else  {\n        curPosition.xy += normal;\n        center = curPosition.xy;\n    }\n    \n    if (vCounters < 0.0 || vCounters > 1.0) {\n        normal = vec2(dir.x, dir.y);\n        normal *= sign(vCounters) * w;\n        curPosition.xy += normal;\n    }\n  \n    finalPos = curPosition.xy;\n    gl_Position = projectionMatrix * curPosition;\n}\n";

/***/ }),

/***/ "./extensions/BimMarkups/RendererHelpers/TextRenderer.css":
/*!****************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/TextRenderer.css ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


var content = __webpack_require__(/*! !../../../node_modules/css-loader!./TextRenderer.css */ "./node_modules/css-loader/index.js!./extensions/BimMarkups/RendererHelpers/TextRenderer.css");

if(typeof content === 'string') content = [[module.i, content, '']];

var transform;
var insertInto;



var options = {"hmr":true}

options.transform = transform
options.insertInto = undefined;

var update = __webpack_require__(/*! ../../../node_modules/style-loader/lib/addStyles.js */ "./node_modules/style-loader/lib/addStyles.js")(content, options);

if(content.locals) module.exports = content.locals;

if(false) {}

/***/ }),

/***/ "./extensions/BimMarkups/RendererHelpers/TextRenderer.js":
/*!***************************************************************!*\
  !*** ./extensions/BimMarkups/RendererHelpers/TextRenderer.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return TextRenderer; });
/* harmony import */ var _ThirdParty_html2canvas_html2canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ThirdParty/html2canvas/html2canvas */ "./extensions/BimMarkups/ThirdParty/html2canvas/html2canvas.js");
/* harmony import */ var _ThirdParty_html2canvas_html2canvas__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ThirdParty_html2canvas_html2canvas__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Utils/GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _TextRenderer_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TextRenderer.css */ "./extensions/BimMarkups/RendererHelpers/TextRenderer.css");
/* harmony import */ var _TextRenderer_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_TextRenderer_css__WEBPACK_IMPORTED_MODULE_5__);
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}




var

TextRenderer = /*#__PURE__*/function () {
  function TextRenderer(markupsExtension) {_classCallCheck(this, TextRenderer);
    this.markupsExtension = markupsExtension;
    this.viewer = this.markupsExtension.viewer;
    this.container = this.viewer.appendOrderedElementToViewer('markup-text-container');
    this.container.className = 'markup-text-container';

    this.labels = {};
    this.textMarkups = {};
    this.textSizeCache = {};

    this.registerEventListeners();
  }_createClass(TextRenderer, [{ key: "registerEventListeners", value: function registerEventListeners()

    {
      this.onMarkupRemovedBinded = this.onMarkupRemoved.bind(this);
      this.onCameraChangedBinded = this.onCameraChanged.bind(this);
      this.onMarkupVisibilityChangedBinded = this.onMarkupVisibilityChanged.bind(this);
      this.onResizeBinded = this.onResize.bind(this);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_1__["MARKUPS_EVENTS"].MARKUP_VISIBILITY_CHANGED, this.onMarkupVisibilityChangedBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_1__["MARKUPS_EVENTS"].MARKUP_REMOVED, this.onMarkupRemovedBinded);
      this.viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangedBinded);
      this.viewer.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.onResizeBinded);
    } }, { key: "unregisterEventListeners", value: function unregisterEventListeners()

    {
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_1__["MARKUPS_EVENTS"].MARKUP_VISIBILITY_CHANGED, this.onMarkupVisibilityChangedBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_1__["MARKUPS_EVENTS"].MARKUP_REMOVED, this.onMarkupRemovedBinded);
      this.viewer.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, this.onCameraChangedBinded);
      this.viewer.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT, this.onResizeBinded);
    } }, { key: "onCameraChanged", value: function onCameraChanged()

    {
      this.renderTextMarkups();
    } }, { key: "onResize", value: function onResize()

    {var _this = this;
      this.viewer.addEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT, function () {
        _this.onCameraChanged();
      }, { once: true });
    } }, { key: "renderTextMarkups", value: function renderTextMarkups()

    {var _this2 = this;
      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_2__["forAll"])(this.textMarkups, function (markup) {
        _this2.renderMarkup(markup);
      });
    } }, { key: "updateLabelPositionAndSize", value: function updateLabelPositionAndSize(

    label, markup) {
      // If a style property didn't change, we don't want to reassign it.
      // Unnecessary style assignments cause layout thrashing and slows down the render.
      function assignStyleProperty(key, value) {
        if (label.styleCache[key] !== value) {
          label.style[key] = value;
          label.styleCache[key] = value;
        }
      }var _markup$getEditState =

      markup.getEditState(),text = _markup$getEditState.text;
      var textStyle = markup.getTextStyle();
      var fontToWorldScale = this.markupsExtension.renderer.getFontToWorldScale();
      var fontToClient = this.markupsExtension.renderer.sizeFromWorldToClient(fontToWorldScale);
      var clientBoundingBox = markup.getClientBoundingBoxTextOnly();

      var clientCenter = clientBoundingBox.center();
      var clientSize = clientBoundingBox.size();
      var rotate = _Utils_GeometryUtils__WEBPACK_IMPORTED_MODULE_3__["default"].radiansToDegrees(markup.getRotation() + this.markupsExtension.renderer.getCameraRotation());

      // Browsers tend to round the values of font-size and line-height.
      // Every browser has its own logic to round the values, so each one has its own result.
      // The problem is, that because of this clamping, we get unwanted jumps for tall text labels,
      // while zooming in and out.
      // To solve it, we trim the font size by our own (floor function),
      // and in order to add the rest of the trimmed font size, we scale the label with what's left.
      // For browsers other than Safari it's easier, because we can just scale the text without changing the font-size at all.
      // in Safari, font scaling result in really low res result.
      if (Autodesk.Viewing.isSafari() || Autodesk.Viewing.isIOSDevice()) {
        var preciseSize = parseFloat(textStyle.fontSize) * fontToClient;
        var roundedSize = Math.floor(preciseSize) || 1;
        var scale = preciseSize / roundedSize;

        var width = clientSize.x / scale;
        textStyle.width = "".concat(width, "px");
        textStyle.fontSize = "".concat(roundedSize, "px");

        Object.keys(textStyle).forEach(function (key) {
          assignStyleProperty(key, textStyle[key]);
        });

        label.style.transform = "translate(".concat(clientCenter.x, "px, ").concat(clientCenter.y, "px)\n                                    translate(-50%, -50%)\n                                    rotate(").concat(

        rotate, "deg)\n                                    scale(").concat(
        scale, ")");
      } else {var _markup$getTextWidthI =
        markup.getTextWidthInFontScale(),preciseWidth = _markup$getTextWidthI.preciseWidth,_width = _markup$getTextWidthI.width;
        textStyle.width = "".concat(_width, "px"); // In font scale

        Object.keys(textStyle).forEach(function (key) {
          assignStyleProperty(key, textStyle[key]);
        });

        var widthDiff = (preciseWidth - _width) * fontToClient; // Compensation due to rounding (in client scale)

        label.style.transform = "translate(".concat(clientCenter.x - widthDiff / 2, "px, ").concat(clientCenter.y, "px)\n                                    translate(-50%, -50%)\n                                    rotate(").concat(

        rotate, "deg)\n                                    scale(").concat(
        fontToClient, ")");
      }

      if (!markup.textInputHandler.textboxActive) {
        label.innerText = text ? text : '';
      }
    } }, { key: "renderMarkup", value: function renderMarkup(

    markup) {
      if (!markup.editState.anchors[0]) {
        return;
      }

      var label = this.labels[markup.id];

      if (!label) {
        label = document.createElement('div');
        label.className = 'markup-text';
        label.id = markup.id;var _markup$getEditState2 =
        markup.getEditState(),text = _markup$getEditState2.text;
        label.innerText = text ? text : '';
        label.styleCache = {};
        this.container.appendChild(label);
        this.labels[markup.id] = label;
        this.textMarkups[markup.id] = markup;
      }

      if (markup.isVisible() && !label.classList.contains('visible')) {
        label.classList.add('visible');
      } else if (!markup.isVisible() && label.classList.contains('visible')) {
        label.classList.remove('visible');
      }

      if (markup.editState.isSingleLine && !label.classList.contains('single-line')) {
        label.classList.add('single-line');
      }

      if (markup.isVisible()) {
        this.updateLabelPositionAndSize(label, markup);
      }
    } }, { key: "getLabel", value: function getLabel(

    markup) {
      return this.labels[markup.id];
    } }, { key: "onMarkupVisibilityChanged", value: function onMarkupVisibilityChanged(_ref)

    {var markup = _ref.markup,visible = _ref.visible;
      if (markup.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_TYPE_CALLOUT"]) {
        this.renderMarkup(markup);
      }
    } }, { key: "onMarkupRemoved", value: function onMarkupRemoved(_ref2)

    {var markup = _ref2.markup;
      var name = markup.id;
      var markupElement = this.labels[name];

      if (markupElement) {
        this.container.removeChild(markupElement);
      }

      delete this.labels[name];
      delete this.textMarkups[name];
    } }, { key: "isEmpty", value: function isEmpty()

    {
      return Object.keys(this.labels).length === 0;
    } }, { key: "renderTextToCanvas", value: function renderTextToCanvas(

    canvas, camera, scale, afterCloneBeforeRender, afterCloneAfterRender, cb) {var _this3 = this;
      // In case there are not text markups on canvas, just return the original canvas.
      if (this.isEmpty()) {
        cb(canvas);
        return;
      }

      var visibleTextMarkupsIds = {};

      // Because this operation is async, we need to make sure that we render all the text markups that were visible at this point.
      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_2__["getObjectAsList"])(this.textMarkups).forEach(function (markup) {
        if (markup.isVisible()) {
          visibleTextMarkupsIds[markup.id] = true;
        }
      });

      var options = {
        backgroundColor: null,
        logging: false,
        scale: scale,
        onclone: function onclone(doc) {
          afterCloneBeforeRender();

          var documentCameraBackup = _this3.markupsExtension.renderer.documentCamera;
          var markupsCameraBackup = _this3.markupsExtension.renderer.markupsCamera;
          _this3.markupsExtension.renderer.documentCamera = camera;
          _this3.markupsExtension.renderer.markupsCamera = camera;

          var container = doc.getElementsByClassName('markup-text-container')[0];
          var labels = container.children;

          // All the labels here are clones of the original labels.
          // The changes made here are relevant only for the canvas rendering.
          for (var i = 0; i < labels.length; i++) {
            var label = labels[i];

            if (visibleTextMarkupsIds[label.id]) {
              var markup = _this3.textMarkups[label.id];
              if (!label.classList.contains('visible')) {
                label.classList.add('visible');
              }

              label.styleCache = {};
              _this3.updateLabelPositionAndSize(label, markup);
            } else if (label.classList.contains('visible')) {
              label.classList.remove('visible');
            }
          }

          _this3.markupsExtension.renderer.documentCamera = documentCameraBackup;
          _this3.markupsExtension.renderer.markupsCamera = markupsCameraBackup;

          afterCloneAfterRender();
        } };


      _ThirdParty_html2canvas_html2canvas__WEBPACK_IMPORTED_MODULE_0___default()(this.container, options).then(function (res) {
        var textCanvas = document.createElement('canvas');
        textCanvas.width = res.width;
        textCanvas.height = res.height;
        var ctx = textCanvas.getContext('2d');

        // Flip text vertically.
        ctx.translate(0, textCanvas.height);
        ctx.scale(1, -1);
        ctx.drawImage(res, 0, 0);

        // Copy the image contents to the canvas
        var canvasCtx = canvas.getContext('2d');
        canvasCtx.globalCompositeOperation = 'source-over';
        canvasCtx.drawImage(textCanvas, 0, 0);
        cb(canvas);
      });
    } }, { key: "destroy", value: function destroy()

    {var _this4 = this;
      this.unregisterEventListeners();

      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_2__["forAll"])(this.labels, function (label) {
        _this4.container.removeChild(label);
      });

      this.labels = null;
      this.textMarkups = null;
      this.textSizeCache = null;

      this.markupsExtension = null;
      this.viewer = null;
    } }]);return TextRenderer;}();

/***/ }),

/***/ "./extensions/BimMarkups/Service/MarkupServiceWeb.js":
/*!***********************************************************!*\
  !*** ./extensions/BimMarkups/Service/MarkupServiceWeb.js ***!
  \***********************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupServiceWeb; });
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupsServiceBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupsServiceBase */ "./extensions/BimMarkups/Service/MarkupsServiceBase.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

MarkupServiceWeb = /*#__PURE__*/function (_MarkupServiceBase) {_inherits(MarkupServiceWeb, _MarkupServiceBase);
  function MarkupServiceWeb(markupsExtension, options) {var _this;_classCallCheck(this, MarkupServiceWeb);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupServiceWeb).call(this, markupsExtension, options));

    // Which type to use: markups or issues
    var type = 'markup';
    _this.issueType = _this.ISSUES_TYPE[type];
    // End Points
    var config = _this.ENV_TABLE[options.env || 'Development'];
    _this.ISSUE_SERVICE_URL = config.ISSUE_SERVICE;
    _this.OBJECT_STORAGE_SERVICE_URL = config.OBJECT_STORAGE;

    // Additional properties related to issue service JSON API call.
    // ??? consider to leverage an existing JSON API JS client
    // ??? to manage all calls, but right now do straightforward RESTful handling.
    _this.maxPageLimit = 200; // Now, issue service can return 200 items at once.

    // Record all ongoing request, then can cancel them if no longer needed.
    _this.xhrGetReq = [];

    _this.headers = [
    {
      name: 'x-ads-acm-namespace',
      value: _this.options.acmNamespace },

    {
      name: 'x-ads-acm-check-groups',
      value: 'true' }];



    if (_this.options.acmScopes) {
      _this.headers.push({
        name: 'x-ads-acm-scopes',
        value: _this.options.acmScopes });

    }return _this;
  }_createClass(MarkupServiceWeb, [{ key: "checkValidation",


































































    /**
                                                              * This is a dummy check that the must have value is set
                                                              * so that service is ready to call
                                                             */value: function checkValidation()
    {
      var token = this.getAccessToken();
      this.valid = !!token && !!this.options.issueProject && !!this.issueType;

      return this.valid;
    }

    /**
       *
       *
       * @param {Array} [additionalHeaders] - Additional headers with items {name:String, value:String}
       * @returns {Promise}
       */ }, { key: "requestMarkups", value: function requestMarkups(
    pageLimit, offset, additionalHeaders, statuses) {
      if (!this.checkValidation()) {
        return Promise.reject('Service is unavailable.');
      }

      if (!pageLimit) {
        pageLimit = this.maxPageLimit;
      }
      if (!offset) {
        offset = 0;
      }

      var self = this;
      return new Promise(function (resolve, reject) {
        if (!self.options.documentUrn) {
          return reject();
        }

        // Add page limit and offset query parameters for JSON API usage.
        var url = [self.ISSUE_SERVICE_URL, 'containers/', self.options.issueProject, self.issueType.endpoint].join('');
        url = [url, '?page[limit]=' + pageLimit + '&page[offset]=' + offset].join('');

        if (self.options.documentUrn) {
          // If specify document urn, then request issues filtered by this urn.
          var doc = encodeURIComponent(self.options.documentUrn);
          url = [url, '&filter[target_urn]=', doc].join('');
        }

        url = [url, '&include=attachments'].join('');

        if (statuses) {
          url = [url, '&filter[status]=', statuses].join('');
        }

        // Sort the results by its created time in descent order
        // TODO: as the request goes more complex, need to consider to
        // refactor this to use a JSON API library to better manage
        // different request paramters.
        url = [url, '&sort=-created_at'].join('');

        var callbacks = self.getAjaxCallback(function () {
          self.removeXhr(xhr);
          resolve.apply(null, arguments);
        }, function () {
          self.removeXhr(xhr);
          reject.apply(null, arguments);
        });

        var xhr = self.createRequest(self, 'GET', url, 'application/vnd.api+json', callbacks);
        self.injectHeaders(xhr, additionalHeaders);
        xhr.send();

        self.addXhr(xhr);
      });
    }

    /**
       *
       *
       * @param {Object}
       * @param {Array} [additionalHeaders] - Additional headers with items {name:String, value:String}
       * @returns {Promise}
       */ }, { key: "postMarkups", value: function postMarkups(
    metadata, additionalHeaders) {
      if (!this.checkValidation()) {
        return Promise.reject('Service is unavailable.');
      }

      var self = this;
      return new Promise(function (resolve, reject) {
        var url = [self.ISSUE_SERVICE_URL, 'containers/', self.options.issueProject, self.issueType.endpoint].join('');
        var callbacks = self.getAjaxCallback(resolve, reject);
        var xhr = self.createRequest(self, 'POST', url, 'application/vnd.api+json', callbacks);

        self.injectHeaders(xhr, additionalHeaders);

        var body = {
          data: {
            type: self.issueType.value,
            attributes: metadata } };



        xhr.send(JSON.stringify(body));
      }).then(self.parseResponse);
    } }, { key: "fetchOSSBucketForAttachment", value: function fetchOSSBucketForAttachment(

    attachment) {var _this2 = this;
      return new Promise(function (resolve, reject) {
        _this2.fetchLocationForNewOssAttachment([], {
          onLoad: function onLoad(event) {
            var xhr = event.currentTarget;
            if (xhr.status === 201 || xhr.status === 200) {
              // interprete  response and pare oss bucket and key
              // Then fill in attachment.ossPath
              var bucketData = JSON.parse(xhr.responseText);
              attachment.ossPath = bucketData.data.attributes.urn;
              resolve();
            } else {
              reject();
            }
          },
          onError: function onError() {
            reject();
          },
          onTimeout: function onTimeout() {
            reject();
          } });

      });
    } }, { key: "uploadAttachment", value: function uploadAttachment(

    attachment) {var _this3 = this;
      return new Promise(function (resolve, reject) {
        // At this point, oss bucket and key should all be fetched.
        var bucketData = _this3.extractOssBucketAndId(attachment.ossPath);
        var bucketId = bucketData[0];
        var bucketKey = bucketData[1];

        _this3.postAttachment(bucketKey, attachment.data, bucketId, {
          onLoad: function onLoad(event) {
            // Upload attachment successfully.
            var xhr = event.currentTarget;
            if (xhr.status === 200 || xhr.status === 201) {
              resolve();
            } else {
              reject();
            }
          },
          onError: function onError() {
            reject();
          },
          onTimeout: function onTimeout() {
            reject();
          } });

      });
    } }, { key: "postLayer", value: function postLayer(

    metadata, markupResources, originalMarkupGuid) {var _this4 = this;
      // Post markup steps,
      // 1. Fetch OSS bucket location.
      // 2. Upload attachment to the OSS bucket.
      // 3. Post markup object.

      var fetchOSSBucketForAttachments = function fetchOSSBucketForAttachments() {
        if (markupResources.length === 0) {
          return Promise.resolve();
        }

        // This is an array of promise
        var pa = markupResources.map(function (attachment) {
          return _this4.fetchOSSBucketForAttachment(attachment);
        });

        return Promise.all(pa);
      };

      var uploadAttachments = function uploadAttachments() {
        if (markupResources.length === 0) {
          return Promise.resolve();
        }

        var pa = markupResources.map(function (attachment) {
          return _this4.uploadAttachment(attachment);
        });

        return Promise.all(pa);
      };

      var postMarkup = function postMarkup() {
        markupResources.forEach(function (attachment) {
          metadata.resource_urns[attachment.type] = attachment.ossPath;
        });

        if (originalMarkupGuid) {
          return _this4.updateLayer(originalMarkupGuid, metadata);
        }

        return _this4.postMarkups(metadata, []);
      };

      var postMarkupWithAttchments = function postMarkupWithAttchments() {
        // So, do all attchments in markup object.
        markupResources.forEach(function (attchment) {
          metadata.resource_urns[attchment.type] = attchment.data;
        });

        // Then specify this is a markup embeding attchment resource
        metadata.tags.resourceEmbed = true;

        if (originalMarkupGuid) {
          return _this4.updateLayer(originalMarkupGuid, metadata);
        }

        return _this4.postMarkups(metadata, []);
      };

      return fetchOSSBucketForAttachments().then(function () {
        // Fetch OSS successfully.
        return uploadAttachments();
      }, function () {
        // Fetch OSS failed
        return Promise.reject();
      }).then(function () {
        // Upload attachments successfully.

        return postMarkup();
      }).catch(function (e) {
        // If there are any failure on uploading a attachment,
        // let's try to do a handling by saving the SVG data
        // as the body a markup object to issue service directly.
        // This is a workaround just to make the workflow complete first.
        // As at this moment of writing this comment, issue service
        // still have problem of letting us put data to the OSS bucket
        // allocated from it.
        // So, have a flag to determine whether need a special handling here,

        // if (!this.embedResourceIfNeeded) {
        //     return Promise.reject();
        // }

        return postMarkupWithAttchments();
      });
    } }, { key: "parseResponse", value: function parseResponse(

    result) {
      try {
        var attachObj = JSON.parse(result);
        var attachData = attachObj.data;

        return Promise.resolve(attachData);
      } catch (e) {
        return Promise.reject(e);
      }
    } }, { key: "publishLayer", value: function publishLayer(

    markupId) {
      if (!this.checkValidation()) {
        return Promise.reject('Service is unavailable.');
      }

      var self = this;

      return new Promise(function (resolve, reject) {
        var url = [self.ISSUE_SERVICE_URL, 'containers/', self.options.issueProject, self.issueType.endpoint, '/', markupId].join('');
        var callbacks = self.getAjaxCallback(resolve, reject);
        var xhr = self.createRequest(self, 'PATCH', url, 'application/vnd.api+json', callbacks);

        var body = {
          data: {
            type: self.issueType.value,
            id: markupId,
            attributes: {
              status: _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_STATUS_PUBLISHED"] } } };




        xhr.send(JSON.stringify(body));
      }).then(self.parseResponse);
    } }, { key: "archiveLayer", value: function archiveLayer(

    markupId, closeVersion) {
      if (!this.checkValidation()) {
        return Promise.reject('Service is unavailable.');
      }

      var self = this;

      return new Promise(function (resolve, reject) {
        var url = [self.ISSUE_SERVICE_URL, 'containers/', self.options.issueProject, self.issueType.endpoint, '/', markupId].join('');
        var callbacks = self.getAjaxCallback(resolve, reject);
        var xhr = self.createRequest(self, 'PATCH', url, 'application/vnd.api+json', callbacks);

        var body = {
          data: {
            type: self.issueType.value,
            id: markupId,
            attributes: {
              close_version: closeVersion,
              status: _MarkupsConstants__WEBPACK_IMPORTED_MODULE_0__["MARKUP_STATUS_ARCHIVED"] } } };




        xhr.send(JSON.stringify(body));
      }).then(self.parseResponse);
    } }, { key: "fetchLocationForNewOssAttachment", value: function fetchLocationForNewOssAttachment(

    additionalHeaders, callbacks) {
      if (!this.checkValidation()) {
        return Promise.reject('Service is unavailable.');
      }

      var url = [this.ISSUE_SERVICE_URL, 'containers/', this.options.issueProject, '/oss_objects'].join('');
      var xhr = this.createRequest(this, 'POST', url, 'application/vnd.api+json', callbacks);
      this.injectHeaders(xhr, additionalHeaders);

      var body = {
        data: {
          type: 'oss_objects' } };



      xhr.send(JSON.stringify(body));

      return null;
    } }, { key: "getAttachment", value: function getAttachment(

    urn, isBinaryData) {
      if (!this.checkValidation()) {
        return Promise.reject('Service is unavailable.');
      }

      var self = this;
      return new Promise(function (resolve, reject) {
        var dataParts = self.extractOssBucketAndId(urn);
        var url = [self.OBJECT_STORAGE_SERVICE_URL, 'buckets/', dataParts[0], '/objects/', dataParts[1]].join('');

        var callbacks = self.getAjaxCallback(
        function () {
          self.removeXhr(xhr);
          resolve.apply(null, arguments);
        }, function () {
          self.removeXhr(xhr);
          reject.apply(null, arguments);
        },
        isBinaryData);


        var xhr = self.createRequest(self, 'GET', url, null, callbacks);
        self.injectHeaders(xhr, self.headers);
        if (isBinaryData) {
          xhr.responseType = 'arraybuffer';
        }
        xhr.send();
        self.addXhr(xhr);
      });
    } }, { key: "postAttachment", value: function postAttachment(

    objectKey, fileData, bucketId, callbacks) {
      if (!this.checkValidation()) {
        return Promise.reject('Service is unavailable.');
      }

      var url = [this.OBJECT_STORAGE_SERVICE_URL, 'buckets/', bucketId, '/objects/', objectKey].join('');
      var xhr = this.createRequest(this, 'PUT', url, 'text/plain', callbacks);
      this.injectHeaders(xhr, this.headers);
      xhr.send(fileData);

      return null;
    } }, { key: "updateLayer", value: function updateLayer(

    markupId, updateMarkupAttrs) {var additionalHeaders = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
      if (!this.checkValidation()) {
        return Promise.reject('Service is unavailable.');
      }

      var self = this;
      return new Promise(function (resolve, reject) {
        var url = [self.ISSUE_SERVICE_URL, 'containers/', self.options.issueProject, self.issueType.endpoint, '/', markupId].join('');
        var callbacks = self.getAjaxCallback(resolve, reject);

        var xhr = self.createRequest(self, 'PATCH', url, 'application/vnd.api+json', callbacks);
        self.injectHeaders(xhr, additionalHeaders);

        var body = {
          data: {
            type: self.issueType.value,
            id: markupId,
            attributes: updateMarkupAttrs || {} } };



        xhr.send(JSON.stringify(body));

        self.addXhr(xhr);
      }).then(self.parseResponse);
    } }, { key: "deleteLayer", value: function deleteLayer(

    layerId) {
      if (!this.checkValidation()) {
        return Promise.reject('Service is unavailable');
      }

      var self = this;
      return new Promise(function (resolve, reject) {
        var url = [self.ISSUE_SERVICE_URL, 'containers/', self.options.issueProject, self.ISSUES_TYPE.markup.endpoint + '/', layerId].join('');
        var callbacks = self.getAjaxCallback(resolve, reject);
        var xhr = self.createRequest(self, 'DELETE', url, 'application/vnd.api+json', callbacks);

        // no body
        xhr.send();
      });
    } }, { key: "postDocumentAttachment", value: function postDocumentAttachment(

    docAttachment, additionalHeaders) {
      if (!this.checkValidation()) {
        return Promise.reject('Service is unavailable.');
      }

      var self = this;
      return new Promise(function (resolve, reject) {
        var url = [self.ISSUE_SERVICE_URL, 'containers/', self.options.issueProject, self.ATTACHMENT.endpoint].join('');
        var callbacks = self.getAjaxCallback(resolve, reject);
        var xhr = self.createRequest(self, 'POST', url, 'application/vnd.api+json', callbacks);

        self.injectHeaders(xhr, additionalHeaders);

        var body = {
          data: {
            type: self.ATTACHMENT.value,
            attributes: docAttachment.attributes } };



        xhr.send(JSON.stringify(body));
      }).then(self.parseResponse);
    } }, { key: "deleteDocumentAttachment", value: function deleteDocumentAttachment(

    docAttachmentId) {
      if (!this.checkValidation()) {
        return Promise.reject('Service is unavailable');
      }

      var self = this;
      return new Promise(function (resolve, reject) {
        var url = [self.ISSUE_SERVICE_URL, 'containers/', self.options.issueProject, self.ATTACHMENT.endpoint + '/', docAttachmentId].join('');
        var callbacks = self.getAjaxCallback(resolve, reject);
        var xhr = self.createRequest(self, 'DELETE', url, 'application/vnd.api+json', callbacks);

        // no body
        xhr.send();
      });
    } }, { key: "renameDocumentAttachment", value: function renameDocumentAttachment(

    docAttachmentId, newName) {
      if (!this.checkValidation()) {
        return Promise.reject('Service is unavailable');
      }

      var self = this;
      return new Promise(function (resolve, reject) {
        var url = [self.ISSUE_SERVICE_URL, 'containers/', self.options.issueProject, self.ATTACHMENT.endpoint + '/', docAttachmentId].join('');
        var callbacks = self.getAjaxCallback(resolve, reject);
        var xhr = self.createRequest(self, 'PATCH', url, 'application/vnd.api+json', callbacks);

        var body = {
          data: {
            type: self.ATTACHMENT.value,
            id: docAttachmentId,
            attributes: {
              name: newName } } };




        // no body
        xhr.send(JSON.stringify(body));
      }).then(self.parseResponse);
    }

    /**
       * Extracts the bucket id and the attachment id from an OSS URN.
       * @param {String} ossUrn
       * @returns {Array} With values: [ <bucket_id>, <attachment_id> ]
       */ }, { key: "extractOssBucketAndId", value: function extractOssBucketAndId(
    ossUrn) {
      var dataParts = ossUrn.split('/'); // Returns 2 array with 2 elements [ <stuff + bucket_id>, <attachment_id> ]
      var bucketId = dataParts[0]; // Something like 'urn:adsk.objects:os.object:issues'
      var tmpArray = bucketId.split(':'); // We need to get 'issues' at the end.
      dataParts[0] = tmpArray[tmpArray.length - 1];
      return dataParts;
    } }, { key: "cancelAllGet", value: function cancelAllGet()

    {
      // Start cancel all pending xhr calls.
      var count = this.xhrGetReq.length;
      for (var i = count - 1; i >= 0; i--) {
        if (this.xhrGetReq[i]) {
          this.xhrGetReq[i].abort();
        }
      }

      this.xhrGetReq = [];
    } }, { key: "removeXhr", value: function removeXhr(

    xhr) {
      var idx = this.xhrGetReq.indexOf(xhr);
      if (idx > -1) {
        this.xhrGetReq.splice(idx, 1);
      }
    } }, { key: "addXhr", value: function addXhr(

    xhr) {
      this.xhrGetReq.push(xhr);
    } }, { key: "getAccessToken", value: function getAccessToken()

    {
      if (!this.markupsExtension.options.getAccessToken) {
        return;
      }

      var token;

      // getAccessToken calls a synched function in docs-ui-web: https://git.autodesk.com/BIM360/docs-ui-web/blob/055ec7debc3ac81107f13863c59f042bb53d04a2/src/javascripts/services/token_service.js#L36
      // It makes sure that only after the CB is called with an updated token, the rest of the code wil be called.
      // If there is no need to update the token, the current token will be returned.
      this.markupsExtension.options.getAccessToken(function (t, exp) {
        token = t;
      });
      // Will be called only after the updated token is updated:
      return token;
    }

    /**
       * Returns an object compatible with our AJAX callbacks mechanism.
       * Internal usage only.
       *
       * @param {Function} resolve
       * @param {Function} reject
       * @param {Boolean} [isBinaryData] Whether the response is to be binary or not (defaults to not-binary)
       * @returns {{onLoad: Function, onError: Function, onTimeout: Function}}
       */ }, { key: "getAjaxCallback", value: function getAjaxCallback(
    resolve, reject, isBinaryData) {
      return {
        onLoad: function onLoad(event) {
          if (event.currentTarget.status === 201 ||
          event.currentTarget.status === 200 ||
          event.currentTarget.status === 204)
          {
            resolve(isBinaryData ? event.currentTarget.response :
            event.currentTarget.responseText);
          } else {
            reject();
          }
        },
        onError: function onError() {
          reject();
        },
        onTimeout: function onTimeout() {
          reject();
        },
        onAbort: function onAbort() {
          reject();
        } };

    }

    /**
       * Creates a request object to communicate with the issues endpoint.
       * Returned value is ready to initiate async operation through it's send() method
       * (it hasn't been called yet)
       *
       * @param {MarkupService} instance
       * @param {String} operation - POST, GET, DELETE
       * @param {String} url - REST endpoint
       * @param {String} contentType - Content type header
       * @param {Object} callbacks - {onLoad:Function, onError:Function, onTimeout:Function}
       * @returns {XMLHttpRequest}
       */ }, { key: "createRequest", value: function createRequest(
    instance, operation, url, contentType, callbacks) {
      var xhr = new XMLHttpRequest();
      xhr.open(operation, url, true);
      if (contentType) {
        xhr.setRequestHeader('Content-Type', contentType);
      }
      var token = this.getAccessToken();
      xhr.setRequestHeader('Access-Control-Allow-Origin', '*');
      xhr.setRequestHeader('Authorization', 'Bearer ' + token);

      xhr.onload = callbacks.onLoad;
      xhr.onerror = callbacks.onError;
      xhr.ontimeout = callbacks.onTimeout;
      xhr.onabort = callbacks.onAbort;

      return xhr;
    }

    /**
       * Injects additional RequestHeaders before dispatching the async op to the issue endpoint.
       *
       * @param {XMLHttpRequest} xhr
       * @param {Array} additionalHeaders - Additional headers with items {name:String, value:String}
       */ }, { key: "injectHeaders", value: function injectHeaders(
    xhr, additionalHeaders) {
      if (additionalHeaders) {
        additionalHeaders.forEach(function (headerInfo) {
          xhr.setRequestHeader(headerInfo.name, headerInfo.value);
        });
      }
    } }, { key: "ENV_TABLE", get: function get() {return { Local: { ISSUE_SERVICE: 'https://developer-dev.api.autodesk.com/issues-dev/v1/', OBJECT_STORAGE: 'https://developer-dev.api.autodesk.com/oss/v2/' }, Development: { ISSUE_SERVICE: 'https://developer-stg.api.autodesk.com/issues-dev/v1/', OBJECT_STORAGE: 'https://developer-stg.api.autodesk.com/oss/v2/' }, Qa: { ISSUE_SERVICE: 'https://developer-stg.api.autodesk.com/issues-qa/v1/', OBJECT_STORAGE: 'https://developer-stg.api.autodesk.com/oss/v2/' }, Staging: { ISSUE_SERVICE: 'https://developer-stg.api.autodesk.com/issues-stg/v1/', OBJECT_STORAGE: 'https://developer-stg.api.autodesk.com/oss/v2/' }, Production: { ISSUE_SERVICE: 'https://developer.api.autodesk.com/issues/v1/', OBJECT_STORAGE: 'https://developer.api.autodesk.com/oss/v2/' } };} }, { key: "ISSUES_TYPE", get: function get() {return { issue: { value: 'issues', endpoint: '/issues' }, markup: { value: 'markups', endpoint: '/markups' }, area_markup: { value: 'areas', endpoint: '/areas' }, area_status: { value: 'area_statuses', endpoint: '/area-statuses' } };} // This is the endpoint to get generic attachment for either a makrup
    // or an issue.
    // Note: this attachment is used for user explicitly attach any documents
    // to a markup/issue. There is another concept of 'attachment' inside of
    // markup which is part of markup data.
    // So, I will refer to this attachment as DocumentAttachment to eliminate
    // any misread.
  }, { key: "ATTACHMENT", get: function get() {return { value: 'attachments', endpoint: '/attachments' };} }]);return MarkupServiceWeb;}(_MarkupsServiceBase__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/Service/MarkupsServiceBase.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/Service/MarkupsServiceBase.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupServiceBase; });
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}var MarkupServiceBase = /*#__PURE__*/function () {
  function MarkupServiceBase(markupsExtension, options) {_classCallCheck(this, MarkupServiceBase);
    this.markupsExtension = markupsExtension;
    this.options = options || {};
  }_createClass(MarkupServiceBase, [{ key: "postLayer", value: function postLayer(

    metadata, additionalHeaders) {
      console.log('postLayer');

      return new Promise(function (resolve, reject) {
      });
    } }, { key: "publishLayer", value: function publishLayer(

    markupId) {
      console.log('publishLayer');

      return new Promise(function (resolve, reject) {
      });
    } }, { key: "archiveLayer", value: function archiveLayer(

    markupId, closeVersion) {
      console.log('archiveLayer');

      return new Promise(function (resolve, reject) {
      });
    } }, { key: "updateLayer", value: function updateLayer(

    guid, metadata) {var additionalHeaders = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];
      console.log('updateLayer');

      return new Promise(function (resolve, reject) {
      });
    } }, { key: "deleteLayer", value: function deleteLayer(

    layerId) {
      console.log('deleteLayer');

      return new Promise(function (resolve, reject) {
      });
    } }, { key: "postDocumentAttachment", value: function postDocumentAttachment(

    docAttachment, additionalHeaders) {
      console.log('postDocumentAttachment');

      return new Promise(function (resolve, reject) {
      });
    } }, { key: "deleteDocumentAttachment", value: function deleteDocumentAttachment(

    docAttachmentId) {
      console.log('deleteDocumentAttachment');

      return new Promise(function (resolve, reject) {
      });
    } }, { key: "renameDocumentAttachment", value: function renameDocumentAttachment(

    docAttachmentId, newName) {
      console.log('renameDocumentAttachment');

      return new Promise(function (resolve, reject) {
      });
    } }, { key: "requestMarkups", value: function requestMarkups(

    pageLimit, offset, additionalHeaders, statuses) {
      console.log('requestMarkups');

      return new Promise(function (resolve, reject) {
      });
    } }, { key: "getAttachment", value: function getAttachment(

    urn, isBinaryData, additionalHeaders) {
      console.log('getAttachment');

      return new Promise(function (resolve, reject) {
      });
    } }, { key: "cancelAllGet", value: function cancelAllGet()

    {
      console.log('cancelAllGet');
    } }]);return MarkupServiceBase;}();

/***/ }),

/***/ "./extensions/BimMarkups/Service/MarkupsServiceMobile.js":
/*!***************************************************************!*\
  !*** ./extensions/BimMarkups/Service/MarkupsServiceMobile.js ***!
  \***************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupServiceMobile; });
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! uuid */ "./node_modules/uuid/index.js");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _MarkupsServiceBase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MarkupsServiceBase */ "./extensions/BimMarkups/Service/MarkupsServiceBase.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}
var

MarkupServiceMobile = /*#__PURE__*/function (_MarkupServiceBase) {_inherits(MarkupServiceMobile, _MarkupServiceBase);
  function MarkupServiceMobile(markupsExtension, options) {var _this;_classCallCheck(this, MarkupServiceMobile);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(MarkupServiceMobile).call(this, markupsExtension, options));

    _this.pendingRequests = {};return _this;
  }_createClass(MarkupServiceMobile, [{ key: "requestMarkups", value: function requestMarkups()

    {
      // For mobile apps, the flow of requesting markups is simpler than in MarkupsServiceWeb.
      // Once the native app gets `markupToolLoaded` callback, it should handle the connection with the backend,
      // and just send us the completed markups using `loadLayers` API.
      this.markupsExtension.mobileCallbacks.markupToolLoaded();

      // This Promise won't get resolved by purpose.
      return new Promise(function (resolve, reject) {});
    } }, { key: "postLayer", value: function postLayer(

    metadata, resources, originalMarkupGuid) {
      var requestId = Object(uuid__WEBPACK_IMPORTED_MODULE_0__["v4"])();

      if (originalMarkupGuid) {
        this.markupsExtension.mobileCallbacks.updateLayer(originalMarkupGuid, metadata, resources, requestId);
      } else {
        this.markupsExtension.mobileCallbacks.postLayer(metadata, resources, requestId);
      }

      return this.returnDelayedPromise(requestId);
    }

    // Used to update metadata only.
  }, { key: "updateLayer", value: function updateLayer(originalMarkupGuid, metadata) {
      var requestId = Object(uuid__WEBPACK_IMPORTED_MODULE_0__["v4"])();

      this.markupsExtension.mobileCallbacks.updateLayer(originalMarkupGuid, metadata);

      return this.returnDelayedPromise(requestId);
    } }, { key: "deleteLayer", value: function deleteLayer(

    guid) {
      var requestId = Object(uuid__WEBPACK_IMPORTED_MODULE_0__["v4"])();

      this.markupsExtension.mobileCallbacks.deleteLayer(guid, requestId);

      return this.returnDelayedPromise(requestId);
    } }, { key: "publishLayer", value: function publishLayer(

    guid) {
      var requestId = Object(uuid__WEBPACK_IMPORTED_MODULE_0__["v4"])();

      this.markupsExtension.mobileCallbacks.publishLayer(guid, requestId);

      return this.returnDelayedPromise(requestId);
    } }, { key: "archiveLayer", value: function archiveLayer(

    guid, closeVersion) {
      var requestId = Object(uuid__WEBPACK_IMPORTED_MODULE_0__["v4"])();

      this.markupsExtension.mobileCallbacks.archiveLayer(guid, closeVersion, requestId);

      return this.returnDelayedPromise(requestId);
    }

    // NOT YET IMPLEMENTED
  }, { key: "postDocumentAttachment", value: function postDocumentAttachment(docAttachment, additionalHeaders) {
      var requestId = Object(uuid__WEBPACK_IMPORTED_MODULE_0__["v4"])();

      // this.markupsExtension.mobileCallbacks.postDocumentAttachment(docAttachment, additionalHeaders);

      return this.returnDelayedPromise(requestId);
    }

    // NOT YET IMPLEMENTED
  }, { key: "deleteDocumentAttachment", value: function deleteDocumentAttachment(docAttachmentId) {
      var requestId = Object(uuid__WEBPACK_IMPORTED_MODULE_0__["v4"])();

      // this.markupsExtension.mobileCallbacks.deleteDocumentAttachment(docAttachmentId);

      return this.returnDelayedPromise(requestId);
    }

    // NOT YET IMPLEMENTED
  }, { key: "renameDocumentAttachment", value: function renameDocumentAttachment(docAttachmentId, newName) {
      var requestId = Object(uuid__WEBPACK_IMPORTED_MODULE_0__["v4"])();

      // this.markupsExtension.mobileCallbacks.renameDocumentAttachment(docAttachmentId, newName);

      return this.returnDelayedPromise(requestId);
    }

    //
    // Private methods.
    //
  }, { key: "cancelAllGet", value: function cancelAllGet()
    {var _this2 = this;
      Object.keys(this.pendingRequests).forEach(function (requestId) {
        _this2.pendingRequests[requestId].reject();
        delete _this2.pendingRequests[requestId];
      });
    }

    // A generic method to return a delayed promise.
    // It is used to wait for the mobile app to return us a result from a backend request.
  }, { key: "returnDelayedPromise", value: function returnDelayedPromise(requestId) {
      var delayedPromise = {};

      var p = new Promise(function (resolve, reject) {
        delayedPromise.resolve = resolve;
        delayedPromise.reject = reject;
      });

      this.pendingRequests[requestId] = delayedPromise;

      return p;
    }

    // Called after the mobile app completed a request from the backend.
    // In case of failure, it is called with isSuccess: false.
  }, { key: "onRequestCompleted", value: function onRequestCompleted(result, isSuccess, requestId) {
      if (isSuccess) {
        this.pendingRequests[requestId].resolve(result);
      } else {
        this.pendingRequests[requestId].reject();
      }

      delete this.pendingRequests[requestId];
    } }]);return MarkupServiceMobile;}(_MarkupsServiceBase__WEBPACK_IMPORTED_MODULE_1__["default"]);

/***/ }),

/***/ "./extensions/BimMarkups/Service/MarkupsServiceOperator.js":
/*!*****************************************************************!*\
  !*** ./extensions/BimMarkups/Service/MarkupsServiceOperator.js ***!
  \*****************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupsServiceOperator; });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Utils/LodashUtils */ "./extensions/BimMarkups/Utils/LodashUtils.js");
/* harmony import */ var _MarkupServiceWeb__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./MarkupServiceWeb */ "./extensions/BimMarkups/Service/MarkupServiceWeb.js");
/* harmony import */ var _MarkupsServiceMobile__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./MarkupsServiceMobile */ "./extensions/BimMarkups/Service/MarkupsServiceMobile.js");
/* harmony import */ var _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../MarkupsConstants */ "./extensions/BimMarkups/MarkupsConstants.js");
/* harmony import */ var _MarkupsCommon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../MarkupsCommon */ "./extensions/BimMarkups/MarkupsCommon.js");
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
/* harmony import */ var _MarkupsSceneState__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../MarkupsSceneState */ "./extensions/BimMarkups/MarkupsSceneState.js");
/* harmony import */ var _MarkupsSerializer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../MarkupsSerializer */ "./extensions/BimMarkups/MarkupsSerializer.js");
/* harmony import */ var _MarkupsLayerData__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../MarkupsLayerData */ "./extensions/BimMarkups/MarkupsLayerData.js");
function _toConsumableArray(arr) {return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();}function _nonIterableSpread() {throw new TypeError("Invalid attempt to spread non-iterable instance");}function _iterableToArray(iter) {if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === "[object Arguments]") return Array.from(iter);}function _arrayWithoutHoles(arr) {if (Array.isArray(arr)) {for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {arr2[i] = arr[i];}return arr2;}}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}








var

MARKUP_ERRORS = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_ERRORS"];var

MarkupsServiceOperator = /*#__PURE__*/function () {function MarkupsServiceOperator() {_classCallCheck(this, MarkupsServiceOperator);}_createClass(MarkupsServiceOperator, [{ key: "reset", value: function reset(
    markupsExtension) {
      this.markupsExtension = markupsExtension;
      this.markupsManager = markupsExtension.markupsManager;
      this.markupsCache = markupsExtension.markupsCache;
      this.viewer = markupsExtension.viewer;
      this.options = this.markupsExtension.options;

      // Keep track on how many save processes are active.
      this.savingCounter = 0;

      var isMobileApp = markupsExtension.options.isMobileApp;
      this.service = isMobileApp ? new _MarkupsServiceMobile__WEBPACK_IMPORTED_MODULE_3__["default"](this.markupsExtension, this.options) : new _MarkupServiceWeb__WEBPACK_IMPORTED_MODULE_2__["default"](this.markupsExtension, this.options);
      this.errorHandler = this.options.errorHandler || function () {};

      this.onSessionEndedBinded = this.onSessionEnded.bind(this);
      this.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].MARKUP_SESSION_END, this.onSessionEndedBinded);

      this.onLayerDeletedBinded = this.onLayerDeleted.bind(this);
      this.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_DELETE, this.onLayerDeletedBinded);

      this.onDocumentAttachmentCreationStartBinded = this.onDocumentAttachmentCreationStart.bind(this);
      this.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].DOCUMENT_ATTACHMENT_CREATION_START, this.onDocumentAttachmentCreationStartBinded);

      this.renameDocumentAttachmentBinded = this.renameDocumentAttachment.bind(this);
      this.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].DOCUMENT_ATTACHMENT_RENAME, this.renameDocumentAttachmentBinded);

      this.deleteDocumentAttachmentBinded = this.deleteDocumentAttachment.bind(this);
      this.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].DOCUMENT_ATTACHMENT_DELETE, this.deleteDocumentAttachmentBinded);

      this.onPublishLayerBinded = this.onPublishLayer.bind(this);
      this.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_PUBLISH, this.onPublishLayerBinded);

      this.onArchiveLayerBinded = this.onArchiveLayer.bind(this);
      this.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_ARCHIVE, this.onArchiveLayerBinded);
    } }, { key: "onSessionEnded", value: function onSessionEnded(_ref)

    {var layer = _ref.layer,save = _ref.save;
      if (save && !layer.isEmpty()) {
        this.saveLayer(layer);
      }
    } }, { key: "onLayerDeleted", value: function onLayerDeleted(_ref2)

    {var layerData = _ref2.layerData;
      if (layerData) {
        this.deleteLayer(layerData);
      }
    } }, { key: "onPublishLayer", value: function onPublishLayer(_ref3)

    {var layerData = _ref3.layerData;
      if (layerData) {
        this.publishLayer(layerData);
      }
    } }, { key: "onArchiveLayer", value: function onArchiveLayer(_ref4)

    {var layerData = _ref4.layerData;
      if (layerData) {
        this.archiveLayer(layerData);
      }
    } }, { key: "fetchMarkups", value: function fetchMarkups()

    {var _this = this;
      var urn = this.options.documentUrn;
      this.numOfMarkupsLoaded = 0;

      var maxPageLimit = this.getMaxPageLimit();
      var offset = 0;
      var data = { layersData: [], relatedResources: [] };

      var markupStatusFilter = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["DEFAULT_STATUSES_TO_LOAD"];

      var requestFuncRecursive = function requestFuncRecursive() {
        return _this.requestMarkups(data, maxPageLimit, offset, markupStatusFilter).
        then(function (result) {
          if (result && result.nextReq) {
            offset += maxPageLimit;
            return requestFuncRecursive();
          }
        }).catch(function (e) {
          console.warn('requestMarkups failed or canceled.');
        });
      };

      requestFuncRecursive().then(function () {return _this.getMetadata(data, urn);}).catch(function (e) {return e;});
    } }, { key: "requestMarkups", value: function requestMarkups(

    data, pageLimit, offset) {var statuses = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["DEFAULT_STATUSES_TO_LOAD"];
      return this.service.requestMarkups(pageLimit, offset, null, statuses).then(function (result) {
        try {var _data$layersData;
          var resultObj = JSON.parse(result);
          (_data$layersData = data.layersData).push.apply(_data$layersData, _toConsumableArray(resultObj.data));

          var included = resultObj.included;
          if (included && Array.isArray(included)) {var _data$relatedResource;
            (_data$relatedResource = data.relatedResources).push.apply(_data$relatedResource, _toConsumableArray(included));
          }

          return Promise.resolve({
            nextReq: resultObj.links.next });

        } catch (e) {
          return Promise.reject(e);
        }
      }, function () {
        return Promise.reject();
      });
    } }, { key: "getMetadata", value: function getMetadata(_ref5,

    urn) {var _this2 = this;var relatedResources = _ref5.relatedResources,layersData = _ref5.layersData;
      // Prioritize downloading current sheet's markups first
      var predicate = this.markupsExtension.filterManager.filterWithGUID ?
      function (l) {return l.attributes.markup_metadata.sheetGUID === _this2.options.sheetGUID;} :
      function (l) {return l.attributes.markup_metadata.sheetName === _this2.options.sheetName;};

      var currentSheetLayersData = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].remove(layersData, predicate);

      layersData = currentSheetLayersData.concat(layersData);

      layersData.forEach(function (data) {
        var metadata = data.attributes;

        // In case of some bad markup data, do a pre-process to filter out any objects that don't have markup_metadata。
        if (!metadata.markup_metadata) {
          return;
        }

        var startVersion = metadata.starting_version;

        // Filter by version.
        if (_this2.options.documentVersion < startVersion) {
          return;
        }

        metadata.tags = metadata.tags || {};
        var resourceEmbed = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_5__["isTrueValue"])(metadata.tags.resourceEmbed);

        // If layerData already in cache, don't add it again.
        var cachedLayerData = _this2.markupsCache.get(data.id);

        var layerData = cachedLayerData || new _MarkupsLayerData__WEBPACK_IMPORTED_MODULE_9__["default"]();

        if (!cachedLayerData) {
          layerData.guid = data.id;
          layerData.status = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_STATUS_OPEN"];
          layerData.metadata = metadata;

          if (metadata.close_version > 0) {
            layerData.status = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_STATUS_CLOSED"];
          }

          // If the resources are embedded to markup object, then can retrieve it right away.
          var resources = metadata.resource_urns;

          if (resources) {
            var markupSvgData = _this2.createEmptyResourceObject(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_RESOURCE_TYPE_SVG"], resourceEmbed, resources);

            if (markupSvgData) {
              layerData.resources.push(markupSvgData);
            }

            var markupScreenCapture = _this2.createEmptyResourceObject(_MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE"], resourceEmbed, resources);

            if (markupScreenCapture) {
              layerData.resources.push(markupScreenCapture);
            }
          }

          _this2.markupsCache.add(layerData.guid, layerData, urn);
        }

        _this2.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_FETCHED, layerData: layerData });

        _this2.getAttachment(layerData);
      });

      if (!this.fetchedAllMarkups && this.numOfMarkupsLoaded === this.markupsCache.length()) {
        this.fetchedAllMarkups = true;
        this.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].ALL_MARKUPS_LOADED, amount: this.numOfMarkupsLoaded });
      }

      this.getUserProfiles();
      this.getProjectUsers();
      this.getRevisions();
      this.getAttachedDocumentData(relatedResources);

      this.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_METADATA_FETCHED });

      return Promise.resolve();
    } }, { key: "notify", value: function notify(

    event) {
      if (this.markupsManager) {
        try {
          this.markupsManager.dispatchEvent(event);
        } catch (error) {
          console.warn(error);
          // Dispatch can fail if a sheet is being changed during loading.
        }
      }
    } }, { key: "getAttachment", value: function getAttachment(

    layerData) {var _this3 = this;
      var pa = layerData.resources.map(function (resource) {
        var result = null;

        // If data already there, then it is either a embed resource or it is already downloaded and cached.
        if (resource.data) {
          result = { layerData: layerData, resourceType: resource.type };
          _this3.onGetAttachment(result);

          return Promise.resolve(result);
        }

        // The thumbnail is in base64 format so not a binary.
        var ossDataType = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["ATTACHMENT_DATA_TYPE_TEXT"];

        // OSS data type is to determine whether the attachment is binary or not.
        var isBinaryData = ossDataType === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["ATTACHMENT_DATA_TYPE_BINARY"];

        return _this3.service.getAttachment(resource.ossPath, isBinaryData).then(function (resourceData) {
          if (!resourceData) {
            return Promise.resolve(null);
          }

          resource.data = resourceData;
          result = { layerData: layerData, resourceType: resource.type };
          _this3.onGetAttachment(result);

          return Promise.resolve(result);
        }).catch(function (e) {
          // Request fail or canceled by demand.
        });
      });

      return Promise.all(pa);
    } }, { key: "onGetAttachment", value: function onGetAttachment(

    layerAndAttachType) {var
      layerData = layerAndAttachType.layerData,resourceType = layerAndAttachType.resourceType;

      if (resourceType === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_RESOURCE_TYPE_SVG"]) {
        this.numOfMarkupsLoaded += 1;

        this.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_RESOURCE_FETCHED, layerData: layerData });

        if (!this.fetchedAllMarkups && this.numOfMarkupsLoaded === this.markupsCache.length()) {
          this.fetchedAllMarkups = true;
          this.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].ALL_MARKUPS_LOADED, amount: this.numOfMarkupsLoaded });
        }
      }

      if (resourceType === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE"]) {
        this.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_THUMBNAIL_FETCHED, layerData: layerData });
      }
    } }, { key: "createEmptyResourceObject", value: function createEmptyResourceObject(

    resourceType, resourceEmbed, resources) {
      if (resources[resourceType]) {
        var markupResource = {
          type: resourceType,
          data: null,
          id: null,
          ossPath: null };


        if (!resourceEmbed) {
          markupResource.ossPath = resources[resourceType];
        } else {
          markupResource.data = resources[resourceType];
        }
        return markupResource;
      }

      return null;
    } }, { key: "getAttachedDocumentData", value: function getAttachedDocumentData(

    attachments) {var _this4 = this;
      if (!attachments || !Array.isArray(attachments) || attachments.length === 0) {
        return;
      }

      if (!this.options.getAttachedDocumentCallback) {
        return;
      }

      var layerDatas = this.markupsCache.getAsList();

      var filteredAttachments = attachments.filter(function (at) {
        return layerDatas.some(function (layerData) {return at.attributes && at.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["LINK_TYPE_ATTACHMENTS"] && layerData.guid === at.attributes.issue_id;});
      });

      if (filteredAttachments.length > 0) {
        this.options.getAttachedDocumentCallback(filteredAttachments, function (response) {
          layerDatas.forEach(function (layerData) {
            if (response) {var _layerData$attachment;
              (_layerData$attachment = layerData.attachments).push.apply(_layerData$attachment, _toConsumableArray(response.filter(function (res) {
                return res.attributes.issue_id === layerData.guid && layerData.attachments.findIndex(function (attachment) {return attachment.id === res.id;}) === -1;
              })));

              layerData.attachments.forEach(function (documentAttachment) {
                _this4.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LINK_SYNCED, layerData: layerData, documentAttachment: documentAttachment });
              });
            }
          });
        });
      }
    } }, { key: "getUserProfiles", value: function getUserProfiles()

    {var _this5 = this;
      // client must provide the callback function
      if (!this.options.getUserProfileCallback) {
        return;
      }


      Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_5__["forAll"])(this.markupsCache.getCache(), function (layerData) {
        var oxygenId = layerData.metadata.created_by;

        if (oxygenId && !layerData.userName) {
          _this5.options.getUserProfileCallback(oxygenId, function (userInfo) {
            // Now only take user name out of the profile
            if (userInfo && userInfo.name) {
              layerData.userName = userInfo.name;
              _this5.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_METADATA_FETCHED });
            }
          });
        }
      });
    } }, { key: "getProjectUsers", value: function getProjectUsers()

    {var _this6 = this;
      // client must provide the callback function
      if (!this.options.getProjectUsersCallback) {
        return;
      }

      var callback = this.options.getProjectUsersCallback;

      callback(function (users) {
        _this6.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].PROJECT_USERS_FETCHED, users: users });
      });
    }

    /**
       * [getRevision: get revision number to an internal wip version on the given document]
       */ }, { key: "getRevisions", value: function getRevisions()
    {var _this7 = this;
      if (!this.options.getRevisionCallback) {
        return;
      }

      // Assume the returned version object is an array that contains
      // map from internal wip version to the revision number.
      this.options.getRevisionCallback(this.options.documentUrn, function (versions) {
        Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_5__["forAll"])(_this7.markupsCache.getCache(), function (layerData) {
          if (!layerData || !layerData.metadata) {
            return;
          }

          var internalVersion = layerData.metadata.starting_version;
          layerData.metadata.tags.starting_revision = versions[internalVersion];
        });

        _this7.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_METADATA_FETCHED });
      });
    } }, { key: "generateMarkupDescription", value: function generateMarkupDescription(

    layer) {
      var description = [];

      layer.getAllMarkups().forEach(function (markup) {
        if (markup.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_TYPE_TEXT"] || markup.type === _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_TYPE_CALLOUT"]) {
          description.push(markup.state.text);
        }
      });

      return description.join('.\n');
    } }, { key: "generateMetadata", value: function generateMetadata(

    status, layer) {var _this8 = this;
      var metadata = {};

      metadata.target_urn = this.options.documentUrn;
      metadata.starting_version = this.options.documentVersion;
      metadata.resource_urns = {};

      var sceneState = this.viewer.getState();
      var globalOffset = this.viewer.model ? this.viewer.model.getData().globalOffset : null;

      metadata.markup_metadata = Object(_MarkupsSceneState__WEBPACK_IMPORTED_MODULE_7__["generateSceneMetadata"])(sceneState, globalOffset, this.options);
      metadata.markup_metadata.links = Object(_MarkupsCommon__WEBPACK_IMPORTED_MODULE_5__["getObjectAsList"])(layer.links).map(function (link) {
        var position = link.state.position && link.state.position.clone();

        if (position && _this8.markupsExtension.viewer.model.getData().isPdf) {
          Autodesk.Viewing.PDFUtils.pdfToLeafletWorld(_this8.markupsExtension.viewer, position);
        }

        return {
          id: link.guid,
          type: link.type,
          position: position };

      });

      metadata.description = this.generateMarkupDescription(layer);

      // [Ugly Revision]: record the revision label
      metadata.tags = {
        starting_revision: this.options.documentRevision || this.options.documentVersion };


      // Add collection urn in if specified.
      if (this.options.collectionUrn) {
        metadata.collection_urn = this.options.collectionUrn;
      }

      // Add user name as a tag to markup object, it is a tricky way of quickly getting user's display name
      // when retrieving from server.
      if (this.options.userName) {
        metadata.tags.userName = this.options.userName;
      }

      metadata.status = status;

      // https://jira.autodesk.com/browse/BLMV-2918
      // Update originalDocumentResolution when saving / updating a markup, in order to make sure that the markup will
      // maintain the same position for different DPIs of the same document.
      if (this.viewer.model.getData().isLeaflet) {
        var modelData = this.viewer.model.getData();var
        loadOptions = modelData.loadOptions.loadOptions;
        metadata.markup_metadata.originalDocumentResolution = [loadOptions.texWidth, loadOptions.texHeight];
      }

      return metadata;
    } }, { key: "saveLayer", value: function saveLayer(

    layer) {var _this9 = this;
      var urn = this.options.documentUrn;
      var isNew = !layer.layerData;
      var tmpId = "".concat(layer.id, "_tmp");
      var layerData = isNew ? new _MarkupsLayerData__WEBPACK_IMPORTED_MODULE_9__["default"]() : layer.layerData;
      var tmpLayerData;

      // 2. Generate markup object
      var metadata = this.generateMetadata(isNew ? this.markupsExtension.getCreationStatusType() : layerData.metadata.status, layer);

      // 3. Get markups data
      var svgResource = {
        type: _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_RESOURCE_TYPE_SVG"],
        data: Object(_MarkupsSerializer__WEBPACK_IMPORTED_MODULE_8__["generateSVGData"])(layer, this.markupsExtension.viewer, this.markupsExtension.renderer),
        id: null,
        ossPath: null };


      // screen capture
      var screenCaptureData = {
        type: _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_RESOURCE_TYPE_SCREEN_CAPTURE"],
        data: null,
        id: null,
        ossPath: null };


      var resources = [svgResource, screenCaptureData];

      layerData.status = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_STATUS_SAVING"];
      layerData.originalCreationTime = isNew ? moment__WEBPACK_IMPORTED_MODULE_0___default()().toDate().toISOString() : metadata.created_at;
      layer.layerData = layerData;

      if (isNew) {
        tmpLayerData = _Utils_LodashUtils__WEBPACK_IMPORTED_MODULE_1__["default"].cloneDeep(layerData);
        tmpLayerData.metadata = metadata;
        tmpLayerData.resources = resources;
        this.markupsCache.add(tmpId, tmpLayerData, urn);
      }
      this.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_SYNCING, layerData: layerData, layer: layer });

      this.savingCounter++;

      this.markupsManager.generateScreenCapture(layer).then(function (img) {
        resources[1].data = img;

        if (!isNew) {
          layerData.resources = resources;
        }

        _this9.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_SYNCING, layerData: layerData, layer: layer });

        _this9.service.postLayer(metadata, resources, isNew ? undefined : layer.getGuid()).then(function (result) {
          var guid = result.id;
          layerData.guid = guid;
          layerData.metadata = result.attributes;
          layerData.resources = resources;
          layerData.attachments = layerData.attachments || [];
          layerData.status = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_STATUS_SAVE_SUCCEED"];
          _this9.markupsCache.add(guid, layerData, urn);
          layerData.userName = layerData.metadata.tags.userName;
        }).catch(function () {
          if (isNew) {
            layer.layerData = null;
          } else {
            layerData.status = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_STATUS_SAVE_FAILED"];
          }

          _this9.errorHandler(Autodesk.Viewing.i18n.translate('Failed to save markup'), MARKUP_ERRORS.MARKUP_SAVE_FAILED);
          console.error('Failed to save markup', layerData);
        }).finally(function () {
          _this9.markupsCache.remove(tmpId);
          _this9.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_SYNCED, layerData: layerData, layer: layer });
          _this9.savingCounter--;
        });
      }).catch(function () {
        _this9.savingCounter--;
      });
    }

    // ////////////////////////////////////////////////////////////////////// //
    // Start: Common private method
    // ////////////////////////////////////////////////////////////////////// //
  }, { key: "onDocumentAttachmentCreationStart", value: function onDocumentAttachmentCreationStart(_ref6)
    {var _this10 = this;var documentAttachments = _ref6.documentAttachments,layerData = _ref6.layerData;
      if (documentAttachments.length === 0) {
        return;
      }

      // TODO: at the moment, support save one at a time.
      if (documentAttachments.length > 1) {
        console.error('Dont save multiple attachments at a time.');
        return;
      }

      documentAttachments.forEach(function (at) {
        at.attributes.issue_id = layerData.guid;
        at.attributes.attachment_type = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["LINK_TYPE_DOCUMENT_ATTACHMENT"];
      });

      var documentAttachment = documentAttachments[0];

      this.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LINK_SYNCING, documentAttachment: documentAttachment, layerData: layerData });
      this.service.postDocumentAttachment(documentAttachment).then(function (attachment) {
        if (attachment && attachment.attributes && attachment.attributes.issue_id) {
          documentAttachment.attributes = attachment.attributes;
          documentAttachment.id = attachment.id;
          layerData.attachments.splice(0, 0, documentAttachment);
          _this10.markupsManager.createLinkMetadata(layerData);
        }

        _this10.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LINK_SYNCED, documentAttachment: documentAttachment, layerData: layerData });
      }).catch(function (e) {
        _this10.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LINK_SYNCED, documentAttachment: documentAttachment, layerData: layerData });
        _this10.errorHandler(Autodesk.Viewing.i18n.translate('Failed to create markup attachment'), MARKUP_ERRORS.MARKUP_ATTACHMENT_CREATE_FAILED);
        console.error('Failed to create markup attachment');
      });
    }

    // ////////////////////////////////////////////////////////////////////// //
    // End: Common private method
    // ////////////////////////////////////////////////////////////////////// //
  }, { key: "deleteDocumentAttachment", value: function deleteDocumentAttachment(_ref7)
    {var _this11 = this;var documentAttachment = _ref7.documentAttachment,layerData = _ref7.layerData;
      documentAttachment.status = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_ATTACHMENT_DELETEING"];

      this.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LINK_SYNCING, documentAttachment: documentAttachment, layerData: layerData });

      this.service.deleteDocumentAttachment(documentAttachment.id).then(function () {
        var docAttachments = layerData.attachments;
        var index = docAttachments.indexOf(documentAttachment);

        if (index > -1) {
          docAttachments.splice(index, 1);
        }
        _this11.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LINK_SYNCED, documentAttachment: documentAttachment, layerData: layerData });
      }).catch(function (e) {
        _this11.errorHandler(Autodesk.Viewing.i18n.translate('Failed to delete markup attachment'), MARKUP_ERRORS.MARKUP_ATTACHMENT_DELETE_FAILED);
        _this11.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LINK_SYNCED, documentAttachment: documentAttachment, layerData: layerData });
      });
    } }, { key: "renameDocumentAttachment", value: function renameDocumentAttachment(_ref8)

    {var _this12 = this;var documentAttachment = _ref8.documentAttachment,newName = _ref8.newName,layerData = _ref8.layerData;
      documentAttachment.status = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_ATTACHMENT_RENAMING"];
      documentAttachment.tmpName = newName;

      this.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LINK_SYNCING, documentAttachment: documentAttachment, layerData: layerData });

      this.service.renameDocumentAttachment(documentAttachment.id, newName).then(function (attachData) {
        documentAttachment.attributes = attachData.attributes;

        documentAttachment.status = undefined;
        documentAttachment.tmpName = undefined;
        _this12.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LINK_SYNCED, documentAttachment: documentAttachment, layerData: layerData });
      }).catch(function (e) {
        // If rename failed, the name of the attachment will still stay the old one.
        documentAttachment.status = undefined;
        documentAttachment.tmpName = undefined;
        _this12.errorHandler(Autodesk.Viewing.i18n.translate('Failed to rename markup attachment'), MARKUP_ERRORS.MARKUP_ATTACHMENT_RENAME_FAILED);
        _this12.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LINK_SYNCED, documentAttachment: documentAttachment, layerData: layerData });
      });
    } }, { key: "updateLinkPosition", value: function updateLinkPosition(

    markupGuid, linkId, pos) {var _this13 = this;
      var position = pos.clone();

      if (this.markupsExtension.viewer.model.getData().isPdf) {
        Autodesk.Viewing.PDFUtils.pdfToLeafletWorld(this.markupsExtension.viewer, position);
      }

      var metadata = {
        markup_metadata: {
          links: [{
            id: linkId,
            position: position }] } };




      return this.service.updateLayer(markupGuid, metadata).then(function (attachData) {
        return Promise.resolve(attachData);
      }, function () {
        _this13.errorHandler(Autodesk.Viewing.i18n.translate('Failed to update markup attachment'), MARKUP_ERRORS.MARKUP_ATTACHMENT_UPDATE_FAILED);
        return Promise.reject('Failed to change the link position: ' + linkId);
      });
    } }, { key: "deleteLayer", value: function deleteLayer(

    layerData) {var _this14 = this;
      if (!layerData.guid) {
        // In case the argument is layer's guid.
        layerData = this.markupsCache.get(layerData);
      }

      layerData.status = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_STATUS_DELETING"];

      this.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_SYNCING, layerData: layerData });

      return this.service.deleteLayer(layerData.guid).then(function (result) {
        _this14.markupsCache.remove(layerData.guid);
        layerData.status = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_STATUS_DELETE_SUCCEED"];
        _this14.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_SYNCED, layerData: layerData });
        return Promise.resolve(true);
      }, function () {
        // Failed to delete the document.
        layerData.status = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_STATUS_DELETE_FAILED"];
        _this14.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_SYNCED, layerData: layerData });
        _this14.errorHandler(Autodesk.Viewing.i18n.translate('Failed to delete markup'), MARKUP_ERRORS.MARKUP_DELETE_FAILED);
        return Promise.reject('Failed to delete markup: ' + layerData.guid);
      });
    }

    // WARNING - for develop usage only!!!
  }, { key: "deleteAllLayers", value: function deleteAllLayers() {var _this15 = this;
      this.markupsCache.getAsList().forEach(function (layer) {
        _this15.deleteLayer(layer);
      });
    } }, { key: "publishLayer", value: function publishLayer(

    layerData) {var _this16 = this;
      if (!layerData.guid) {
        // In case the argument is layer's guid.
        layerData = this.markupsCache.get(layerData);
      }

      var prevStatus = layerData.status;
      layerData.status = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_STATUS_PUBLISHING"];

      this.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_SYNCING, layerData: layerData });
      this.service.publishLayer(layerData.guid).then(function (updatedMetadata) {
        // Update local markup data
        layerData.status = prevStatus;
        layerData.metadata = updatedMetadata.attributes;
        _this16.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_SYNCED, layerData: layerData });
        return Promise.resolve();
      }).catch(function (e) {
        // Fail to publish layer
        layerData.status = prevStatus;
        _this16.errorHandler(Autodesk.Viewing.i18n.translate('Failed to publish markup'), MARKUP_ERRORS.MARKUP_PUBLISH_FAILED);
        _this16.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_SYNCED, layerData: layerData });
      });
    } }, { key: "archiveLayer", value: function archiveLayer(

    layerData) {var _this17 = this;
      if (!layerData.guid) {
        // In case the argument is layer's guid.
        layerData = this.markupsCache.get(layerData);
      }

      var prevStatus = layerData.status;
      layerData.status = _MarkupsConstants__WEBPACK_IMPORTED_MODULE_4__["MARKUP_STATUS_ARCHIVING"];

      this.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_SYNCING, layerData: layerData });
      this.service.archiveLayer(layerData.guid, this.options.currentRawDocumentVersion).then(function (updatedMetadata) {
        layerData.status = prevStatus;
        layerData.metadata = updatedMetadata.attributes;

        _this17.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_SYNCED, layerData: layerData });

        return Promise.resolve();
      }).catch(function (e) {
        // Fail to archive layer
        layerData.status = prevStatus;
        _this17.errorHandler(Autodesk.Viewing.i18n.translate('Failed to archive markup'), MARKUP_ERRORS.MARKUP_ARCHIVE_FAILED);
        _this17.notify({ type: _MarkupsEvents__WEBPACK_IMPORTED_MODULE_6__["MARKUPS_EVENTS"].LAYER_SYNCED, layerData: layerData });
      });
    } }, { key: "cancelRequests", value: function cancelRequests()

    {
      this.service.cancelAllGet();
    } }, { key: "terminate", value: function terminate()

    {
      this.cancelRequests();

      this.markupsExtension = null;
      this.markupsManager = null;
      this.service = null;
    } }, { key: "getMaxPageLimit", value: function getMaxPageLimit()

    {
      return this.service.maxPageLimit;
    } }]);return MarkupsServiceOperator;}();

/***/ }),

/***/ "./extensions/BimMarkups/ThirdParty/html2canvas/html2canvas.js":
/*!*********************************************************************!*\
  !*** ./extensions/BimMarkups/ThirdParty/html2canvas/html2canvas.js ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);} /*!
                                                                                                                                                                                                                                                                                                                                                      * html2canvas 1.0.0-alpha.12 <https://html2canvas.hertzen.com>
                                                                                                                                                                                                                                                                                                                                                      * Copyright (c) 2018 Niklas von Hertzen <https://hertzen.com>
                                                                                                                                                                                                                                                                                                                                                      * Released under MIT License
                                                                                                                                                                                                                                                                                                                                                      */
(function webpackUniversalModuleDefinition(root, factory) {
  if (( false ? undefined : _typeof(exports)) === 'object' && ( false ? undefined : _typeof(module)) === 'object')
  module.exports = factory();else
  if (true)
  !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else
  {}
})(this, function () {
  return (/******/function (modules) {// webpackBootstrap
      /******/ // The module cache
      /******/var installedModules = {};
      /******/
      /******/ // The require function
      /******/function __webpack_require__(moduleId) {
        /******/
        /******/ // Check if module is in cache
        /******/if (installedModules[moduleId]) {
          /******/return installedModules[moduleId].exports;
          /******/}
        /******/ // Create a new module (and put it into the cache)
        /******/var module = installedModules[moduleId] = {
          /******/i: moduleId,
          /******/l: false,
          /******/exports: {}
          /******/ };
        /******/
        /******/ // Execute the module function
        /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
        /******/
        /******/ // Flag the module as loaded
        /******/module.l = true;
        /******/
        /******/ // Return the exports of the module
        /******/return module.exports;
        /******/}
      /******/
      /******/
      /******/ // expose the modules object (__webpack_modules__)
      /******/__webpack_require__.m = modules;
      /******/
      /******/ // expose the module cache
      /******/__webpack_require__.c = installedModules;
      /******/
      /******/ // define getter function for harmony exports
      /******/__webpack_require__.d = function (exports, name, getter) {
        /******/if (!__webpack_require__.o(exports, name)) {
          /******/Object.defineProperty(exports, name, {
            /******/configurable: false,
            /******/enumerable: true,
            /******/get: getter
            /******/ });
          /******/}
        /******/};
      /******/
      /******/ // getDefaultExport function for compatibility with non-harmony modules
      /******/__webpack_require__.n = function (module) {
        /******/var getter = module && module.__esModule ?
        /******/function getDefault() {return module['default'];} :
        /******/function getModuleExports() {return module;};
        /******/__webpack_require__.d(getter, 'a', getter);
        /******/return getter;
        /******/};
      /******/
      /******/ // Object.prototype.hasOwnProperty.call
      /******/__webpack_require__.o = function (object, property) {return Object.prototype.hasOwnProperty.call(object, property);};
      /******/
      /******/ // __webpack_public_path__
      /******/__webpack_require__.p = "";
      /******/
      /******/ // Load entry module and return exports
      /******/return __webpack_require__(__webpack_require__.s = 27);
      /******/}(
    /************************************************************************/
    /******/[
    /* 0 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      // http://dev.w3.org/csswg/css-color/

      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _slicedToArray = function () {function sliceIterator(arr, i) {var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i && _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n && _i["return"]) _i["return"]();} finally {if (_d) throw _e;}}return _arr;}return function (arr, i) {if (Array.isArray(arr)) {return arr;} else if (Symbol.iterator in Object(arr)) {return sliceIterator(arr, i);} else {throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();

      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var HEX3 = /^#([a-f0-9]{3})$/i;
      var hex3 = function hex3(value) {
        var match = value.match(HEX3);
        if (match) {
          return [parseInt(match[1][0] + match[1][0], 16), parseInt(match[1][1] + match[1][1], 16), parseInt(match[1][2] + match[1][2], 16), null];
        }
        return false;
      };

      var HEX6 = /^#([a-f0-9]{6})$/i;
      var hex6 = function hex6(value) {
        var match = value.match(HEX6);
        if (match) {
          return [parseInt(match[1].substring(0, 2), 16), parseInt(match[1].substring(2, 4), 16), parseInt(match[1].substring(4, 6), 16), null];
        }
        return false;
      };

      var RGB = /^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;
      var rgb = function rgb(value) {
        var match = value.match(RGB);
        if (match) {
          return [Number(match[1]), Number(match[2]), Number(match[3]), null];
        }
        return false;
      };

      var RGBA = /^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;
      var rgba = function rgba(value) {
        var match = value.match(RGBA);
        if (match && match.length > 4) {
          return [Number(match[1]), Number(match[2]), Number(match[3]), Number(match[4])];
        }
        return false;
      };

      var fromArray = function fromArray(array) {
        return [Math.min(array[0], 255), Math.min(array[1], 255), Math.min(array[2], 255), array.length > 3 ? array[3] : null];
      };

      var namedColor = function namedColor(name) {
        var color = NAMED_COLORS[name.toLowerCase()];
        return color ? color : false;
      };

      var Color = function () {
        function Color(value) {
          _classCallCheck(this, Color);

          var _ref = Array.isArray(value) ? fromArray(value) : hex3(value) || rgb(value) || rgba(value) || namedColor(value) || hex6(value) || [0, 0, 0, null],
          _ref2 = _slicedToArray(_ref, 4),
          r = _ref2[0],
          g = _ref2[1],
          b = _ref2[2],
          a = _ref2[3];

          this.r = r;
          this.g = g;
          this.b = b;
          this.a = a;
        }

        _createClass(Color, [{
          key: 'isTransparent',
          value: function isTransparent() {
            return this.a === 0;
          } },
        {
          key: 'toString',
          value: function toString() {
            return this.a !== null && this.a !== 1 ? 'rgba(' + this.r + ',' + this.g + ',' + this.b + ',' + this.a + ')' : 'rgb(' + this.r + ',' + this.g + ',' + this.b + ')';
          } }]);


        return Color;
      }();

      exports.default = Color;


      var NAMED_COLORS = {
        transparent: [0, 0, 0, 0],
        aliceblue: [240, 248, 255, null],
        antiquewhite: [250, 235, 215, null],
        aqua: [0, 255, 255, null],
        aquamarine: [127, 255, 212, null],
        azure: [240, 255, 255, null],
        beige: [245, 245, 220, null],
        bisque: [255, 228, 196, null],
        black: [0, 0, 0, null],
        blanchedalmond: [255, 235, 205, null],
        blue: [0, 0, 255, null],
        blueviolet: [138, 43, 226, null],
        brown: [165, 42, 42, null],
        burlywood: [222, 184, 135, null],
        cadetblue: [95, 158, 160, null],
        chartreuse: [127, 255, 0, null],
        chocolate: [210, 105, 30, null],
        coral: [255, 127, 80, null],
        cornflowerblue: [100, 149, 237, null],
        cornsilk: [255, 248, 220, null],
        crimson: [220, 20, 60, null],
        cyan: [0, 255, 255, null],
        darkblue: [0, 0, 139, null],
        darkcyan: [0, 139, 139, null],
        darkgoldenrod: [184, 134, 11, null],
        darkgray: [169, 169, 169, null],
        darkgreen: [0, 100, 0, null],
        darkgrey: [169, 169, 169, null],
        darkkhaki: [189, 183, 107, null],
        darkmagenta: [139, 0, 139, null],
        darkolivegreen: [85, 107, 47, null],
        darkorange: [255, 140, 0, null],
        darkorchid: [153, 50, 204, null],
        darkred: [139, 0, 0, null],
        darksalmon: [233, 150, 122, null],
        darkseagreen: [143, 188, 143, null],
        darkslateblue: [72, 61, 139, null],
        darkslategray: [47, 79, 79, null],
        darkslategrey: [47, 79, 79, null],
        darkturquoise: [0, 206, 209, null],
        darkviolet: [148, 0, 211, null],
        deeppink: [255, 20, 147, null],
        deepskyblue: [0, 191, 255, null],
        dimgray: [105, 105, 105, null],
        dimgrey: [105, 105, 105, null],
        dodgerblue: [30, 144, 255, null],
        firebrick: [178, 34, 34, null],
        floralwhite: [255, 250, 240, null],
        forestgreen: [34, 139, 34, null],
        fuchsia: [255, 0, 255, null],
        gainsboro: [220, 220, 220, null],
        ghostwhite: [248, 248, 255, null],
        gold: [255, 215, 0, null],
        goldenrod: [218, 165, 32, null],
        gray: [128, 128, 128, null],
        green: [0, 128, 0, null],
        greenyellow: [173, 255, 47, null],
        grey: [128, 128, 128, null],
        honeydew: [240, 255, 240, null],
        hotpink: [255, 105, 180, null],
        indianred: [205, 92, 92, null],
        indigo: [75, 0, 130, null],
        ivory: [255, 255, 240, null],
        khaki: [240, 230, 140, null],
        lavender: [230, 230, 250, null],
        lavenderblush: [255, 240, 245, null],
        lawngreen: [124, 252, 0, null],
        lemonchiffon: [255, 250, 205, null],
        lightblue: [173, 216, 230, null],
        lightcoral: [240, 128, 128, null],
        lightcyan: [224, 255, 255, null],
        lightgoldenrodyellow: [250, 250, 210, null],
        lightgray: [211, 211, 211, null],
        lightgreen: [144, 238, 144, null],
        lightgrey: [211, 211, 211, null],
        lightpink: [255, 182, 193, null],
        lightsalmon: [255, 160, 122, null],
        lightseagreen: [32, 178, 170, null],
        lightskyblue: [135, 206, 250, null],
        lightslategray: [119, 136, 153, null],
        lightslategrey: [119, 136, 153, null],
        lightsteelblue: [176, 196, 222, null],
        lightyellow: [255, 255, 224, null],
        lime: [0, 255, 0, null],
        limegreen: [50, 205, 50, null],
        linen: [250, 240, 230, null],
        magenta: [255, 0, 255, null],
        maroon: [128, 0, 0, null],
        mediumaquamarine: [102, 205, 170, null],
        mediumblue: [0, 0, 205, null],
        mediumorchid: [186, 85, 211, null],
        mediumpurple: [147, 112, 219, null],
        mediumseagreen: [60, 179, 113, null],
        mediumslateblue: [123, 104, 238, null],
        mediumspringgreen: [0, 250, 154, null],
        mediumturquoise: [72, 209, 204, null],
        mediumvioletred: [199, 21, 133, null],
        midnightblue: [25, 25, 112, null],
        mintcream: [245, 255, 250, null],
        mistyrose: [255, 228, 225, null],
        moccasin: [255, 228, 181, null],
        navajowhite: [255, 222, 173, null],
        navy: [0, 0, 128, null],
        oldlace: [253, 245, 230, null],
        olive: [128, 128, 0, null],
        olivedrab: [107, 142, 35, null],
        orange: [255, 165, 0, null],
        orangered: [255, 69, 0, null],
        orchid: [218, 112, 214, null],
        palegoldenrod: [238, 232, 170, null],
        palegreen: [152, 251, 152, null],
        paleturquoise: [175, 238, 238, null],
        palevioletred: [219, 112, 147, null],
        papayawhip: [255, 239, 213, null],
        peachpuff: [255, 218, 185, null],
        peru: [205, 133, 63, null],
        pink: [255, 192, 203, null],
        plum: [221, 160, 221, null],
        powderblue: [176, 224, 230, null],
        purple: [128, 0, 128, null],
        rebeccapurple: [102, 51, 153, null],
        red: [255, 0, 0, null],
        rosybrown: [188, 143, 143, null],
        royalblue: [65, 105, 225, null],
        saddlebrown: [139, 69, 19, null],
        salmon: [250, 128, 114, null],
        sandybrown: [244, 164, 96, null],
        seagreen: [46, 139, 87, null],
        seashell: [255, 245, 238, null],
        sienna: [160, 82, 45, null],
        silver: [192, 192, 192, null],
        skyblue: [135, 206, 235, null],
        slateblue: [106, 90, 205, null],
        slategray: [112, 128, 144, null],
        slategrey: [112, 128, 144, null],
        snow: [255, 250, 250, null],
        springgreen: [0, 255, 127, null],
        steelblue: [70, 130, 180, null],
        tan: [210, 180, 140, null],
        teal: [0, 128, 128, null],
        thistle: [216, 191, 216, null],
        tomato: [255, 99, 71, null],
        turquoise: [64, 224, 208, null],
        violet: [238, 130, 238, null],
        wheat: [245, 222, 179, null],
        white: [255, 255, 255, null],
        whitesmoke: [245, 245, 245, null],
        yellow: [255, 255, 0, null],
        yellowgreen: [154, 205, 50, null] };


      var TRANSPARENT = exports.TRANSPARENT = new Color([0, 0, 0, 0]);

      /***/},
    /* 1 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.calculateLengthFromValueWithUnit = exports.LENGTH_TYPE = undefined;

      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _NodeContainer = __webpack_require__(3);

      var _NodeContainer2 = _interopRequireDefault(_NodeContainer);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var LENGTH_WITH_UNIT = /([\d.]+)(px|r?em|%)/i;

      var LENGTH_TYPE = exports.LENGTH_TYPE = {
        PX: 0,
        PERCENTAGE: 1 };


      var Length = function () {
        function Length(value) {
          _classCallCheck(this, Length);

          this.type = value.substr(value.length - 1) === '%' ? LENGTH_TYPE.PERCENTAGE : LENGTH_TYPE.PX;
          var parsedValue = parseFloat(value);
          if (true && isNaN(parsedValue)) {
            console.error('Invalid value given for Length: "' + value + '"');
          }
          this.value = isNaN(parsedValue) ? 0 : parsedValue;
        }

        _createClass(Length, [{
          key: 'isPercentage',
          value: function isPercentage() {
            return this.type === LENGTH_TYPE.PERCENTAGE;
          } },
        {
          key: 'getAbsoluteValue',
          value: function getAbsoluteValue(parentLength) {
            return this.isPercentage() ? parentLength * (this.value / 100) : this.value;
          } }],
        [{
          key: 'create',
          value: function create(v) {
            return new Length(v);
          } }]);


        return Length;
      }();

      exports.default = Length;


      var getRootFontSize = function getRootFontSize(container) {
        var parent = container.parent;
        return parent ? getRootFontSize(parent) : parseFloat(container.style.font.fontSize);
      };

      var calculateLengthFromValueWithUnit = exports.calculateLengthFromValueWithUnit = function calculateLengthFromValueWithUnit(container, value, unit) {
        switch (unit) {
          case 'px':
          case '%':
            return new Length(value + unit);
          case 'em':
          case 'rem':
            var length = new Length(value);
            length.value *= unit === 'em' ? parseFloat(container.style.font.fontSize) : getRootFontSize(container);
            return length;
          default:
            // TODO: handle correctly if unknown unit is used
            return new Length('0');}

      };

      /***/},
    /* 2 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.parseBoundCurves = exports.calculatePaddingBoxPath = exports.calculateBorderBoxPath = exports.parsePathForBorder = exports.parseDocumentSize = exports.calculateContentBox = exports.calculatePaddingBox = exports.parseBounds = exports.Bounds = undefined;

      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _Vector = __webpack_require__(7);

      var _Vector2 = _interopRequireDefault(_Vector);

      var _BezierCurve = __webpack_require__(32);

      var _BezierCurve2 = _interopRequireDefault(_BezierCurve);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var TOP = 0;
      var RIGHT = 1;
      var BOTTOM = 2;
      var LEFT = 3;

      var H = 0;
      var V = 1;

      var Bounds = exports.Bounds = function () {
        function Bounds(x, y, w, h) {
          _classCallCheck(this, Bounds);

          this.left = x;
          this.top = y;
          this.width = w;
          this.height = h;
        }

        _createClass(Bounds, null, [{
          key: 'fromClientRect',
          value: function fromClientRect(clientRect, scrollX, scrollY) {
            return new Bounds(clientRect.left + scrollX, clientRect.top + scrollY, clientRect.width, clientRect.height);
          } }]);


        return Bounds;
      }();

      var parseBounds = exports.parseBounds = function parseBounds(node, scrollX, scrollY) {
        return Bounds.fromClientRect(node.getBoundingClientRect(), scrollX, scrollY);
      };

      var calculatePaddingBox = exports.calculatePaddingBox = function calculatePaddingBox(bounds, borders) {
        return new Bounds(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth, bounds.width - (borders[RIGHT].borderWidth + borders[LEFT].borderWidth), bounds.height - (borders[TOP].borderWidth + borders[BOTTOM].borderWidth));
      };

      var calculateContentBox = exports.calculateContentBox = function calculateContentBox(bounds, padding, borders) {
        // TODO support percentage paddings
        var paddingTop = padding[TOP].value;
        var paddingRight = padding[RIGHT].value;
        var paddingBottom = padding[BOTTOM].value;
        var paddingLeft = padding[LEFT].value;

        return new Bounds(bounds.left + paddingLeft + borders[LEFT].borderWidth, bounds.top + paddingTop + borders[TOP].borderWidth, bounds.width - (borders[RIGHT].borderWidth + borders[LEFT].borderWidth + paddingLeft + paddingRight), bounds.height - (borders[TOP].borderWidth + borders[BOTTOM].borderWidth + paddingTop + paddingBottom));
      };

      var parseDocumentSize = exports.parseDocumentSize = function parseDocumentSize(document) {
        var body = document.body;
        var documentElement = document.documentElement;

        if (!body || !documentElement) {
          throw new Error(true ? 'Unable to get document size' : undefined);
        }
        var width = Math.max(Math.max(body.scrollWidth, documentElement.scrollWidth), Math.max(body.offsetWidth, documentElement.offsetWidth), Math.max(body.clientWidth, documentElement.clientWidth));

        var height = Math.max(Math.max(body.scrollHeight, documentElement.scrollHeight), Math.max(body.offsetHeight, documentElement.offsetHeight), Math.max(body.clientHeight, documentElement.clientHeight));

        return new Bounds(0, 0, width, height);
      };

      var parsePathForBorder = exports.parsePathForBorder = function parsePathForBorder(curves, borderSide) {
        switch (borderSide) {
          case TOP:
            return createPathFromCurves(curves.topLeftOuter, curves.topLeftInner, curves.topRightOuter, curves.topRightInner);
          case RIGHT:
            return createPathFromCurves(curves.topRightOuter, curves.topRightInner, curves.bottomRightOuter, curves.bottomRightInner);
          case BOTTOM:
            return createPathFromCurves(curves.bottomRightOuter, curves.bottomRightInner, curves.bottomLeftOuter, curves.bottomLeftInner);
          case LEFT:
          default:
            return createPathFromCurves(curves.bottomLeftOuter, curves.bottomLeftInner, curves.topLeftOuter, curves.topLeftInner);}

      };

      var createPathFromCurves = function createPathFromCurves(outer1, inner1, outer2, inner2) {
        var path = [];
        if (outer1 instanceof _BezierCurve2.default) {
          path.push(outer1.subdivide(0.5, false));
        } else {
          path.push(outer1);
        }

        if (outer2 instanceof _BezierCurve2.default) {
          path.push(outer2.subdivide(0.5, true));
        } else {
          path.push(outer2);
        }

        if (inner2 instanceof _BezierCurve2.default) {
          path.push(inner2.subdivide(0.5, true).reverse());
        } else {
          path.push(inner2);
        }

        if (inner1 instanceof _BezierCurve2.default) {
          path.push(inner1.subdivide(0.5, false).reverse());
        } else {
          path.push(inner1);
        }

        return path;
      };

      var calculateBorderBoxPath = exports.calculateBorderBoxPath = function calculateBorderBoxPath(curves) {
        return [curves.topLeftOuter, curves.topRightOuter, curves.bottomRightOuter, curves.bottomLeftOuter];
      };

      var calculatePaddingBoxPath = exports.calculatePaddingBoxPath = function calculatePaddingBoxPath(curves) {
        return [curves.topLeftInner, curves.topRightInner, curves.bottomRightInner, curves.bottomLeftInner];
      };

      var parseBoundCurves = exports.parseBoundCurves = function parseBoundCurves(bounds, borders, borderRadius) {
        var tlh = borderRadius[CORNER.TOP_LEFT][H].getAbsoluteValue(bounds.width);
        var tlv = borderRadius[CORNER.TOP_LEFT][V].getAbsoluteValue(bounds.height);
        var trh = borderRadius[CORNER.TOP_RIGHT][H].getAbsoluteValue(bounds.width);
        var trv = borderRadius[CORNER.TOP_RIGHT][V].getAbsoluteValue(bounds.height);
        var brh = borderRadius[CORNER.BOTTOM_RIGHT][H].getAbsoluteValue(bounds.width);
        var brv = borderRadius[CORNER.BOTTOM_RIGHT][V].getAbsoluteValue(bounds.height);
        var blh = borderRadius[CORNER.BOTTOM_LEFT][H].getAbsoluteValue(bounds.width);
        var blv = borderRadius[CORNER.BOTTOM_LEFT][V].getAbsoluteValue(bounds.height);

        var factors = [];
        factors.push((tlh + trh) / bounds.width);
        factors.push((blh + brh) / bounds.width);
        factors.push((tlv + blv) / bounds.height);
        factors.push((trv + brv) / bounds.height);
        var maxFactor = Math.max.apply(Math, factors);

        if (maxFactor > 1) {
          tlh /= maxFactor;
          tlv /= maxFactor;
          trh /= maxFactor;
          trv /= maxFactor;
          brh /= maxFactor;
          brv /= maxFactor;
          blh /= maxFactor;
          blv /= maxFactor;
        }

        var topWidth = bounds.width - trh;
        var rightHeight = bounds.height - brv;
        var bottomWidth = bounds.width - brh;
        var leftHeight = bounds.height - blv;

        return {
          topLeftOuter: tlh > 0 || tlv > 0 ? getCurvePoints(bounds.left, bounds.top, tlh, tlv, CORNER.TOP_LEFT) : new _Vector2.default(bounds.left, bounds.top),
          topLeftInner: tlh > 0 || tlv > 0 ? getCurvePoints(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth, Math.max(0, tlh - borders[LEFT].borderWidth), Math.max(0, tlv - borders[TOP].borderWidth), CORNER.TOP_LEFT) : new _Vector2.default(bounds.left + borders[LEFT].borderWidth, bounds.top + borders[TOP].borderWidth),
          topRightOuter: trh > 0 || trv > 0 ? getCurvePoints(bounds.left + topWidth, bounds.top, trh, trv, CORNER.TOP_RIGHT) : new _Vector2.default(bounds.left + bounds.width, bounds.top),
          topRightInner: trh > 0 || trv > 0 ? getCurvePoints(bounds.left + Math.min(topWidth, bounds.width + borders[LEFT].borderWidth), bounds.top + borders[TOP].borderWidth, topWidth > bounds.width + borders[LEFT].borderWidth ? 0 : trh - borders[LEFT].borderWidth, trv - borders[TOP].borderWidth, CORNER.TOP_RIGHT) : new _Vector2.default(bounds.left + bounds.width - borders[RIGHT].borderWidth, bounds.top + borders[TOP].borderWidth),
          bottomRightOuter: brh > 0 || brv > 0 ? getCurvePoints(bounds.left + bottomWidth, bounds.top + rightHeight, brh, brv, CORNER.BOTTOM_RIGHT) : new _Vector2.default(bounds.left + bounds.width, bounds.top + bounds.height),
          bottomRightInner: brh > 0 || brv > 0 ? getCurvePoints(bounds.left + Math.min(bottomWidth, bounds.width - borders[LEFT].borderWidth), bounds.top + Math.min(rightHeight, bounds.height + borders[TOP].borderWidth), Math.max(0, brh - borders[RIGHT].borderWidth), brv - borders[BOTTOM].borderWidth, CORNER.BOTTOM_RIGHT) : new _Vector2.default(bounds.left + bounds.width - borders[RIGHT].borderWidth, bounds.top + bounds.height - borders[BOTTOM].borderWidth),
          bottomLeftOuter: blh > 0 || blv > 0 ? getCurvePoints(bounds.left, bounds.top + leftHeight, blh, blv, CORNER.BOTTOM_LEFT) : new _Vector2.default(bounds.left, bounds.top + bounds.height),
          bottomLeftInner: blh > 0 || blv > 0 ? getCurvePoints(bounds.left + borders[LEFT].borderWidth, bounds.top + leftHeight, Math.max(0, blh - borders[LEFT].borderWidth), blv - borders[BOTTOM].borderWidth, CORNER.BOTTOM_LEFT) : new _Vector2.default(bounds.left + borders[LEFT].borderWidth, bounds.top + bounds.height - borders[BOTTOM].borderWidth) };

      };

      var CORNER = {
        TOP_LEFT: 0,
        TOP_RIGHT: 1,
        BOTTOM_RIGHT: 2,
        BOTTOM_LEFT: 3 };


      var getCurvePoints = function getCurvePoints(x, y, r1, r2, position) {
        var kappa = 4 * ((Math.sqrt(2) - 1) / 3);
        var ox = r1 * kappa; // control point offset horizontal
        var oy = r2 * kappa; // control point offset vertical
        var xm = x + r1; // x-middle
        var ym = y + r2; // y-middle

        switch (position) {
          case CORNER.TOP_LEFT:
            return new _BezierCurve2.default(new _Vector2.default(x, ym), new _Vector2.default(x, ym - oy), new _Vector2.default(xm - ox, y), new _Vector2.default(xm, y));
          case CORNER.TOP_RIGHT:
            return new _BezierCurve2.default(new _Vector2.default(x, y), new _Vector2.default(x + ox, y), new _Vector2.default(xm, ym - oy), new _Vector2.default(xm, ym));
          case CORNER.BOTTOM_RIGHT:
            return new _BezierCurve2.default(new _Vector2.default(xm, y), new _Vector2.default(xm, y + oy), new _Vector2.default(x + ox, ym), new _Vector2.default(x, ym));
          case CORNER.BOTTOM_LEFT:
          default:
            return new _BezierCurve2.default(new _Vector2.default(xm, ym), new _Vector2.default(xm - ox, ym), new _Vector2.default(x, y + oy), new _Vector2.default(x, y));}

      };

      /***/},
    /* 3 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _Color = __webpack_require__(0);

      var _Color2 = _interopRequireDefault(_Color);

      var _Util = __webpack_require__(4);

      var _background = __webpack_require__(5);

      var _border = __webpack_require__(12);

      var _borderRadius = __webpack_require__(33);

      var _display = __webpack_require__(34);

      var _float = __webpack_require__(35);

      var _font = __webpack_require__(36);

      var _letterSpacing = __webpack_require__(37);

      var _lineBreak = __webpack_require__(38);

      var _listStyle = __webpack_require__(8);

      var _margin = __webpack_require__(39);

      var _overflow = __webpack_require__(40);

      var _overflowWrap = __webpack_require__(18);

      var _padding = __webpack_require__(17);

      var _position = __webpack_require__(19);

      var _textDecoration = __webpack_require__(11);

      var _textShadow = __webpack_require__(41);

      var _textTransform = __webpack_require__(20);

      var _transform = __webpack_require__(42);

      var _visibility = __webpack_require__(43);

      var _wordBreak = __webpack_require__(44);

      var _zIndex = __webpack_require__(45);

      var _Bounds = __webpack_require__(2);

      var _Input = __webpack_require__(21);

      var _ListItem = __webpack_require__(14);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var INPUT_TAGS = ['INPUT', 'TEXTAREA', 'SELECT'];

      var NodeContainer = function () {
        function NodeContainer(node, parent, resourceLoader, index) {
          var _this = this;

          _classCallCheck(this, NodeContainer);

          this.parent = parent;
          this.tagName = node.tagName;
          this.index = index;
          this.childNodes = [];
          this.listItems = [];
          if (typeof node.start === 'number') {
            this.listStart = node.start;
          }
          var defaultView = node.ownerDocument.defaultView;
          var scrollX = defaultView.pageXOffset;
          var scrollY = defaultView.pageYOffset;
          var style = defaultView.getComputedStyle(node, null);
          var display = (0, _display.parseDisplay)(style.display);

          var IS_INPUT = node.type === 'radio' || node.type === 'checkbox';

          var position = (0, _position.parsePosition)(style.position);

          this.style = {
            background: IS_INPUT ? _Input.INPUT_BACKGROUND : (0, _background.parseBackground)(style, resourceLoader),
            border: IS_INPUT ? _Input.INPUT_BORDERS : (0, _border.parseBorder)(style),
            borderRadius: (node instanceof defaultView.HTMLInputElement || node instanceof HTMLInputElement) && IS_INPUT ? (0, _Input.getInputBorderRadius)(node) : (0, _borderRadius.parseBorderRadius)(style),
            color: IS_INPUT ? _Input.INPUT_COLOR : new _Color2.default(style.color),
            display: display,
            float: (0, _float.parseCSSFloat)(style.float),
            font: (0, _font.parseFont)(style),
            letterSpacing: (0, _letterSpacing.parseLetterSpacing)(style.letterSpacing),
            listStyle: display === _display.DISPLAY.LIST_ITEM ? (0, _listStyle.parseListStyle)(style) : null,
            lineBreak: (0, _lineBreak.parseLineBreak)(style.lineBreak),
            margin: (0, _margin.parseMargin)(style),
            opacity: parseFloat(style.opacity),
            overflow: INPUT_TAGS.indexOf(node.tagName) === -1 ? (0, _overflow.parseOverflow)(style.overflow) : _overflow.OVERFLOW.HIDDEN,
            overflowWrap: (0, _overflowWrap.parseOverflowWrap)(style.overflowWrap ? style.overflowWrap : style.wordWrap),
            padding: (0, _padding.parsePadding)(style),
            position: position,
            textDecoration: (0, _textDecoration.parseTextDecoration)(style),
            textShadow: (0, _textShadow.parseTextShadow)(style.textShadow),
            textTransform: (0, _textTransform.parseTextTransform)(style.textTransform),
            transform: (0, _transform.parseTransform)(style),
            visibility: (0, _visibility.parseVisibility)(style.visibility),
            wordBreak: (0, _wordBreak.parseWordBreak)(style.wordBreak),
            zIndex: (0, _zIndex.parseZIndex)(position !== _position.POSITION.STATIC ? style.zIndex : 'auto') };


          if (this.isTransformed()) {
            // getBoundingClientRect provides values post-transform, we want them without the transformation
            node.style.transform = 'matrix(1,0,0,1,0,0)';
          }

          if (display === _display.DISPLAY.LIST_ITEM) {
            var listOwner = (0, _ListItem.getListOwner)(this);
            if (listOwner) {
              var listIndex = listOwner.listItems.length;
              listOwner.listItems.push(this);
              this.listIndex = node.hasAttribute('value') && typeof node.value === 'number' ? node.value : listIndex === 0 ? typeof listOwner.listStart === 'number' ? listOwner.listStart : 1 : listOwner.listItems[listIndex - 1].listIndex + 1;
            }
          }

          // TODO move bound retrieval for all nodes to a later stage?
          if (node.tagName === 'IMG') {
            node.addEventListener('load', function () {
              _this.bounds = (0, _Bounds.parseBounds)(node, scrollX, scrollY);
              _this.curvedBounds = (0, _Bounds.parseBoundCurves)(_this.bounds, _this.style.border, _this.style.borderRadius);
            });
          }
          this.image = getImage(node, resourceLoader);
          this.bounds = IS_INPUT ? (0, _Input.reformatInputBounds)((0, _Bounds.parseBounds)(node, scrollX, scrollY)) : (0, _Bounds.parseBounds)(node, scrollX, scrollY);
          this.curvedBounds = (0, _Bounds.parseBoundCurves)(this.bounds, this.style.border, this.style.borderRadius);

          if (true) {
            this.name = '' + node.tagName.toLowerCase() + (node.id ? '#' + node.id : '') + node.className.toString().split(' ').map(function (s) {
              return s.length ? '.' + s : '';
            }).join('');
          }
        }

        _createClass(NodeContainer, [{
          key: 'getClipPaths',
          value: function getClipPaths() {
            var parentClips = this.parent ? this.parent.getClipPaths() : [];
            var isClipped = this.style.overflow !== _overflow.OVERFLOW.VISIBLE;

            return isClipped ? parentClips.concat([(0, _Bounds.calculatePaddingBoxPath)(this.curvedBounds)]) : parentClips;
          } },
        {
          key: 'isInFlow',
          value: function isInFlow() {
            return this.isRootElement() && !this.isFloating() && !this.isAbsolutelyPositioned();
          } },
        {
          key: 'isVisible',
          value: function isVisible() {
            return !(0, _Util.contains)(this.style.display, _display.DISPLAY.NONE) && this.style.opacity > 0 && this.style.visibility === _visibility.VISIBILITY.VISIBLE;
          } },
        {
          key: 'isAbsolutelyPositioned',
          value: function isAbsolutelyPositioned() {
            return this.style.position !== _position.POSITION.STATIC && this.style.position !== _position.POSITION.RELATIVE;
          } },
        {
          key: 'isPositioned',
          value: function isPositioned() {
            return this.style.position !== _position.POSITION.STATIC;
          } },
        {
          key: 'isFloating',
          value: function isFloating() {
            return this.style.float !== _float.FLOAT.NONE;
          } },
        {
          key: 'isRootElement',
          value: function isRootElement() {
            return this.parent === null;
          } },
        {
          key: 'isTransformed',
          value: function isTransformed() {
            return this.style.transform !== null;
          } },
        {
          key: 'isPositionedWithZIndex',
          value: function isPositionedWithZIndex() {
            return this.isPositioned() && !this.style.zIndex.auto;
          } },
        {
          key: 'isInlineLevel',
          value: function isInlineLevel() {
            return (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_BLOCK) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_FLEX) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_GRID) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_LIST_ITEM) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_TABLE);
          } },
        {
          key: 'isInlineBlockOrInlineTable',
          value: function isInlineBlockOrInlineTable() {
            return (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_BLOCK) || (0, _Util.contains)(this.style.display, _display.DISPLAY.INLINE_TABLE);
          } }]);


        return NodeContainer;
      }();

      exports.default = NodeContainer;


      var getImage = function getImage(node, resourceLoader) {
        if (node instanceof node.ownerDocument.defaultView.SVGSVGElement || node instanceof SVGSVGElement) {
          var s = new XMLSerializer();
          return resourceLoader.loadImage('data:image/svg+xml,' + encodeURIComponent(s.serializeToString(node)));
        }
        switch (node.tagName) {
          case 'IMG':
            // $FlowFixMe
            var img = node;
            return resourceLoader.loadImage(img.currentSrc || img.src);
          case 'CANVAS':
            // $FlowFixMe
            var canvas = node;
            return resourceLoader.loadCanvas(canvas);
          case 'IFRAME':
            var iframeKey = node.getAttribute('data-html2canvas-internal-iframe-key');
            if (iframeKey) {
              return iframeKey;
            }
            break;}


        return null;
      };

      /***/},
    /* 4 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var contains = exports.contains = function contains(bit, value) {
        return (bit & value) !== 0;
      };

      var distance = exports.distance = function distance(a, b) {
        return Math.sqrt(a * a + b * b);
      };

      var copyCSSStyles = exports.copyCSSStyles = function copyCSSStyles(style, target) {
        // Edge does not provide value for cssText
        for (var i = style.length - 1; i >= 0; i--) {
          var property = style.item(i);
          // Safari shows pseudoelements if content is set
          if (property !== 'content') {
            target.style.setProperty(property, style.getPropertyValue(property));
          }
        }
        return target;
      };

      var SMALL_IMAGE = exports.SMALL_IMAGE = 'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';

      /***/},
    /* 5 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.parseBackgroundImage = exports.parseBackground = exports.calculateBackgroundRepeatPath = exports.calculateBackgroundPosition = exports.calculateBackgroungPositioningArea = exports.calculateBackgroungPaintingArea = exports.calculateGradientBackgroundSize = exports.calculateBackgroundSize = exports.BACKGROUND_ORIGIN = exports.BACKGROUND_CLIP = exports.BACKGROUND_SIZE = exports.BACKGROUND_REPEAT = undefined;

      var _Color = __webpack_require__(0);

      var _Color2 = _interopRequireDefault(_Color);

      var _Length = __webpack_require__(1);

      var _Length2 = _interopRequireDefault(_Length);

      var _Size = __webpack_require__(31);

      var _Size2 = _interopRequireDefault(_Size);

      var _Vector = __webpack_require__(7);

      var _Vector2 = _interopRequireDefault(_Vector);

      var _Bounds = __webpack_require__(2);

      var _padding = __webpack_require__(17);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var BACKGROUND_REPEAT = exports.BACKGROUND_REPEAT = {
        REPEAT: 0,
        NO_REPEAT: 1,
        REPEAT_X: 2,
        REPEAT_Y: 3 };


      var BACKGROUND_SIZE = exports.BACKGROUND_SIZE = {
        AUTO: 0,
        CONTAIN: 1,
        COVER: 2,
        LENGTH: 3 };


      var BACKGROUND_CLIP = exports.BACKGROUND_CLIP = {
        BORDER_BOX: 0,
        PADDING_BOX: 1,
        CONTENT_BOX: 2 };


      var BACKGROUND_ORIGIN = exports.BACKGROUND_ORIGIN = BACKGROUND_CLIP;

      var AUTO = 'auto';

      var BackgroundSize = function BackgroundSize(size) {
        _classCallCheck(this, BackgroundSize);

        switch (size) {
          case 'contain':
            this.size = BACKGROUND_SIZE.CONTAIN;
            break;
          case 'cover':
            this.size = BACKGROUND_SIZE.COVER;
            break;
          case 'auto':
            this.size = BACKGROUND_SIZE.AUTO;
            break;
          default:
            this.value = new _Length2.default(size);}

      };

      var calculateBackgroundSize = exports.calculateBackgroundSize = function calculateBackgroundSize(backgroundImage, image, bounds) {
        var width = 0;
        var height = 0;
        var size = backgroundImage.size;
        if (size[0].size === BACKGROUND_SIZE.CONTAIN || size[0].size === BACKGROUND_SIZE.COVER) {
          var targetRatio = bounds.width / bounds.height;
          var currentRatio = image.width / image.height;
          return targetRatio < currentRatio !== (size[0].size === BACKGROUND_SIZE.COVER) ? new _Size2.default(bounds.width, bounds.width / currentRatio) : new _Size2.default(bounds.height * currentRatio, bounds.height);
        }

        if (size[0].value) {
          width = size[0].value.getAbsoluteValue(bounds.width);
        }

        if (size[0].size === BACKGROUND_SIZE.AUTO && size[1].size === BACKGROUND_SIZE.AUTO) {
          height = image.height;
        } else if (size[1].size === BACKGROUND_SIZE.AUTO) {
          height = width / image.width * image.height;
        } else if (size[1].value) {
          height = size[1].value.getAbsoluteValue(bounds.height);
        }

        if (size[0].size === BACKGROUND_SIZE.AUTO) {
          width = height / image.height * image.width;
        }

        return new _Size2.default(width, height);
      };

      var calculateGradientBackgroundSize = exports.calculateGradientBackgroundSize = function calculateGradientBackgroundSize(backgroundImage, bounds) {
        var size = backgroundImage.size;
        var width = size[0].value ? size[0].value.getAbsoluteValue(bounds.width) : bounds.width;
        var height = size[1].value ? size[1].value.getAbsoluteValue(bounds.height) : size[0].value ? width : bounds.height;

        return new _Size2.default(width, height);
      };

      var AUTO_SIZE = new BackgroundSize(AUTO);

      var calculateBackgroungPaintingArea = exports.calculateBackgroungPaintingArea = function calculateBackgroungPaintingArea(curves, clip) {
        switch (clip) {
          case BACKGROUND_CLIP.BORDER_BOX:
            return (0, _Bounds.calculateBorderBoxPath)(curves);
          case BACKGROUND_CLIP.PADDING_BOX:
          default:
            return (0, _Bounds.calculatePaddingBoxPath)(curves);}

      };

      var calculateBackgroungPositioningArea = exports.calculateBackgroungPositioningArea = function calculateBackgroungPositioningArea(backgroundOrigin, bounds, padding, border) {
        var paddingBox = (0, _Bounds.calculatePaddingBox)(bounds, border);

        switch (backgroundOrigin) {
          case BACKGROUND_ORIGIN.BORDER_BOX:
            return bounds;
          case BACKGROUND_ORIGIN.CONTENT_BOX:
            var paddingLeft = padding[_padding.PADDING_SIDES.LEFT].getAbsoluteValue(bounds.width);
            var paddingRight = padding[_padding.PADDING_SIDES.RIGHT].getAbsoluteValue(bounds.width);
            var paddingTop = padding[_padding.PADDING_SIDES.TOP].getAbsoluteValue(bounds.width);
            var paddingBottom = padding[_padding.PADDING_SIDES.BOTTOM].getAbsoluteValue(bounds.width);
            return new _Bounds.Bounds(paddingBox.left + paddingLeft, paddingBox.top + paddingTop, paddingBox.width - paddingLeft - paddingRight, paddingBox.height - paddingTop - paddingBottom);
          case BACKGROUND_ORIGIN.PADDING_BOX:
          default:
            return paddingBox;}

      };

      var calculateBackgroundPosition = exports.calculateBackgroundPosition = function calculateBackgroundPosition(position, size, bounds) {
        return new _Vector2.default(position[0].getAbsoluteValue(bounds.width - size.width), position[1].getAbsoluteValue(bounds.height - size.height));
      };

      var calculateBackgroundRepeatPath = exports.calculateBackgroundRepeatPath = function calculateBackgroundRepeatPath(background, position, size, backgroundPositioningArea, bounds) {
        var repeat = background.repeat;
        switch (repeat) {
          case BACKGROUND_REPEAT.REPEAT_X:
            return [new _Vector2.default(Math.round(bounds.left), Math.round(backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(bounds.left + bounds.width), Math.round(backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(bounds.left + bounds.width), Math.round(size.height + backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(bounds.left), Math.round(size.height + backgroundPositioningArea.top + position.y))];
          case BACKGROUND_REPEAT.REPEAT_Y:
            return [new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x), Math.round(bounds.top)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(bounds.top)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(bounds.height + bounds.top)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x), Math.round(bounds.height + bounds.top))];
          case BACKGROUND_REPEAT.NO_REPEAT:
            return [new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(backgroundPositioningArea.top + position.y)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x + size.width), Math.round(backgroundPositioningArea.top + position.y + size.height)), new _Vector2.default(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y + size.height))];
          default:
            return [new _Vector2.default(Math.round(bounds.left), Math.round(bounds.top)), new _Vector2.default(Math.round(bounds.left + bounds.width), Math.round(bounds.top)), new _Vector2.default(Math.round(bounds.left + bounds.width), Math.round(bounds.height + bounds.top)), new _Vector2.default(Math.round(bounds.left), Math.round(bounds.height + bounds.top))];}

      };

      var parseBackground = exports.parseBackground = function parseBackground(style, resourceLoader) {
        return {
          backgroundColor: new _Color2.default(style.backgroundColor),
          backgroundImage: parseBackgroundImages(style, resourceLoader),
          backgroundClip: parseBackgroundClip(style.backgroundClip),
          backgroundOrigin: parseBackgroundOrigin(style.backgroundOrigin) };

      };

      var parseBackgroundClip = function parseBackgroundClip(backgroundClip) {
        switch (backgroundClip) {
          case 'padding-box':
            return BACKGROUND_CLIP.PADDING_BOX;
          case 'content-box':
            return BACKGROUND_CLIP.CONTENT_BOX;}

        return BACKGROUND_CLIP.BORDER_BOX;
      };

      var parseBackgroundOrigin = function parseBackgroundOrigin(backgroundOrigin) {
        switch (backgroundOrigin) {
          case 'padding-box':
            return BACKGROUND_ORIGIN.PADDING_BOX;
          case 'content-box':
            return BACKGROUND_ORIGIN.CONTENT_BOX;}

        return BACKGROUND_ORIGIN.BORDER_BOX;
      };

      var parseBackgroundRepeat = function parseBackgroundRepeat(backgroundRepeat) {
        switch (backgroundRepeat.trim()) {
          case 'no-repeat':
            return BACKGROUND_REPEAT.NO_REPEAT;
          case 'repeat-x':
          case 'repeat no-repeat':
            return BACKGROUND_REPEAT.REPEAT_X;
          case 'repeat-y':
          case 'no-repeat repeat':
            return BACKGROUND_REPEAT.REPEAT_Y;
          case 'repeat':
            return BACKGROUND_REPEAT.REPEAT;}


        if (true) {
          console.error('Invalid background-repeat value "' + backgroundRepeat + '"');
        }

        return BACKGROUND_REPEAT.REPEAT;
      };

      var parseBackgroundImages = function parseBackgroundImages(style, resourceLoader) {
        var sources = parseBackgroundImage(style.backgroundImage).map(function (backgroundImage) {
          if (backgroundImage.method === 'url') {
            var key = resourceLoader.loadImage(backgroundImage.args[0]);
            backgroundImage.args = key ? [key] : [];
          }
          return backgroundImage;
        });
        var positions = style.backgroundPosition.split(',');
        var repeats = style.backgroundRepeat.split(',');
        var sizes = style.backgroundSize.split(',');

        return sources.map(function (source, index) {
          var size = (sizes[index] || AUTO).trim().split(' ').map(parseBackgroundSize);
          var position = (positions[index] || AUTO).trim().split(' ').map(parseBackgoundPosition);

          return {
            source: source,
            repeat: parseBackgroundRepeat(typeof repeats[index] === 'string' ? repeats[index] : repeats[0]),
            size: size.length < 2 ? [size[0], AUTO_SIZE] : [size[0], size[1]],
            position: position.length < 2 ? [position[0], position[0]] : [position[0], position[1]] };

        });
      };

      var parseBackgroundSize = function parseBackgroundSize(size) {
        return size === 'auto' ? AUTO_SIZE : new BackgroundSize(size);
      };

      var parseBackgoundPosition = function parseBackgoundPosition(position) {
        switch (position) {
          case 'bottom':
          case 'right':
            return new _Length2.default('100%');
          case 'left':
          case 'top':
            return new _Length2.default('0%');
          case 'auto':
            return new _Length2.default('0');}

        return new _Length2.default(position);
      };

      var parseBackgroundImage = exports.parseBackgroundImage = function parseBackgroundImage(image) {
        var whitespace = /^\s$/;
        var results = [];

        var args = [];
        var method = '';
        var quote = null;
        var definition = '';
        var mode = 0;
        var numParen = 0;

        var appendResult = function appendResult() {
          var prefix = '';
          if (method) {
            if (definition.substr(0, 1) === '"') {
              definition = definition.substr(1, definition.length - 2);
            }

            if (definition) {
              args.push(definition.trim());
            }

            var prefix_i = method.indexOf('-', 1) + 1;
            if (method.substr(0, 1) === '-' && prefix_i > 0) {
              prefix = method.substr(0, prefix_i).toLowerCase();
              method = method.substr(prefix_i);
            }
            method = method.toLowerCase();
            if (method !== 'none') {
              results.push({
                prefix: prefix,
                method: method,
                args: args });

            }
          }
          args = [];
          method = definition = '';
        };

        image.split('').forEach(function (c) {
          if (mode === 0 && whitespace.test(c)) {
            return;
          }
          switch (c) {
            case '"':
              if (!quote) {
                quote = c;
              } else if (quote === c) {
                quote = null;
              }
              break;
            case '(':
              if (quote) {
                break;
              } else if (mode === 0) {
                mode = 1;
                return;
              } else {
                numParen++;
              }
              break;
            case ')':
              if (quote) {
                break;
              } else if (mode === 1) {
                if (numParen === 0) {
                  mode = 0;
                  appendResult();
                  return;
                } else {
                  numParen--;
                }
              }
              break;

            case ',':
              if (quote) {
                break;
              } else if (mode === 0) {
                appendResult();
                return;
              } else if (mode === 1) {
                if (numParen === 0 && !method.match(/^url$/i)) {
                  args.push(definition.trim());
                  definition = '';
                  return;
                }
              }
              break;}


          if (mode === 0) {
            method += c;
          } else {
            definition += c;
          }
        });

        appendResult();
        return results;
      };

      /***/},
    /* 6 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var PATH = exports.PATH = {
        VECTOR: 0,
        BEZIER_CURVE: 1,
        CIRCLE: 2 };


      /***/},
    /* 7 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _Path = __webpack_require__(6);

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var Vector = function Vector(x, y) {
        _classCallCheck(this, Vector);

        this.type = _Path.PATH.VECTOR;
        this.x = x;
        this.y = y;
        if (true) {
          if (isNaN(x)) {
            console.error('Invalid x value given for Vector');
          }
          if (isNaN(y)) {
            console.error('Invalid y value given for Vector');
          }
        }
      };

      exports.default = Vector;

      /***/},
    /* 8 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.parseListStyle = exports.parseListStyleType = exports.LIST_STYLE_TYPE = exports.LIST_STYLE_POSITION = undefined;

      var _background = __webpack_require__(5);

      var LIST_STYLE_POSITION = exports.LIST_STYLE_POSITION = {
        INSIDE: 0,
        OUTSIDE: 1 };


      var LIST_STYLE_TYPE = exports.LIST_STYLE_TYPE = {
        NONE: -1,
        DISC: 0,
        CIRCLE: 1,
        SQUARE: 2,
        DECIMAL: 3,
        CJK_DECIMAL: 4,
        DECIMAL_LEADING_ZERO: 5,
        LOWER_ROMAN: 6,
        UPPER_ROMAN: 7,
        LOWER_GREEK: 8,
        LOWER_ALPHA: 9,
        UPPER_ALPHA: 10,
        ARABIC_INDIC: 11,
        ARMENIAN: 12,
        BENGALI: 13,
        CAMBODIAN: 14,
        CJK_EARTHLY_BRANCH: 15,
        CJK_HEAVENLY_STEM: 16,
        CJK_IDEOGRAPHIC: 17,
        DEVANAGARI: 18,
        ETHIOPIC_NUMERIC: 19,
        GEORGIAN: 20,
        GUJARATI: 21,
        GURMUKHI: 22,
        HEBREW: 22,
        HIRAGANA: 23,
        HIRAGANA_IROHA: 24,
        JAPANESE_FORMAL: 25,
        JAPANESE_INFORMAL: 26,
        KANNADA: 27,
        KATAKANA: 28,
        KATAKANA_IROHA: 29,
        KHMER: 30,
        KOREAN_HANGUL_FORMAL: 31,
        KOREAN_HANJA_FORMAL: 32,
        KOREAN_HANJA_INFORMAL: 33,
        LAO: 34,
        LOWER_ARMENIAN: 35,
        MALAYALAM: 36,
        MONGOLIAN: 37,
        MYANMAR: 38,
        ORIYA: 39,
        PERSIAN: 40,
        SIMP_CHINESE_FORMAL: 41,
        SIMP_CHINESE_INFORMAL: 42,
        TAMIL: 43,
        TELUGU: 44,
        THAI: 45,
        TIBETAN: 46,
        TRAD_CHINESE_FORMAL: 47,
        TRAD_CHINESE_INFORMAL: 48,
        UPPER_ARMENIAN: 49,
        DISCLOSURE_OPEN: 50,
        DISCLOSURE_CLOSED: 51 };


      var parseListStyleType = exports.parseListStyleType = function parseListStyleType(type) {
        switch (type) {
          case 'disc':
            return LIST_STYLE_TYPE.DISC;
          case 'circle':
            return LIST_STYLE_TYPE.CIRCLE;
          case 'square':
            return LIST_STYLE_TYPE.SQUARE;
          case 'decimal':
            return LIST_STYLE_TYPE.DECIMAL;
          case 'cjk-decimal':
            return LIST_STYLE_TYPE.CJK_DECIMAL;
          case 'decimal-leading-zero':
            return LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO;
          case 'lower-roman':
            return LIST_STYLE_TYPE.LOWER_ROMAN;
          case 'upper-roman':
            return LIST_STYLE_TYPE.UPPER_ROMAN;
          case 'lower-greek':
            return LIST_STYLE_TYPE.LOWER_GREEK;
          case 'lower-alpha':
            return LIST_STYLE_TYPE.LOWER_ALPHA;
          case 'upper-alpha':
            return LIST_STYLE_TYPE.UPPER_ALPHA;
          case 'arabic-indic':
            return LIST_STYLE_TYPE.ARABIC_INDIC;
          case 'armenian':
            return LIST_STYLE_TYPE.ARMENIAN;
          case 'bengali':
            return LIST_STYLE_TYPE.BENGALI;
          case 'cambodian':
            return LIST_STYLE_TYPE.CAMBODIAN;
          case 'cjk-earthly-branch':
            return LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH;
          case 'cjk-heavenly-stem':
            return LIST_STYLE_TYPE.CJK_HEAVENLY_STEM;
          case 'cjk-ideographic':
            return LIST_STYLE_TYPE.CJK_IDEOGRAPHIC;
          case 'devanagari':
            return LIST_STYLE_TYPE.DEVANAGARI;
          case 'ethiopic-numeric':
            return LIST_STYLE_TYPE.ETHIOPIC_NUMERIC;
          case 'georgian':
            return LIST_STYLE_TYPE.GEORGIAN;
          case 'gujarati':
            return LIST_STYLE_TYPE.GUJARATI;
          case 'gurmukhi':
            return LIST_STYLE_TYPE.GURMUKHI;
          case 'hebrew':
            return LIST_STYLE_TYPE.HEBREW;
          case 'hiragana':
            return LIST_STYLE_TYPE.HIRAGANA;
          case 'hiragana-iroha':
            return LIST_STYLE_TYPE.HIRAGANA_IROHA;
          case 'japanese-formal':
            return LIST_STYLE_TYPE.JAPANESE_FORMAL;
          case 'japanese-informal':
            return LIST_STYLE_TYPE.JAPANESE_INFORMAL;
          case 'kannada':
            return LIST_STYLE_TYPE.KANNADA;
          case 'katakana':
            return LIST_STYLE_TYPE.KATAKANA;
          case 'katakana-iroha':
            return LIST_STYLE_TYPE.KATAKANA_IROHA;
          case 'khmer':
            return LIST_STYLE_TYPE.KHMER;
          case 'korean-hangul-formal':
            return LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL;
          case 'korean-hanja-formal':
            return LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL;
          case 'korean-hanja-informal':
            return LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL;
          case 'lao':
            return LIST_STYLE_TYPE.LAO;
          case 'lower-armenian':
            return LIST_STYLE_TYPE.LOWER_ARMENIAN;
          case 'malayalam':
            return LIST_STYLE_TYPE.MALAYALAM;
          case 'mongolian':
            return LIST_STYLE_TYPE.MONGOLIAN;
          case 'myanmar':
            return LIST_STYLE_TYPE.MYANMAR;
          case 'oriya':
            return LIST_STYLE_TYPE.ORIYA;
          case 'persian':
            return LIST_STYLE_TYPE.PERSIAN;
          case 'simp-chinese-formal':
            return LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL;
          case 'simp-chinese-informal':
            return LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL;
          case 'tamil':
            return LIST_STYLE_TYPE.TAMIL;
          case 'telugu':
            return LIST_STYLE_TYPE.TELUGU;
          case 'thai':
            return LIST_STYLE_TYPE.THAI;
          case 'tibetan':
            return LIST_STYLE_TYPE.TIBETAN;
          case 'trad-chinese-formal':
            return LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL;
          case 'trad-chinese-informal':
            return LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL;
          case 'upper-armenian':
            return LIST_STYLE_TYPE.UPPER_ARMENIAN;
          case 'disclosure-open':
            return LIST_STYLE_TYPE.DISCLOSURE_OPEN;
          case 'disclosure-closed':
            return LIST_STYLE_TYPE.DISCLOSURE_CLOSED;
          case 'none':
          default:
            return LIST_STYLE_TYPE.NONE;}

      };

      var parseListStyle = exports.parseListStyle = function parseListStyle(style) {
        var listStyleImage = (0, _background.parseBackgroundImage)(style.getPropertyValue('list-style-image'));
        return {
          listStyleType: parseListStyleType(style.getPropertyValue('list-style-type')),
          listStyleImage: listStyleImage.length ? listStyleImage[0] : null,
          listStylePosition: parseListStylePosition(style.getPropertyValue('list-style-position')) };

      };

      var parseListStylePosition = function parseListStylePosition(position) {
        switch (position) {
          case 'inside':
            return LIST_STYLE_POSITION.INSIDE;
          case 'outside':
          default:
            return LIST_STYLE_POSITION.OUTSIDE;}

      };

      /***/},
    /* 9 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _textTransform = __webpack_require__(20);

      var _TextBounds = __webpack_require__(22);

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var TextContainer = function () {
        function TextContainer(text, parent, bounds) {
          _classCallCheck(this, TextContainer);

          this.text = text;
          this.parent = parent;
          this.bounds = bounds;
        }

        _createClass(TextContainer, null, [{
          key: 'fromTextNode',
          value: function fromTextNode(node, parent) {
            var text = transform(node.data, parent.style.textTransform);
            return new TextContainer(text, parent, (0, _TextBounds.parseTextBounds)(text, parent, node));
          } }]);


        return TextContainer;
      }();

      exports.default = TextContainer;


      var CAPITALIZE = /(^|\s|:|-|\(|\))([a-z])/g;

      var transform = function transform(text, _transform) {
        switch (_transform) {
          case _textTransform.TEXT_TRANSFORM.LOWERCASE:
            return text.toLowerCase();
          case _textTransform.TEXT_TRANSFORM.CAPITALIZE:
            return text.replace(CAPITALIZE, capitalize);
          case _textTransform.TEXT_TRANSFORM.UPPERCASE:
            return text.toUpperCase();
          default:
            return text;}

      };

      function capitalize(m, p1, p2) {
        if (m.length > 0) {
          return p1 + p2.toUpperCase();
        }

        return m;
      }

      /***/},
    /* 10 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _ForeignObjectRenderer = __webpack_require__(23);

      var testRangeBounds = function testRangeBounds(document) {
        var TEST_HEIGHT = 123;

        if (document.createRange) {
          var range = document.createRange();
          if (range.getBoundingClientRect) {
            var testElement = document.createElement('boundtest');
            testElement.style.height = TEST_HEIGHT + 'px';
            testElement.style.display = 'block';
            document.body.appendChild(testElement);

            range.selectNode(testElement);
            var rangeBounds = range.getBoundingClientRect();
            var rangeHeight = Math.round(rangeBounds.height);
            document.body.removeChild(testElement);
            if (rangeHeight === TEST_HEIGHT) {
              return true;
            }
          }
        }

        return false;
      };

      // iOS 10.3 taints canvas with base64 images unless crossOrigin = 'anonymous'
      var testBase64 = function testBase64(document, src) {
        var img = new Image();
        var canvas = document.createElement('canvas');
        var ctx = canvas.getContext('2d');

        return new Promise(function (resolve) {
          // Single pixel base64 image renders fine on iOS 10.3???
          img.src = src;

          var onload = function onload() {
            try {
              ctx.drawImage(img, 0, 0);
              canvas.toDataURL();
            } catch (e) {
              return resolve(false);
            }

            return resolve(true);
          };

          img.onload = onload;
          img.onerror = function () {
            return resolve(false);
          };

          if (img.complete === true) {
            setTimeout(function () {
              onload();
            }, 500);
          }
        });
      };

      var testCORS = function testCORS() {
        return typeof new Image().crossOrigin !== 'undefined';
      };

      var testResponseType = function testResponseType() {
        return typeof new XMLHttpRequest().responseType === 'string';
      };

      var testSVG = function testSVG(document) {
        var img = new Image();
        var canvas = document.createElement('canvas');
        var ctx = canvas.getContext('2d');
        img.src = 'data:image/svg+xml,<svg xmlns=\'http://www.w3.org/2000/svg\'></svg>';

        try {
          ctx.drawImage(img, 0, 0);
          canvas.toDataURL();
        } catch (e) {
          return false;
        }
        return true;
      };

      var isGreenPixel = function isGreenPixel(data) {
        return data[0] === 0 && data[1] === 255 && data[2] === 0 && data[3] === 255;
      };

      var testForeignObject = function testForeignObject(document) {
        var canvas = document.createElement('canvas');
        var size = 100;
        canvas.width = size;
        canvas.height = size;
        var ctx = canvas.getContext('2d');
        ctx.fillStyle = 'rgb(0, 255, 0)';
        ctx.fillRect(0, 0, size, size);

        var img = new Image();
        var greenImageSrc = canvas.toDataURL();
        img.src = greenImageSrc;
        var svg = (0, _ForeignObjectRenderer.createForeignObjectSVG)(size, size, 0, 0, img);
        ctx.fillStyle = 'red';
        ctx.fillRect(0, 0, size, size);

        return (0, _ForeignObjectRenderer.loadSerializedSVG)(svg).then(function (img) {
          ctx.drawImage(img, 0, 0);
          var data = ctx.getImageData(0, 0, size, size).data;
          ctx.fillStyle = 'red';
          ctx.fillRect(0, 0, size, size);

          var node = document.createElement('div');
          node.style.backgroundImage = 'url(' + greenImageSrc + ')';
          node.style.height = size + 'px';
          // Firefox 55 does not render inline <img /> tags
          return isGreenPixel(data) ? (0, _ForeignObjectRenderer.loadSerializedSVG)((0, _ForeignObjectRenderer.createForeignObjectSVG)(size, size, 0, 0, node)) : Promise.reject(false);
        }).then(function (img) {
          ctx.drawImage(img, 0, 0);
          // Edge does not render background-images
          return isGreenPixel(ctx.getImageData(0, 0, size, size).data);
        }).catch(function (e) {
          return false;
        });
      };

      var FEATURES = {
        // $FlowFixMe - get/set properties not yet supported
        get SUPPORT_RANGE_BOUNDS() {
          'use strict';

          var value = testRangeBounds(document);
          Object.defineProperty(FEATURES, 'SUPPORT_RANGE_BOUNDS', { value: value });
          return value;
        },
        // $FlowFixMe - get/set properties not yet supported
        get SUPPORT_SVG_DRAWING() {
          'use strict';

          var value = testSVG(document);
          Object.defineProperty(FEATURES, 'SUPPORT_SVG_DRAWING', { value: value });
          return value;
        },
        // $FlowFixMe - get/set properties not yet supported
        get SUPPORT_BASE64_DRAWING() {
          'use strict';

          return function (src) {
            var _value = testBase64(document, src);
            Object.defineProperty(FEATURES, 'SUPPORT_BASE64_DRAWING', { value: function value() {
                return _value;
              } });
            return _value;
          };
        },
        // $FlowFixMe - get/set properties not yet supported
        get SUPPORT_FOREIGNOBJECT_DRAWING() {
          'use strict';

          var value = typeof Array.from === 'function' && typeof window.fetch === 'function' ? testForeignObject(document) : Promise.resolve(false);
          Object.defineProperty(FEATURES, 'SUPPORT_FOREIGNOBJECT_DRAWING', { value: value });
          return value;
        },
        // $FlowFixMe - get/set properties not yet supported
        get SUPPORT_CORS_IMAGES() {
          'use strict';

          var value = testCORS();
          Object.defineProperty(FEATURES, 'SUPPORT_CORS_IMAGES', { value: value });
          return value;
        },
        // $FlowFixMe - get/set properties not yet supported
        get SUPPORT_RESPONSE_TYPE() {
          'use strict';

          var value = testResponseType();
          Object.defineProperty(FEATURES, 'SUPPORT_RESPONSE_TYPE', { value: value });
          return value;
        },
        // $FlowFixMe - get/set properties not yet supported
        get SUPPORT_CORS_XHR() {
          'use strict';

          var value = 'withCredentials' in new XMLHttpRequest();
          Object.defineProperty(FEATURES, 'SUPPORT_CORS_XHR', { value: value });
          return value;
        } };


      exports.default = FEATURES;

      /***/},
    /* 11 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.parseTextDecoration = exports.TEXT_DECORATION_LINE = exports.TEXT_DECORATION = exports.TEXT_DECORATION_STYLE = undefined;

      var _Color = __webpack_require__(0);

      var _Color2 = _interopRequireDefault(_Color);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var TEXT_DECORATION_STYLE = exports.TEXT_DECORATION_STYLE = {
        SOLID: 0,
        DOUBLE: 1,
        DOTTED: 2,
        DASHED: 3,
        WAVY: 4 };


      var TEXT_DECORATION = exports.TEXT_DECORATION = {
        NONE: null };


      var TEXT_DECORATION_LINE = exports.TEXT_DECORATION_LINE = {
        UNDERLINE: 1,
        OVERLINE: 2,
        LINE_THROUGH: 3,
        BLINK: 4 };


      var parseLine = function parseLine(line) {
        switch (line) {
          case 'underline':
            return TEXT_DECORATION_LINE.UNDERLINE;
          case 'overline':
            return TEXT_DECORATION_LINE.OVERLINE;
          case 'line-through':
            return TEXT_DECORATION_LINE.LINE_THROUGH;}

        return TEXT_DECORATION_LINE.BLINK;
      };

      var parseTextDecorationLine = function parseTextDecorationLine(line) {
        if (line === 'none') {
          return null;
        }

        return line.split(' ').map(parseLine);
      };

      var parseTextDecorationStyle = function parseTextDecorationStyle(style) {
        switch (style) {
          case 'double':
            return TEXT_DECORATION_STYLE.DOUBLE;
          case 'dotted':
            return TEXT_DECORATION_STYLE.DOTTED;
          case 'dashed':
            return TEXT_DECORATION_STYLE.DASHED;
          case 'wavy':
            return TEXT_DECORATION_STYLE.WAVY;}

        return TEXT_DECORATION_STYLE.SOLID;
      };

      var parseTextDecoration = exports.parseTextDecoration = function parseTextDecoration(style) {
        var textDecorationLine = parseTextDecorationLine(style.textDecorationLine ? style.textDecorationLine : style.textDecoration);
        if (textDecorationLine === null) {
          return TEXT_DECORATION.NONE;
        }

        var textDecorationColor = style.textDecorationColor ? new _Color2.default(style.textDecorationColor) : null;
        var textDecorationStyle = parseTextDecorationStyle(style.textDecorationStyle);

        return {
          textDecorationLine: textDecorationLine,
          textDecorationColor: textDecorationColor,
          textDecorationStyle: textDecorationStyle };

      };

      /***/},
    /* 12 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.parseBorder = exports.BORDER_SIDES = exports.BORDER_STYLE = undefined;

      var _Color = __webpack_require__(0);

      var _Color2 = _interopRequireDefault(_Color);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var BORDER_STYLE = exports.BORDER_STYLE = {
        NONE: 0,
        SOLID: 1 };


      var BORDER_SIDES = exports.BORDER_SIDES = {
        TOP: 0,
        RIGHT: 1,
        BOTTOM: 2,
        LEFT: 3 };


      var SIDES = Object.keys(BORDER_SIDES).map(function (s) {
        return s.toLowerCase();
      });

      var parseBorderStyle = function parseBorderStyle(style) {
        switch (style) {
          case 'none':
            return BORDER_STYLE.NONE;}

        return BORDER_STYLE.SOLID;
      };

      var parseBorder = exports.parseBorder = function parseBorder(style) {
        return SIDES.map(function (side) {
          var borderColor = new _Color2.default(style.getPropertyValue('border-' + side + '-color'));
          var borderStyle = parseBorderStyle(style.getPropertyValue('border-' + side + '-style'));
          var borderWidth = parseFloat(style.getPropertyValue('border-' + side + '-width'));
          return {
            borderColor: borderColor,
            borderStyle: borderStyle,
            borderWidth: isNaN(borderWidth) ? 0 : borderWidth };

        });
      };

      /***/},
    /* 13 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var toCodePoints = exports.toCodePoints = function toCodePoints(str) {
        var codePoints = [];
        var i = 0;
        var length = str.length;
        while (i < length) {
          var value = str.charCodeAt(i++);
          if (value >= 0xd800 && value <= 0xdbff && i < length) {
            var extra = str.charCodeAt(i++);
            if ((extra & 0xfc00) === 0xdc00) {
              codePoints.push(((value & 0x3ff) << 10) + (extra & 0x3ff) + 0x10000);
            } else {
              codePoints.push(value);
              i--;
            }
          } else {
            codePoints.push(value);
          }
        }
        return codePoints;
      };

      var fromCodePoint = exports.fromCodePoint = function fromCodePoint() {
        if (String.fromCodePoint) {
          return String.fromCodePoint.apply(String, arguments);
        }

        var length = arguments.length;
        if (!length) {
          return '';
        }

        var codeUnits = [];

        var index = -1;
        var result = '';
        while (++index < length) {
          var codePoint = arguments.length <= index ? undefined : arguments[index];
          if (codePoint <= 0xffff) {
            codeUnits.push(codePoint);
          } else {
            codePoint -= 0x10000;
            codeUnits.push((codePoint >> 10) + 0xd800, codePoint % 0x400 + 0xdc00);
          }
          if (index + 1 === length || codeUnits.length > 0x4000) {
            result += String.fromCharCode.apply(String, codeUnits);
            codeUnits.length = 0;
          }
        }
        return result;
      };

      var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';

      // Use a lookup table to find the index.
      var lookup = typeof Uint8Array === 'undefined' ? [] : new Uint8Array(256);
      for (var i = 0; i < chars.length; i++) {
        lookup[chars.charCodeAt(i)] = i;
      }

      var decode = exports.decode = function decode(base64) {
        var bufferLength = base64.length * 0.75,
        len = base64.length,
        i = void 0,
        p = 0,
        encoded1 = void 0,
        encoded2 = void 0,
        encoded3 = void 0,
        encoded4 = void 0;

        if (base64[base64.length - 1] === '=') {
          bufferLength--;
          if (base64[base64.length - 2] === '=') {
            bufferLength--;
          }
        }

        var buffer = typeof ArrayBuffer !== 'undefined' && typeof Uint8Array !== 'undefined' && typeof Uint8Array.prototype.slice !== 'undefined' ? new ArrayBuffer(bufferLength) : new Array(bufferLength);
        var bytes = Array.isArray(buffer) ? buffer : new Uint8Array(buffer);

        for (i = 0; i < len; i += 4) {
          encoded1 = lookup[base64.charCodeAt(i)];
          encoded2 = lookup[base64.charCodeAt(i + 1)];
          encoded3 = lookup[base64.charCodeAt(i + 2)];
          encoded4 = lookup[base64.charCodeAt(i + 3)];

          bytes[p++] = encoded1 << 2 | encoded2 >> 4;
          bytes[p++] = (encoded2 & 15) << 4 | encoded3 >> 2;
          bytes[p++] = (encoded3 & 3) << 6 | encoded4 & 63;
        }

        return buffer;
      };

      var polyUint16Array = exports.polyUint16Array = function polyUint16Array(buffer) {
        var length = buffer.length;
        var bytes = [];
        for (var _i = 0; _i < length; _i += 2) {
          bytes.push(buffer[_i + 1] << 8 | buffer[_i]);
        }
        return bytes;
      };

      var polyUint32Array = exports.polyUint32Array = function polyUint32Array(buffer) {
        var length = buffer.length;
        var bytes = [];
        for (var _i2 = 0; _i2 < length; _i2 += 4) {
          bytes.push(buffer[_i2 + 3] << 24 | buffer[_i2 + 2] << 16 | buffer[_i2 + 1] << 8 | buffer[_i2]);
        }
        return bytes;
      };

      /***/},
    /* 14 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.createCounterText = exports.inlineListItemElement = exports.getListOwner = undefined;

      var _Util = __webpack_require__(4);

      var _NodeContainer = __webpack_require__(3);

      var _NodeContainer2 = _interopRequireDefault(_NodeContainer);

      var _TextContainer = __webpack_require__(9);

      var _TextContainer2 = _interopRequireDefault(_TextContainer);

      var _listStyle = __webpack_require__(8);

      var _Unicode = __webpack_require__(24);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      // Margin between the enumeration and the list item content
      var MARGIN_RIGHT = 7;

      var ancestorTypes = ['OL', 'UL', 'MENU'];

      var getListOwner = exports.getListOwner = function getListOwner(container) {
        var parent = container.parent;
        if (!parent) {
          return null;
        }

        do {
          var isAncestor = ancestorTypes.indexOf(parent.tagName) !== -1;
          if (isAncestor) {
            return parent;
          }
          parent = parent.parent;
        } while (parent);

        return container.parent;
      };

      var inlineListItemElement = exports.inlineListItemElement = function inlineListItemElement(node, container, resourceLoader) {
        var listStyle = container.style.listStyle;

        if (!listStyle) {
          return;
        }

        var style = node.ownerDocument.defaultView.getComputedStyle(node, null);
        var wrapper = node.ownerDocument.createElement('html2canvaswrapper');
        (0, _Util.copyCSSStyles)(style, wrapper);

        wrapper.style.position = 'absolute';
        wrapper.style.bottom = 'auto';
        wrapper.style.display = 'block';
        wrapper.style.letterSpacing = 'normal';

        switch (listStyle.listStylePosition) {
          case _listStyle.LIST_STYLE_POSITION.OUTSIDE:
            wrapper.style.left = 'auto';
            wrapper.style.right = node.ownerDocument.defaultView.innerWidth - container.bounds.left - container.style.margin[1].getAbsoluteValue(container.bounds.width) + MARGIN_RIGHT + 'px';
            wrapper.style.textAlign = 'right';
            break;
          case _listStyle.LIST_STYLE_POSITION.INSIDE:
            wrapper.style.left = container.bounds.left - container.style.margin[3].getAbsoluteValue(container.bounds.width) + 'px';
            wrapper.style.right = 'auto';
            wrapper.style.textAlign = 'left';
            break;}


        var text = void 0;
        var MARGIN_TOP = container.style.margin[0].getAbsoluteValue(container.bounds.width);
        var styleImage = listStyle.listStyleImage;
        if (styleImage) {
          if (styleImage.method === 'url') {
            var image = node.ownerDocument.createElement('img');
            image.src = styleImage.args[0];
            wrapper.style.top = container.bounds.top - MARGIN_TOP + 'px';
            wrapper.style.width = 'auto';
            wrapper.style.height = 'auto';
            wrapper.appendChild(image);
          } else {
            var size = parseFloat(container.style.font.fontSize) * 0.5;
            wrapper.style.top = container.bounds.top - MARGIN_TOP + container.bounds.height - 1.5 * size + 'px';
            wrapper.style.width = size + 'px';
            wrapper.style.height = size + 'px';
            wrapper.style.backgroundImage = style.listStyleImage;
          }
        } else if (typeof container.listIndex === 'number') {
          text = node.ownerDocument.createTextNode(createCounterText(container.listIndex, listStyle.listStyleType, true));
          wrapper.appendChild(text);
          wrapper.style.top = container.bounds.top - MARGIN_TOP + 'px';
        }

        // $FlowFixMe
        var body = node.ownerDocument.body;
        body.appendChild(wrapper);

        if (text) {
          container.childNodes.push(_TextContainer2.default.fromTextNode(text, container));
          body.removeChild(wrapper);
        } else {
          // $FlowFixMe
          container.childNodes.push(new _NodeContainer2.default(wrapper, container, resourceLoader, 0));
        }
      };

      var ROMAN_UPPER = {
        integers: [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1],
        values: ['M', 'CM', 'D', 'CD', 'C', 'XC', 'L', 'XL', 'X', 'IX', 'V', 'IV', 'I'] };


      var ARMENIAN = {
        integers: [9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],
        values: ['Ք', 'Փ', 'Ւ', 'Ց', 'Ր', 'Տ', 'Վ', 'Ս', 'Ռ', 'Ջ', 'Պ', 'Չ', 'Ո', 'Շ', 'Ն', 'Յ', 'Մ', 'Ճ', 'Ղ', 'Ձ', 'Հ', 'Կ', 'Ծ', 'Խ', 'Լ', 'Ի', 'Ժ', 'Թ', 'Ը', 'Է', 'Զ', 'Ե', 'Դ', 'Գ', 'Բ', 'Ա'] };


      var HEBREW = {
        integers: [10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 19, 18, 17, 16, 15, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],
        values: ['י׳', 'ט׳', 'ח׳', 'ז׳', 'ו׳', 'ה׳', 'ד׳', 'ג׳', 'ב׳', 'א׳', 'ת', 'ש', 'ר', 'ק', 'צ', 'פ', 'ע', 'ס', 'נ', 'מ', 'ל', 'כ', 'יט', 'יח', 'יז', 'טז', 'טו', 'י', 'ט', 'ח', 'ז', 'ו', 'ה', 'ד', 'ג', 'ב', 'א'] };


      var GEORGIAN = {
        integers: [10000, 9000, 8000, 7000, 6000, 5000, 4000, 3000, 2000, 1000, 900, 800, 700, 600, 500, 400, 300, 200, 100, 90, 80, 70, 60, 50, 40, 30, 20, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1],
        values: ['ჵ', 'ჰ', 'ჯ', 'ჴ', 'ხ', 'ჭ', 'წ', 'ძ', 'ც', 'ჩ', 'შ', 'ყ', 'ღ', 'ქ', 'ფ', 'ჳ', 'ტ', 'ს', 'რ', 'ჟ', 'პ', 'ო', 'ჲ', 'ნ', 'მ', 'ლ', 'კ', 'ი', 'თ', 'ჱ', 'ზ', 'ვ', 'ე', 'დ', 'გ', 'ბ', 'ა'] };


      var createAdditiveCounter = function createAdditiveCounter(value, min, max, symbols, fallback, suffix) {
        if (value < min || value > max) {
          return createCounterText(value, fallback, suffix.length > 0);
        }

        return symbols.integers.reduce(function (string, integer, index) {
          while (value >= integer) {
            value -= integer;
            string += symbols.values[index];
          }
          return string;
        }, '') + suffix;
      };

      var createCounterStyleWithSymbolResolver = function createCounterStyleWithSymbolResolver(value, codePointRangeLength, isNumeric, resolver) {
        var string = '';

        do {
          if (!isNumeric) {
            value--;
          }
          string = resolver(value) + string;
          value /= codePointRangeLength;
        } while (value * codePointRangeLength >= codePointRangeLength);

        return string;
      };

      var createCounterStyleFromRange = function createCounterStyleFromRange(value, codePointRangeStart, codePointRangeEnd, isNumeric, suffix) {
        var codePointRangeLength = codePointRangeEnd - codePointRangeStart + 1;

        return (value < 0 ? '-' : '') + (createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, isNumeric, function (codePoint) {
          return (0, _Unicode.fromCodePoint)(Math.floor(codePoint % codePointRangeLength) + codePointRangeStart);
        }) + suffix);
      };

      var createCounterStyleFromSymbols = function createCounterStyleFromSymbols(value, symbols) {
        var suffix = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : '. ';

        var codePointRangeLength = symbols.length;
        return createCounterStyleWithSymbolResolver(Math.abs(value), codePointRangeLength, false, function (codePoint) {
          return symbols[Math.floor(codePoint % codePointRangeLength)];
        }) + suffix;
      };

      var CJK_ZEROS = 1 << 0;
      var CJK_TEN_COEFFICIENTS = 1 << 1;
      var CJK_TEN_HIGH_COEFFICIENTS = 1 << 2;
      var CJK_HUNDRED_COEFFICIENTS = 1 << 3;

      var createCJKCounter = function createCJKCounter(value, numbers, multipliers, negativeSign, suffix, flags) {
        if (value < -9999 || value > 9999) {
          return createCounterText(value, _listStyle.LIST_STYLE_TYPE.CJK_DECIMAL, suffix.length > 0);
        }
        var tmp = Math.abs(value);
        var string = suffix;

        if (tmp === 0) {
          return numbers[0] + string;
        }

        for (var digit = 0; tmp > 0 && digit <= 4; digit++) {
          var coefficient = tmp % 10;

          if (coefficient === 0 && (0, _Util.contains)(flags, CJK_ZEROS) && string !== '') {
            string = numbers[coefficient] + string;
          } else if (coefficient > 1 || coefficient === 1 && digit === 0 || coefficient === 1 && digit === 1 && (0, _Util.contains)(flags, CJK_TEN_COEFFICIENTS) || coefficient === 1 && digit === 1 && (0, _Util.contains)(flags, CJK_TEN_HIGH_COEFFICIENTS) && value > 100 || coefficient === 1 && digit > 1 && (0, _Util.contains)(flags, CJK_HUNDRED_COEFFICIENTS)) {
            string = numbers[coefficient] + (digit > 0 ? multipliers[digit - 1] : '') + string;
          } else if (coefficient === 1 && digit > 0) {
            string = multipliers[digit - 1] + string;
          }
          tmp = Math.floor(tmp / 10);
        }

        return (value < 0 ? negativeSign : '') + string;
      };

      var CHINESE_INFORMAL_MULTIPLIERS = '十百千萬';
      var CHINESE_FORMAL_MULTIPLIERS = '拾佰仟萬';
      var JAPANESE_NEGATIVE = 'マイナス';
      var KOREAN_NEGATIVE = '마이너스 ';

      var createCounterText = exports.createCounterText = function createCounterText(value, type, appendSuffix) {
        var defaultSuffix = appendSuffix ? '. ' : '';
        var cjkSuffix = appendSuffix ? '、' : '';
        var koreanSuffix = appendSuffix ? ', ' : '';
        switch (type) {
          case _listStyle.LIST_STYLE_TYPE.DISC:
            return '•';
          case _listStyle.LIST_STYLE_TYPE.CIRCLE:
            return '◦';
          case _listStyle.LIST_STYLE_TYPE.SQUARE:
            return '◾';
          case _listStyle.LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:
            var string = createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);
            return string.length < 4 ? '0' + string : string;
          case _listStyle.LIST_STYLE_TYPE.CJK_DECIMAL:
            return createCounterStyleFromSymbols(value, '〇一二三四五六七八九', cjkSuffix);
          case _listStyle.LIST_STYLE_TYPE.LOWER_ROMAN:
            return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();
          case _listStyle.LIST_STYLE_TYPE.UPPER_ROMAN:
            return createAdditiveCounter(value, 1, 3999, ROMAN_UPPER, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.LOWER_GREEK:
            return createCounterStyleFromRange(value, 945, 969, false, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.LOWER_ALPHA:
            return createCounterStyleFromRange(value, 97, 122, false, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.UPPER_ALPHA:
            return createCounterStyleFromRange(value, 65, 90, false, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.ARABIC_INDIC:
            return createCounterStyleFromRange(value, 1632, 1641, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.ARMENIAN:
          case _listStyle.LIST_STYLE_TYPE.UPPER_ARMENIAN:
            return createAdditiveCounter(value, 1, 9999, ARMENIAN, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.LOWER_ARMENIAN:
            return createAdditiveCounter(value, 1, 9999, ARMENIAN, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix).toLowerCase();
          case _listStyle.LIST_STYLE_TYPE.BENGALI:
            return createCounterStyleFromRange(value, 2534, 2543, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.CAMBODIAN:
          case _listStyle.LIST_STYLE_TYPE.KHMER:
            return createCounterStyleFromRange(value, 6112, 6121, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:
            return createCounterStyleFromSymbols(value, '子丑寅卯辰巳午未申酉戌亥', cjkSuffix);
          case _listStyle.LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:
            return createCounterStyleFromSymbols(value, '甲乙丙丁戊己庚辛壬癸', cjkSuffix);
          case _listStyle.LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:
          case _listStyle.LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:
            return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);
          case _listStyle.LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:
            return createCJKCounter(value, '零壹貳參肆伍陸柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '負', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);
          case _listStyle.LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:
            return createCJKCounter(value, '零一二三四五六七八九', CHINESE_INFORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);
          case _listStyle.LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:
            return createCJKCounter(value, '零壹贰叁肆伍陆柒捌玖', CHINESE_FORMAL_MULTIPLIERS, '负', cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS | CJK_HUNDRED_COEFFICIENTS);
          case _listStyle.LIST_STYLE_TYPE.JAPANESE_INFORMAL:
            return createCJKCounter(value, '〇一二三四五六七八九', '十百千万', JAPANESE_NEGATIVE, cjkSuffix, 0);
          case _listStyle.LIST_STYLE_TYPE.JAPANESE_FORMAL:
            return createCJKCounter(value, '零壱弐参四伍六七八九', '拾百千万', JAPANESE_NEGATIVE, cjkSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);
          case _listStyle.LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:
            return createCJKCounter(value, '영일이삼사오육칠팔구', '십백천만', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);
          case _listStyle.LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:
            return createCJKCounter(value, '零一二三四五六七八九', '十百千萬', KOREAN_NEGATIVE, koreanSuffix, 0);
          case _listStyle.LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:
            return createCJKCounter(value, '零壹貳參四五六七八九', '拾百千', KOREAN_NEGATIVE, koreanSuffix, CJK_ZEROS | CJK_TEN_COEFFICIENTS | CJK_TEN_HIGH_COEFFICIENTS);
          case _listStyle.LIST_STYLE_TYPE.DEVANAGARI:
            return createCounterStyleFromRange(value, 0x966, 0x96f, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.GEORGIAN:
            return createAdditiveCounter(value, 1, 19999, GEORGIAN, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.GUJARATI:
            return createCounterStyleFromRange(value, 0xae6, 0xaef, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.GURMUKHI:
            return createCounterStyleFromRange(value, 0xa66, 0xa6f, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.HEBREW:
            return createAdditiveCounter(value, 1, 10999, HEBREW, _listStyle.LIST_STYLE_TYPE.DECIMAL, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.HIRAGANA:
            return createCounterStyleFromSymbols(value, 'あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん');
          case _listStyle.LIST_STYLE_TYPE.HIRAGANA_IROHA:
            return createCounterStyleFromSymbols(value, 'いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす');
          case _listStyle.LIST_STYLE_TYPE.KANNADA:
            return createCounterStyleFromRange(value, 0xce6, 0xcef, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.KATAKANA:
            return createCounterStyleFromSymbols(value, 'アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン', cjkSuffix);
          case _listStyle.LIST_STYLE_TYPE.KATAKANA_IROHA:
            return createCounterStyleFromSymbols(value, 'イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス', cjkSuffix);
          case _listStyle.LIST_STYLE_TYPE.LAO:
            return createCounterStyleFromRange(value, 0xed0, 0xed9, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.MONGOLIAN:
            return createCounterStyleFromRange(value, 0x1810, 0x1819, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.MYANMAR:
            return createCounterStyleFromRange(value, 0x1040, 0x1049, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.ORIYA:
            return createCounterStyleFromRange(value, 0xb66, 0xb6f, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.PERSIAN:
            return createCounterStyleFromRange(value, 0x6f0, 0x6f9, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.TAMIL:
            return createCounterStyleFromRange(value, 0xbe6, 0xbef, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.TELUGU:
            return createCounterStyleFromRange(value, 0xc66, 0xc6f, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.THAI:
            return createCounterStyleFromRange(value, 0xe50, 0xe59, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.TIBETAN:
            return createCounterStyleFromRange(value, 0xf20, 0xf29, true, defaultSuffix);
          case _listStyle.LIST_STYLE_TYPE.DECIMAL:
          default:
            return createCounterStyleFromRange(value, 48, 57, true, defaultSuffix);}

      };

      /***/},
    /* 15 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _Path = __webpack_require__(6);

      var _textDecoration = __webpack_require__(11);

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var addColorStops = function addColorStops(gradient, canvasGradient) {
        var maxStop = Math.max.apply(null, gradient.colorStops.map(function (colorStop) {
          return colorStop.stop;
        }));
        var f = 1 / Math.max(1, maxStop);
        gradient.colorStops.forEach(function (colorStop) {
          canvasGradient.addColorStop(f * colorStop.stop, colorStop.color.toString());
        });
      };

      var CanvasRenderer = function () {
        function CanvasRenderer(canvas) {
          _classCallCheck(this, CanvasRenderer);

          this.canvas = canvas ? canvas : document.createElement('canvas');
        }

        _createClass(CanvasRenderer, [{
          key: 'render',
          value: function render(options) {
            this.ctx = this.canvas.getContext('2d');
            this.options = options;
            this.canvas.width = Math.floor(options.width * options.scale);
            this.canvas.height = Math.floor(options.height * options.scale);
            this.canvas.style.width = options.width + 'px';
            this.canvas.style.height = options.height + 'px';

            this.ctx.scale(this.options.scale, this.options.scale);
            this.ctx.translate(-options.x, -options.y);
            this.ctx.textBaseline = 'bottom';
            options.logger.log('Canvas renderer initialized (' + options.width + 'x' + options.height + ' at ' + options.x + ',' + options.y + ') with scale ' + this.options.scale);
          } },
        {
          key: 'clip',
          value: function clip(clipPaths, callback) {
            var _this = this;

            if (clipPaths.length) {
              this.ctx.save();
              clipPaths.forEach(function (path) {
                _this.path(path);
                _this.ctx.clip();
              });
            }

            callback();

            if (clipPaths.length) {
              this.ctx.restore();
            }
          } },
        {
          key: 'drawImage',
          value: function drawImage(image, source, destination) {
            this.ctx.drawImage(image, source.left, source.top, source.width, source.height, destination.left, destination.top, destination.width, destination.height);
          } },
        {
          key: 'drawShape',
          value: function drawShape(path, color) {
            this.path(path);
            this.ctx.fillStyle = color.toString();
            this.ctx.fill();
          } },
        {
          key: 'fill',
          value: function fill(color) {
            this.ctx.fillStyle = color.toString();
            this.ctx.fill();
          } },
        {
          key: 'getTarget',
          value: function getTarget() {
            this.canvas.getContext('2d').setTransform(1, 0, 0, 1, 0, 0);
            return Promise.resolve(this.canvas);
          } },
        {
          key: 'path',
          value: function path(_path) {
            var _this2 = this;

            this.ctx.beginPath();
            if (Array.isArray(_path)) {
              _path.forEach(function (point, index) {
                var start = point.type === _Path.PATH.VECTOR ? point : point.start;
                if (index === 0) {
                  _this2.ctx.moveTo(start.x, start.y);
                } else {
                  _this2.ctx.lineTo(start.x, start.y);
                }

                if (point.type === _Path.PATH.BEZIER_CURVE) {
                  _this2.ctx.bezierCurveTo(point.startControl.x, point.startControl.y, point.endControl.x, point.endControl.y, point.end.x, point.end.y);
                }
              });
            } else {
              this.ctx.arc(_path.x + _path.radius, _path.y + _path.radius, _path.radius, 0, Math.PI * 2, true);
            }

            this.ctx.closePath();
          } },
        {
          key: 'rectangle',
          value: function rectangle(x, y, width, height, color) {
            this.ctx.fillStyle = color.toString();
            this.ctx.fillRect(x, y, width, height);
          } },
        {
          key: 'renderLinearGradient',
          value: function renderLinearGradient(bounds, gradient) {
            var linearGradient = this.ctx.createLinearGradient(bounds.left + gradient.direction.x1, bounds.top + gradient.direction.y1, bounds.left + gradient.direction.x0, bounds.top + gradient.direction.y0);

            addColorStops(gradient, linearGradient);
            this.ctx.fillStyle = linearGradient;
            this.ctx.fillRect(bounds.left, bounds.top, bounds.width, bounds.height);
          } },
        {
          key: 'renderRadialGradient',
          value: function renderRadialGradient(bounds, gradient) {
            var _this3 = this;

            var x = bounds.left + gradient.center.x;
            var y = bounds.top + gradient.center.y;

            var radialGradient = this.ctx.createRadialGradient(x, y, 0, x, y, gradient.radius.x);
            if (!radialGradient) {
              return;
            }

            addColorStops(gradient, radialGradient);
            this.ctx.fillStyle = radialGradient;

            if (gradient.radius.x !== gradient.radius.y) {
              // transforms for elliptical radial gradient
              var midX = bounds.left + 0.5 * bounds.width;
              var midY = bounds.top + 0.5 * bounds.height;
              var f = gradient.radius.y / gradient.radius.x;
              var invF = 1 / f;

              this.transform(midX, midY, [1, 0, 0, f, 0, 0], function () {
                return _this3.ctx.fillRect(bounds.left, invF * (bounds.top - midY) + midY, bounds.width, bounds.height * invF);
              });
            } else {
              this.ctx.fillRect(bounds.left, bounds.top, bounds.width, bounds.height);
            }
          } },
        {
          key: 'renderRepeat',
          value: function renderRepeat(path, image, imageSize, offsetX, offsetY) {
            this.path(path);
            this.ctx.fillStyle = this.ctx.createPattern(this.resizeImage(image, imageSize), 'repeat');
            this.ctx.translate(offsetX, offsetY);
            this.ctx.fill();
            this.ctx.translate(-offsetX, -offsetY);
          } },
        {
          key: 'renderTextNode',
          value: function renderTextNode(textBounds, color, font, textDecoration, textShadows) {
            var _this4 = this;

            this.ctx.font = [font.fontStyle, font.fontVariant, font.fontWeight, font.fontSize, font.fontFamily].join(' ');

            textBounds.forEach(function (text) {
              _this4.ctx.fillStyle = color.toString();
              if (textShadows && text.text.trim().length) {
                textShadows.slice(0).reverse().forEach(function (textShadow) {
                  _this4.ctx.shadowColor = textShadow.color.toString();
                  _this4.ctx.shadowOffsetX = textShadow.offsetX * _this4.options.scale;
                  _this4.ctx.shadowOffsetY = textShadow.offsetY * _this4.options.scale;
                  _this4.ctx.shadowBlur = textShadow.blur;

                  _this4.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);
                });
              } else {
                _this4.ctx.fillText(text.text, text.bounds.left, text.bounds.top + text.bounds.height);
              }

              if (textDecoration !== null) {
                var textDecorationColor = textDecoration.textDecorationColor || color;
                textDecoration.textDecorationLine.forEach(function (textDecorationLine) {
                  switch (textDecorationLine) {
                    case _textDecoration.TEXT_DECORATION_LINE.UNDERLINE:
                      // Draws a line at the baseline of the font
                      // TODO As some browsers display the line as more than 1px if the font-size is big,
                      // need to take that into account both in position and size
                      var _options$fontMetrics$ = _this4.options.fontMetrics.getMetrics(font),
                      baseline = _options$fontMetrics$.baseline;

                      _this4.rectangle(text.bounds.left, Math.round(text.bounds.top + baseline), text.bounds.width, 1, textDecorationColor);
                      break;
                    case _textDecoration.TEXT_DECORATION_LINE.OVERLINE:
                      _this4.rectangle(text.bounds.left, Math.round(text.bounds.top), text.bounds.width, 1, textDecorationColor);
                      break;
                    case _textDecoration.TEXT_DECORATION_LINE.LINE_THROUGH:
                      // TODO try and find exact position for line-through
                      var _options$fontMetrics$2 = _this4.options.fontMetrics.getMetrics(font),
                      middle = _options$fontMetrics$2.middle;

                      _this4.rectangle(text.bounds.left, Math.ceil(text.bounds.top + middle), text.bounds.width, 1, textDecorationColor);
                      break;}

                });
              }
            });
          } },
        {
          key: 'resizeImage',
          value: function resizeImage(image, size) {
            if (image.width === size.width && image.height === size.height) {
              return image;
            }

            var canvas = this.canvas.ownerDocument.createElement('canvas');
            canvas.width = size.width;
            canvas.height = size.height;
            var ctx = canvas.getContext('2d');
            ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height);
            return canvas;
          } },
        {
          key: 'setOpacity',
          value: function setOpacity(opacity) {
            this.ctx.globalAlpha = opacity;
          } },
        {
          key: 'transform',
          value: function transform(offsetX, offsetY, matrix, callback) {
            this.ctx.save();
            this.ctx.translate(offsetX, offsetY);
            this.ctx.transform(matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]);
            this.ctx.translate(-offsetX, -offsetY);

            callback();

            this.ctx.restore();
          } }]);


        return CanvasRenderer;
      }();

      exports.default = CanvasRenderer;

      /***/},
    /* 16 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var Logger = function () {
        function Logger(enabled, id, start) {
          _classCallCheck(this, Logger);

          this.enabled = typeof window !== 'undefined' && enabled;
          this.start = start ? start : Date.now();
          this.id = id;
        }

        _createClass(Logger, [{
          key: 'child',
          value: function child(id) {
            return new Logger(this.enabled, id, this.start);
          }

          // eslint-disable-next-line flowtype/no-weak-types
        },
        {
          key: 'log',
          value: function log() {
            if (this.enabled && window.console && window.console.log) {
              for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
                args[_key] = arguments[_key];
              }

              Function.prototype.bind.call(window.console.log, window.console).apply(window.console, [Date.now() - this.start + 'ms', this.id ? 'html2canvas (' + this.id + '):' : 'html2canvas:'].concat([].slice.call(args, 0)));
            }
          }

          // eslint-disable-next-line flowtype/no-weak-types
        },
        {
          key: 'error',
          value: function error() {
            if (this.enabled && window.console && window.console.error) {
              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
                args[_key2] = arguments[_key2];
              }

              Function.prototype.bind.call(window.console.error, window.console).apply(window.console, [Date.now() - this.start + 'ms', this.id ? 'html2canvas (' + this.id + '):' : 'html2canvas:'].concat([].slice.call(args, 0)));
            }
          } }]);


        return Logger;
      }();

      exports.default = Logger;

      /***/},
    /* 17 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.parsePadding = exports.PADDING_SIDES = undefined;

      var _Length = __webpack_require__(1);

      var _Length2 = _interopRequireDefault(_Length);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var PADDING_SIDES = exports.PADDING_SIDES = {
        TOP: 0,
        RIGHT: 1,
        BOTTOM: 2,
        LEFT: 3 };


      var SIDES = ['top', 'right', 'bottom', 'left'];

      var parsePadding = exports.parsePadding = function parsePadding(style) {
        return SIDES.map(function (side) {
          return new _Length2.default(style.getPropertyValue('padding-' + side));
        });
      };

      /***/},
    /* 18 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var OVERFLOW_WRAP = exports.OVERFLOW_WRAP = {
        NORMAL: 0,
        BREAK_WORD: 1 };


      var parseOverflowWrap = exports.parseOverflowWrap = function parseOverflowWrap(overflow) {
        switch (overflow) {
          case 'break-word':
            return OVERFLOW_WRAP.BREAK_WORD;
          case 'normal':
          default:
            return OVERFLOW_WRAP.NORMAL;}

      };

      /***/},
    /* 19 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var POSITION = exports.POSITION = {
        STATIC: 0,
        RELATIVE: 1,
        ABSOLUTE: 2,
        FIXED: 3,
        STICKY: 4 };


      var parsePosition = exports.parsePosition = function parsePosition(position) {
        switch (position) {
          case 'relative':
            return POSITION.RELATIVE;
          case 'absolute':
            return POSITION.ABSOLUTE;
          case 'fixed':
            return POSITION.FIXED;
          case 'sticky':
            return POSITION.STICKY;}


        return POSITION.STATIC;
      };

      /***/},
    /* 20 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var TEXT_TRANSFORM = exports.TEXT_TRANSFORM = {
        NONE: 0,
        LOWERCASE: 1,
        UPPERCASE: 2,
        CAPITALIZE: 3 };


      var parseTextTransform = exports.parseTextTransform = function parseTextTransform(textTransform) {
        switch (textTransform) {
          case 'uppercase':
            return TEXT_TRANSFORM.UPPERCASE;
          case 'lowercase':
            return TEXT_TRANSFORM.LOWERCASE;
          case 'capitalize':
            return TEXT_TRANSFORM.CAPITALIZE;}


        return TEXT_TRANSFORM.NONE;
      };

      /***/},
    /* 21 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.reformatInputBounds = exports.inlineSelectElement = exports.inlineTextAreaElement = exports.inlineInputElement = exports.getInputBorderRadius = exports.INPUT_BACKGROUND = exports.INPUT_BORDERS = exports.INPUT_COLOR = undefined;

      var _TextContainer = __webpack_require__(9);

      var _TextContainer2 = _interopRequireDefault(_TextContainer);

      var _background = __webpack_require__(5);

      var _border = __webpack_require__(12);

      var _Circle = __webpack_require__(50);

      var _Circle2 = _interopRequireDefault(_Circle);

      var _Vector = __webpack_require__(7);

      var _Vector2 = _interopRequireDefault(_Vector);

      var _Color = __webpack_require__(0);

      var _Color2 = _interopRequireDefault(_Color);

      var _Length = __webpack_require__(1);

      var _Length2 = _interopRequireDefault(_Length);

      var _Bounds = __webpack_require__(2);

      var _TextBounds = __webpack_require__(22);

      var _Util = __webpack_require__(4);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var INPUT_COLOR = exports.INPUT_COLOR = new _Color2.default([42, 42, 42]);
      var INPUT_BORDER_COLOR = new _Color2.default([165, 165, 165]);
      var INPUT_BACKGROUND_COLOR = new _Color2.default([222, 222, 222]);
      var INPUT_BORDER = {
        borderWidth: 1,
        borderColor: INPUT_BORDER_COLOR,
        borderStyle: _border.BORDER_STYLE.SOLID };

      var INPUT_BORDERS = exports.INPUT_BORDERS = [INPUT_BORDER, INPUT_BORDER, INPUT_BORDER, INPUT_BORDER];
      var INPUT_BACKGROUND = exports.INPUT_BACKGROUND = {
        backgroundColor: INPUT_BACKGROUND_COLOR,
        backgroundImage: [],
        backgroundClip: _background.BACKGROUND_CLIP.PADDING_BOX,
        backgroundOrigin: _background.BACKGROUND_ORIGIN.PADDING_BOX };


      var RADIO_BORDER_RADIUS = new _Length2.default('50%');
      var RADIO_BORDER_RADIUS_TUPLE = [RADIO_BORDER_RADIUS, RADIO_BORDER_RADIUS];
      var INPUT_RADIO_BORDER_RADIUS = [RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE, RADIO_BORDER_RADIUS_TUPLE];

      var CHECKBOX_BORDER_RADIUS = new _Length2.default('3px');
      var CHECKBOX_BORDER_RADIUS_TUPLE = [CHECKBOX_BORDER_RADIUS, CHECKBOX_BORDER_RADIUS];
      var INPUT_CHECKBOX_BORDER_RADIUS = [CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE, CHECKBOX_BORDER_RADIUS_TUPLE];

      var getInputBorderRadius = exports.getInputBorderRadius = function getInputBorderRadius(node) {
        return node.type === 'radio' ? INPUT_RADIO_BORDER_RADIUS : INPUT_CHECKBOX_BORDER_RADIUS;
      };

      var inlineInputElement = exports.inlineInputElement = function inlineInputElement(node, container) {
        if (node.type === 'radio' || node.type === 'checkbox') {
          if (node.checked) {
            var size = Math.min(container.bounds.width, container.bounds.height);
            container.childNodes.push(node.type === 'checkbox' ? [new _Vector2.default(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79), new _Vector2.default(container.bounds.left + size * 0.16, container.bounds.top + size * 0.5549), new _Vector2.default(container.bounds.left + size * 0.27347, container.bounds.top + size * 0.44071), new _Vector2.default(container.bounds.left + size * 0.39694, container.bounds.top + size * 0.5649), new _Vector2.default(container.bounds.left + size * 0.72983, container.bounds.top + size * 0.23), new _Vector2.default(container.bounds.left + size * 0.84, container.bounds.top + size * 0.34085), new _Vector2.default(container.bounds.left + size * 0.39363, container.bounds.top + size * 0.79)] : new _Circle2.default(container.bounds.left + size / 4, container.bounds.top + size / 4, size / 4));
          }
        } else {
          inlineFormElement(getInputValue(node), node, container, false);
        }
      };

      var inlineTextAreaElement = exports.inlineTextAreaElement = function inlineTextAreaElement(node, container) {
        inlineFormElement(node.value, node, container, true);
      };

      var inlineSelectElement = exports.inlineSelectElement = function inlineSelectElement(node, container) {
        var option = node.options[node.selectedIndex || 0];
        inlineFormElement(option ? option.text || '' : '', node, container, false);
      };

      var reformatInputBounds = exports.reformatInputBounds = function reformatInputBounds(bounds) {
        if (bounds.width > bounds.height) {
          bounds.left += (bounds.width - bounds.height) / 2;
          bounds.width = bounds.height;
        } else if (bounds.width < bounds.height) {
          bounds.top += (bounds.height - bounds.width) / 2;
          bounds.height = bounds.width;
        }
        return bounds;
      };

      var inlineFormElement = function inlineFormElement(value, node, container, allowLinebreak) {
        var body = node.ownerDocument.body;
        if (value.length > 0 && body) {
          var wrapper = node.ownerDocument.createElement('html2canvaswrapper');
          (0, _Util.copyCSSStyles)(node.ownerDocument.defaultView.getComputedStyle(node, null), wrapper);
          wrapper.style.position = 'absolute';
          wrapper.style.left = container.bounds.left + 'px';
          wrapper.style.top = container.bounds.top + 'px';
          if (!allowLinebreak) {
            wrapper.style.whiteSpace = 'nowrap';
          }
          var text = node.ownerDocument.createTextNode(value);
          wrapper.appendChild(text);
          body.appendChild(wrapper);
          container.childNodes.push(_TextContainer2.default.fromTextNode(text, container));
          body.removeChild(wrapper);
        }
      };

      var getInputValue = function getInputValue(node) {
        var value = node.type === 'password' ? new Array(node.value.length + 1).join("\u2022") : node.value;

        return value.length === 0 ? node.placeholder || '' : value;
      };

      /***/},
    /* 22 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.parseTextBounds = exports.TextBounds = undefined;

      var _Bounds = __webpack_require__(2);

      var _textDecoration = __webpack_require__(11);

      var _Feature = __webpack_require__(10);

      var _Feature2 = _interopRequireDefault(_Feature);

      var _Unicode = __webpack_require__(24);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var TextBounds = exports.TextBounds = function TextBounds(text, bounds) {
        _classCallCheck(this, TextBounds);

        this.text = text;
        this.bounds = bounds;
      };

      var parseTextBounds = exports.parseTextBounds = function parseTextBounds(value, parent, node) {
        var letterRendering = parent.style.letterSpacing !== 0;
        var textList = letterRendering ? (0, _Unicode.toCodePoints)(value).map(function (i) {
          return (0, _Unicode.fromCodePoint)(i);
        }) : (0, _Unicode.breakWords)(value, parent);
        var length = textList.length;
        var defaultView = node.parentNode ? node.parentNode.ownerDocument.defaultView : null;
        var scrollX = defaultView ? defaultView.pageXOffset : 0;
        var scrollY = defaultView ? defaultView.pageYOffset : 0;
        var textBounds = [];
        var offset = 0;
        for (var i = 0; i < length; i++) {
          var text = textList[i];
          if (parent.style.textDecoration !== _textDecoration.TEXT_DECORATION.NONE || text.trim().length > 0) {
            if (_Feature2.default.SUPPORT_RANGE_BOUNDS) {
              textBounds.push(new TextBounds(text, getRangeBounds(node, offset, text.length, scrollX, scrollY)));
            } else {
              var replacementNode = node.splitText(text.length);
              textBounds.push(new TextBounds(text, getWrapperBounds(node, scrollX, scrollY)));
              node = replacementNode;
            }
          } else if (!_Feature2.default.SUPPORT_RANGE_BOUNDS) {
            node = node.splitText(text.length);
          }
          offset += text.length;
        }
        return textBounds;
      };

      var getWrapperBounds = function getWrapperBounds(node, scrollX, scrollY) {
        var wrapper = node.ownerDocument.createElement('html2canvaswrapper');
        wrapper.appendChild(node.cloneNode(true));
        var parentNode = node.parentNode;
        if (parentNode) {
          parentNode.replaceChild(wrapper, node);
          var bounds = (0, _Bounds.parseBounds)(wrapper, scrollX, scrollY);
          if (wrapper.firstChild) {
            parentNode.replaceChild(wrapper.firstChild, wrapper);
          }
          return bounds;
        }
        return new _Bounds.Bounds(0, 0, 0, 0);
      };

      var getRangeBounds = function getRangeBounds(node, offset, length, scrollX, scrollY) {
        var range = node.ownerDocument.createRange();
        range.setStart(node, offset);
        range.setEnd(node, offset + length);
        return _Bounds.Bounds.fromClientRect(range.getBoundingClientRect(), scrollX, scrollY);
      };

      /***/},
    /* 23 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var ForeignObjectRenderer = function () {
        function ForeignObjectRenderer(element) {
          _classCallCheck(this, ForeignObjectRenderer);

          this.element = element;
        }

        _createClass(ForeignObjectRenderer, [{
          key: 'render',
          value: function render(options) {
            var _this = this;

            this.options = options;
            this.canvas = document.createElement('canvas');
            this.ctx = this.canvas.getContext('2d');
            this.canvas.width = Math.floor(options.width) * options.scale;
            this.canvas.height = Math.floor(options.height) * options.scale;
            this.canvas.style.width = options.width + 'px';
            this.canvas.style.height = options.height + 'px';

            options.logger.log('ForeignObject renderer initialized (' + options.width + 'x' + options.height + ' at ' + options.x + ',' + options.y + ') with scale ' + options.scale);
            var svg = createForeignObjectSVG(Math.max(options.windowWidth, options.width) * options.scale, Math.max(options.windowHeight, options.height) * options.scale, options.scrollX * options.scale, options.scrollY * options.scale, this.element);

            return loadSerializedSVG(svg).then(function (img) {
              if (options.backgroundColor) {
                _this.ctx.fillStyle = options.backgroundColor.toString();
                _this.ctx.fillRect(0, 0, options.width * options.scale, options.height * options.scale);
              }

              _this.ctx.drawImage(img, -options.x * options.scale, -options.y * options.scale);
              return _this.canvas;
            });
          } }]);


        return ForeignObjectRenderer;
      }();

      exports.default = ForeignObjectRenderer;
      var createForeignObjectSVG = exports.createForeignObjectSVG = function createForeignObjectSVG(width, height, x, y, node) {
        var xmlns = 'http://www.w3.org/2000/svg';
        var svg = document.createElementNS(xmlns, 'svg');
        var foreignObject = document.createElementNS(xmlns, 'foreignObject');
        svg.setAttributeNS(null, 'width', width);
        svg.setAttributeNS(null, 'height', height);

        foreignObject.setAttributeNS(null, 'width', '100%');
        foreignObject.setAttributeNS(null, 'height', '100%');
        foreignObject.setAttributeNS(null, 'x', x);
        foreignObject.setAttributeNS(null, 'y', y);
        foreignObject.setAttributeNS(null, 'externalResourcesRequired', 'true');
        svg.appendChild(foreignObject);

        foreignObject.appendChild(node);

        return svg;
      };

      var loadSerializedSVG = exports.loadSerializedSVG = function loadSerializedSVG(svg) {
        return new Promise(function (resolve, reject) {
          var img = new Image();
          img.onload = function () {
            return resolve(img);
          };
          img.onerror = reject;

          img.src = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(new XMLSerializer().serializeToString(svg));
        });
      };

      /***/},
    /* 24 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.breakWords = exports.fromCodePoint = exports.toCodePoints = undefined;

      var _cssLineBreak = __webpack_require__(46);

      Object.defineProperty(exports, 'toCodePoints', {
        enumerable: true,
        get: function get() {
          return _cssLineBreak.toCodePoints;
        } });

      Object.defineProperty(exports, 'fromCodePoint', {
        enumerable: true,
        get: function get() {
          return _cssLineBreak.fromCodePoint;
        } });


      var _NodeContainer = __webpack_require__(3);

      var _NodeContainer2 = _interopRequireDefault(_NodeContainer);

      var _overflowWrap = __webpack_require__(18);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var breakWords = exports.breakWords = function breakWords(str, parent) {
        var breaker = (0, _cssLineBreak.LineBreaker)(str, {
          lineBreak: parent.style.lineBreak,
          wordBreak: parent.style.overflowWrap === _overflowWrap.OVERFLOW_WRAP.BREAK_WORD ? 'break-word' : parent.style.wordBreak });


        var words = [];
        var bk = void 0;

        while (!(bk = breaker.next()).done) {
          words.push(bk.value.slice());
        }

        return words;
      };

      /***/},
    /* 25 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.FontMetrics = undefined;

      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _Util = __webpack_require__(4);

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var SAMPLE_TEXT = 'Hidden Text';

      var FontMetrics = exports.FontMetrics = function () {
        function FontMetrics(document) {
          _classCallCheck(this, FontMetrics);

          this._data = {};
          this._document = document;
        }

        _createClass(FontMetrics, [{
          key: '_parseMetrics',
          value: function _parseMetrics(font) {
            var container = this._document.createElement('div');
            var img = this._document.createElement('img');
            var span = this._document.createElement('span');

            var body = this._document.body;
            if (!body) {
              throw new Error(true ? 'No document found for font metrics' : undefined);
            }

            container.style.visibility = 'hidden';
            container.style.fontFamily = font.fontFamily;
            container.style.fontSize = font.fontSize;
            container.style.margin = '0';
            container.style.padding = '0';

            body.appendChild(container);

            img.src = _Util.SMALL_IMAGE;
            img.width = 1;
            img.height = 1;

            img.style.margin = '0';
            img.style.padding = '0';
            img.style.verticalAlign = 'baseline';

            span.style.fontFamily = font.fontFamily;
            span.style.fontSize = font.fontSize;
            span.style.margin = '0';
            span.style.padding = '0';

            span.appendChild(this._document.createTextNode(SAMPLE_TEXT));
            container.appendChild(span);
            container.appendChild(img);
            var baseline = img.offsetTop - span.offsetTop + 2;

            container.removeChild(span);
            container.appendChild(this._document.createTextNode(SAMPLE_TEXT));

            container.style.lineHeight = 'normal';
            img.style.verticalAlign = 'super';

            var middle = img.offsetTop - container.offsetTop + 2;

            body.removeChild(container);

            return { baseline: baseline, middle: middle };
          } },
        {
          key: 'getMetrics',
          value: function getMetrics(font) {
            var key = font.fontFamily + ' ' + font.fontSize;
            if (this._data[key] === undefined) {
              this._data[key] = this._parseMetrics(font);
            }

            return this._data[key];
          } }]);


        return FontMetrics;
      }();

      /***/},
    /* 26 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.Proxy = undefined;

      var _Feature = __webpack_require__(10);

      var _Feature2 = _interopRequireDefault(_Feature);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var Proxy = exports.Proxy = function Proxy(src, options) {
        if (!options.proxy) {
          return Promise.reject(true ? 'No proxy defined' : undefined);
        }
        var proxy = options.proxy;

        return new Promise(function (resolve, reject) {
          var responseType = _Feature2.default.SUPPORT_CORS_XHR && _Feature2.default.SUPPORT_RESPONSE_TYPE ? 'blob' : 'text';
          var xhr = _Feature2.default.SUPPORT_CORS_XHR ? new XMLHttpRequest() : new XDomainRequest();
          xhr.onload = function () {
            if (xhr instanceof XMLHttpRequest) {
              if (xhr.status === 200) {
                if (responseType === 'text') {
                  resolve(xhr.response);
                } else {
                  var reader = new FileReader();
                  // $FlowFixMe
                  reader.addEventListener('load', function () {
                    return resolve(reader.result);
                  }, false);
                  // $FlowFixMe
                  reader.addEventListener('error', function (e) {
                    return reject(e);
                  }, false);
                  reader.readAsDataURL(xhr.response);
                }
              } else {
                reject(true ? 'Failed to proxy resource ' + src.substring(0, 256) + ' with status code ' + xhr.status : undefined);
              }
            } else {
              resolve(xhr.responseText);
            }
          };

          xhr.onerror = reject;
          xhr.open('GET', proxy + '?url=' + encodeURIComponent(src) + '&responseType=' + responseType);

          if (responseType !== 'text' && xhr instanceof XMLHttpRequest) {
            xhr.responseType = responseType;
          }

          if (options.imageTimeout) {
            var timeout = options.imageTimeout;
            xhr.timeout = timeout;
            xhr.ontimeout = function () {
              return reject(true ? 'Timed out (' + timeout + 'ms) proxying ' + src.substring(0, 256) : undefined);
            };
          }

          xhr.send();
        });
      };

      /***/},
    /* 27 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      var _extends = Object.assign || function (target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i];for (var key in source) {if (Object.prototype.hasOwnProperty.call(source, key)) {target[key] = source[key];}}}return target;};

      var _CanvasRenderer = __webpack_require__(15);

      var _CanvasRenderer2 = _interopRequireDefault(_CanvasRenderer);

      var _Logger = __webpack_require__(16);

      var _Logger2 = _interopRequireDefault(_Logger);

      var _Window = __webpack_require__(28);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var html2canvas = function html2canvas(element, conf) {
        var config = conf || {};
        var logger = new _Logger2.default(typeof config.logging === 'boolean' ? config.logging : true);
        logger.log('html2canvas ' + "1.0.0-alpha.12");

        if (true && typeof config.onrendered === 'function') {
          logger.error('onrendered option is deprecated, html2canvas returns a Promise with the canvas as the value');
        }

        var ownerDocument = element.ownerDocument;
        if (!ownerDocument) {
          return Promise.reject('Provided element is not within a Document');
        }
        var defaultView = ownerDocument.defaultView;

        var defaultOptions = {
          async: true,
          allowTaint: false,
          backgroundColor: '#ffffff',
          imageTimeout: 15000,
          logging: true,
          proxy: null,
          removeContainer: true,
          foreignObjectRendering: false,
          scale: defaultView.devicePixelRatio || 1,
          target: new _CanvasRenderer2.default(config.canvas),
          useCORS: false,
          windowWidth: defaultView.innerWidth,
          windowHeight: defaultView.innerHeight,
          scrollX: defaultView.pageXOffset,
          scrollY: defaultView.pageYOffset };


        var result = (0, _Window.renderElement)(element, _extends({}, defaultOptions, config), logger);

        if (true) {
          return result.catch(function (e) {
            logger.error(e);
            throw e;
          });
        }
        return result;
      };

      html2canvas.CanvasRenderer = _CanvasRenderer2.default;

      module.exports = html2canvas;

      /***/},
    /* 28 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.renderElement = undefined;

      var _slicedToArray = function () {function sliceIterator(arr, i) {var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i && _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n && _i["return"]) _i["return"]();} finally {if (_d) throw _e;}}return _arr;}return function (arr, i) {if (Array.isArray(arr)) {return arr;} else if (Symbol.iterator in Object(arr)) {return sliceIterator(arr, i);} else {throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();

      var _Logger = __webpack_require__(16);

      var _Logger2 = _interopRequireDefault(_Logger);

      var _NodeParser = __webpack_require__(29);

      var _Renderer = __webpack_require__(51);

      var _Renderer2 = _interopRequireDefault(_Renderer);

      var _ForeignObjectRenderer = __webpack_require__(23);

      var _ForeignObjectRenderer2 = _interopRequireDefault(_ForeignObjectRenderer);

      var _Feature = __webpack_require__(10);

      var _Feature2 = _interopRequireDefault(_Feature);

      var _Bounds = __webpack_require__(2);

      var _Clone = __webpack_require__(54);

      var _Font = __webpack_require__(25);

      var _Color = __webpack_require__(0);

      var _Color2 = _interopRequireDefault(_Color);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var renderElement = exports.renderElement = function renderElement(element, options, logger) {
        var ownerDocument = element.ownerDocument;

        var windowBounds = new _Bounds.Bounds(options.scrollX, options.scrollY, options.windowWidth, options.windowHeight);

        // http://www.w3.org/TR/css3-background/#special-backgrounds
        var documentBackgroundColor = ownerDocument.documentElement ? new _Color2.default(getComputedStyle(ownerDocument.documentElement).backgroundColor) : _Color.TRANSPARENT;
        var bodyBackgroundColor = ownerDocument.body ? new _Color2.default(getComputedStyle(ownerDocument.body).backgroundColor) : _Color.TRANSPARENT;

        var backgroundColor = element === ownerDocument.documentElement ? documentBackgroundColor.isTransparent() ? bodyBackgroundColor.isTransparent() ? options.backgroundColor ? new _Color2.default(options.backgroundColor) : null : bodyBackgroundColor : documentBackgroundColor : options.backgroundColor ? new _Color2.default(options.backgroundColor) : null;

        return (options.foreignObjectRendering ? // $FlowFixMe
        _Feature2.default.SUPPORT_FOREIGNOBJECT_DRAWING : Promise.resolve(false)).then(function (supportForeignObject) {
          return supportForeignObject ? function (cloner) {
            if (true) {
              logger.log('Document cloned, using foreignObject rendering');
            }

            return cloner.inlineFonts(ownerDocument).then(function () {
              return cloner.resourceLoader.ready();
            }).then(function () {
              var renderer = new _ForeignObjectRenderer2.default(cloner.documentElement);

              var defaultView = ownerDocument.defaultView;
              var scrollX = defaultView.pageXOffset;
              var scrollY = defaultView.pageYOffset;

              var isDocument = element.tagName === 'HTML' || element.tagName === 'BODY';

              var _ref = isDocument ? (0, _Bounds.parseDocumentSize)(ownerDocument) : (0, _Bounds.parseBounds)(element, scrollX, scrollY),
              width = _ref.width,
              height = _ref.height,
              left = _ref.left,
              top = _ref.top;

              return renderer.render({
                backgroundColor: backgroundColor,
                logger: logger,
                scale: options.scale,
                x: typeof options.x === 'number' ? options.x : left,
                y: typeof options.y === 'number' ? options.y : top,
                width: typeof options.width === 'number' ? options.width : Math.ceil(width),
                height: typeof options.height === 'number' ? options.height : Math.ceil(height),
                windowWidth: options.windowWidth,
                windowHeight: options.windowHeight,
                scrollX: options.scrollX,
                scrollY: options.scrollY });

            });
          }(new _Clone.DocumentCloner(element, options, logger, true, renderElement)) : (0, _Clone.cloneWindow)(ownerDocument, windowBounds, element, options, logger, renderElement).then(function (_ref2) {
            var _ref3 = _slicedToArray(_ref2, 3),
            container = _ref3[0],
            clonedElement = _ref3[1],
            resourceLoader = _ref3[2];

            if (true) {
              logger.log('Document cloned, using computed rendering');
            }

            var stack = (0, _NodeParser.NodeParser)(clonedElement, resourceLoader, logger);
            var clonedDocument = clonedElement.ownerDocument;

            if (backgroundColor === stack.container.style.background.backgroundColor) {
              stack.container.style.background.backgroundColor = _Color.TRANSPARENT;
            }

            return resourceLoader.ready().then(function (imageStore) {
              var fontMetrics = new _Font.FontMetrics(clonedDocument);
              if (true) {
                logger.log('Starting renderer');
              }

              var defaultView = clonedDocument.defaultView;
              var scrollX = defaultView.pageXOffset;
              var scrollY = defaultView.pageYOffset;

              var isDocument = clonedElement.tagName === 'HTML' || clonedElement.tagName === 'BODY';

              var _ref4 = isDocument ? (0, _Bounds.parseDocumentSize)(ownerDocument) : (0, _Bounds.parseBounds)(clonedElement, scrollX, scrollY),
              width = _ref4.width,
              height = _ref4.height,
              left = _ref4.left,
              top = _ref4.top;

              var renderOptions = {
                backgroundColor: backgroundColor,
                fontMetrics: fontMetrics,
                imageStore: imageStore,
                logger: logger,
                scale: options.scale,
                x: typeof options.x === 'number' ? options.x : left,
                y: typeof options.y === 'number' ? options.y : top,
                width: typeof options.width === 'number' ? options.width : Math.ceil(width),
                height: typeof options.height === 'number' ? options.height : Math.ceil(height) };


              if (Array.isArray(options.target)) {
                return Promise.all(options.target.map(function (target) {
                  var renderer = new _Renderer2.default(target, renderOptions);
                  return renderer.render(stack);
                }));
              } else {
                var renderer = new _Renderer2.default(options.target, renderOptions);
                var canvas = renderer.render(stack);
                if (options.removeContainer === true) {
                  if (container.parentNode) {
                    container.parentNode.removeChild(container);
                  } else if (true) {
                    logger.log('Cannot detach cloned iframe as it is not in the DOM anymore');
                  }
                }

                return canvas;
              }
            });
          });
        });
      };

      /***/},
    /* 29 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.NodeParser = undefined;

      var _StackingContext = __webpack_require__(30);

      var _StackingContext2 = _interopRequireDefault(_StackingContext);

      var _NodeContainer = __webpack_require__(3);

      var _NodeContainer2 = _interopRequireDefault(_NodeContainer);

      var _TextContainer = __webpack_require__(9);

      var _TextContainer2 = _interopRequireDefault(_TextContainer);

      var _Input = __webpack_require__(21);

      var _ListItem = __webpack_require__(14);

      var _listStyle = __webpack_require__(8);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var NodeParser = exports.NodeParser = function NodeParser(node, resourceLoader, logger) {
        if (true) {
          logger.log('Starting node parsing');
        }

        var index = 0;

        var container = new _NodeContainer2.default(node, null, resourceLoader, index++);
        var stack = new _StackingContext2.default(container, null, true);

        parseNodeTree(node, container, stack, resourceLoader, index);

        if (true) {
          logger.log('Finished parsing node tree');
        }

        return stack;
      };

      var IGNORED_NODE_NAMES = ['SCRIPT', 'HEAD', 'TITLE', 'OBJECT', 'BR', 'OPTION'];

      var parseNodeTree = function parseNodeTree(node, parent, stack, resourceLoader, index) {
        if (true && index > 50000) {
          throw new Error('Recursion error while parsing node tree');
        }

        for (var childNode = node.firstChild, nextNode; childNode; childNode = nextNode) {
          nextNode = childNode.nextSibling;
          var defaultView = childNode.ownerDocument.defaultView;
          if (childNode instanceof defaultView.Text || childNode instanceof Text || defaultView.parent && childNode instanceof defaultView.parent.Text) {
            if (childNode.data.trim().length > 0) {
              parent.childNodes.push(_TextContainer2.default.fromTextNode(childNode, parent));
            }
          } else if (childNode instanceof defaultView.HTMLElement || childNode instanceof HTMLElement || defaultView.parent && childNode instanceof defaultView.parent.HTMLElement) {
            if (IGNORED_NODE_NAMES.indexOf(childNode.nodeName) === -1) {
              var container = new _NodeContainer2.default(childNode, parent, resourceLoader, index++);
              if (container.isVisible()) {
                if (childNode.tagName === 'INPUT') {
                  // $FlowFixMe
                  (0, _Input.inlineInputElement)(childNode, container);
                } else if (childNode.tagName === 'TEXTAREA') {
                  // $FlowFixMe
                  (0, _Input.inlineTextAreaElement)(childNode, container);
                } else if (childNode.tagName === 'SELECT') {
                  // $FlowFixMe
                  (0, _Input.inlineSelectElement)(childNode, container);
                } else if (container.style.listStyle && container.style.listStyle.listStyleType !== _listStyle.LIST_STYLE_TYPE.NONE) {
                  (0, _ListItem.inlineListItemElement)(childNode, container, resourceLoader);
                }

                var SHOULD_TRAVERSE_CHILDREN = childNode.tagName !== 'TEXTAREA';
                var treatAsRealStackingContext = createsRealStackingContext(container, childNode);
                if (treatAsRealStackingContext || createsStackingContext(container)) {
                  // for treatAsRealStackingContext:false, any positioned descendants and descendants
                  // which actually create a new stacking context should be considered part of the parent stacking context
                  var parentStack = treatAsRealStackingContext || container.isPositioned() ? stack.getRealParentStackingContext() : stack;
                  var childStack = new _StackingContext2.default(container, parentStack, treatAsRealStackingContext);
                  parentStack.contexts.push(childStack);
                  if (SHOULD_TRAVERSE_CHILDREN) {
                    parseNodeTree(childNode, container, childStack, resourceLoader, index);
                  }
                } else {
                  stack.children.push(container);
                  if (SHOULD_TRAVERSE_CHILDREN) {
                    parseNodeTree(childNode, container, stack, resourceLoader, index);
                  }
                }
              }
            }
          } else if (childNode instanceof defaultView.SVGSVGElement || childNode instanceof SVGSVGElement || defaultView.parent && childNode instanceof defaultView.parent.SVGSVGElement) {
            var _container = new _NodeContainer2.default(childNode, parent, resourceLoader, index++);
            var _treatAsRealStackingContext = createsRealStackingContext(_container, childNode);
            if (_treatAsRealStackingContext || createsStackingContext(_container)) {
              // for treatAsRealStackingContext:false, any positioned descendants and descendants
              // which actually create a new stacking context should be considered part of the parent stacking context
              var _parentStack = _treatAsRealStackingContext || _container.isPositioned() ? stack.getRealParentStackingContext() : stack;
              var _childStack = new _StackingContext2.default(_container, _parentStack, _treatAsRealStackingContext);
              _parentStack.contexts.push(_childStack);
            } else {
              stack.children.push(_container);
            }
          }
        }
      };

      var createsRealStackingContext = function createsRealStackingContext(container, node) {
        return container.isRootElement() || container.isPositionedWithZIndex() || container.style.opacity < 1 || container.isTransformed() || isBodyWithTransparentRoot(container, node);
      };

      var createsStackingContext = function createsStackingContext(container) {
        return container.isPositioned() || container.isFloating();
      };

      var isBodyWithTransparentRoot = function isBodyWithTransparentRoot(container, node) {
        return node.nodeName === 'BODY' && container.parent instanceof _NodeContainer2.default && container.parent.style.background.backgroundColor.isTransparent();
      };

      /***/},
    /* 30 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _NodeContainer = __webpack_require__(3);

      var _NodeContainer2 = _interopRequireDefault(_NodeContainer);

      var _position = __webpack_require__(19);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var StackingContext = function () {
        function StackingContext(container, parent, treatAsRealStackingContext) {
          _classCallCheck(this, StackingContext);

          this.container = container;
          this.parent = parent;
          this.contexts = [];
          this.children = [];
          this.treatAsRealStackingContext = treatAsRealStackingContext;
        }

        _createClass(StackingContext, [{
          key: 'getOpacity',
          value: function getOpacity() {
            return this.parent ? this.container.style.opacity * this.parent.getOpacity() : this.container.style.opacity;
          } },
        {
          key: 'getRealParentStackingContext',
          value: function getRealParentStackingContext() {
            return !this.parent || this.treatAsRealStackingContext ? this : this.parent.getRealParentStackingContext();
          } }]);


        return StackingContext;
      }();

      exports.default = StackingContext;

      /***/},
    /* 31 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var Size = function Size(width, height) {
        _classCallCheck(this, Size);

        this.width = width;
        this.height = height;
      };

      exports.default = Size;

      /***/},
    /* 32 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _Path = __webpack_require__(6);

      var _Vector = __webpack_require__(7);

      var _Vector2 = _interopRequireDefault(_Vector);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var lerp = function lerp(a, b, t) {
        return new _Vector2.default(a.x + (b.x - a.x) * t, a.y + (b.y - a.y) * t);
      };

      var BezierCurve = function () {
        function BezierCurve(start, startControl, endControl, end) {
          _classCallCheck(this, BezierCurve);

          this.type = _Path.PATH.BEZIER_CURVE;
          this.start = start;
          this.startControl = startControl;
          this.endControl = endControl;
          this.end = end;
        }

        _createClass(BezierCurve, [{
          key: 'subdivide',
          value: function subdivide(t, firstHalf) {
            var ab = lerp(this.start, this.startControl, t);
            var bc = lerp(this.startControl, this.endControl, t);
            var cd = lerp(this.endControl, this.end, t);
            var abbc = lerp(ab, bc, t);
            var bccd = lerp(bc, cd, t);
            var dest = lerp(abbc, bccd, t);
            return firstHalf ? new BezierCurve(this.start, ab, abbc, dest) : new BezierCurve(dest, bccd, cd, this.end);
          } },
        {
          key: 'reverse',
          value: function reverse() {
            return new BezierCurve(this.end, this.endControl, this.startControl, this.start);
          } }]);


        return BezierCurve;
      }();

      exports.default = BezierCurve;

      /***/},
    /* 33 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.parseBorderRadius = undefined;

      var _slicedToArray = function () {function sliceIterator(arr, i) {var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i && _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n && _i["return"]) _i["return"]();} finally {if (_d) throw _e;}}return _arr;}return function (arr, i) {if (Array.isArray(arr)) {return arr;} else if (Symbol.iterator in Object(arr)) {return sliceIterator(arr, i);} else {throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();

      var _Length = __webpack_require__(1);

      var _Length2 = _interopRequireDefault(_Length);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var SIDES = ['top-left', 'top-right', 'bottom-right', 'bottom-left'];

      var parseBorderRadius = exports.parseBorderRadius = function parseBorderRadius(style) {
        return SIDES.map(function (side) {
          var value = style.getPropertyValue('border-' + side + '-radius');

          var _value$split$map = value.split(' ').map(_Length2.default.create),
          _value$split$map2 = _slicedToArray(_value$split$map, 2),
          horizontal = _value$split$map2[0],
          vertical = _value$split$map2[1];

          return typeof vertical === 'undefined' ? [horizontal, horizontal] : [horizontal, vertical];
        });
      };

      /***/},
    /* 34 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var DISPLAY = exports.DISPLAY = {
        NONE: 1 << 0,
        BLOCK: 1 << 1,
        INLINE: 1 << 2,
        RUN_IN: 1 << 3,
        FLOW: 1 << 4,
        FLOW_ROOT: 1 << 5,
        TABLE: 1 << 6,
        FLEX: 1 << 7,
        GRID: 1 << 8,
        RUBY: 1 << 9,
        SUBGRID: 1 << 10,
        LIST_ITEM: 1 << 11,
        TABLE_ROW_GROUP: 1 << 12,
        TABLE_HEADER_GROUP: 1 << 13,
        TABLE_FOOTER_GROUP: 1 << 14,
        TABLE_ROW: 1 << 15,
        TABLE_CELL: 1 << 16,
        TABLE_COLUMN_GROUP: 1 << 17,
        TABLE_COLUMN: 1 << 18,
        TABLE_CAPTION: 1 << 19,
        RUBY_BASE: 1 << 20,
        RUBY_TEXT: 1 << 21,
        RUBY_BASE_CONTAINER: 1 << 22,
        RUBY_TEXT_CONTAINER: 1 << 23,
        CONTENTS: 1 << 24,
        INLINE_BLOCK: 1 << 25,
        INLINE_LIST_ITEM: 1 << 26,
        INLINE_TABLE: 1 << 27,
        INLINE_FLEX: 1 << 28,
        INLINE_GRID: 1 << 29 };


      var parseDisplayValue = function parseDisplayValue(display) {
        switch (display) {
          case 'block':
            return DISPLAY.BLOCK;
          case 'inline':
            return DISPLAY.INLINE;
          case 'run-in':
            return DISPLAY.RUN_IN;
          case 'flow':
            return DISPLAY.FLOW;
          case 'flow-root':
            return DISPLAY.FLOW_ROOT;
          case 'table':
            return DISPLAY.TABLE;
          case 'flex':
            return DISPLAY.FLEX;
          case 'grid':
            return DISPLAY.GRID;
          case 'ruby':
            return DISPLAY.RUBY;
          case 'subgrid':
            return DISPLAY.SUBGRID;
          case 'list-item':
            return DISPLAY.LIST_ITEM;
          case 'table-row-group':
            return DISPLAY.TABLE_ROW_GROUP;
          case 'table-header-group':
            return DISPLAY.TABLE_HEADER_GROUP;
          case 'table-footer-group':
            return DISPLAY.TABLE_FOOTER_GROUP;
          case 'table-row':
            return DISPLAY.TABLE_ROW;
          case 'table-cell':
            return DISPLAY.TABLE_CELL;
          case 'table-column-group':
            return DISPLAY.TABLE_COLUMN_GROUP;
          case 'table-column':
            return DISPLAY.TABLE_COLUMN;
          case 'table-caption':
            return DISPLAY.TABLE_CAPTION;
          case 'ruby-base':
            return DISPLAY.RUBY_BASE;
          case 'ruby-text':
            return DISPLAY.RUBY_TEXT;
          case 'ruby-base-container':
            return DISPLAY.RUBY_BASE_CONTAINER;
          case 'ruby-text-container':
            return DISPLAY.RUBY_TEXT_CONTAINER;
          case 'contents':
            return DISPLAY.CONTENTS;
          case 'inline-block':
            return DISPLAY.INLINE_BLOCK;
          case 'inline-list-item':
            return DISPLAY.INLINE_LIST_ITEM;
          case 'inline-table':
            return DISPLAY.INLINE_TABLE;
          case 'inline-flex':
            return DISPLAY.INLINE_FLEX;
          case 'inline-grid':
            return DISPLAY.INLINE_GRID;}


        return DISPLAY.NONE;
      };

      var setDisplayBit = function setDisplayBit(bit, display) {
        return bit | parseDisplayValue(display);
      };

      var parseDisplay = exports.parseDisplay = function parseDisplay(display) {
        return display.split(' ').reduce(setDisplayBit, 0);
      };

      /***/},
    /* 35 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var FLOAT = exports.FLOAT = {
        NONE: 0,
        LEFT: 1,
        RIGHT: 2,
        INLINE_START: 3,
        INLINE_END: 4 };


      var parseCSSFloat = exports.parseCSSFloat = function parseCSSFloat(float) {
        switch (float) {
          case 'left':
            return FLOAT.LEFT;
          case 'right':
            return FLOAT.RIGHT;
          case 'inline-start':
            return FLOAT.INLINE_START;
          case 'inline-end':
            return FLOAT.INLINE_END;}

        return FLOAT.NONE;
      };

      /***/},
    /* 36 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });



      var parseFontWeight = function parseFontWeight(weight) {
        switch (weight) {
          case 'normal':
            return 400;
          case 'bold':
            return 700;}


        var value = parseInt(weight, 10);
        return isNaN(value) ? 400 : value;
      };

      var parseFont = exports.parseFont = function parseFont(style) {
        var fontFamily = style.fontFamily;
        var fontSize = style.fontSize;
        var fontStyle = style.fontStyle;
        var fontVariant = style.fontVariant;
        var fontWeight = parseFontWeight(style.fontWeight);

        return {
          fontFamily: fontFamily,
          fontSize: fontSize,
          fontStyle: fontStyle,
          fontVariant: fontVariant,
          fontWeight: fontWeight };

      };

      /***/},
    /* 37 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var parseLetterSpacing = exports.parseLetterSpacing = function parseLetterSpacing(letterSpacing) {
        if (letterSpacing === 'normal') {
          return 0;
        }
        var value = parseFloat(letterSpacing);
        return isNaN(value) ? 0 : value;
      };

      /***/},
    /* 38 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var LINE_BREAK = exports.LINE_BREAK = {
        NORMAL: 'normal',
        STRICT: 'strict' };


      var parseLineBreak = exports.parseLineBreak = function parseLineBreak(wordBreak) {
        switch (wordBreak) {
          case 'strict':
            return LINE_BREAK.STRICT;
          case 'normal':
          default:
            return LINE_BREAK.NORMAL;}

      };

      /***/},
    /* 39 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.parseMargin = undefined;

      var _Length = __webpack_require__(1);

      var _Length2 = _interopRequireDefault(_Length);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var SIDES = ['top', 'right', 'bottom', 'left'];

      var parseMargin = exports.parseMargin = function parseMargin(style) {
        return SIDES.map(function (side) {
          return new _Length2.default(style.getPropertyValue('margin-' + side));
        });
      };

      /***/},
    /* 40 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var OVERFLOW = exports.OVERFLOW = {
        VISIBLE: 0,
        HIDDEN: 1,
        SCROLL: 2,
        AUTO: 3 };


      var parseOverflow = exports.parseOverflow = function parseOverflow(overflow) {
        switch (overflow) {
          case 'hidden':
            return OVERFLOW.HIDDEN;
          case 'scroll':
            return OVERFLOW.SCROLL;
          case 'auto':
            return OVERFLOW.AUTO;
          case 'visible':
          default:
            return OVERFLOW.VISIBLE;}

      };

      /***/},
    /* 41 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.parseTextShadow = undefined;

      var _Color = __webpack_require__(0);

      var _Color2 = _interopRequireDefault(_Color);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var NUMBER = /^([+-]|\d|\.)$/i;

      var parseTextShadow = exports.parseTextShadow = function parseTextShadow(textShadow) {
        if (textShadow === 'none' || typeof textShadow !== 'string') {
          return null;
        }

        var currentValue = '';
        var isLength = false;
        var values = [];
        var shadows = [];
        var numParens = 0;
        var color = null;

        var appendValue = function appendValue() {
          if (currentValue.length) {
            if (isLength) {
              values.push(parseFloat(currentValue));
            } else {
              color = new _Color2.default(currentValue);
            }
          }
          isLength = false;
          currentValue = '';
        };

        var appendShadow = function appendShadow() {
          if (values.length && color !== null) {
            shadows.push({
              color: color,
              offsetX: values[0] || 0,
              offsetY: values[1] || 0,
              blur: values[2] || 0 });

          }
          values.splice(0, values.length);
          color = null;
        };

        for (var i = 0; i < textShadow.length; i++) {
          var c = textShadow[i];
          switch (c) {
            case '(':
              currentValue += c;
              numParens++;
              break;
            case ')':
              currentValue += c;
              numParens--;
              break;
            case ',':
              if (numParens === 0) {
                appendValue();
                appendShadow();
              } else {
                currentValue += c;
              }
              break;
            case ' ':
              if (numParens === 0) {
                appendValue();
              } else {
                currentValue += c;
              }
              break;
            default:
              if (currentValue.length === 0 && NUMBER.test(c)) {
                isLength = true;
              }
              currentValue += c;}

        }

        appendValue();
        appendShadow();

        if (shadows.length === 0) {
          return null;
        }

        return shadows;
      };

      /***/},
    /* 42 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.parseTransform = undefined;

      var _Length = __webpack_require__(1);

      var _Length2 = _interopRequireDefault(_Length);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      var toFloat = function toFloat(s) {
        return parseFloat(s.trim());
      };

      var MATRIX = /(matrix|matrix3d)\((.+)\)/;

      var parseTransform = exports.parseTransform = function parseTransform(style) {
        var transform = parseTransformMatrix(style.transform || style.webkitTransform || style.mozTransform ||
        // $FlowFixMe
        style.msTransform ||
        // $FlowFixMe
        style.oTransform);
        if (transform === null) {
          return null;
        }

        return {
          transform: transform,
          transformOrigin: parseTransformOrigin(style.transformOrigin || style.webkitTransformOrigin || style.mozTransformOrigin ||
          // $FlowFixMe
          style.msTransformOrigin ||
          // $FlowFixMe
          style.oTransformOrigin) };

      };

      // $FlowFixMe
      var parseTransformOrigin = function parseTransformOrigin(origin) {
        if (typeof origin !== 'string') {
          var v = new _Length2.default('0');
          return [v, v];
        }
        var values = origin.split(' ').map(_Length2.default.create);
        return [values[0], values[1]];
      };

      // $FlowFixMe
      var parseTransformMatrix = function parseTransformMatrix(transform) {
        if (transform === 'none' || typeof transform !== 'string') {
          return null;
        }

        var match = transform.match(MATRIX);
        if (match) {
          if (match[1] === 'matrix') {
            var matrix = match[2].split(',').map(toFloat);
            return [matrix[0], matrix[1], matrix[2], matrix[3], matrix[4], matrix[5]];
          } else {
            var matrix3d = match[2].split(',').map(toFloat);
            return [matrix3d[0], matrix3d[1], matrix3d[4], matrix3d[5], matrix3d[12], matrix3d[13]];
          }
        }
        return null;
      };

      /***/},
    /* 43 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var VISIBILITY = exports.VISIBILITY = {
        VISIBLE: 0,
        HIDDEN: 1,
        COLLAPSE: 2 };


      var parseVisibility = exports.parseVisibility = function parseVisibility(visibility) {
        switch (visibility) {
          case 'hidden':
            return VISIBILITY.HIDDEN;
          case 'collapse':
            return VISIBILITY.COLLAPSE;
          case 'visible':
          default:
            return VISIBILITY.VISIBLE;}

      };

      /***/},
    /* 44 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var WORD_BREAK = exports.WORD_BREAK = {
        NORMAL: 'normal',
        BREAK_ALL: 'break-all',
        KEEP_ALL: 'keep-all' };


      var parseWordBreak = exports.parseWordBreak = function parseWordBreak(wordBreak) {
        switch (wordBreak) {
          case 'break-all':
            return WORD_BREAK.BREAK_ALL;
          case 'keep-all':
            return WORD_BREAK.KEEP_ALL;
          case 'normal':
          default:
            return WORD_BREAK.NORMAL;}

      };

      /***/},
    /* 45 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var parseZIndex = exports.parseZIndex = function parseZIndex(zIndex) {
        var auto = zIndex === 'auto';
        return {
          auto: auto,
          order: auto ? 0 : parseInt(zIndex, 10) };

      };

      /***/},
    /* 46 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _Util = __webpack_require__(13);

      Object.defineProperty(exports, 'toCodePoints', {
        enumerable: true,
        get: function get() {
          return _Util.toCodePoints;
        } });

      Object.defineProperty(exports, 'fromCodePoint', {
        enumerable: true,
        get: function get() {
          return _Util.fromCodePoint;
        } });


      var _LineBreak = __webpack_require__(47);

      Object.defineProperty(exports, 'LineBreaker', {
        enumerable: true,
        get: function get() {
          return _LineBreak.LineBreaker;
        } });


      /***/},
    /* 47 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.LineBreaker = exports.inlineBreakOpportunities = exports.lineBreakAtIndex = exports.codePointsToCharacterClasses = exports.UnicodeTrie = exports.BREAK_ALLOWED = exports.BREAK_NOT_ALLOWED = exports.BREAK_MANDATORY = exports.classes = exports.LETTER_NUMBER_MODIFIER = undefined;

      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _slicedToArray = function () {function sliceIterator(arr, i) {var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i && _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n && _i["return"]) _i["return"]();} finally {if (_d) throw _e;}}return _arr;}return function (arr, i) {if (Array.isArray(arr)) {return arr;} else if (Symbol.iterator in Object(arr)) {return sliceIterator(arr, i);} else {throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();

      var _Trie = __webpack_require__(48);

      var _linebreakTrie = __webpack_require__(49);

      var _linebreakTrie2 = _interopRequireDefault(_linebreakTrie);

      var _Util = __webpack_require__(13);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      function _toConsumableArray(arr) {if (Array.isArray(arr)) {for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {arr2[i] = arr[i];}return arr2;} else {return Array.from(arr);}}

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var LETTER_NUMBER_MODIFIER = exports.LETTER_NUMBER_MODIFIER = 50;

      // Non-tailorable Line Breaking Classes
      var BK = 1; //  Cause a line break (after)
      var CR = 2; //  Cause a line break (after), except between CR and LF
      var LF = 3; //  Cause a line break (after)
      var CM = 4; //  Prohibit a line break between the character and the preceding character
      var NL = 5; //  Cause a line break (after)
      var SG = 6; //  Do not occur in well-formed text
      var WJ = 7; //  Prohibit line breaks before and after
      var ZW = 8; //  Provide a break opportunity
      var GL = 9; //  Prohibit line breaks before and after
      var SP = 10; // Enable indirect line breaks
      var ZWJ = 11; // Prohibit line breaks within joiner sequences
      // Break Opportunities
      var B2 = 12; //  Provide a line break opportunity before and after the character
      var BA = 13; //  Generally provide a line break opportunity after the character
      var BB = 14; //  Generally provide a line break opportunity before the character
      var HY = 15; //  Provide a line break opportunity after the character, except in numeric context
      var CB = 16; //   Provide a line break opportunity contingent on additional information
      // Characters Prohibiting Certain Breaks
      var CL = 17; //  Prohibit line breaks before
      var CP = 18; //  Prohibit line breaks before
      var EX = 19; //  Prohibit line breaks before
      var IN = 20; //  Allow only indirect line breaks between pairs
      var NS = 21; //  Allow only indirect line breaks before
      var OP = 22; //  Prohibit line breaks after
      var QU = 23; //  Act like they are both opening and closing
      // Numeric Context
      var IS = 24; //  Prevent breaks after any and before numeric
      var NU = 25; //  Form numeric expressions for line breaking purposes
      var PO = 26; //  Do not break following a numeric expression
      var PR = 27; //  Do not break in front of a numeric expression
      var SY = 28; //  Prevent a break before; and allow a break after
      // Other Characters
      var AI = 29; //  Act like AL when the resolvedEAW is N; otherwise; act as ID
      var AL = 30; //  Are alphabetic characters or symbols that are used with alphabetic characters
      var CJ = 31; //  Treat as NS or ID for strict or normal breaking.
      var EB = 32; //  Do not break from following Emoji Modifier
      var EM = 33; //  Do not break from preceding Emoji Base
      var H2 = 34; //  Form Korean syllable blocks
      var H3 = 35; //  Form Korean syllable blocks
      var HL = 36; //  Do not break around a following hyphen; otherwise act as Alphabetic
      var ID = 37; //  Break before or after; except in some numeric context
      var JL = 38; //  Form Korean syllable blocks
      var JV = 39; //  Form Korean syllable blocks
      var JT = 40; //  Form Korean syllable blocks
      var RI = 41; //  Keep pairs together. For pairs; break before and after other classes
      var SA = 42; //  Provide a line break opportunity contingent on additional, language-specific context analysis
      var XX = 43; //  Have as yet unknown line breaking behavior or unassigned code positions

      var classes = exports.classes = {
        BK: BK,
        CR: CR,
        LF: LF,
        CM: CM,
        NL: NL,
        SG: SG,
        WJ: WJ,
        ZW: ZW,
        GL: GL,
        SP: SP,
        ZWJ: ZWJ,
        B2: B2,
        BA: BA,
        BB: BB,
        HY: HY,
        CB: CB,
        CL: CL,
        CP: CP,
        EX: EX,
        IN: IN,
        NS: NS,
        OP: OP,
        QU: QU,
        IS: IS,
        NU: NU,
        PO: PO,
        PR: PR,
        SY: SY,
        AI: AI,
        AL: AL,
        CJ: CJ,
        EB: EB,
        EM: EM,
        H2: H2,
        H3: H3,
        HL: HL,
        ID: ID,
        JL: JL,
        JV: JV,
        JT: JT,
        RI: RI,
        SA: SA,
        XX: XX };


      var BREAK_MANDATORY = exports.BREAK_MANDATORY = '!';
      var BREAK_NOT_ALLOWED = exports.BREAK_NOT_ALLOWED = '×';
      var BREAK_ALLOWED = exports.BREAK_ALLOWED = '÷';
      var UnicodeTrie = exports.UnicodeTrie = (0, _Trie.createTrieFromBase64)(_linebreakTrie2.default);

      var ALPHABETICS = [AL, HL];
      var HARD_LINE_BREAKS = [BK, CR, LF, NL];
      var SPACE = [SP, ZW];
      var PREFIX_POSTFIX = [PR, PO];
      var LINE_BREAKS = HARD_LINE_BREAKS.concat(SPACE);
      var KOREAN_SYLLABLE_BLOCK = [JL, JV, JT, H2, H3];
      var HYPHEN = [HY, BA];

      var codePointsToCharacterClasses = exports.codePointsToCharacterClasses = function codePointsToCharacterClasses(codePoints) {
        var lineBreak = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'strict';

        var types = [];
        var indicies = [];
        var categories = [];
        codePoints.forEach(function (codePoint, index) {
          var classType = UnicodeTrie.get(codePoint);
          if (classType > LETTER_NUMBER_MODIFIER) {
            categories.push(true);
            classType -= LETTER_NUMBER_MODIFIER;
          } else {
            categories.push(false);
          }

          if (['normal', 'auto', 'loose'].indexOf(lineBreak) !== -1) {
            // U+2010, – U+2013, 〜 U+301C, ゠ U+30A0
            if ([0x2010, 0x2013, 0x301c, 0x30a0].indexOf(codePoint) !== -1) {
              indicies.push(index);
              return types.push(CB);
            }
          }

          if (classType === CM || classType === ZWJ) {
            // LB10 Treat any remaining combining mark or ZWJ as AL.
            if (index === 0) {
              indicies.push(index);
              return types.push(AL);
            }

            // LB9 Do not break a combining character sequence; treat it as if it has the line breaking class of
            // the base character in all of the following rules. Treat ZWJ as if it were CM.
            var prev = types[index - 1];
            if (LINE_BREAKS.indexOf(prev) === -1) {
              indicies.push(indicies[index - 1]);
              return types.push(prev);
            }
            indicies.push(index);
            return types.push(AL);
          }

          indicies.push(index);

          if (classType === CJ) {
            return types.push(lineBreak === 'strict' ? NS : ID);
          }

          if (classType === SA) {
            return types.push(AL);
          }

          if (classType === AI) {
            return types.push(AL);
          }

          // For supplementary characters, a useful default is to treat characters in the range 10000..1FFFD as AL
          // and characters in the ranges 20000..2FFFD and 30000..3FFFD as ID, until the implementation can be revised
          // to take into account the actual line breaking properties for these characters.
          if (classType === XX) {
            if (codePoint >= 0x20000 && codePoint <= 0x2fffd || codePoint >= 0x30000 && codePoint <= 0x3fffd) {
              return types.push(ID);
            } else {
              return types.push(AL);
            }
          }

          types.push(classType);
        });

        return [indicies, types, categories];
      };

      var isAdjacentWithSpaceIgnored = function isAdjacentWithSpaceIgnored(a, b, currentIndex, classTypes) {
        var current = classTypes[currentIndex];
        if (Array.isArray(a) ? a.indexOf(current) !== -1 : a === current) {
          var i = currentIndex;
          while (i <= classTypes.length) {
            i++;
            var next = classTypes[i];

            if (next === b) {
              return true;
            }

            if (next !== SP) {
              break;
            }
          }
        }

        if (current === SP) {
          var _i = currentIndex;

          while (_i > 0) {
            _i--;
            var prev = classTypes[_i];

            if (Array.isArray(a) ? a.indexOf(prev) !== -1 : a === prev) {
              var n = currentIndex;
              while (n <= classTypes.length) {
                n++;
                var _next = classTypes[n];

                if (_next === b) {
                  return true;
                }

                if (_next !== SP) {
                  break;
                }
              }
            }

            if (prev !== SP) {
              break;
            }
          }
        }
        return false;
      };

      var previousNonSpaceClassType = function previousNonSpaceClassType(currentIndex, classTypes) {
        var i = currentIndex;
        while (i >= 0) {
          var type = classTypes[i];
          if (type === SP) {
            i--;
          } else {
            return type;
          }
        }
        return 0;
      };

      var _lineBreakAtIndex = function _lineBreakAtIndex(codePoints, classTypes, indicies, index, forbiddenBreaks) {
        if (indicies[index] === 0) {
          return BREAK_NOT_ALLOWED;
        }

        var currentIndex = index - 1;
        if (Array.isArray(forbiddenBreaks) && forbiddenBreaks[currentIndex] === true) {
          return BREAK_NOT_ALLOWED;
        }

        var beforeIndex = currentIndex - 1;
        var afterIndex = currentIndex + 1;
        var current = classTypes[currentIndex];

        // LB4 Always break after hard line breaks.
        // LB5 Treat CR followed by LF, as well as CR, LF, and NL as hard line breaks.
        var before = beforeIndex >= 0 ? classTypes[beforeIndex] : 0;
        var next = classTypes[afterIndex];

        if (current === CR && next === LF) {
          return BREAK_NOT_ALLOWED;
        }

        if (HARD_LINE_BREAKS.indexOf(current) !== -1) {
          return BREAK_MANDATORY;
        }

        // LB6 Do not break before hard line breaks.
        if (HARD_LINE_BREAKS.indexOf(next) !== -1) {
          return BREAK_NOT_ALLOWED;
        }

        // LB7 Do not break before spaces or zero width space.
        if (SPACE.indexOf(next) !== -1) {
          return BREAK_NOT_ALLOWED;
        }

        // LB8 Break before any character following a zero-width space, even if one or more spaces intervene.
        if (previousNonSpaceClassType(currentIndex, classTypes) === ZW) {
          return BREAK_ALLOWED;
        }

        // LB8a Do not break between a zero width joiner and an ideograph, emoji base or emoji modifier.
        if (UnicodeTrie.get(codePoints[currentIndex]) === ZWJ && (next === ID || next === EB || next === EM)) {
          return BREAK_NOT_ALLOWED;
        }

        // LB11 Do not break before or after Word joiner and related characters.
        if (current === WJ || next === WJ) {
          return BREAK_NOT_ALLOWED;
        }

        // LB12 Do not break after NBSP and related characters.
        if (current === GL) {
          return BREAK_NOT_ALLOWED;
        }

        // LB12a Do not break before NBSP and related characters, except after spaces and hyphens.
        if ([SP, BA, HY].indexOf(current) === -1 && next === GL) {
          return BREAK_NOT_ALLOWED;
        }

        // LB13 Do not break before ‘]’ or ‘!’ or ‘;’ or ‘/’, even after spaces.
        if ([CL, CP, EX, IS, SY].indexOf(next) !== -1) {
          return BREAK_NOT_ALLOWED;
        }

        // LB14 Do not break after ‘[’, even after spaces.
        if (previousNonSpaceClassType(currentIndex, classTypes) === OP) {
          return BREAK_NOT_ALLOWED;
        }

        // LB15 Do not break within ‘”[’, even with intervening spaces.
        if (isAdjacentWithSpaceIgnored(QU, OP, currentIndex, classTypes)) {
          return BREAK_NOT_ALLOWED;
        }

        // LB16 Do not break between closing punctuation and a nonstarter (lb=NS), even with intervening spaces.
        if (isAdjacentWithSpaceIgnored([CL, CP], NS, currentIndex, classTypes)) {
          return BREAK_NOT_ALLOWED;
        }

        // LB17 Do not break within ‘——’, even with intervening spaces.
        if (isAdjacentWithSpaceIgnored(B2, B2, currentIndex, classTypes)) {
          return BREAK_NOT_ALLOWED;
        }

        // LB18 Break after spaces.
        if (current === SP) {
          return BREAK_ALLOWED;
        }

        // LB19 Do not break before or after quotation marks, such as ‘ ” ’.
        if (current === QU || next === QU) {
          return BREAK_NOT_ALLOWED;
        }

        // LB20 Break before and after unresolved CB.
        if (next === CB || current === CB) {
          return BREAK_ALLOWED;
        }

        // LB21 Do not break before hyphen-minus, other hyphens, fixed-width spaces, small kana, and other non-starters, or after acute accents.
        if ([BA, HY, NS].indexOf(next) !== -1 || current === BB) {
          return BREAK_NOT_ALLOWED;
        }

        // LB21a Don't break after Hebrew + Hyphen.
        if (before === HL && HYPHEN.indexOf(current) !== -1) {
          return BREAK_NOT_ALLOWED;
        }

        // LB21b Don’t break between Solidus and Hebrew letters.
        if (current === SY && next === HL) {
          return BREAK_NOT_ALLOWED;
        }

        // LB22 Do not break between two ellipses, or between letters, numbers or exclamations and ellipsis.
        if (next === IN && ALPHABETICS.concat(IN, EX, NU, ID, EB, EM).indexOf(current) !== -1) {
          return BREAK_NOT_ALLOWED;
        }

        // LB23 Do not break between digits and letters.
        if (ALPHABETICS.indexOf(next) !== -1 && current === NU || ALPHABETICS.indexOf(current) !== -1 && next === NU) {
          return BREAK_NOT_ALLOWED;
        }

        // LB23a Do not break between numeric prefixes and ideographs, or between ideographs and numeric postfixes.
        if (current === PR && [ID, EB, EM].indexOf(next) !== -1 || [ID, EB, EM].indexOf(current) !== -1 && next === PO) {
          return BREAK_NOT_ALLOWED;
        }

        // LB24 Do not break between numeric prefix/postfix and letters, or between letters and prefix/postfix.
        if (ALPHABETICS.indexOf(current) !== -1 && PREFIX_POSTFIX.indexOf(next) !== -1 || PREFIX_POSTFIX.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {
          return BREAK_NOT_ALLOWED;
        }

        // LB25 Do not break between the following pairs of classes relevant to numbers:
        if (
        // (PR | PO) × ( OP | HY )? NU
        [PR, PO].indexOf(current) !== -1 && (next === NU || [OP, HY].indexOf(next) !== -1 && classTypes[afterIndex + 1] === NU) ||
        // ( OP | HY ) × NU
        [OP, HY].indexOf(current) !== -1 && next === NU ||
        // NU ×	(NU | SY | IS)
        current === NU && [NU, SY, IS].indexOf(next) !== -1) {
          return BREAK_NOT_ALLOWED;
        }

        // NU (NU | SY | IS)* × (NU | SY | IS | CL | CP)
        if ([NU, SY, IS, CL, CP].indexOf(next) !== -1) {
          var prevIndex = currentIndex;
          while (prevIndex >= 0) {
            var type = classTypes[prevIndex];
            if (type === NU) {
              return BREAK_NOT_ALLOWED;
            } else if ([SY, IS].indexOf(type) !== -1) {
              prevIndex--;
            } else {
              break;
            }
          }
        }

        // NU (NU | SY | IS)* (CL | CP)? × (PO | PR))
        if ([PR, PO].indexOf(next) !== -1) {
          var _prevIndex = [CL, CP].indexOf(current) !== -1 ? beforeIndex : currentIndex;
          while (_prevIndex >= 0) {
            var _type = classTypes[_prevIndex];
            if (_type === NU) {
              return BREAK_NOT_ALLOWED;
            } else if ([SY, IS].indexOf(_type) !== -1) {
              _prevIndex--;
            } else {
              break;
            }
          }
        }

        // LB26 Do not break a Korean syllable.
        if (JL === current && [JL, JV, H2, H3].indexOf(next) !== -1 || [JV, H2].indexOf(current) !== -1 && [JV, JT].indexOf(next) !== -1 || [JT, H3].indexOf(current) !== -1 && next === JT) {
          return BREAK_NOT_ALLOWED;
        }

        // LB27 Treat a Korean Syllable Block the same as ID.
        if (KOREAN_SYLLABLE_BLOCK.indexOf(current) !== -1 && [IN, PO].indexOf(next) !== -1 || KOREAN_SYLLABLE_BLOCK.indexOf(next) !== -1 && current === PR) {
          return BREAK_NOT_ALLOWED;
        }

        // LB28 Do not break between alphabetics (“at”).
        if (ALPHABETICS.indexOf(current) !== -1 && ALPHABETICS.indexOf(next) !== -1) {
          return BREAK_NOT_ALLOWED;
        }

        // LB29 Do not break between numeric punctuation and alphabetics (“e.g.”).
        if (current === IS && ALPHABETICS.indexOf(next) !== -1) {
          return BREAK_NOT_ALLOWED;
        }

        // LB30 Do not break between letters, numbers, or ordinary symbols and opening or closing parentheses.
        if (ALPHABETICS.concat(NU).indexOf(current) !== -1 && next === OP || ALPHABETICS.concat(NU).indexOf(next) !== -1 && current === CP) {
          return BREAK_NOT_ALLOWED;
        }

        // LB30a Break between two regional indicator symbols if and only if there are an even number of regional
        // indicators preceding the position of the break.
        if (current === RI && next === RI) {
          var i = indicies[currentIndex];
          var count = 1;
          while (i > 0) {
            i--;
            if (classTypes[i] === RI) {
              count++;
            } else {
              break;
            }
          }
          if (count % 2 !== 0) {
            return BREAK_NOT_ALLOWED;
          }
        }

        // LB30b Do not break between an emoji base and an emoji modifier.
        if (current === EB && next === EM) {
          return BREAK_NOT_ALLOWED;
        }

        return BREAK_ALLOWED;
      };

      var lineBreakAtIndex = exports.lineBreakAtIndex = function lineBreakAtIndex(codePoints, index) {
        // LB2 Never break at the start of text.
        if (index === 0) {
          return BREAK_NOT_ALLOWED;
        }

        // LB3 Always break at the end of text.
        if (index >= codePoints.length) {
          return BREAK_MANDATORY;
        }

        var _codePointsToCharacte = codePointsToCharacterClasses(codePoints),
        _codePointsToCharacte2 = _slicedToArray(_codePointsToCharacte, 2),
        indicies = _codePointsToCharacte2[0],
        classTypes = _codePointsToCharacte2[1];

        return _lineBreakAtIndex(codePoints, classTypes, indicies, index);
      };

      var cssFormattedClasses = function cssFormattedClasses(codePoints, options) {
        if (!options) {
          options = { lineBreak: 'normal', wordBreak: 'normal' };
        }

        var _codePointsToCharacte3 = codePointsToCharacterClasses(codePoints, options.lineBreak),
        _codePointsToCharacte4 = _slicedToArray(_codePointsToCharacte3, 3),
        indicies = _codePointsToCharacte4[0],
        classTypes = _codePointsToCharacte4[1],
        isLetterNumber = _codePointsToCharacte4[2];

        if (options.wordBreak === 'break-all' || options.wordBreak === 'break-word') {
          classTypes = classTypes.map(function (type) {
            return [NU, AL, SA].indexOf(type) !== -1 ? ID : type;
          });
        }

        var forbiddenBreakpoints = options.wordBreak === 'keep-all' ? isLetterNumber.map(function (isLetterNumber, i) {
          return isLetterNumber && codePoints[i] >= 0x4e00 && codePoints[i] <= 0x9fff;
        }) : null;

        return [indicies, classTypes, forbiddenBreakpoints];
      };

      var inlineBreakOpportunities = exports.inlineBreakOpportunities = function inlineBreakOpportunities(str, options) {
        var codePoints = (0, _Util.toCodePoints)(str);
        var output = BREAK_NOT_ALLOWED;

        var _cssFormattedClasses = cssFormattedClasses(codePoints, options),
        _cssFormattedClasses2 = _slicedToArray(_cssFormattedClasses, 3),
        indicies = _cssFormattedClasses2[0],
        classTypes = _cssFormattedClasses2[1],
        forbiddenBreakpoints = _cssFormattedClasses2[2];

        codePoints.forEach(function (codePoint, i) {
          output += (0, _Util.fromCodePoint)(codePoint) + (i >= codePoints.length - 1 ? BREAK_MANDATORY : _lineBreakAtIndex(codePoints, classTypes, indicies, i + 1, forbiddenBreakpoints));
        });

        return output;
      };

      var Break = function () {
        function Break(codePoints, lineBreak, start, end) {
          _classCallCheck(this, Break);

          this._codePoints = codePoints;
          this.required = lineBreak === BREAK_MANDATORY;
          this.start = start;
          this.end = end;
        }

        _createClass(Break, [{
          key: 'slice',
          value: function slice() {
            return _Util.fromCodePoint.apply(undefined, _toConsumableArray(this._codePoints.slice(this.start, this.end)));
          } }]);


        return Break;
      }();

      var LineBreaker = exports.LineBreaker = function LineBreaker(str, options) {
        var codePoints = (0, _Util.toCodePoints)(str);

        var _cssFormattedClasses3 = cssFormattedClasses(codePoints, options),
        _cssFormattedClasses4 = _slicedToArray(_cssFormattedClasses3, 3),
        indicies = _cssFormattedClasses4[0],
        classTypes = _cssFormattedClasses4[1],
        forbiddenBreakpoints = _cssFormattedClasses4[2];

        var length = codePoints.length;
        var lastEnd = 0;
        var nextIndex = 0;

        return {
          next: function next() {
            if (nextIndex >= length) {
              return { done: true };
            }
            var lineBreak = BREAK_NOT_ALLOWED;
            while (nextIndex < length && (lineBreak = _lineBreakAtIndex(codePoints, classTypes, indicies, ++nextIndex, forbiddenBreakpoints)) === BREAK_NOT_ALLOWED) {}

            if (lineBreak !== BREAK_NOT_ALLOWED || nextIndex === length) {
              var value = new Break(codePoints, lineBreak, lastEnd, nextIndex);
              lastEnd = nextIndex;
              return { value: value, done: false };
            }

            return { done: true };
          } };

      };

      /***/},
    /* 48 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.Trie = exports.createTrieFromBase64 = exports.UTRIE2_INDEX_2_MASK = exports.UTRIE2_INDEX_2_BLOCK_LENGTH = exports.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = exports.UTRIE2_INDEX_1_OFFSET = exports.UTRIE2_UTF8_2B_INDEX_2_LENGTH = exports.UTRIE2_UTF8_2B_INDEX_2_OFFSET = exports.UTRIE2_INDEX_2_BMP_LENGTH = exports.UTRIE2_LSCP_INDEX_2_LENGTH = exports.UTRIE2_DATA_MASK = exports.UTRIE2_DATA_BLOCK_LENGTH = exports.UTRIE2_LSCP_INDEX_2_OFFSET = exports.UTRIE2_SHIFT_1_2 = exports.UTRIE2_INDEX_SHIFT = exports.UTRIE2_SHIFT_1 = exports.UTRIE2_SHIFT_2 = undefined;

      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _Util = __webpack_require__(13);

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      /** Shift size for getting the index-2 table offset. */
      var UTRIE2_SHIFT_2 = exports.UTRIE2_SHIFT_2 = 5;

      /** Shift size for getting the index-1 table offset. */
      var UTRIE2_SHIFT_1 = exports.UTRIE2_SHIFT_1 = 6 + 5;

      /**
                                                            * Shift size for shifting left the index array values.
                                                            * Increases possible data size with 16-bit index values at the cost
                                                            * of compactability.
                                                            * This requires data blocks to be aligned by UTRIE2_DATA_GRANULARITY.
                                                            */
      var UTRIE2_INDEX_SHIFT = exports.UTRIE2_INDEX_SHIFT = 2;

      /**
                                                                * Difference between the two shift sizes,
                                                                * for getting an index-1 offset from an index-2 offset. 6=11-5
                                                                */
      var UTRIE2_SHIFT_1_2 = exports.UTRIE2_SHIFT_1_2 = UTRIE2_SHIFT_1 - UTRIE2_SHIFT_2;

      /**
                                                                                          * The part of the index-2 table for U+D800..U+DBFF stores values for
                                                                                          * lead surrogate code _units_ not code _points_.
                                                                                          * Values for lead surrogate code _points_ are indexed with this portion of the table.
                                                                                          * Length=32=0x20=0x400>>UTRIE2_SHIFT_2. (There are 1024=0x400 lead surrogates.)
                                                                                          */
      var UTRIE2_LSCP_INDEX_2_OFFSET = exports.UTRIE2_LSCP_INDEX_2_OFFSET = 0x10000 >> UTRIE2_SHIFT_2;

      /** Number of entries in a data block. 32=0x20 */
      var UTRIE2_DATA_BLOCK_LENGTH = exports.UTRIE2_DATA_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_2;
      /** Mask for getting the lower bits for the in-data-block offset. */
      var UTRIE2_DATA_MASK = exports.UTRIE2_DATA_MASK = UTRIE2_DATA_BLOCK_LENGTH - 1;

      var UTRIE2_LSCP_INDEX_2_LENGTH = exports.UTRIE2_LSCP_INDEX_2_LENGTH = 0x400 >> UTRIE2_SHIFT_2;
      /** Count the lengths of both BMP pieces. 2080=0x820 */
      var UTRIE2_INDEX_2_BMP_LENGTH = exports.UTRIE2_INDEX_2_BMP_LENGTH = UTRIE2_LSCP_INDEX_2_OFFSET + UTRIE2_LSCP_INDEX_2_LENGTH;
      /**
                                                                                                                                    * The 2-byte UTF-8 version of the index-2 table follows at offset 2080=0x820.
                                                                                                                                    * Length 32=0x20 for lead bytes C0..DF, regardless of UTRIE2_SHIFT_2.
                                                                                                                                    */
      var UTRIE2_UTF8_2B_INDEX_2_OFFSET = exports.UTRIE2_UTF8_2B_INDEX_2_OFFSET = UTRIE2_INDEX_2_BMP_LENGTH;
      var UTRIE2_UTF8_2B_INDEX_2_LENGTH = exports.UTRIE2_UTF8_2B_INDEX_2_LENGTH = 0x800 >> 6; /* U+0800 is the first code point after 2-byte UTF-8 */
      /**
                                                                                                                                                       * The index-1 table, only used for supplementary code points, at offset 2112=0x840.
                                                                                                                                                       * Variable length, for code points up to highStart, where the last single-value range starts.
                                                                                                                                                       * Maximum length 512=0x200=0x100000>>UTRIE2_SHIFT_1.
                                                                                                                                                       * (For 0x100000 supplementary code points U+10000..U+10ffff.)
                                                                                                                                                       *
                                                                                                                                                       * The part of the index-2 table for supplementary code points starts
                                                                                                                                                       * after this index-1 table.
                                                                                                                                                       *
                                                                                                                                                       * Both the index-1 table and the following part of the index-2 table
                                                                                                                                                       * are omitted completely if there is only BMP data.
                                                                                                                                                       */
      var UTRIE2_INDEX_1_OFFSET = exports.UTRIE2_INDEX_1_OFFSET = UTRIE2_UTF8_2B_INDEX_2_OFFSET + UTRIE2_UTF8_2B_INDEX_2_LENGTH;

      /**
                                                                                                                                  * Number of index-1 entries for the BMP. 32=0x20
                                                                                                                                  * This part of the index-1 table is omitted from the serialized form.
                                                                                                                                  */
      var UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = exports.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH = 0x10000 >> UTRIE2_SHIFT_1;

      /** Number of entries in an index-2 block. 64=0x40 */
      var UTRIE2_INDEX_2_BLOCK_LENGTH = exports.UTRIE2_INDEX_2_BLOCK_LENGTH = 1 << UTRIE2_SHIFT_1_2;
      /** Mask for getting the lower bits for the in-index-2-block offset. */
      var UTRIE2_INDEX_2_MASK = exports.UTRIE2_INDEX_2_MASK = UTRIE2_INDEX_2_BLOCK_LENGTH - 1;

      var createTrieFromBase64 = exports.createTrieFromBase64 = function createTrieFromBase64(base64) {
        var buffer = (0, _Util.decode)(base64);
        var view32 = Array.isArray(buffer) ? (0, _Util.polyUint32Array)(buffer) : new Uint32Array(buffer);
        var view16 = Array.isArray(buffer) ? (0, _Util.polyUint16Array)(buffer) : new Uint16Array(buffer);
        var headerLength = 24;

        var index = view16.slice(headerLength / 2, view32[4] / 2);
        var data = view32[5] === 2 ? view16.slice((headerLength + view32[4]) / 2) : view32.slice(Math.ceil((headerLength + view32[4]) / 4));

        return new Trie(view32[0], view32[1], view32[2], view32[3], index, data);
      };

      var Trie = exports.Trie = function () {
        function Trie(initialValue, errorValue, highStart, highValueIndex, index, data) {
          _classCallCheck(this, Trie);

          this.initialValue = initialValue;
          this.errorValue = errorValue;
          this.highStart = highStart;
          this.highValueIndex = highValueIndex;
          this.index = index;
          this.data = data;
        }

        /**
           * Get the value for a code point as stored in the Trie.
           *
           * @param codePoint the code point
           * @return the value
           */


        _createClass(Trie, [{
          key: 'get',
          value: function get(codePoint) {
            var ix = void 0;
            if (codePoint >= 0) {
              if (codePoint < 0x0d800 || codePoint > 0x0dbff && codePoint <= 0x0ffff) {
                // Ordinary BMP code point, excluding leading surrogates.
                // BMP uses a single level lookup.  BMP index starts at offset 0 in the Trie2 index.
                // 16 bit data is stored in the index array itself.
                ix = this.index[codePoint >> UTRIE2_SHIFT_2];
                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);
                return this.data[ix];
              }

              if (codePoint <= 0xffff) {
                // Lead Surrogate Code Point.  A Separate index section is stored for
                // lead surrogate code units and code points.
                //   The main index has the code unit data.
                //   For this function, we need the code point data.
                // Note: this expression could be refactored for slightly improved efficiency, but
                //       surrogate code points will be so rare in practice that it's not worth it.
                ix = this.index[UTRIE2_LSCP_INDEX_2_OFFSET + (codePoint - 0xd800 >> UTRIE2_SHIFT_2)];
                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);
                return this.data[ix];
              }

              if (codePoint < this.highStart) {
                // Supplemental code point, use two-level lookup.
                ix = UTRIE2_INDEX_1_OFFSET - UTRIE2_OMITTED_BMP_INDEX_1_LENGTH + (codePoint >> UTRIE2_SHIFT_1);
                ix = this.index[ix];
                ix += codePoint >> UTRIE2_SHIFT_2 & UTRIE2_INDEX_2_MASK;
                ix = this.index[ix];
                ix = (ix << UTRIE2_INDEX_SHIFT) + (codePoint & UTRIE2_DATA_MASK);
                return this.data[ix];
              }
              if (codePoint <= 0x10ffff) {
                return this.data[this.highValueIndex];
              }
            }

            // Fall through.  The code point is outside of the legal range of 0..0x10ffff.
            return this.errorValue;
          } }]);


        return Trie;
      }();

      /***/},
    /* 49 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      module.exports = 'KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA';

      /***/},
    /* 50 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _Path = __webpack_require__(6);

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var Circle = function Circle(x, y, radius) {
        _classCallCheck(this, Circle);

        this.type = _Path.PATH.CIRCLE;
        this.x = x;
        this.y = y;
        this.radius = radius;
        if (true) {
          if (isNaN(x)) {
            console.error('Invalid x value given for Circle');
          }
          if (isNaN(y)) {
            console.error('Invalid y value given for Circle');
          }
          if (isNaN(radius)) {
            console.error('Invalid radius value given for Circle');
          }
        }
      };

      exports.default = Circle;

      /***/},
    /* 51 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });


      var _slicedToArray = function () {function sliceIterator(arr, i) {var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i && _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n && _i["return"]) _i["return"]();} finally {if (_d) throw _e;}}return _arr;}return function (arr, i) {if (Array.isArray(arr)) {return arr;} else if (Symbol.iterator in Object(arr)) {return sliceIterator(arr, i);} else {throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();

      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _Bounds = __webpack_require__(2);

      var _Font = __webpack_require__(25);

      var _Gradient = __webpack_require__(52);

      var _TextContainer = __webpack_require__(9);

      var _TextContainer2 = _interopRequireDefault(_TextContainer);

      var _background = __webpack_require__(5);

      var _border = __webpack_require__(12);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var Renderer = function () {
        function Renderer(target, options) {
          _classCallCheck(this, Renderer);

          this.target = target;
          this.options = options;
          target.render(options);
        }

        _createClass(Renderer, [{
          key: 'renderNode',
          value: function renderNode(container) {
            if (container.isVisible()) {
              this.renderNodeBackgroundAndBorders(container);
              this.renderNodeContent(container);
            }
          } },
        {
          key: 'renderNodeContent',
          value: function renderNodeContent(container) {
            var _this = this;

            var callback = function callback() {
              if (container.childNodes.length) {
                container.childNodes.forEach(function (child) {
                  if (child instanceof _TextContainer2.default) {
                    var style = child.parent.style;
                    _this.target.renderTextNode(child.bounds, style.color, style.font, style.textDecoration, style.textShadow);
                  } else {
                    _this.target.drawShape(child, container.style.color);
                  }
                });
              }

              if (container.image) {
                var _image = _this.options.imageStore.get(container.image);
                if (_image) {
                  var contentBox = (0, _Bounds.calculateContentBox)(container.bounds, container.style.padding, container.style.border);
                  var _width = typeof _image.width === 'number' && _image.width > 0 ? _image.width : contentBox.width;
                  var _height = typeof _image.height === 'number' && _image.height > 0 ? _image.height : contentBox.height;
                  if (_width > 0 && _height > 0) {
                    _this.target.clip([(0, _Bounds.calculatePaddingBoxPath)(container.curvedBounds)], function () {
                      _this.target.drawImage(_image, new _Bounds.Bounds(0, 0, _width, _height), contentBox);
                    });
                  }
                }
              }
            };
            var paths = container.getClipPaths();
            if (paths.length) {
              this.target.clip(paths, callback);
            } else {
              callback();
            }
          } },
        {
          key: 'renderNodeBackgroundAndBorders',
          value: function renderNodeBackgroundAndBorders(container) {
            var _this2 = this;

            var HAS_BACKGROUND = !container.style.background.backgroundColor.isTransparent() || container.style.background.backgroundImage.length;

            var hasRenderableBorders = container.style.border.some(function (border) {
              return border.borderStyle !== _border.BORDER_STYLE.NONE && !border.borderColor.isTransparent();
            });

            var callback = function callback() {
              var backgroundPaintingArea = (0, _background.calculateBackgroungPaintingArea)(container.curvedBounds, container.style.background.backgroundClip);

              if (HAS_BACKGROUND) {
                _this2.target.clip([backgroundPaintingArea], function () {
                  if (!container.style.background.backgroundColor.isTransparent()) {
                    _this2.target.fill(container.style.background.backgroundColor);
                  }

                  _this2.renderBackgroundImage(container);
                });
              }

              container.style.border.forEach(function (border, side) {
                if (border.borderStyle !== _border.BORDER_STYLE.NONE && !border.borderColor.isTransparent()) {
                  _this2.renderBorder(border, side, container.curvedBounds);
                }
              });
            };

            if (HAS_BACKGROUND || hasRenderableBorders) {
              var paths = container.parent ? container.parent.getClipPaths() : [];
              if (paths.length) {
                this.target.clip(paths, callback);
              } else {
                callback();
              }
            }
          } },
        {
          key: 'renderBackgroundImage',
          value: function renderBackgroundImage(container) {
            var _this3 = this;

            container.style.background.backgroundImage.slice(0).reverse().forEach(function (backgroundImage) {
              if (backgroundImage.source.method === 'url' && backgroundImage.source.args.length) {
                _this3.renderBackgroundRepeat(container, backgroundImage);
              } else if (/gradient/i.test(backgroundImage.source.method)) {
                _this3.renderBackgroundGradient(container, backgroundImage);
              }
            });
          } },
        {
          key: 'renderBackgroundRepeat',
          value: function renderBackgroundRepeat(container, background) {
            var image = this.options.imageStore.get(background.source.args[0]);
            if (image) {
              var backgroundPositioningArea = (0, _background.calculateBackgroungPositioningArea)(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);
              var backgroundImageSize = (0, _background.calculateBackgroundSize)(background, image, backgroundPositioningArea);
              var position = (0, _background.calculateBackgroundPosition)(background.position, backgroundImageSize, backgroundPositioningArea);
              var _path = (0, _background.calculateBackgroundRepeatPath)(background, position, backgroundImageSize, backgroundPositioningArea, container.bounds);

              var _offsetX = Math.round(backgroundPositioningArea.left + position.x);
              var _offsetY = Math.round(backgroundPositioningArea.top + position.y);
              this.target.renderRepeat(_path, image, backgroundImageSize, _offsetX, _offsetY);
            }
          } },
        {
          key: 'renderBackgroundGradient',
          value: function renderBackgroundGradient(container, background) {
            var backgroundPositioningArea = (0, _background.calculateBackgroungPositioningArea)(container.style.background.backgroundOrigin, container.bounds, container.style.padding, container.style.border);
            var backgroundImageSize = (0, _background.calculateGradientBackgroundSize)(background, backgroundPositioningArea);
            var position = (0, _background.calculateBackgroundPosition)(background.position, backgroundImageSize, backgroundPositioningArea);
            var gradientBounds = new _Bounds.Bounds(Math.round(backgroundPositioningArea.left + position.x), Math.round(backgroundPositioningArea.top + position.y), backgroundImageSize.width, backgroundImageSize.height);

            var gradient = (0, _Gradient.parseGradient)(container, background.source, gradientBounds);
            if (gradient) {
              switch (gradient.type) {
                case _Gradient.GRADIENT_TYPE.LINEAR_GRADIENT:
                  // $FlowFixMe
                  this.target.renderLinearGradient(gradientBounds, gradient);
                  break;
                case _Gradient.GRADIENT_TYPE.RADIAL_GRADIENT:
                  // $FlowFixMe
                  this.target.renderRadialGradient(gradientBounds, gradient);
                  break;}

            }
          } },
        {
          key: 'renderBorder',
          value: function renderBorder(border, side, curvePoints) {
            this.target.drawShape((0, _Bounds.parsePathForBorder)(curvePoints, side), border.borderColor);
          } },
        {
          key: 'renderStack',
          value: function renderStack(stack) {
            var _this4 = this;

            if (stack.container.isVisible()) {
              var _opacity = stack.getOpacity();
              if (_opacity !== this._opacity) {
                this.target.setOpacity(stack.getOpacity());
                this._opacity = _opacity;
              }

              var _transform = stack.container.style.transform;
              if (_transform !== null) {
                this.target.transform(stack.container.bounds.left + _transform.transformOrigin[0].value, stack.container.bounds.top + _transform.transformOrigin[1].value, _transform.transform, function () {
                  return _this4.renderStackContent(stack);
                });
              } else {
                this.renderStackContent(stack);
              }
            }
          } },
        {
          key: 'renderStackContent',
          value: function renderStackContent(stack) {
            var _splitStackingContext = splitStackingContexts(stack),
            _splitStackingContext2 = _slicedToArray(_splitStackingContext, 5),
            negativeZIndex = _splitStackingContext2[0],
            zeroOrAutoZIndexOrTransformedOrOpacity = _splitStackingContext2[1],
            positiveZIndex = _splitStackingContext2[2],
            nonPositionedFloats = _splitStackingContext2[3],
            nonPositionedInlineLevel = _splitStackingContext2[4];

            var _splitDescendants = splitDescendants(stack),
            _splitDescendants2 = _slicedToArray(_splitDescendants, 2),
            inlineLevel = _splitDescendants2[0],
            nonInlineLevel = _splitDescendants2[1];

            // https://www.w3.org/TR/css-position-3/#painting-order
            // 1. the background and borders of the element forming the stacking context.


            this.renderNodeBackgroundAndBorders(stack.container);
            // 2. the child stacking contexts with negative stack levels (most negative first).
            negativeZIndex.sort(sortByZIndex).forEach(this.renderStack, this);
            // 3. For all its in-flow, non-positioned, block-level descendants in tree order:
            this.renderNodeContent(stack.container);
            nonInlineLevel.forEach(this.renderNode, this);
            // 4. All non-positioned floating descendants, in tree order. For each one of these,
            // treat the element as if it created a new stacking context, but any positioned descendants and descendants
            // which actually create a new stacking context should be considered part of the parent stacking context,
            // not this new one.
            nonPositionedFloats.forEach(this.renderStack, this);
            // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.
            nonPositionedInlineLevel.forEach(this.renderStack, this);
            inlineLevel.forEach(this.renderNode, this);
            // 6. All positioned, opacity or transform descendants, in tree order that fall into the following categories:
            //  All positioned descendants with 'z-index: auto' or 'z-index: 0', in tree order.
            //  For those with 'z-index: auto', treat the element as if it created a new stacking context,
            //  but any positioned descendants and descendants which actually create a new stacking context should be
            //  considered part of the parent stacking context, not this new one. For those with 'z-index: 0',
            //  treat the stacking context generated atomically.
            //
            //  All opacity descendants with opacity less than 1
            //
            //  All transform descendants with transform other than none
            zeroOrAutoZIndexOrTransformedOrOpacity.forEach(this.renderStack, this);
            // 7. Stacking contexts formed by positioned descendants with z-indices greater than or equal to 1 in z-index
            // order (smallest first) then tree order.
            positiveZIndex.sort(sortByZIndex).forEach(this.renderStack, this);
          } },
        {
          key: 'render',
          value: function render(stack) {
            var _this5 = this;

            if (this.options.backgroundColor) {
              this.target.rectangle(this.options.x, this.options.y, this.options.width, this.options.height, this.options.backgroundColor);
            }
            this.renderStack(stack);
            var target = this.target.getTarget();
            if (true) {
              return target.then(function (output) {
                _this5.options.logger.log('Render completed');
                return output;
              });
            }
            return target;
          } }]);


        return Renderer;
      }();

      exports.default = Renderer;


      var splitDescendants = function splitDescendants(stack) {
        var inlineLevel = [];
        var nonInlineLevel = [];

        var length = stack.children.length;
        for (var i = 0; i < length; i++) {
          var child = stack.children[i];
          if (child.isInlineLevel()) {
            inlineLevel.push(child);
          } else {
            nonInlineLevel.push(child);
          }
        }
        return [inlineLevel, nonInlineLevel];
      };

      var splitStackingContexts = function splitStackingContexts(stack) {
        var negativeZIndex = [];
        var zeroOrAutoZIndexOrTransformedOrOpacity = [];
        var positiveZIndex = [];
        var nonPositionedFloats = [];
        var nonPositionedInlineLevel = [];
        var length = stack.contexts.length;
        for (var i = 0; i < length; i++) {
          var child = stack.contexts[i];
          if (child.container.isPositioned() || child.container.style.opacity < 1 || child.container.isTransformed()) {
            if (child.container.style.zIndex.order < 0) {
              negativeZIndex.push(child);
            } else if (child.container.style.zIndex.order > 0) {
              positiveZIndex.push(child);
            } else {
              zeroOrAutoZIndexOrTransformedOrOpacity.push(child);
            }
          } else {
            if (child.container.isFloating()) {
              nonPositionedFloats.push(child);
            } else {
              nonPositionedInlineLevel.push(child);
            }
          }
        }
        return [negativeZIndex, zeroOrAutoZIndexOrTransformedOrOpacity, positiveZIndex, nonPositionedFloats, nonPositionedInlineLevel];
      };

      var sortByZIndex = function sortByZIndex(a, b) {
        if (a.container.style.zIndex.order > b.container.style.zIndex.order) {
          return 1;
        } else if (a.container.style.zIndex.order < b.container.style.zIndex.order) {
          return -1;
        }

        return a.container.index > b.container.index ? 1 : -1;
      };

      /***/},
    /* 52 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.transformWebkitRadialGradientArgs = exports.parseGradient = exports.RadialGradient = exports.LinearGradient = exports.RADIAL_GRADIENT_SHAPE = exports.GRADIENT_TYPE = undefined;

      var _slicedToArray = function () {function sliceIterator(arr, i) {var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i && _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n && _i["return"]) _i["return"]();} finally {if (_d) throw _e;}}return _arr;}return function (arr, i) {if (Array.isArray(arr)) {return arr;} else if (Symbol.iterator in Object(arr)) {return sliceIterator(arr, i);} else {throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();

      var _NodeContainer = __webpack_require__(3);

      var _NodeContainer2 = _interopRequireDefault(_NodeContainer);

      var _Angle = __webpack_require__(53);

      var _Color = __webpack_require__(0);

      var _Color2 = _interopRequireDefault(_Color);

      var _Length = __webpack_require__(1);

      var _Length2 = _interopRequireDefault(_Length);

      var _Util = __webpack_require__(4);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var SIDE_OR_CORNER = /^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i;
      var PERCENTAGE_ANGLES = /^([+-]?\d*\.?\d+)% ([+-]?\d*\.?\d+)%$/i;
      var ENDS_WITH_LENGTH = /(px)|%|( 0)$/i;
      var FROM_TO_COLORSTOP = /^(from|to|color-stop)\((?:([\d.]+)(%)?,\s*)?(.+?)\)$/i;
      var RADIAL_SHAPE_DEFINITION = /^\s*(circle|ellipse)?\s*((?:([\d.]+)(px|r?em|%)\s*(?:([\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\s*(?:at\s*(?:(left|center|right)|([\d.]+)(px|r?em|%))\s+(?:(top|center|bottom)|([\d.]+)(px|r?em|%)))?(?:\s|$)/i;

      var GRADIENT_TYPE = exports.GRADIENT_TYPE = {
        LINEAR_GRADIENT: 0,
        RADIAL_GRADIENT: 1 };


      var RADIAL_GRADIENT_SHAPE = exports.RADIAL_GRADIENT_SHAPE = {
        CIRCLE: 0,
        ELLIPSE: 1 };


      var LENGTH_FOR_POSITION = {
        left: new _Length2.default('0%'),
        top: new _Length2.default('0%'),
        center: new _Length2.default('50%'),
        right: new _Length2.default('100%'),
        bottom: new _Length2.default('100%') };


      var LinearGradient = exports.LinearGradient = function LinearGradient(colorStops, direction) {
        _classCallCheck(this, LinearGradient);

        this.type = GRADIENT_TYPE.LINEAR_GRADIENT;
        this.colorStops = colorStops;
        this.direction = direction;
      };

      var RadialGradient = exports.RadialGradient = function RadialGradient(colorStops, shape, center, radius) {
        _classCallCheck(this, RadialGradient);

        this.type = GRADIENT_TYPE.RADIAL_GRADIENT;
        this.colorStops = colorStops;
        this.shape = shape;
        this.center = center;
        this.radius = radius;
      };

      var parseGradient = exports.parseGradient = function parseGradient(container, _ref, bounds) {
        var args = _ref.args,
        method = _ref.method,
        prefix = _ref.prefix;

        if (method === 'linear-gradient') {
          return parseLinearGradient(args, bounds, !!prefix);
        } else if (method === 'gradient' && args[0] === 'linear') {
          // TODO handle correct angle
          return parseLinearGradient(['to bottom'].concat(transformObsoleteColorStops(args.slice(3))), bounds, !!prefix);
        } else if (method === 'radial-gradient') {
          return parseRadialGradient(container, prefix === '-webkit-' ? transformWebkitRadialGradientArgs(args) : args, bounds);
        } else if (method === 'gradient' && args[0] === 'radial') {
          return parseRadialGradient(container, transformObsoleteColorStops(transformWebkitRadialGradientArgs(args.slice(1))), bounds);
        }
      };

      var parseColorStops = function parseColorStops(args, firstColorStopIndex, lineLength) {
        var colorStops = [];

        for (var i = firstColorStopIndex; i < args.length; i++) {
          var value = args[i];
          var HAS_LENGTH = ENDS_WITH_LENGTH.test(value);
          var lastSpaceIndex = value.lastIndexOf(' ');
          var _color = new _Color2.default(HAS_LENGTH ? value.substring(0, lastSpaceIndex) : value);
          var _stop = HAS_LENGTH ? new _Length2.default(value.substring(lastSpaceIndex + 1)) : i === firstColorStopIndex ? new _Length2.default('0%') : i === args.length - 1 ? new _Length2.default('100%') : null;
          colorStops.push({ color: _color, stop: _stop });
        }

        var absoluteValuedColorStops = colorStops.map(function (_ref2) {
          var color = _ref2.color,
          stop = _ref2.stop;

          var absoluteStop = lineLength === 0 ? 0 : stop ? stop.getAbsoluteValue(lineLength) / lineLength : null;

          return {
            color: color,
            // $FlowFixMe
            stop: absoluteStop };

        });

        var previousColorStop = absoluteValuedColorStops[0].stop;
        for (var _i = 0; _i < absoluteValuedColorStops.length; _i++) {
          if (previousColorStop !== null) {
            var _stop2 = absoluteValuedColorStops[_i].stop;
            if (_stop2 === null) {
              var n = _i;
              while (absoluteValuedColorStops[n].stop === null) {
                n++;
              }
              var steps = n - _i + 1;
              var nextColorStep = absoluteValuedColorStops[n].stop;
              var stepSize = (nextColorStep - previousColorStop) / steps;
              for (; _i < n; _i++) {
                previousColorStop = absoluteValuedColorStops[_i].stop = previousColorStop + stepSize;
              }
            } else {
              previousColorStop = _stop2;
            }
          }
        }

        return absoluteValuedColorStops;
      };

      var parseLinearGradient = function parseLinearGradient(args, bounds, hasPrefix) {
        var angle = (0, _Angle.parseAngle)(args[0]);
        var HAS_SIDE_OR_CORNER = SIDE_OR_CORNER.test(args[0]);
        var HAS_DIRECTION = HAS_SIDE_OR_CORNER || angle !== null || PERCENTAGE_ANGLES.test(args[0]);
        var direction = HAS_DIRECTION ? angle !== null ? calculateGradientDirection(
        // if there is a prefix, the 0° angle points due East (instead of North per W3C)
        hasPrefix ? angle - Math.PI * 0.5 : angle, bounds) : HAS_SIDE_OR_CORNER ? parseSideOrCorner(args[0], bounds) : parsePercentageAngle(args[0], bounds) : calculateGradientDirection(Math.PI, bounds);
        var firstColorStopIndex = HAS_DIRECTION ? 1 : 0;

        // TODO: Fix some inaccuracy with color stops with px values
        var lineLength = Math.min((0, _Util.distance)(Math.abs(direction.x0) + Math.abs(direction.x1), Math.abs(direction.y0) + Math.abs(direction.y1)), bounds.width * 2, bounds.height * 2);

        return new LinearGradient(parseColorStops(args, firstColorStopIndex, lineLength), direction);
      };

      var parseRadialGradient = function parseRadialGradient(container, args, bounds) {
        var m = args[0].match(RADIAL_SHAPE_DEFINITION);
        var shape = m && (m[1] === 'circle' || // explicit shape specification
        m[3] !== undefined && m[5] === undefined) // only one radius coordinate
        ? RADIAL_GRADIENT_SHAPE.CIRCLE : RADIAL_GRADIENT_SHAPE.ELLIPSE;
        var radius = {};
        var center = {};

        if (m) {
          // Radius
          if (m[3] !== undefined) {
            radius.x = (0, _Length.calculateLengthFromValueWithUnit)(container, m[3], m[4]).getAbsoluteValue(bounds.width);
          }

          if (m[5] !== undefined) {
            radius.y = (0, _Length.calculateLengthFromValueWithUnit)(container, m[5], m[6]).getAbsoluteValue(bounds.height);
          }

          // Position
          if (m[7]) {
            center.x = LENGTH_FOR_POSITION[m[7].toLowerCase()];
          } else if (m[8] !== undefined) {
            center.x = (0, _Length.calculateLengthFromValueWithUnit)(container, m[8], m[9]);
          }

          if (m[10]) {
            center.y = LENGTH_FOR_POSITION[m[10].toLowerCase()];
          } else if (m[11] !== undefined) {
            center.y = (0, _Length.calculateLengthFromValueWithUnit)(container, m[11], m[12]);
          }
        }

        var gradientCenter = {
          x: center.x === undefined ? bounds.width / 2 : center.x.getAbsoluteValue(bounds.width),
          y: center.y === undefined ? bounds.height / 2 : center.y.getAbsoluteValue(bounds.height) };

        var gradientRadius = calculateRadius(m && m[2] || 'farthest-corner', shape, gradientCenter, radius, bounds);

        return new RadialGradient(parseColorStops(args, m ? 1 : 0, Math.min(gradientRadius.x, gradientRadius.y)), shape, gradientCenter, gradientRadius);
      };

      var calculateGradientDirection = function calculateGradientDirection(radian, bounds) {
        var width = bounds.width;
        var height = bounds.height;
        var HALF_WIDTH = width * 0.5;
        var HALF_HEIGHT = height * 0.5;
        var lineLength = Math.abs(width * Math.sin(radian)) + Math.abs(height * Math.cos(radian));
        var HALF_LINE_LENGTH = lineLength / 2;

        var x0 = HALF_WIDTH + Math.sin(radian) * HALF_LINE_LENGTH;
        var y0 = HALF_HEIGHT - Math.cos(radian) * HALF_LINE_LENGTH;
        var x1 = width - x0;
        var y1 = height - y0;

        return { x0: x0, x1: x1, y0: y0, y1: y1 };
      };

      var parseTopRight = function parseTopRight(bounds) {
        return Math.acos(bounds.width / 2 / ((0, _Util.distance)(bounds.width, bounds.height) / 2));
      };

      var parseSideOrCorner = function parseSideOrCorner(side, bounds) {
        switch (side) {
          case 'bottom':
          case 'to top':
            return calculateGradientDirection(0, bounds);
          case 'left':
          case 'to right':
            return calculateGradientDirection(Math.PI / 2, bounds);
          case 'right':
          case 'to left':
            return calculateGradientDirection(3 * Math.PI / 2, bounds);
          case 'top right':
          case 'right top':
          case 'to bottom left':
          case 'to left bottom':
            return calculateGradientDirection(Math.PI + parseTopRight(bounds), bounds);
          case 'top left':
          case 'left top':
          case 'to bottom right':
          case 'to right bottom':
            return calculateGradientDirection(Math.PI - parseTopRight(bounds), bounds);
          case 'bottom left':
          case 'left bottom':
          case 'to top right':
          case 'to right top':
            return calculateGradientDirection(parseTopRight(bounds), bounds);
          case 'bottom right':
          case 'right bottom':
          case 'to top left':
          case 'to left top':
            return calculateGradientDirection(2 * Math.PI - parseTopRight(bounds), bounds);
          case 'top':
          case 'to bottom':
          default:
            return calculateGradientDirection(Math.PI, bounds);}

      };

      var parsePercentageAngle = function parsePercentageAngle(angle, bounds) {
        var _angle$split$map = angle.split(' ').map(parseFloat),
        _angle$split$map2 = _slicedToArray(_angle$split$map, 2),
        left = _angle$split$map2[0],
        top = _angle$split$map2[1];

        var ratio = left / 100 * bounds.width / (top / 100 * bounds.height);

        return calculateGradientDirection(Math.atan(isNaN(ratio) ? 1 : ratio) + Math.PI / 2, bounds);
      };

      var findCorner = function findCorner(bounds, x, y, closest) {
        var corners = [{ x: 0, y: 0 }, { x: 0, y: bounds.height }, { x: bounds.width, y: 0 }, { x: bounds.width, y: bounds.height }];

        // $FlowFixMe
        return corners.reduce(function (stat, corner) {
          var d = (0, _Util.distance)(x - corner.x, y - corner.y);
          if (closest ? d < stat.optimumDistance : d > stat.optimumDistance) {
            return {
              optimumCorner: corner,
              optimumDistance: d };

          }

          return stat;
        }, {
          optimumDistance: closest ? Infinity : -Infinity,
          optimumCorner: null }).
        optimumCorner;
      };

      var calculateRadius = function calculateRadius(extent, shape, center, radius, bounds) {
        var x = center.x;
        var y = center.y;
        var rx = 0;
        var ry = 0;

        switch (extent) {
          case 'closest-side':
            // The ending shape is sized so that that it exactly meets the side of the gradient box closest to the gradient’s center.
            // If the shape is an ellipse, it exactly meets the closest side in each dimension.
            if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {
              rx = ry = Math.min(Math.abs(x), Math.abs(x - bounds.width), Math.abs(y), Math.abs(y - bounds.height));
            } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {
              rx = Math.min(Math.abs(x), Math.abs(x - bounds.width));
              ry = Math.min(Math.abs(y), Math.abs(y - bounds.height));
            }
            break;

          case 'closest-corner':
            // The ending shape is sized so that that it passes through the corner of the gradient box closest to the gradient’s center.
            // If the shape is an ellipse, the ending shape is given the same aspect-ratio it would have if closest-side were specified.
            if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {
              rx = ry = Math.min((0, _Util.distance)(x, y), (0, _Util.distance)(x, y - bounds.height), (0, _Util.distance)(x - bounds.width, y), (0, _Util.distance)(x - bounds.width, y - bounds.height));
            } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {
              // Compute the ratio ry/rx (which is to be the same as for "closest-side")
              var c = Math.min(Math.abs(y), Math.abs(y - bounds.height)) / Math.min(Math.abs(x), Math.abs(x - bounds.width));
              var corner = findCorner(bounds, x, y, true);
              rx = (0, _Util.distance)(corner.x - x, (corner.y - y) / c);
              ry = c * rx;
            }
            break;

          case 'farthest-side':
            // Same as closest-side, except the ending shape is sized based on the farthest side(s)
            if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {
              rx = ry = Math.max(Math.abs(x), Math.abs(x - bounds.width), Math.abs(y), Math.abs(y - bounds.height));
            } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {
              rx = Math.max(Math.abs(x), Math.abs(x - bounds.width));
              ry = Math.max(Math.abs(y), Math.abs(y - bounds.height));
            }
            break;

          case 'farthest-corner':
            // Same as closest-corner, except the ending shape is sized based on the farthest corner.
            // If the shape is an ellipse, the ending shape is given the same aspect ratio it would have if farthest-side were specified.
            if (shape === RADIAL_GRADIENT_SHAPE.CIRCLE) {
              rx = ry = Math.max((0, _Util.distance)(x, y), (0, _Util.distance)(x, y - bounds.height), (0, _Util.distance)(x - bounds.width, y), (0, _Util.distance)(x - bounds.width, y - bounds.height));
            } else if (shape === RADIAL_GRADIENT_SHAPE.ELLIPSE) {
              // Compute the ratio ry/rx (which is to be the same as for "farthest-side")
              var _c = Math.max(Math.abs(y), Math.abs(y - bounds.height)) / Math.max(Math.abs(x), Math.abs(x - bounds.width));
              var _corner = findCorner(bounds, x, y, false);
              rx = (0, _Util.distance)(_corner.x - x, (_corner.y - y) / _c);
              ry = _c * rx;
            }
            break;

          default:
            // pixel or percentage values
            rx = radius.x || 0;
            ry = radius.y !== undefined ? radius.y : rx;
            break;}


        return {
          x: rx,
          y: ry };

      };

      var transformWebkitRadialGradientArgs = exports.transformWebkitRadialGradientArgs = function transformWebkitRadialGradientArgs(args) {
        var shape = '';
        var radius = '';
        var extent = '';
        var position = '';
        var idx = 0;

        var POSITION = /^(left|center|right|\d+(?:px|r?em|%)?)(?:\s+(top|center|bottom|\d+(?:px|r?em|%)?))?$/i;
        var SHAPE_AND_EXTENT = /^(circle|ellipse)?\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i;
        var RADIUS = /^\d+(px|r?em|%)?(?:\s+\d+(px|r?em|%)?)?$/i;

        var matchStartPosition = args[idx].match(POSITION);
        if (matchStartPosition) {
          idx++;
        }

        var matchShapeExtent = args[idx].match(SHAPE_AND_EXTENT);
        if (matchShapeExtent) {
          shape = matchShapeExtent[1] || '';
          extent = matchShapeExtent[2] || '';
          if (extent === 'contain') {
            extent = 'closest-side';
          } else if (extent === 'cover') {
            extent = 'farthest-corner';
          }
          idx++;
        }

        var matchStartRadius = args[idx].match(RADIUS);
        if (matchStartRadius) {
          idx++;
        }

        var matchEndPosition = args[idx].match(POSITION);
        if (matchEndPosition) {
          idx++;
        }

        var matchEndRadius = args[idx].match(RADIUS);
        if (matchEndRadius) {
          idx++;
        }

        var matchPosition = matchEndPosition || matchStartPosition;
        if (matchPosition && matchPosition[1]) {
          position = matchPosition[1] + (/^\d+$/.test(matchPosition[1]) ? 'px' : '');
          if (matchPosition[2]) {
            position += ' ' + matchPosition[2] + (/^\d+$/.test(matchPosition[2]) ? 'px' : '');
          }
        }

        var matchRadius = matchEndRadius || matchStartRadius;
        if (matchRadius) {
          radius = matchRadius[0];
          if (!matchRadius[1]) {
            radius += 'px';
          }
        }

        if (position && !shape && !radius && !extent) {
          radius = position;
          position = '';
        }

        if (position) {
          position = 'at ' + position;
        }

        return [[shape, extent, radius, position].filter(function (s) {
          return !!s;
        }).join(' ')].concat(args.slice(idx));
      };

      var transformObsoleteColorStops = function transformObsoleteColorStops(args) {
        return args.map(function (color) {
          return color.match(FROM_TO_COLORSTOP);
        })
        // $FlowFixMe
        .map(function (v, index) {
          if (!v) {
            return args[index];
          }

          switch (v[1]) {
            case 'from':
              return v[4] + ' 0%';
            case 'to':
              return v[4] + ' 100%';
            case 'color-stop':
              if (v[3] === '%') {
                return v[4] + ' ' + v[2];
              }
              return v[4] + ' ' + parseFloat(v[2]) * 100 + '%';}

        });
      };

      /***/},
    /* 53 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      var ANGLE = /([+-]?\d*\.?\d+)(deg|grad|rad|turn)/i;

      var parseAngle = exports.parseAngle = function parseAngle(angle) {
        var match = angle.match(ANGLE);

        if (match) {
          var value = parseFloat(match[1]);
          switch (match[2].toLowerCase()) {
            case 'deg':
              return Math.PI * value / 180;
            case 'grad':
              return Math.PI / 200 * value;
            case 'rad':
              return value;
            case 'turn':
              return Math.PI * 2 * value;}

        }

        return null;
      };

      /***/},
    /* 54 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.cloneWindow = exports.DocumentCloner = undefined;

      var _slicedToArray = function () {function sliceIterator(arr, i) {var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i && _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n && _i["return"]) _i["return"]();} finally {if (_d) throw _e;}}return _arr;}return function (arr, i) {if (Array.isArray(arr)) {return arr;} else if (Symbol.iterator in Object(arr)) {return sliceIterator(arr, i);} else {throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();

      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _Bounds = __webpack_require__(2);

      var _Proxy = __webpack_require__(26);

      var _ResourceLoader = __webpack_require__(55);

      var _ResourceLoader2 = _interopRequireDefault(_ResourceLoader);

      var _Util = __webpack_require__(4);

      var _background = __webpack_require__(5);

      var _CanvasRenderer = __webpack_require__(15);

      var _CanvasRenderer2 = _interopRequireDefault(_CanvasRenderer);

      var _PseudoNodeContent = __webpack_require__(56);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var IGNORE_ATTRIBUTE = 'data-html2canvas-ignore';

      var DocumentCloner = exports.DocumentCloner = function () {
        function DocumentCloner(element, options, logger, copyInline, renderer) {
          _classCallCheck(this, DocumentCloner);

          this.referenceElement = element;
          this.scrolledElements = [];
          this.copyStyles = copyInline;
          this.inlineImages = copyInline;
          this.logger = logger;
          this.options = options;
          this.renderer = renderer;
          this.resourceLoader = new _ResourceLoader2.default(options, logger, window);
          this.pseudoContentData = {
            counters: {},
            quoteDepth: 0 };

          // $FlowFixMe
          this.documentElement = this.cloneNode(element.ownerDocument.documentElement);
        }

        _createClass(DocumentCloner, [{
          key: 'inlineAllImages',
          value: function inlineAllImages(node) {
            var _this = this;

            if (this.inlineImages && node) {
              var style = node.style;
              Promise.all((0, _background.parseBackgroundImage)(style.backgroundImage).map(function (backgroundImage) {
                if (backgroundImage.method === 'url') {
                  return _this.resourceLoader.inlineImage(backgroundImage.args[0]).then(function (img) {
                    return img && typeof img.src === 'string' ? 'url("' + img.src + '")' : 'none';
                  }).catch(function (e) {
                    if (true) {
                      _this.logger.log('Unable to load image', e);
                    }
                  });
                }
                return Promise.resolve('' + backgroundImage.prefix + backgroundImage.method + '(' + backgroundImage.args.join(',') + ')');
              })).then(function (backgroundImages) {
                if (backgroundImages.length > 1) {
                  // TODO Multiple backgrounds somehow broken in Chrome
                  style.backgroundColor = '';
                }
                style.backgroundImage = backgroundImages.join(',');
              });

              if (node instanceof HTMLImageElement) {
                this.resourceLoader.inlineImage(node.src).then(function (img) {
                  if (img && node instanceof HTMLImageElement && node.parentNode) {
                    var parentNode = node.parentNode;
                    var clonedChild = (0, _Util.copyCSSStyles)(node.style, img.cloneNode(false));
                    parentNode.replaceChild(clonedChild, node);
                  }
                }).catch(function (e) {
                  if (true) {
                    _this.logger.log('Unable to load image', e);
                  }
                });
              }
            }
          } },
        {
          key: 'inlineFonts',
          value: function inlineFonts(document) {
            var _this2 = this;

            return Promise.all(Array.from(document.styleSheets).map(function (sheet) {
              if (sheet.href) {
                return fetch(sheet.href).then(function (res) {
                  return res.text();
                }).then(function (text) {
                  return createStyleSheetFontsFromText(text, sheet.href);
                }).catch(function (e) {
                  if (true) {
                    _this2.logger.log('Unable to load stylesheet', e);
                  }
                  return [];
                });
              }
              return getSheetFonts(sheet, document);
            })).then(function (fonts) {
              return fonts.reduce(function (acc, font) {
                return acc.concat(font);
              }, []);
            }).then(function (fonts) {
              return Promise.all(fonts.map(function (font) {
                return fetch(font.formats[0].src).then(function (response) {
                  return response.blob();
                }).then(function (blob) {
                  return new Promise(function (resolve, reject) {
                    var reader = new FileReader();
                    reader.onerror = reject;
                    reader.onload = function () {
                      // $FlowFixMe
                      var result = reader.result;
                      resolve(result);
                    };
                    reader.readAsDataURL(blob);
                  });
                }).then(function (dataUri) {
                  font.fontFace.setProperty('src', 'url("' + dataUri + '")');
                  return '@font-face {' + font.fontFace.cssText + ' ';
                });
              }));
            }).then(function (fontCss) {
              var style = document.createElement('style');
              style.textContent = fontCss.join('\n');
              _this2.documentElement.appendChild(style);
            });
          } },
        {
          key: 'createElementClone',
          value: function createElementClone(node) {
            var _this3 = this;

            if (this.copyStyles && node instanceof HTMLCanvasElement) {
              var img = node.ownerDocument.createElement('img');
              try {
                img.src = node.toDataURL();
                return img;
              } catch (e) {
                if (true) {
                  this.logger.log('Unable to clone canvas contents, canvas is tainted');
                }
              }
            }

            if (node instanceof HTMLIFrameElement) {
              var tempIframe = node.cloneNode(false);
              var iframeKey = generateIframeKey();
              tempIframe.setAttribute('data-html2canvas-internal-iframe-key', iframeKey);

              var _parseBounds = (0, _Bounds.parseBounds)(node, 0, 0),
              width = _parseBounds.width,
              height = _parseBounds.height;

              this.resourceLoader.cache[iframeKey] = getIframeDocumentElement(node, this.options).then(function (documentElement) {
                return _this3.renderer(documentElement, {
                  async: _this3.options.async,
                  allowTaint: _this3.options.allowTaint,
                  backgroundColor: '#ffffff',
                  canvas: null,
                  imageTimeout: _this3.options.imageTimeout,
                  logging: _this3.options.logging,
                  proxy: _this3.options.proxy,
                  removeContainer: _this3.options.removeContainer,
                  scale: _this3.options.scale,
                  foreignObjectRendering: _this3.options.foreignObjectRendering,
                  useCORS: _this3.options.useCORS,
                  target: new _CanvasRenderer2.default(),
                  width: width,
                  height: height,
                  x: 0,
                  y: 0,
                  windowWidth: documentElement.ownerDocument.defaultView.innerWidth,
                  windowHeight: documentElement.ownerDocument.defaultView.innerHeight,
                  scrollX: documentElement.ownerDocument.defaultView.pageXOffset,
                  scrollY: documentElement.ownerDocument.defaultView.pageYOffset },
                _this3.logger.child(iframeKey));
              }).then(function (canvas) {
                return new Promise(function (resolve, reject) {
                  var iframeCanvas = document.createElement('img');
                  iframeCanvas.onload = function () {
                    return resolve(canvas);
                  };
                  iframeCanvas.onerror = reject;
                  iframeCanvas.src = canvas.toDataURL();
                  if (tempIframe.parentNode) {
                    tempIframe.parentNode.replaceChild((0, _Util.copyCSSStyles)(node.ownerDocument.defaultView.getComputedStyle(node), iframeCanvas), tempIframe);
                  }
                });
              });
              return tempIframe;
            }

            if (node instanceof HTMLStyleElement && node.sheet && node.sheet.cssRules) {
              var css = [].slice.call(node.sheet.cssRules, 0).reduce(function (css, rule) {
                try {
                  if (rule && rule.cssText) {
                    return css + rule.cssText;
                  }
                  return css;
                } catch (err) {
                  _this3.logger.log('Unable to access cssText property', rule.name);
                  return css;
                }
              }, '');
              var style = node.cloneNode(false);
              style.textContent = css;
              return style;
            }

            return node.cloneNode(false);
          } },
        {
          key: 'cloneNode',
          value: function cloneNode(node) {
            var clone = node.nodeType === Node.TEXT_NODE ? document.createTextNode(node.nodeValue) : this.createElementClone(node);

            var window = node.ownerDocument.defaultView;
            var style = node instanceof window.HTMLElement ? window.getComputedStyle(node) : null;
            var styleBefore = node instanceof window.HTMLElement ? window.getComputedStyle(node, ':before') : null;
            var styleAfter = node instanceof window.HTMLElement ? window.getComputedStyle(node, ':after') : null;

            if (this.referenceElement === node && clone instanceof window.HTMLElement) {
              this.clonedReferenceElement = clone;
            }

            if (clone instanceof window.HTMLBodyElement) {
              createPseudoHideStyles(clone);
            }

            var counters = (0, _PseudoNodeContent.parseCounterReset)(style, this.pseudoContentData);
            var contentBefore = (0, _PseudoNodeContent.resolvePseudoContent)(node, styleBefore, this.pseudoContentData);

            for (var child = node.firstChild; child; child = child.nextSibling) {
              if (child.nodeType !== Node.ELEMENT_NODE || child.nodeName !== 'SCRIPT' &&
              // $FlowFixMe
              !child.hasAttribute(IGNORE_ATTRIBUTE) && (typeof this.options.ignoreElements !== 'function' ||
              // $FlowFixMe
              !this.options.ignoreElements(child))) {
                if (!this.copyStyles || child.nodeName !== 'STYLE') {
                  clone.appendChild(this.cloneNode(child));
                }
              }
            }

            var contentAfter = (0, _PseudoNodeContent.resolvePseudoContent)(node, styleAfter, this.pseudoContentData);
            (0, _PseudoNodeContent.popCounters)(counters, this.pseudoContentData);

            if (node instanceof window.HTMLElement && clone instanceof window.HTMLElement) {
              if (styleBefore) {
                this.inlineAllImages(inlinePseudoElement(node, clone, styleBefore, contentBefore, PSEUDO_BEFORE));
              }
              if (styleAfter) {
                this.inlineAllImages(inlinePseudoElement(node, clone, styleAfter, contentAfter, PSEUDO_AFTER));
              }
              if (style && this.copyStyles && !(node instanceof HTMLIFrameElement)) {
                (0, _Util.copyCSSStyles)(style, clone);
              }
              this.inlineAllImages(clone);
              if (node.scrollTop !== 0 || node.scrollLeft !== 0) {
                this.scrolledElements.push([clone, node.scrollLeft, node.scrollTop]);
              }
              switch (node.nodeName) {
                case 'CANVAS':
                  if (!this.copyStyles) {
                    cloneCanvasContents(node, clone);
                  }
                  break;
                case 'TEXTAREA':
                case 'SELECT':
                  clone.value = node.value;
                  break;}

            }
            return clone;
          } }]);


        return DocumentCloner;
      }();

      var getSheetFonts = function getSheetFonts(sheet, document) {
        // $FlowFixMe
        return (sheet.cssRules ? Array.from(sheet.cssRules) : []).filter(function (rule) {
          return rule.type === CSSRule.FONT_FACE_RULE;
        }).map(function (rule) {
          var src = (0, _background.parseBackgroundImage)(rule.style.getPropertyValue('src'));
          var formats = [];
          for (var i = 0; i < src.length; i++) {
            if (src[i].method === 'url' && src[i + 1] && src[i + 1].method === 'format') {
              var a = document.createElement('a');
              a.href = src[i].args[0];
              if (document.body) {
                document.body.appendChild(a);
              }

              var font = {
                src: a.href,
                format: src[i + 1].args[0] };

              formats.push(font);
            }
          }

          return {
            // TODO select correct format for browser),

            formats: formats.filter(function (font) {
              return /^woff/i.test(font.format);

            }),
            fontFace: rule.style };

        }).filter(function (font) {
          return font.formats.length;
        });
      };

      var createStyleSheetFontsFromText = function createStyleSheetFontsFromText(text, baseHref) {
        var doc = document.implementation.createHTMLDocument('');
        var base = document.createElement('base');
        // $FlowFixMe
        base.href = baseHref;
        var style = document.createElement('style');

        style.textContent = text;
        if (doc.head) {
          doc.head.appendChild(base);
        }
        if (doc.body) {
          doc.body.appendChild(style);
        }

        return style.sheet ? getSheetFonts(style.sheet, doc) : [];
      };

      var restoreOwnerScroll = function restoreOwnerScroll(ownerDocument, x, y) {
        if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {
          ownerDocument.defaultView.scrollTo(x, y);
        }
      };

      var cloneCanvasContents = function cloneCanvasContents(canvas, clonedCanvas) {
        try {
          if (clonedCanvas) {
            clonedCanvas.width = canvas.width;
            clonedCanvas.height = canvas.height;
            var ctx = canvas.getContext('2d');
            var clonedCtx = clonedCanvas.getContext('2d');
            if (ctx) {
              clonedCtx.putImageData(ctx.getImageData(0, 0, canvas.width, canvas.height), 0, 0);
            } else {
              clonedCtx.drawImage(canvas, 0, 0);
            }
          }
        } catch (e) {}
      };

      var inlinePseudoElement = function inlinePseudoElement(node, clone, style, contentItems, pseudoElt) {
        if (!style || !style.content || style.content === 'none' || style.content === '-moz-alt-content' || style.display === 'none') {
          return;
        }

        var anonymousReplacedElement = clone.ownerDocument.createElement('html2canvaspseudoelement');
        (0, _Util.copyCSSStyles)(style, anonymousReplacedElement);

        if (contentItems) {
          var len = contentItems.length;
          for (var i = 0; i < len; i++) {
            var item = contentItems[i];
            switch (item.type) {
              case _PseudoNodeContent.PSEUDO_CONTENT_ITEM_TYPE.IMAGE:
                var img = clone.ownerDocument.createElement('img');
                img.src = (0, _background.parseBackgroundImage)('url(' + item.value + ')')[0].args[0];
                img.style.opacity = '1';
                anonymousReplacedElement.appendChild(img);
                break;
              case _PseudoNodeContent.PSEUDO_CONTENT_ITEM_TYPE.TEXT:
                anonymousReplacedElement.appendChild(clone.ownerDocument.createTextNode(item.value));
                break;}

          }
        }

        anonymousReplacedElement.className = PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + ' ' + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;
        clone.className += pseudoElt === PSEUDO_BEFORE ? ' ' + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE : ' ' + PSEUDO_HIDE_ELEMENT_CLASS_AFTER;
        if (pseudoElt === PSEUDO_BEFORE) {
          clone.insertBefore(anonymousReplacedElement, clone.firstChild);
        } else {
          clone.appendChild(anonymousReplacedElement);
        }

        return anonymousReplacedElement;
      };

      var URL_REGEXP = /^url\((.+)\)$/i;
      var PSEUDO_BEFORE = ':before';
      var PSEUDO_AFTER = ':after';
      var PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = '___html2canvas___pseudoelement_before';
      var PSEUDO_HIDE_ELEMENT_CLASS_AFTER = '___html2canvas___pseudoelement_after';

      var PSEUDO_HIDE_ELEMENT_STYLE = '{\n    content: "" !important;\n    display: none !important;\n}';

      var createPseudoHideStyles = function createPseudoHideStyles(body) {
        createStyles(body, '.' + PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + PSEUDO_BEFORE + PSEUDO_HIDE_ELEMENT_STYLE + '\n         .' + PSEUDO_HIDE_ELEMENT_CLASS_AFTER + PSEUDO_AFTER + PSEUDO_HIDE_ELEMENT_STYLE);
      };

      var createStyles = function createStyles(body, styles) {
        var style = body.ownerDocument.createElement('style');
        style.innerHTML = styles;
        body.appendChild(style);
      };

      var initNode = function initNode(_ref) {
        var _ref2 = _slicedToArray(_ref, 3),
        element = _ref2[0],
        x = _ref2[1],
        y = _ref2[2];

        element.scrollLeft = x;
        element.scrollTop = y;
      };

      var generateIframeKey = function generateIframeKey() {
        return Math.ceil(Date.now() + Math.random() * 10000000).toString(16);
      };

      var DATA_URI_REGEXP = /^data:text\/(.+);(base64)?,(.*)$/i;

      var getIframeDocumentElement = function getIframeDocumentElement(node, options) {
        try {
          return Promise.resolve(node.contentWindow.document.documentElement);
        } catch (e) {
          return options.proxy ? (0, _Proxy.Proxy)(node.src, options).then(function (html) {
            var match = html.match(DATA_URI_REGEXP);
            if (!match) {
              return Promise.reject();
            }

            return match[2] === 'base64' ? window.atob(decodeURIComponent(match[3])) : decodeURIComponent(match[3]);
          }).then(function (html) {
            return createIframeContainer(node.ownerDocument, (0, _Bounds.parseBounds)(node, 0, 0)).then(function (cloneIframeContainer) {
              var cloneWindow = cloneIframeContainer.contentWindow;
              var documentClone = cloneWindow.document;

              documentClone.open();
              documentClone.write(html);
              var iframeLoad = iframeLoader(cloneIframeContainer).then(function () {
                return documentClone.documentElement;
              });

              documentClone.close();
              return iframeLoad;
            });
          }) : Promise.reject();
        }
      };

      var createIframeContainer = function createIframeContainer(ownerDocument, bounds) {
        var cloneIframeContainer = ownerDocument.createElement('iframe');

        cloneIframeContainer.className = 'html2canvas-container';
        cloneIframeContainer.style.visibility = 'hidden';
        cloneIframeContainer.style.position = 'fixed';
        cloneIframeContainer.style.left = '-10000px';
        cloneIframeContainer.style.top = '0px';
        cloneIframeContainer.style.border = '0';
        cloneIframeContainer.width = bounds.width.toString();
        cloneIframeContainer.height = bounds.height.toString();
        cloneIframeContainer.scrolling = 'no'; // ios won't scroll without it
        cloneIframeContainer.setAttribute(IGNORE_ATTRIBUTE, 'true');
        if (!ownerDocument.body) {
          return Promise.reject(true ? 'Body element not found in Document that is getting rendered' : undefined);
        }

        ownerDocument.body.appendChild(cloneIframeContainer);

        return Promise.resolve(cloneIframeContainer);
      };

      var iframeLoader = function iframeLoader(cloneIframeContainer) {
        var cloneWindow = cloneIframeContainer.contentWindow;
        var documentClone = cloneWindow.document;

        return new Promise(function (resolve, reject) {
          cloneWindow.onload = cloneIframeContainer.onload = documentClone.onreadystatechange = function () {
            var interval = setInterval(function () {
              if (documentClone.body.childNodes.length > 0 && documentClone.readyState === 'complete') {
                clearInterval(interval);
                resolve(cloneIframeContainer);
              }
            }, 50);
          };
        });
      };

      var cloneWindow = exports.cloneWindow = function cloneWindow(ownerDocument, bounds, referenceElement, options, logger, renderer) {
        var cloner = new DocumentCloner(referenceElement, options, logger, false, renderer);
        var scrollX = ownerDocument.defaultView.pageXOffset;
        var scrollY = ownerDocument.defaultView.pageYOffset;

        return createIframeContainer(ownerDocument, bounds).then(function (cloneIframeContainer) {
          var cloneWindow = cloneIframeContainer.contentWindow;
          var documentClone = cloneWindow.document;

          /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle
                                                    if window url is about:blank, we can assign the url to current by writing onto the document
                                                    */

          var iframeLoad = iframeLoader(cloneIframeContainer).then(function () {
            cloner.scrolledElements.forEach(initNode);
            cloneWindow.scrollTo(bounds.left, bounds.top);
            if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) && (cloneWindow.scrollY !== bounds.top || cloneWindow.scrollX !== bounds.left)) {
              documentClone.documentElement.style.top = -bounds.top + 'px';
              documentClone.documentElement.style.left = -bounds.left + 'px';
              documentClone.documentElement.style.position = 'absolute';
            }

            var result = Promise.resolve([cloneIframeContainer, cloner.clonedReferenceElement, cloner.resourceLoader]);

            var onclone = options.onclone;

            return cloner.clonedReferenceElement instanceof cloneWindow.HTMLElement || cloner.clonedReferenceElement instanceof ownerDocument.defaultView.HTMLElement || cloner.clonedReferenceElement instanceof HTMLElement ? typeof onclone === 'function' ? Promise.resolve().then(function () {
              return onclone(documentClone);
            }).then(function () {
              return result;
            }) : result : Promise.reject(true ? 'Error finding the ' + referenceElement.nodeName + ' in the cloned document' : undefined);
          });

          documentClone.open();
          documentClone.write(serializeDoctype(document.doctype) + '<html></html>');
          // Chrome scrolls the parent document for some reason after the write to the cloned window???
          restoreOwnerScroll(referenceElement.ownerDocument, scrollX, scrollY);
          documentClone.replaceChild(documentClone.adoptNode(cloner.documentElement), documentClone.documentElement);
          documentClone.close();

          return iframeLoad;
        });
      };

      var serializeDoctype = function serializeDoctype(doctype) {
        var str = '';
        if (doctype) {
          str += '<!DOCTYPE ';
          if (doctype.name) {
            str += doctype.name;
          }

          if (doctype.internalSubset) {
            str += doctype.internalSubset;
          }

          if (doctype.publicId) {
            str += '"' + doctype.publicId + '"';
          }

          if (doctype.systemId) {
            str += '"' + doctype.systemId + '"';
          }

          str += '>';
        }

        return str;
      };

      /***/},
    /* 55 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.ResourceStore = undefined;

      var _createClass = function () {function defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}return function (Constructor, protoProps, staticProps) {if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;};}();

      var _Feature = __webpack_require__(10);

      var _Feature2 = _interopRequireDefault(_Feature);

      var _Proxy = __webpack_require__(26);

      function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}

      function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}

      var ResourceLoader = function () {
        function ResourceLoader(options, logger, window) {
          _classCallCheck(this, ResourceLoader);

          this.options = options;
          this._window = window;
          this.origin = this.getOrigin(window.location.href);
          this.cache = {};
          this.logger = logger;
          this._index = 0;
        }

        _createClass(ResourceLoader, [{
          key: 'loadImage',
          value: function loadImage(src) {
            var _this = this;

            if (this.hasResourceInCache(src)) {
              return src;
            }
            if (isBlobImage(src)) {
              this.cache[src] = _loadImage(src, this.options.imageTimeout || 0);
              return src;
            }

            if (!isSVG(src) || _Feature2.default.SUPPORT_SVG_DRAWING) {
              if (this.options.allowTaint === true || isInlineImage(src) || this.isSameOrigin(src)) {
                return this.addImage(src, src, false);
              } else if (!this.isSameOrigin(src)) {
                if (typeof this.options.proxy === 'string') {
                  this.cache[src] = (0, _Proxy.Proxy)(src, this.options).then(function (src) {
                    return _loadImage(src, _this.options.imageTimeout || 0);
                  });
                  return src;
                } else if (this.options.useCORS === true && _Feature2.default.SUPPORT_CORS_IMAGES) {
                  return this.addImage(src, src, true);
                }
              }
            }
          } },
        {
          key: 'inlineImage',
          value: function inlineImage(src) {
            var _this2 = this;

            if (isInlineImage(src)) {
              return _loadImage(src, this.options.imageTimeout || 0);
            }
            if (this.hasResourceInCache(src)) {
              return this.cache[src];
            }
            if (!this.isSameOrigin(src) && typeof this.options.proxy === 'string') {
              return this.cache[src] = (0, _Proxy.Proxy)(src, this.options).then(function (src) {
                return _loadImage(src, _this2.options.imageTimeout || 0);
              });
            }

            return this.xhrImage(src);
          } },
        {
          key: 'xhrImage',
          value: function xhrImage(src) {
            var _this3 = this;

            this.cache[src] = new Promise(function (resolve, reject) {
              var xhr = new XMLHttpRequest();
              xhr.onreadystatechange = function () {
                if (xhr.readyState === 4) {
                  if (xhr.status !== 200) {
                    reject('Failed to fetch image ' + src.substring(0, 256) + ' with status code ' + xhr.status);
                  } else {
                    var reader = new FileReader();
                    reader.addEventListener('load', function () {
                      // $FlowFixMe
                      var result = reader.result;
                      resolve(result);
                    }, false);
                    reader.addEventListener('error', function (e) {
                      return reject(e);
                    }, false);
                    reader.readAsDataURL(xhr.response);
                  }
                }
              };
              xhr.responseType = 'blob';
              if (_this3.options.imageTimeout) {
                var timeout = _this3.options.imageTimeout;
                xhr.timeout = timeout;
                xhr.ontimeout = function () {
                  return reject(true ? 'Timed out (' + timeout + 'ms) fetching ' + src.substring(0, 256) : undefined);
                };
              }
              xhr.open('GET', src, true);
              xhr.send();
            }).then(function (src) {
              return _loadImage(src, _this3.options.imageTimeout || 0);
            });

            return this.cache[src];
          } },
        {
          key: 'loadCanvas',
          value: function loadCanvas(node) {
            var key = String(this._index++);
            this.cache[key] = Promise.resolve(node);
            return key;
          } },
        {
          key: 'hasResourceInCache',
          value: function hasResourceInCache(key) {
            return typeof this.cache[key] !== 'undefined';
          } },
        {
          key: 'addImage',
          value: function addImage(key, src, useCORS) {
            var _this4 = this;

            if (true) {
              this.logger.log('Added image ' + key.substring(0, 256));
            }

            var imageLoadHandler = function imageLoadHandler(supportsDataImages) {
              return new Promise(function (resolve, reject) {
                var img = new Image();
                img.onload = function () {
                  return resolve(img);
                };
                //ios safari 10.3 taints canvas with data urls unless crossOrigin is set to anonymous
                if (!supportsDataImages || useCORS) {
                  img.crossOrigin = 'anonymous';
                }

                img.onerror = reject;
                img.src = src;
                if (img.complete === true) {
                  // Inline XML images may fail to parse, throwing an Error later on
                  setTimeout(function () {
                    resolve(img);
                  }, 500);
                }
                if (_this4.options.imageTimeout) {
                  var timeout = _this4.options.imageTimeout;
                  setTimeout(function () {
                    return reject(true ? 'Timed out (' + timeout + 'ms) fetching ' + src.substring(0, 256) : undefined);
                  }, timeout);
                }
              });
            };

            this.cache[key] = isInlineBase64Image(src) && !isSVG(src) ? // $FlowFixMe
            _Feature2.default.SUPPORT_BASE64_DRAWING(src).then(imageLoadHandler) : imageLoadHandler(true);
            return key;
          } },
        {
          key: 'isSameOrigin',
          value: function isSameOrigin(url) {
            return this.getOrigin(url) === this.origin;
          } },
        {
          key: 'getOrigin',
          value: function getOrigin(url) {
            var link = this._link || (this._link = this._window.document.createElement('a'));
            link.href = url;
            link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/
            return link.protocol + link.hostname + link.port;
          } },
        {
          key: 'ready',
          value: function ready() {
            var _this5 = this;

            var keys = Object.keys(this.cache);
            var values = keys.map(function (str) {
              return _this5.cache[str].catch(function (e) {
                if (true) {
                  _this5.logger.log('Unable to load image', e);
                }
                return null;
              });
            });
            return Promise.all(values).then(function (images) {
              if (true) {
                _this5.logger.log('Finished loading ' + images.length + ' images', images);
              }
              return new ResourceStore(keys, images);
            });
          } }]);


        return ResourceLoader;
      }();

      exports.default = ResourceLoader;

      var ResourceStore = exports.ResourceStore = function () {
        function ResourceStore(keys, resources) {
          _classCallCheck(this, ResourceStore);

          this._keys = keys;
          this._resources = resources;
        }

        _createClass(ResourceStore, [{
          key: 'get',
          value: function get(key) {
            var index = this._keys.indexOf(key);
            return index === -1 ? null : this._resources[index];
          } }]);


        return ResourceStore;
      }();

      var INLINE_SVG = /^data:image\/svg\+xml/i;
      var INLINE_BASE64 = /^data:image\/.*;base64,/i;
      var INLINE_IMG = /^data:image\/.*/i;

      var isInlineImage = function isInlineImage(src) {
        return INLINE_IMG.test(src);
      };
      var isInlineBase64Image = function isInlineBase64Image(src) {
        return INLINE_BASE64.test(src);
      };
      var isBlobImage = function isBlobImage(src) {
        return src.substr(0, 4) === 'blob';
      };

      var isSVG = function isSVG(src) {
        return src.substr(-3).toLowerCase() === 'svg' || INLINE_SVG.test(src);
      };

      var _loadImage = function _loadImage(src, timeout) {
        return new Promise(function (resolve, reject) {
          var img = new Image();
          img.onload = function () {
            return resolve(img);
          };
          img.onerror = reject;
          img.src = src;
          if (img.complete === true) {
            // Inline XML images may fail to parse, throwing an Error later on
            setTimeout(function () {
              resolve(img);
            }, 500);
          }
          if (timeout) {
            setTimeout(function () {
              return reject(true ? 'Timed out (' + timeout + 'ms) loading image' : undefined);
            }, timeout);
          }
        });
      };

      /***/},
    /* 56 */
    /***/function (module, exports, __webpack_require__) {

      "use strict";


      Object.defineProperty(exports, "__esModule", {
        value: true });

      exports.parseContent = exports.resolvePseudoContent = exports.popCounters = exports.parseCounterReset = exports.TOKEN_TYPE = exports.PSEUDO_CONTENT_ITEM_TYPE = undefined;

      var _slicedToArray = function () {function sliceIterator(arr, i) {var _arr = [];var _n = true;var _d = false;var _e = undefined;try {for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {_arr.push(_s.value);if (i && _arr.length === i) break;}} catch (err) {_d = true;_e = err;} finally {try {if (!_n && _i["return"]) _i["return"]();} finally {if (_d) throw _e;}}return _arr;}return function (arr, i) {if (Array.isArray(arr)) {return arr;} else if (Symbol.iterator in Object(arr)) {return sliceIterator(arr, i);} else {throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();

      var _ListItem = __webpack_require__(14);

      var _listStyle = __webpack_require__(8);

      var PSEUDO_CONTENT_ITEM_TYPE = exports.PSEUDO_CONTENT_ITEM_TYPE = {
        TEXT: 0,
        IMAGE: 1 };


      var TOKEN_TYPE = exports.TOKEN_TYPE = {
        STRING: 0,
        ATTRIBUTE: 1,
        URL: 2,
        COUNTER: 3,
        COUNTERS: 4,
        OPENQUOTE: 5,
        CLOSEQUOTE: 6 };


      var parseCounterReset = exports.parseCounterReset = function parseCounterReset(style, data) {
        if (!style || !style.counterReset || style.counterReset === 'none') {
          return [];
        }

        var counterNames = [];
        var counterResets = style.counterReset.split(/\s*,\s*/);
        var lenCounterResets = counterResets.length;

        for (var i = 0; i < lenCounterResets; i++) {
          var _counterResets$i$spli = counterResets[i].split(/\s+/),
          _counterResets$i$spli2 = _slicedToArray(_counterResets$i$spli, 2),
          counterName = _counterResets$i$spli2[0],
          initialValue = _counterResets$i$spli2[1];

          counterNames.push(counterName);
          var counter = data.counters[counterName];
          if (!counter) {
            counter = data.counters[counterName] = [];
          }
          counter.push(parseInt(initialValue || 0, 10));
        }

        return counterNames;
      };

      var popCounters = exports.popCounters = function popCounters(counterNames, data) {
        var lenCounters = counterNames.length;
        for (var i = 0; i < lenCounters; i++) {
          data.counters[counterNames[i]].pop();
        }
      };

      var resolvePseudoContent = exports.resolvePseudoContent = function resolvePseudoContent(node, style, data) {
        if (!style || !style.content || style.content === 'none' || style.content === '-moz-alt-content' || style.display === 'none') {
          return null;
        }

        var tokens = parseContent(style.content);

        var len = tokens.length;
        var contentItems = [];
        var s = '';

        // increment the counter (if there is a "counter-increment" declaration)
        var counterIncrement = style.counterIncrement;
        if (counterIncrement && counterIncrement !== 'none') {
          var _counterIncrement$spl = counterIncrement.split(/\s+/),
          _counterIncrement$spl2 = _slicedToArray(_counterIncrement$spl, 2),
          counterName = _counterIncrement$spl2[0],
          incrementValue = _counterIncrement$spl2[1];

          var counter = data.counters[counterName];
          if (counter) {
            counter[counter.length - 1] += incrementValue === undefined ? 1 : parseInt(incrementValue, 10);
          }
        }

        // build the content string
        for (var i = 0; i < len; i++) {
          var token = tokens[i];
          switch (token.type) {
            case TOKEN_TYPE.STRING:
              s += token.value || '';
              break;

            case TOKEN_TYPE.ATTRIBUTE:
              if (node instanceof HTMLElement && token.value) {
                s += node.getAttribute(token.value) || '';
              }
              break;

            case TOKEN_TYPE.COUNTER:
              var _counter = data.counters[token.name || ''];
              if (_counter) {
                s += formatCounterValue([_counter[_counter.length - 1]], '', token.format);
              }
              break;

            case TOKEN_TYPE.COUNTERS:
              var _counters = data.counters[token.name || ''];
              if (_counters) {
                s += formatCounterValue(_counters, token.glue, token.format);
              }
              break;

            case TOKEN_TYPE.OPENQUOTE:
              s += getQuote(style, true, data.quoteDepth);
              data.quoteDepth++;
              break;

            case TOKEN_TYPE.CLOSEQUOTE:
              data.quoteDepth--;
              s += getQuote(style, false, data.quoteDepth);
              break;

            case TOKEN_TYPE.URL:
              if (s) {
                contentItems.push({ type: PSEUDO_CONTENT_ITEM_TYPE.TEXT, value: s });
                s = '';
              }
              contentItems.push({ type: PSEUDO_CONTENT_ITEM_TYPE.IMAGE, value: token.value || '' });
              break;}

        }

        if (s) {
          contentItems.push({ type: PSEUDO_CONTENT_ITEM_TYPE.TEXT, value: s });
        }

        return contentItems;
      };

      var parseContent = exports.parseContent = function parseContent(content, cache) {
        if (cache && cache[content]) {
          return cache[content];
        }

        var tokens = [];
        var len = content.length;

        var isString = false;
        var isEscaped = false;
        var isFunction = false;
        var str = '';
        var functionName = '';
        var args = [];

        for (var i = 0; i < len; i++) {
          var c = content.charAt(i);

          switch (c) {
            case "'":
            case '"':
              if (isEscaped) {
                str += c;
              } else {
                isString = !isString;
                if (!isFunction && !isString) {
                  tokens.push({ type: TOKEN_TYPE.STRING, value: str });
                  str = '';
                }
              }
              break;

            case '\\':
              if (isEscaped) {
                str += c;
                isEscaped = false;
              } else {
                isEscaped = true;
              }
              break;

            case '(':
              if (isString) {
                str += c;
              } else {
                isFunction = true;
                functionName = str;
                str = '';
                args = [];
              }
              break;

            case ')':
              if (isString) {
                str += c;
              } else if (isFunction) {
                if (str) {
                  args.push(str);
                }

                switch (functionName) {
                  case 'attr':
                    if (args.length > 0) {
                      tokens.push({ type: TOKEN_TYPE.ATTRIBUTE, value: args[0] });
                    }
                    break;

                  case 'counter':
                    if (args.length > 0) {
                      var counter = {
                        type: TOKEN_TYPE.COUNTER,
                        name: args[0] };

                      if (args.length > 1) {
                        counter.format = args[1];
                      }
                      tokens.push(counter);
                    }
                    break;

                  case 'counters':
                    if (args.length > 0) {
                      var _counters2 = {
                        type: TOKEN_TYPE.COUNTERS,
                        name: args[0] };

                      if (args.length > 1) {
                        _counters2.glue = args[1];
                      }
                      if (args.length > 2) {
                        _counters2.format = args[2];
                      }
                      tokens.push(_counters2);
                    }
                    break;

                  case 'url':
                    if (args.length > 0) {
                      tokens.push({ type: TOKEN_TYPE.URL, value: args[0] });
                    }
                    break;}


                isFunction = false;
                str = '';
              }
              break;

            case ',':
              if (isString) {
                str += c;
              } else if (isFunction) {
                args.push(str);
                str = '';
              }
              break;

            case ' ':
            case '\t':
              if (isString) {
                str += c;
              } else if (str) {
                addOtherToken(tokens, str);
                str = '';
              }
              break;

            default:
              str += c;}


          if (c !== '\\') {
            isEscaped = false;
          }
        }

        if (str) {
          addOtherToken(tokens, str);
        }

        if (cache) {
          cache[content] = tokens;
        }

        return tokens;
      };

      var addOtherToken = function addOtherToken(tokens, identifier) {
        switch (identifier) {
          case 'open-quote':
            tokens.push({ type: TOKEN_TYPE.OPENQUOTE });
            break;
          case 'close-quote':
            tokens.push({ type: TOKEN_TYPE.CLOSEQUOTE });
            break;}

      };

      var getQuote = function getQuote(style, isOpening, quoteDepth) {
        var quotes = style.quotes ? style.quotes.split(/\s+/) : ["'\"'", "'\"'"];
        var idx = quoteDepth * 2;
        if (idx >= quotes.length) {
          idx = quotes.length - 2;
        }
        if (!isOpening) {
          ++idx;
        }
        return quotes[idx].replace(/^["']|["']$/g, '');
      };

      var formatCounterValue = function formatCounterValue(counter, glue, format) {
        var len = counter.length;
        var result = '';

        for (var i = 0; i < len; i++) {
          if (i > 0) {
            result += glue || '';
          }
          result += (0, _ListItem.createCounterText)(counter[i], (0, _listStyle.parseListStyleType)(format || 'decimal'), false);
        }

        return result;
      };

      /***/}]));

});
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./extensions/BimMarkups/ThirdParty/lodash/lodash.custom.js":
/*!******************************************************************!*\
  !*** ./extensions/BimMarkups/ThirdParty/lodash/lodash.custom.js ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global, module) {var __WEBPACK_AMD_DEFINE_RESULT__;function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);} /**
                                                                                                                                                                                                                                                                                                                                                      * @license
                                                                                                                                                                                                                                                                                                                                                      * Lodash (Custom Build) <https://lodash.com/>
                                                                                                                                                                                                                                                                                                                                                      * Build: `lodash include="cloneDeep,debounce,findLast,remove" exports="amd"`
                                                                                                                                                                                                                                                                                                                                                      * Copyright JS Foundation and other contributors <https://js.foundation/>
                                                                                                                                                                                                                                                                                                                                                      * Released under MIT license <https://lodash.com/license>
                                                                                                                                                                                                                                                                                                                                                      * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
                                                                                                                                                                                                                                                                                                                                                      * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
                                                                                                                                                                                                                                                                                                                                                      */
;(function () {

  /** Used as a safe reference for `undefined` in pre-ES5 environments. */
  var undefined;

  /** Used as the semantic version number. */
  var VERSION = '4.17.5';

  /** Used as the size to enable large array optimizations. */
  var LARGE_ARRAY_SIZE = 200;

  /** Error message constants. */
  var FUNC_ERROR_TEXT = 'Expected a function';

  /** Used to stand-in for `undefined` hash values. */
  var HASH_UNDEFINED = '__lodash_hash_undefined__';

  /** Used as the maximum memoize cache size. */
  var MAX_MEMOIZE_SIZE = 500;

  /** Used to compose bitmasks for cloning. */
  var CLONE_DEEP_FLAG = 1,
  CLONE_FLAT_FLAG = 2,
  CLONE_SYMBOLS_FLAG = 4;

  /** Used to compose bitmasks for value comparisons. */
  var COMPARE_PARTIAL_FLAG = 1,
  COMPARE_UNORDERED_FLAG = 2;

  /** Used as references for various `Number` constants. */
  var INFINITY = 1 / 0,
  MAX_SAFE_INTEGER = 9007199254740991,
  MAX_INTEGER = 1.7976931348623157e+308,
  NAN = 0 / 0;

  /** `Object#toString` result references. */
  var argsTag = '[object Arguments]',
  arrayTag = '[object Array]',
  asyncTag = '[object AsyncFunction]',
  boolTag = '[object Boolean]',
  dateTag = '[object Date]',
  errorTag = '[object Error]',
  funcTag = '[object Function]',
  genTag = '[object GeneratorFunction]',
  mapTag = '[object Map]',
  numberTag = '[object Number]',
  nullTag = '[object Null]',
  objectTag = '[object Object]',
  promiseTag = '[object Promise]',
  proxyTag = '[object Proxy]',
  regexpTag = '[object RegExp]',
  setTag = '[object Set]',
  stringTag = '[object String]',
  symbolTag = '[object Symbol]',
  undefinedTag = '[object Undefined]',
  weakMapTag = '[object WeakMap]';

  var arrayBufferTag = '[object ArrayBuffer]',
  dataViewTag = '[object DataView]',
  float32Tag = '[object Float32Array]',
  float64Tag = '[object Float64Array]',
  int8Tag = '[object Int8Array]',
  int16Tag = '[object Int16Array]',
  int32Tag = '[object Int32Array]',
  uint8Tag = '[object Uint8Array]',
  uint8ClampedTag = '[object Uint8ClampedArray]',
  uint16Tag = '[object Uint16Array]',
  uint32Tag = '[object Uint32Array]';

  /** Used to match property names within property paths. */
  var reIsDeepProp = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
  reIsPlainProp = /^\w*$/,
  rePropName = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;

  /**
                                                                                                                    * Used to match `RegExp`
                                                                                                                    * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).
                                                                                                                    */
  var reRegExpChar = /[\\^$.*+?()[\]{}|]/g;

  /** Used to match leading and trailing whitespace. */
  var reTrim = /^\s+|\s+$/g;

  /** Used to match backslashes in property paths. */
  var reEscapeChar = /\\(\\)?/g;

  /** Used to match `RegExp` flags from their coerced string values. */
  var reFlags = /\w*$/;

  /** Used to detect bad signed hexadecimal string values. */
  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;

  /** Used to detect binary string values. */
  var reIsBinary = /^0b[01]+$/i;

  /** Used to detect host constructors (Safari). */
  var reIsHostCtor = /^\[object .+?Constructor\]$/;

  /** Used to detect octal string values. */
  var reIsOctal = /^0o[0-7]+$/i;

  /** Used to detect unsigned integer values. */
  var reIsUint = /^(?:0|[1-9]\d*)$/;

  /** Used to identify `toStringTag` values of typed arrays. */
  var typedArrayTags = {};
  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =
  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =
  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =
  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =
  typedArrayTags[uint32Tag] = true;
  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =
  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =
  typedArrayTags[dataViewTag] = typedArrayTags[dateTag] =
  typedArrayTags[errorTag] = typedArrayTags[funcTag] =
  typedArrayTags[mapTag] = typedArrayTags[numberTag] =
  typedArrayTags[objectTag] = typedArrayTags[regexpTag] =
  typedArrayTags[setTag] = typedArrayTags[stringTag] =
  typedArrayTags[weakMapTag] = false;

  /** Used to identify `toStringTag` values supported by `_.clone`. */
  var cloneableTags = {};
  cloneableTags[argsTag] = cloneableTags[arrayTag] =
  cloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =
  cloneableTags[boolTag] = cloneableTags[dateTag] =
  cloneableTags[float32Tag] = cloneableTags[float64Tag] =
  cloneableTags[int8Tag] = cloneableTags[int16Tag] =
  cloneableTags[int32Tag] = cloneableTags[mapTag] =
  cloneableTags[numberTag] = cloneableTags[objectTag] =
  cloneableTags[regexpTag] = cloneableTags[setTag] =
  cloneableTags[stringTag] = cloneableTags[symbolTag] =
  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =
  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;
  cloneableTags[errorTag] = cloneableTags[funcTag] =
  cloneableTags[weakMapTag] = false;

  /** Built-in method references without a dependency on `root`. */
  var freeParseInt = parseInt;

  /** Detect free variable `global` from Node.js. */
  var freeGlobal = (typeof global === "undefined" ? "undefined" : _typeof(global)) == 'object' && global && global.Object === Object && global;

  /** Detect free variable `self`. */
  var freeSelf = (typeof self === "undefined" ? "undefined" : _typeof(self)) == 'object' && self && self.Object === Object && self;

  /** Used as a reference to the global object. */
  var root = freeGlobal || freeSelf || Function('return this')();

  /** Detect free variable `exports`. */
  var freeExports = ( false ? undefined : _typeof(exports)) == 'object' && exports && !exports.nodeType && exports;

  /** Detect free variable `module`. */
  var freeModule = freeExports && ( false ? undefined : _typeof(module)) == 'object' && module && !module.nodeType && module;

  /** Detect the popular CommonJS extension `module.exports`. */
  var moduleExports = freeModule && freeModule.exports === freeExports;

  /** Detect free variable `process` from Node.js. */
  var freeProcess = moduleExports && freeGlobal.process;

  /** Used to access faster Node.js helpers. */
  var nodeUtil = function () {
    try {
      return freeProcess && freeProcess.binding && freeProcess.binding('util');
    } catch (e) {}
  }();

  /* Node.js helper references. */
  var nodeIsMap = nodeUtil && nodeUtil.isMap,
  nodeIsSet = nodeUtil && nodeUtil.isSet,
  nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;

  /*--------------------------------------------------------------------------*/

  /**
                                                                                  * A specialized version of `_.forEach` for arrays without support for
                                                                                  * iteratee shorthands.
                                                                                  *
                                                                                  * @private
                                                                                  * @param {Array} [array] The array to iterate over.
                                                                                  * @param {Function} iteratee The function invoked per iteration.
                                                                                  * @returns {Array} Returns `array`.
                                                                                  */
  function arrayEach(array, iteratee) {
    var index = -1,
    length = array == null ? 0 : array.length;

    while (++index < length) {
      if (iteratee(array[index], index, array) === false) {
        break;
      }
    }
    return array;
  }

  /**
     * A specialized version of `_.filter` for arrays without support for
     * iteratee shorthands.
     *
     * @private
     * @param {Array} [array] The array to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {Array} Returns the new filtered array.
     */
  function arrayFilter(array, predicate) {
    var index = -1,
    length = array == null ? 0 : array.length,
    resIndex = 0,
    result = [];

    while (++index < length) {
      var value = array[index];
      if (predicate(value, index, array)) {
        result[resIndex++] = value;
      }
    }
    return result;
  }

  /**
     * A specialized version of `_.map` for arrays without support for iteratee
     * shorthands.
     *
     * @private
     * @param {Array} [array] The array to iterate over.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array} Returns the new mapped array.
     */
  function arrayMap(array, iteratee) {
    var index = -1,
    length = array == null ? 0 : array.length,
    result = Array(length);

    while (++index < length) {
      result[index] = iteratee(array[index], index, array);
    }
    return result;
  }

  /**
     * Appends the elements of `values` to `array`.
     *
     * @private
     * @param {Array} array The array to modify.
     * @param {Array} values The values to append.
     * @returns {Array} Returns `array`.
     */
  function arrayPush(array, values) {
    var index = -1,
    length = values.length,
    offset = array.length;

    while (++index < length) {
      array[offset + index] = values[index];
    }
    return array;
  }

  /**
     * A specialized version of `_.some` for arrays without support for iteratee
     * shorthands.
     *
     * @private
     * @param {Array} [array] The array to iterate over.
     * @param {Function} predicate The function invoked per iteration.
     * @returns {boolean} Returns `true` if any element passes the predicate check,
     *  else `false`.
     */
  function arraySome(array, predicate) {
    var index = -1,
    length = array == null ? 0 : array.length;

    while (++index < length) {
      if (predicate(array[index], index, array)) {
        return true;
      }
    }
    return false;
  }

  /**
     * The base implementation of `_.findIndex` and `_.findLastIndex` without
     * support for iteratee shorthands.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {Function} predicate The function invoked per iteration.
     * @param {number} fromIndex The index to search from.
     * @param {boolean} [fromRight] Specify iterating from right to left.
     * @returns {number} Returns the index of the matched value, else `-1`.
     */
  function baseFindIndex(array, predicate, fromIndex, fromRight) {
    var length = array.length,
    index = fromIndex + (fromRight ? 1 : -1);

    while (fromRight ? index-- : ++index < length) {
      if (predicate(array[index], index, array)) {
        return index;
      }
    }
    return -1;
  }

  /**
     * The base implementation of `_.property` without support for deep paths.
     *
     * @private
     * @param {string} key The key of the property to get.
     * @returns {Function} Returns the new accessor function.
     */
  function baseProperty(key) {
    return function (object) {
      return object == null ? undefined : object[key];
    };
  }

  /**
     * The base implementation of `_.times` without support for iteratee shorthands
     * or max array length checks.
     *
     * @private
     * @param {number} n The number of times to invoke `iteratee`.
     * @param {Function} iteratee The function invoked per iteration.
     * @returns {Array} Returns the array of results.
     */
  function baseTimes(n, iteratee) {
    var index = -1,
    result = Array(n);

    while (++index < n) {
      result[index] = iteratee(index);
    }
    return result;
  }

  /**
     * The base implementation of `_.unary` without support for storing metadata.
     *
     * @private
     * @param {Function} func The function to cap arguments for.
     * @returns {Function} Returns the new capped function.
     */
  function baseUnary(func) {
    return function (value) {
      return func(value);
    };
  }

  /**
     * Checks if a `cache` value for `key` exists.
     *
     * @private
     * @param {Object} cache The cache to query.
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */
  function cacheHas(cache, key) {
    return cache.has(key);
  }

  /**
     * Gets the value at `key` of `object`.
     *
     * @private
     * @param {Object} [object] The object to query.
     * @param {string} key The key of the property to get.
     * @returns {*} Returns the property value.
     */
  function getValue(object, key) {
    return object == null ? undefined : object[key];
  }

  /**
     * Converts `map` to its key-value pairs.
     *
     * @private
     * @param {Object} map The map to convert.
     * @returns {Array} Returns the key-value pairs.
     */
  function mapToArray(map) {
    var index = -1,
    result = Array(map.size);

    map.forEach(function (value, key) {
      result[++index] = [key, value];
    });
    return result;
  }

  /**
     * Creates a unary function that invokes `func` with its argument transformed.
     *
     * @private
     * @param {Function} func The function to wrap.
     * @param {Function} transform The argument transform.
     * @returns {Function} Returns the new function.
     */
  function overArg(func, transform) {
    return function (arg) {
      return func(transform(arg));
    };
  }

  /**
     * Converts `set` to an array of its values.
     *
     * @private
     * @param {Object} set The set to convert.
     * @returns {Array} Returns the values.
     */
  function setToArray(set) {
    var index = -1,
    result = Array(set.size);

    set.forEach(function (value) {
      result[++index] = value;
    });
    return result;
  }

  /*--------------------------------------------------------------------------*/

  /** Used for built-in method references. */
  var arrayProto = Array.prototype,
  funcProto = Function.prototype,
  objectProto = Object.prototype;

  /** Used to detect overreaching core-js shims. */
  var coreJsData = root['__core-js_shared__'];

  /** Used to resolve the decompiled source of functions. */
  var funcToString = funcProto.toString;

  /** Used to check objects for own properties. */
  var hasOwnProperty = objectProto.hasOwnProperty;

  /** Used to detect methods masquerading as native. */
  var maskSrcKey = function () {
    var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');
    return uid ? 'Symbol(src)_1.' + uid : '';
  }();

  /**
        * Used to resolve the
        * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)
        * of values.
        */
  var nativeObjectToString = objectProto.toString;

  /** Used to detect if a method is native. */
  var reIsNative = RegExp('^' +
  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\$&').
  replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') + '$');


  /** Built-in value references. */
  var Buffer = moduleExports ? root.Buffer : undefined,
  _Symbol = root.Symbol,
  Uint8Array = root.Uint8Array,
  allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined,
  getPrototype = overArg(Object.getPrototypeOf, Object),
  objectCreate = Object.create,
  propertyIsEnumerable = objectProto.propertyIsEnumerable,
  splice = arrayProto.splice,
  symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;

  var defineProperty = function () {
    try {
      var func = getNative(Object, 'defineProperty');
      func({}, '', {});
      return func;
    } catch (e) {}
  }();

  /* Built-in method references for those with the same name as other `lodash` methods. */
  var nativeGetSymbols = Object.getOwnPropertySymbols,
  nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,
  nativeKeys = overArg(Object.keys, Object),
  nativeMax = Math.max,
  nativeMin = Math.min;

  /* Built-in method references that are verified to be native. */
  var DataView = getNative(root, 'DataView'),
  Map = getNative(root, 'Map'),
  Promise = getNative(root, 'Promise'),
  Set = getNative(root, 'Set'),
  WeakMap = getNative(root, 'WeakMap'),
  nativeCreate = getNative(Object, 'create');

  /** Used to lookup unminified function names. */
  var realNames = {};

  /** Used to detect maps, sets, and weakmaps. */
  var dataViewCtorString = toSource(DataView),
  mapCtorString = toSource(Map),
  promiseCtorString = toSource(Promise),
  setCtorString = toSource(Set),
  weakMapCtorString = toSource(WeakMap);

  /** Used to convert symbols to primitives and strings. */
  var symbolProto = _Symbol ? _Symbol.prototype : undefined,
  symbolValueOf = symbolProto ? symbolProto.valueOf : undefined,
  symbolToString = symbolProto ? symbolProto.toString : undefined;

  /*------------------------------------------------------------------------*/

  /**
                                                                                * Creates a `lodash` object which wraps `value` to enable implicit method
                                                                                * chain sequences. Methods that operate on and return arrays, collections,
                                                                                * and functions can be chained together. Methods that retrieve a single value
                                                                                * or may return a primitive value will automatically end the chain sequence
                                                                                * and return the unwrapped value. Otherwise, the value must be unwrapped
                                                                                * with `_#value`.
                                                                                *
                                                                                * Explicit chain sequences, which must be unwrapped with `_#value`, may be
                                                                                * enabled using `_.chain`.
                                                                                *
                                                                                * The execution of chained methods is lazy, that is, it's deferred until
                                                                                * `_#value` is implicitly or explicitly called.
                                                                                *
                                                                                * Lazy evaluation allows several methods to support shortcut fusion.
                                                                                * Shortcut fusion is an optimization to merge iteratee calls; this avoids
                                                                                * the creation of intermediate arrays and can greatly reduce the number of
                                                                                * iteratee executions. Sections of a chain sequence qualify for shortcut
                                                                                * fusion if the section is applied to an array and iteratees accept only
                                                                                * one argument. The heuristic for whether a section qualifies for shortcut
                                                                                * fusion is subject to change.
                                                                                *
                                                                                * Chaining is supported in custom builds as long as the `_#value` method is
                                                                                * directly or indirectly included in the build.
                                                                                *
                                                                                * In addition to lodash methods, wrappers have `Array` and `String` methods.
                                                                                *
                                                                                * The wrapper `Array` methods are:
                                                                                * `concat`, `join`, `pop`, `push`, `shift`, `sort`, `splice`, and `unshift`
                                                                                *
                                                                                * The wrapper `String` methods are:
                                                                                * `replace` and `split`
                                                                                *
                                                                                * The wrapper methods that support shortcut fusion are:
                                                                                * `at`, `compact`, `drop`, `dropRight`, `dropWhile`, `filter`, `find`,
                                                                                * `findLast`, `head`, `initial`, `last`, `map`, `reject`, `reverse`, `slice`,
                                                                                * `tail`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, and `toArray`
                                                                                *
                                                                                * The chainable wrapper methods are:
                                                                                * `after`, `ary`, `assign`, `assignIn`, `assignInWith`, `assignWith`, `at`,
                                                                                * `before`, `bind`, `bindAll`, `bindKey`, `castArray`, `chain`, `chunk`,
                                                                                * `commit`, `compact`, `concat`, `conforms`, `constant`, `countBy`, `create`,
                                                                                * `curry`, `debounce`, `defaults`, `defaultsDeep`, `defer`, `delay`,
                                                                                * `difference`, `differenceBy`, `differenceWith`, `drop`, `dropRight`,
                                                                                * `dropRightWhile`, `dropWhile`, `extend`, `extendWith`, `fill`, `filter`,
                                                                                * `flatMap`, `flatMapDeep`, `flatMapDepth`, `flatten`, `flattenDeep`,
                                                                                * `flattenDepth`, `flip`, `flow`, `flowRight`, `fromPairs`, `functions`,
                                                                                * `functionsIn`, `groupBy`, `initial`, `intersection`, `intersectionBy`,
                                                                                * `intersectionWith`, `invert`, `invertBy`, `invokeMap`, `iteratee`, `keyBy`,
                                                                                * `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`, `matchesProperty`,
                                                                                * `memoize`, `merge`, `mergeWith`, `method`, `methodOf`, `mixin`, `negate`,
                                                                                * `nthArg`, `omit`, `omitBy`, `once`, `orderBy`, `over`, `overArgs`,
                                                                                * `overEvery`, `overSome`, `partial`, `partialRight`, `partition`, `pick`,
                                                                                * `pickBy`, `plant`, `property`, `propertyOf`, `pull`, `pullAll`, `pullAllBy`,
                                                                                * `pullAllWith`, `pullAt`, `push`, `range`, `rangeRight`, `rearg`, `reject`,
                                                                                * `remove`, `rest`, `reverse`, `sampleSize`, `set`, `setWith`, `shuffle`,
                                                                                * `slice`, `sort`, `sortBy`, `splice`, `spread`, `tail`, `take`, `takeRight`,
                                                                                * `takeRightWhile`, `takeWhile`, `tap`, `throttle`, `thru`, `toArray`,
                                                                                * `toPairs`, `toPairsIn`, `toPath`, `toPlainObject`, `transform`, `unary`,
                                                                                * `union`, `unionBy`, `unionWith`, `uniq`, `uniqBy`, `uniqWith`, `unset`,
                                                                                * `unshift`, `unzip`, `unzipWith`, `update`, `updateWith`, `values`,
                                                                                * `valuesIn`, `without`, `wrap`, `xor`, `xorBy`, `xorWith`, `zip`,
                                                                                * `zipObject`, `zipObjectDeep`, and `zipWith`
                                                                                *
                                                                                * The wrapper methods that are **not** chainable by default are:
                                                                                * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clamp`, `clone`,
                                                                                * `cloneDeep`, `cloneDeepWith`, `cloneWith`, `conformsTo`, `deburr`,
                                                                                * `defaultTo`, `divide`, `each`, `eachRight`, `endsWith`, `eq`, `escape`,
                                                                                * `escapeRegExp`, `every`, `find`, `findIndex`, `findKey`, `findLast`,
                                                                                * `findLastIndex`, `findLastKey`, `first`, `floor`, `forEach`, `forEachRight`,
                                                                                * `forIn`, `forInRight`, `forOwn`, `forOwnRight`, `get`, `gt`, `gte`, `has`,
                                                                                * `hasIn`, `head`, `identity`, `includes`, `indexOf`, `inRange`, `invoke`,
                                                                                * `isArguments`, `isArray`, `isArrayBuffer`, `isArrayLike`, `isArrayLikeObject`,
                                                                                * `isBoolean`, `isBuffer`, `isDate`, `isElement`, `isEmpty`, `isEqual`,
                                                                                * `isEqualWith`, `isError`, `isFinite`, `isFunction`, `isInteger`, `isLength`,
                                                                                * `isMap`, `isMatch`, `isMatchWith`, `isNaN`, `isNative`, `isNil`, `isNull`,
                                                                                * `isNumber`, `isObject`, `isObjectLike`, `isPlainObject`, `isRegExp`,
                                                                                * `isSafeInteger`, `isSet`, `isString`, `isUndefined`, `isTypedArray`,
                                                                                * `isWeakMap`, `isWeakSet`, `join`, `kebabCase`, `last`, `lastIndexOf`,
                                                                                * `lowerCase`, `lowerFirst`, `lt`, `lte`, `max`, `maxBy`, `mean`, `meanBy`,
                                                                                * `min`, `minBy`, `multiply`, `noConflict`, `noop`, `now`, `nth`, `pad`,
                                                                                * `padEnd`, `padStart`, `parseInt`, `pop`, `random`, `reduce`, `reduceRight`,
                                                                                * `repeat`, `result`, `round`, `runInContext`, `sample`, `shift`, `size`,
                                                                                * `snakeCase`, `some`, `sortedIndex`, `sortedIndexBy`, `sortedLastIndex`,
                                                                                * `sortedLastIndexBy`, `startCase`, `startsWith`, `stubArray`, `stubFalse`,
                                                                                * `stubObject`, `stubString`, `stubTrue`, `subtract`, `sum`, `sumBy`,
                                                                                * `template`, `times`, `toFinite`, `toInteger`, `toJSON`, `toLength`,
                                                                                * `toLower`, `toNumber`, `toSafeInteger`, `toString`, `toUpper`, `trim`,
                                                                                * `trimEnd`, `trimStart`, `truncate`, `unescape`, `uniqueId`, `upperCase`,
                                                                                * `upperFirst`, `value`, and `words`
                                                                                *
                                                                                * @name _
                                                                                * @constructor
                                                                                * @category Seq
                                                                                * @param {*} value The value to wrap in a `lodash` instance.
                                                                                * @returns {Object} Returns the new `lodash` wrapper instance.
                                                                                * @example
                                                                                *
                                                                                * function square(n) {
                                                                                *   return n * n;
                                                                                * }
                                                                                *
                                                                                * var wrapped = _([1, 2, 3]);
                                                                                *
                                                                                * // Returns an unwrapped value.
                                                                                * wrapped.reduce(_.add);
                                                                                * // => 6
                                                                                *
                                                                                * // Returns a wrapped value.
                                                                                * var squares = wrapped.map(square);
                                                                                *
                                                                                * _.isArray(squares);
                                                                                * // => false
                                                                                *
                                                                                * _.isArray(squares.value());
                                                                                * // => true
                                                                                */
  function lodash() {

  } // No operation performed.

  /**
   * The base implementation of `_.create` without support for assigning
   * properties to the created object.
   *
   * @private
   * @param {Object} proto The object to inherit from.
   * @returns {Object} Returns the new object.
   */
  var baseCreate = function () {
    function object() {}
    return function (proto) {
      if (!isObject(proto)) {
        return {};
      }
      if (objectCreate) {
        return objectCreate(proto);
      }
      object.prototype = proto;
      var result = new object();
      object.prototype = undefined;
      return result;
    };
  }();

  /*------------------------------------------------------------------------*/

  /**
                                                                                * Creates a hash object.
                                                                                *
                                                                                * @private
                                                                                * @constructor
                                                                                * @param {Array} [entries] The key-value pairs to cache.
                                                                                */
  function Hash(entries) {
    var index = -1,
    length = entries == null ? 0 : entries.length;

    this.clear();
    while (++index < length) {
      var entry = entries[index];
      this.set(entry[0], entry[1]);
    }
  }

  /**
     * Removes all key-value entries from the hash.
     *
     * @private
     * @name clear
     * @memberOf Hash
     */
  function hashClear() {
    this.__data__ = nativeCreate ? nativeCreate(null) : {};
    this.size = 0;
  }

  /**
     * Removes `key` and its value from the hash.
     *
     * @private
     * @name delete
     * @memberOf Hash
     * @param {Object} hash The hash to modify.
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */
  function hashDelete(key) {
    var result = this.has(key) && delete this.__data__[key];
    this.size -= result ? 1 : 0;
    return result;
  }

  /**
     * Gets the hash value for `key`.
     *
     * @private
     * @name get
     * @memberOf Hash
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */
  function hashGet(key) {
    var data = this.__data__;
    if (nativeCreate) {
      var result = data[key];
      return result === HASH_UNDEFINED ? undefined : result;
    }
    return hasOwnProperty.call(data, key) ? data[key] : undefined;
  }

  /**
     * Checks if a hash value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf Hash
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */
  function hashHas(key) {
    var data = this.__data__;
    return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);
  }

  /**
     * Sets the hash `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf Hash
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the hash instance.
     */
  function hashSet(key, value) {
    var data = this.__data__;
    this.size += this.has(key) ? 0 : 1;
    data[key] = nativeCreate && value === undefined ? HASH_UNDEFINED : value;
    return this;
  }

  // Add methods to `Hash`.
  Hash.prototype.clear = hashClear;
  Hash.prototype['delete'] = hashDelete;
  Hash.prototype.get = hashGet;
  Hash.prototype.has = hashHas;
  Hash.prototype.set = hashSet;

  /*------------------------------------------------------------------------*/

  /**
                                                                                * Creates an list cache object.
                                                                                *
                                                                                * @private
                                                                                * @constructor
                                                                                * @param {Array} [entries] The key-value pairs to cache.
                                                                                */
  function ListCache(entries) {
    var index = -1,
    length = entries == null ? 0 : entries.length;

    this.clear();
    while (++index < length) {
      var entry = entries[index];
      this.set(entry[0], entry[1]);
    }
  }

  /**
     * Removes all key-value entries from the list cache.
     *
     * @private
     * @name clear
     * @memberOf ListCache
     */
  function listCacheClear() {
    this.__data__ = [];
    this.size = 0;
  }

  /**
     * Removes `key` and its value from the list cache.
     *
     * @private
     * @name delete
     * @memberOf ListCache
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */
  function listCacheDelete(key) {
    var data = this.__data__,
    index = assocIndexOf(data, key);

    if (index < 0) {
      return false;
    }
    var lastIndex = data.length - 1;
    if (index == lastIndex) {
      data.pop();
    } else {
      splice.call(data, index, 1);
    }
    --this.size;
    return true;
  }

  /**
     * Gets the list cache value for `key`.
     *
     * @private
     * @name get
     * @memberOf ListCache
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */
  function listCacheGet(key) {
    var data = this.__data__,
    index = assocIndexOf(data, key);

    return index < 0 ? undefined : data[index][1];
  }

  /**
     * Checks if a list cache value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf ListCache
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */
  function listCacheHas(key) {
    return assocIndexOf(this.__data__, key) > -1;
  }

  /**
     * Sets the list cache `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf ListCache
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the list cache instance.
     */
  function listCacheSet(key, value) {
    var data = this.__data__,
    index = assocIndexOf(data, key);

    if (index < 0) {
      ++this.size;
      data.push([key, value]);
    } else {
      data[index][1] = value;
    }
    return this;
  }

  // Add methods to `ListCache`.
  ListCache.prototype.clear = listCacheClear;
  ListCache.prototype['delete'] = listCacheDelete;
  ListCache.prototype.get = listCacheGet;
  ListCache.prototype.has = listCacheHas;
  ListCache.prototype.set = listCacheSet;

  /*------------------------------------------------------------------------*/

  /**
                                                                                * Creates a map cache object to store key-value pairs.
                                                                                *
                                                                                * @private
                                                                                * @constructor
                                                                                * @param {Array} [entries] The key-value pairs to cache.
                                                                                */
  function MapCache(entries) {
    var index = -1,
    length = entries == null ? 0 : entries.length;

    this.clear();
    while (++index < length) {
      var entry = entries[index];
      this.set(entry[0], entry[1]);
    }
  }

  /**
     * Removes all key-value entries from the map.
     *
     * @private
     * @name clear
     * @memberOf MapCache
     */
  function mapCacheClear() {
    this.size = 0;
    this.__data__ = {
      'hash': new Hash(),
      'map': new (Map || ListCache)(),
      'string': new Hash() };

  }

  /**
     * Removes `key` and its value from the map.
     *
     * @private
     * @name delete
     * @memberOf MapCache
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */
  function mapCacheDelete(key) {
    var result = getMapData(this, key)['delete'](key);
    this.size -= result ? 1 : 0;
    return result;
  }

  /**
     * Gets the map value for `key`.
     *
     * @private
     * @name get
     * @memberOf MapCache
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */
  function mapCacheGet(key) {
    return getMapData(this, key).get(key);
  }

  /**
     * Checks if a map value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf MapCache
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */
  function mapCacheHas(key) {
    return getMapData(this, key).has(key);
  }

  /**
     * Sets the map `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf MapCache
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the map cache instance.
     */
  function mapCacheSet(key, value) {
    var data = getMapData(this, key),
    size = data.size;

    data.set(key, value);
    this.size += data.size == size ? 0 : 1;
    return this;
  }

  // Add methods to `MapCache`.
  MapCache.prototype.clear = mapCacheClear;
  MapCache.prototype['delete'] = mapCacheDelete;
  MapCache.prototype.get = mapCacheGet;
  MapCache.prototype.has = mapCacheHas;
  MapCache.prototype.set = mapCacheSet;

  /*------------------------------------------------------------------------*/

  /**
                                                                                *
                                                                                * Creates an array cache object to store unique values.
                                                                                *
                                                                                * @private
                                                                                * @constructor
                                                                                * @param {Array} [values] The values to cache.
                                                                                */
  function SetCache(values) {
    var index = -1,
    length = values == null ? 0 : values.length;

    this.__data__ = new MapCache();
    while (++index < length) {
      this.add(values[index]);
    }
  }

  /**
     * Adds `value` to the array cache.
     *
     * @private
     * @name add
     * @memberOf SetCache
     * @alias push
     * @param {*} value The value to cache.
     * @returns {Object} Returns the cache instance.
     */
  function setCacheAdd(value) {
    this.__data__.set(value, HASH_UNDEFINED);
    return this;
  }

  /**
     * Checks if `value` is in the array cache.
     *
     * @private
     * @name has
     * @memberOf SetCache
     * @param {*} value The value to search for.
     * @returns {number} Returns `true` if `value` is found, else `false`.
     */
  function setCacheHas(value) {
    return this.__data__.has(value);
  }

  // Add methods to `SetCache`.
  SetCache.prototype.add = SetCache.prototype.push = setCacheAdd;
  SetCache.prototype.has = setCacheHas;

  /*------------------------------------------------------------------------*/

  /**
                                                                                * Creates a stack cache object to store key-value pairs.
                                                                                *
                                                                                * @private
                                                                                * @constructor
                                                                                * @param {Array} [entries] The key-value pairs to cache.
                                                                                */
  function Stack(entries) {
    var data = this.__data__ = new ListCache(entries);
    this.size = data.size;
  }

  /**
     * Removes all key-value entries from the stack.
     *
     * @private
     * @name clear
     * @memberOf Stack
     */
  function stackClear() {
    this.__data__ = new ListCache();
    this.size = 0;
  }

  /**
     * Removes `key` and its value from the stack.
     *
     * @private
     * @name delete
     * @memberOf Stack
     * @param {string} key The key of the value to remove.
     * @returns {boolean} Returns `true` if the entry was removed, else `false`.
     */
  function stackDelete(key) {
    var data = this.__data__,
    result = data['delete'](key);

    this.size = data.size;
    return result;
  }

  /**
     * Gets the stack value for `key`.
     *
     * @private
     * @name get
     * @memberOf Stack
     * @param {string} key The key of the value to get.
     * @returns {*} Returns the entry value.
     */
  function stackGet(key) {
    return this.__data__.get(key);
  }

  /**
     * Checks if a stack value for `key` exists.
     *
     * @private
     * @name has
     * @memberOf Stack
     * @param {string} key The key of the entry to check.
     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.
     */
  function stackHas(key) {
    return this.__data__.has(key);
  }

  /**
     * Sets the stack `key` to `value`.
     *
     * @private
     * @name set
     * @memberOf Stack
     * @param {string} key The key of the value to set.
     * @param {*} value The value to set.
     * @returns {Object} Returns the stack cache instance.
     */
  function stackSet(key, value) {
    var data = this.__data__;
    if (data instanceof ListCache) {
      var pairs = data.__data__;
      if (!Map || pairs.length < LARGE_ARRAY_SIZE - 1) {
        pairs.push([key, value]);
        this.size = ++data.size;
        return this;
      }
      data = this.__data__ = new MapCache(pairs);
    }
    data.set(key, value);
    this.size = data.size;
    return this;
  }

  // Add methods to `Stack`.
  Stack.prototype.clear = stackClear;
  Stack.prototype['delete'] = stackDelete;
  Stack.prototype.get = stackGet;
  Stack.prototype.has = stackHas;
  Stack.prototype.set = stackSet;

  /*------------------------------------------------------------------------*/

  /**
                                                                                * Creates an array of the enumerable property names of the array-like `value`.
                                                                                *
                                                                                * @private
                                                                                * @param {*} value The value to query.
                                                                                * @param {boolean} inherited Specify returning inherited property names.
                                                                                * @returns {Array} Returns the array of property names.
                                                                                */
  function arrayLikeKeys(value, inherited) {
    var isArr = isArray(value),
    isArg = !isArr && isArguments(value),
    isBuff = !isArr && !isArg && isBuffer(value),
    isType = !isArr && !isArg && !isBuff && isTypedArray(value),
    skipIndexes = isArr || isArg || isBuff || isType,
    result = skipIndexes ? baseTimes(value.length, String) : [],
    length = result.length;

    for (var key in value) {
      if ((inherited || hasOwnProperty.call(value, key)) &&
      !(skipIndexes && (
      // Safari 9 has enumerable `arguments.length` in strict mode.
      key == 'length' ||
      // Node.js 0.10 has enumerable non-index properties on buffers.
      isBuff && (key == 'offset' || key == 'parent') ||
      // PhantomJS 2 has enumerable non-index properties on typed arrays.
      isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset') ||
      // Skip index properties.
      isIndex(key, length))))
      {
        result.push(key);
      }
    }
    return result;
  }

  /**
     * Assigns `value` to `key` of `object` if the existing value is not equivalent
     * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * for equality comparisons.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */
  function assignValue(object, key, value) {
    var objValue = object[key];
    if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||
    value === undefined && !(key in object)) {
      baseAssignValue(object, key, value);
    }
  }

  /**
     * Gets the index at which the `key` is found in `array` of key-value pairs.
     *
     * @private
     * @param {Array} array The array to inspect.
     * @param {*} key The key to search for.
     * @returns {number} Returns the index of the matched value, else `-1`.
     */
  function assocIndexOf(array, key) {
    var length = array.length;
    while (length--) {
      if (eq(array[length][0], key)) {
        return length;
      }
    }
    return -1;
  }

  /**
     * The base implementation of `_.assign` without support for multiple sources
     * or `customizer` functions.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @returns {Object} Returns `object`.
     */
  function baseAssign(object, source) {
    return object && copyObject(source, keys(source), object);
  }

  /**
     * The base implementation of `_.assignIn` without support for multiple sources
     * or `customizer` functions.
     *
     * @private
     * @param {Object} object The destination object.
     * @param {Object} source The source object.
     * @returns {Object} Returns `object`.
     */
  function baseAssignIn(object, source) {
    return object && copyObject(source, keysIn(source), object);
  }

  /**
     * The base implementation of `assignValue` and `assignMergeValue` without
     * value checks.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {string} key The key of the property to assign.
     * @param {*} value The value to assign.
     */
  function baseAssignValue(object, key, value) {
    if (key == '__proto__' && defineProperty) {
      defineProperty(object, key, {
        'configurable': true,
        'enumerable': true,
        'value': value,
        'writable': true });

    } else {
      object[key] = value;
    }
  }

  /**
     * The base implementation of `_.clone` and `_.cloneDeep` which tracks
     * traversed objects.
     *
     * @private
     * @param {*} value The value to clone.
     * @param {boolean} bitmask The bitmask flags.
     *  1 - Deep clone
     *  2 - Flatten inherited properties
     *  4 - Clone symbols
     * @param {Function} [customizer] The function to customize cloning.
     * @param {string} [key] The key of `value`.
     * @param {Object} [object] The parent object of `value`.
     * @param {Object} [stack] Tracks traversed objects and their clone counterparts.
     * @returns {*} Returns the cloned value.
     */
  function baseClone(value, bitmask, customizer, key, object, stack) {
    var result,
    isDeep = bitmask & CLONE_DEEP_FLAG,
    isFlat = bitmask & CLONE_FLAT_FLAG,
    isFull = bitmask & CLONE_SYMBOLS_FLAG;

    if (customizer) {
      result = object ? customizer(value, key, object, stack) : customizer(value);
    }
    if (result !== undefined) {
      return result;
    }
    if (!isObject(value)) {
      return value;
    }
    var isArr = isArray(value);
    if (isArr) {
      result = initCloneArray(value);
      if (!isDeep) {
        return copyArray(value, result);
      }
    } else {
      var tag = getTag(value),
      isFunc = tag == funcTag || tag == genTag;

      if (isBuffer(value)) {
        return cloneBuffer(value, isDeep);
      }
      if (tag == objectTag || tag == argsTag || isFunc && !object) {
        result = isFlat || isFunc ? {} : initCloneObject(value);
        if (!isDeep) {
          return isFlat ?
          copySymbolsIn(value, baseAssignIn(result, value)) :
          copySymbols(value, baseAssign(result, value));
        }
      } else {
        if (!cloneableTags[tag]) {
          return object ? value : {};
        }
        result = initCloneByTag(value, tag, isDeep);
      }
    }
    // Check for circular references and return its corresponding clone.
    stack || (stack = new Stack());
    var stacked = stack.get(value);
    if (stacked) {
      return stacked;
    }
    stack.set(value, result);

    if (isSet(value)) {
      value.forEach(function (subValue) {
        result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));
      });

      return result;
    }

    if (isMap(value)) {
      value.forEach(function (subValue, key) {
        result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));
      });

      return result;
    }

    var keysFunc = isFull ?
    isFlat ? getAllKeysIn : getAllKeys :
    isFlat ? keysIn : keys;

    var props = isArr ? undefined : keysFunc(value);
    arrayEach(props || value, function (subValue, key) {
      if (props) {
        key = subValue;
        subValue = value[key];
      }
      // Recursively populate clone (susceptible to call stack limits).
      assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));
    });
    return result;
  }

  /**
     * The base implementation of `_.get` without support for default values.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path of the property to get.
     * @returns {*} Returns the resolved value.
     */
  function baseGet(object, path) {
    path = castPath(path, object);

    var index = 0,
    length = path.length;

    while (object != null && index < length) {
      object = object[toKey(path[index++])];
    }
    return index && index == length ? object : undefined;
  }

  /**
     * The base implementation of `getAllKeys` and `getAllKeysIn` which uses
     * `keysFunc` and `symbolsFunc` to get the enumerable property names and
     * symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Function} keysFunc The function to get the keys of `object`.
     * @param {Function} symbolsFunc The function to get the symbols of `object`.
     * @returns {Array} Returns the array of property names and symbols.
     */
  function baseGetAllKeys(object, keysFunc, symbolsFunc) {
    var result = keysFunc(object);
    return isArray(object) ? result : arrayPush(result, symbolsFunc(object));
  }

  /**
     * The base implementation of `getTag` without fallbacks for buggy environments.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the `toStringTag`.
     */
  function baseGetTag(value) {
    if (value == null) {
      return value === undefined ? undefinedTag : nullTag;
    }
    return symToStringTag && symToStringTag in Object(value) ?
    getRawTag(value) :
    objectToString(value);
  }

  /**
     * The base implementation of `_.hasIn` without support for deep paths.
     *
     * @private
     * @param {Object} [object] The object to query.
     * @param {Array|string} key The key to check.
     * @returns {boolean} Returns `true` if `key` exists, else `false`.
     */
  function baseHasIn(object, key) {
    return object != null && key in Object(object);
  }

  /**
     * The base implementation of `_.isArguments`.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an `arguments` object,
     */
  function baseIsArguments(value) {
    return isObjectLike(value) && baseGetTag(value) == argsTag;
  }

  /**
     * The base implementation of `_.isEqual` which supports partial comparisons
     * and tracks traversed objects.
     *
     * @private
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @param {boolean} bitmask The bitmask flags.
     *  1 - Unordered comparison
     *  2 - Partial comparison
     * @param {Function} [customizer] The function to customize comparisons.
     * @param {Object} [stack] Tracks traversed `value` and `other` objects.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     */
  function baseIsEqual(value, other, bitmask, customizer, stack) {
    if (value === other) {
      return true;
    }
    if (value == null || other == null || !isObjectLike(value) && !isObjectLike(other)) {
      return value !== value && other !== other;
    }
    return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);
  }

  /**
     * A specialized version of `baseIsEqual` for arrays and objects which performs
     * deep comparisons and tracks traversed objects enabling objects with circular
     * references to be compared.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} [stack] Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */
  function baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {
    var objIsArr = isArray(object),
    othIsArr = isArray(other),
    objTag = objIsArr ? arrayTag : getTag(object),
    othTag = othIsArr ? arrayTag : getTag(other);

    objTag = objTag == argsTag ? objectTag : objTag;
    othTag = othTag == argsTag ? objectTag : othTag;

    var objIsObj = objTag == objectTag,
    othIsObj = othTag == objectTag,
    isSameTag = objTag == othTag;

    if (isSameTag && isBuffer(object)) {
      if (!isBuffer(other)) {
        return false;
      }
      objIsArr = true;
      objIsObj = false;
    }
    if (isSameTag && !objIsObj) {
      stack || (stack = new Stack());
      return objIsArr || isTypedArray(object) ?
      equalArrays(object, other, bitmask, customizer, equalFunc, stack) :
      equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);
    }
    if (!(bitmask & COMPARE_PARTIAL_FLAG)) {
      var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),
      othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');

      if (objIsWrapped || othIsWrapped) {
        var objUnwrapped = objIsWrapped ? object.value() : object,
        othUnwrapped = othIsWrapped ? other.value() : other;

        stack || (stack = new Stack());
        return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);
      }
    }
    if (!isSameTag) {
      return false;
    }
    stack || (stack = new Stack());
    return equalObjects(object, other, bitmask, customizer, equalFunc, stack);
  }

  /**
     * The base implementation of `_.isMap` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a map, else `false`.
     */
  function baseIsMap(value) {
    return isObjectLike(value) && getTag(value) == mapTag;
  }

  /**
     * The base implementation of `_.isMatch` without support for iteratee shorthands.
     *
     * @private
     * @param {Object} object The object to inspect.
     * @param {Object} source The object of property values to match.
     * @param {Array} matchData The property names, values, and compare flags to match.
     * @param {Function} [customizer] The function to customize comparisons.
     * @returns {boolean} Returns `true` if `object` is a match, else `false`.
     */
  function baseIsMatch(object, source, matchData, customizer) {
    var index = matchData.length,
    length = index,
    noCustomizer = !customizer;

    if (object == null) {
      return !length;
    }
    object = Object(object);
    while (index--) {
      var data = matchData[index];
      if (noCustomizer && data[2] ?
      data[1] !== object[data[0]] :
      !(data[0] in object))
      {
        return false;
      }
    }
    while (++index < length) {
      data = matchData[index];
      var key = data[0],
      objValue = object[key],
      srcValue = data[1];

      if (noCustomizer && data[2]) {
        if (objValue === undefined && !(key in object)) {
          return false;
        }
      } else {
        var stack = new Stack();
        if (customizer) {
          var result = customizer(objValue, srcValue, key, object, source, stack);
        }
        if (!(result === undefined ?
        baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack) :
        result))
        {
          return false;
        }
      }
    }
    return true;
  }

  /**
     * The base implementation of `_.isNative` without bad shim checks.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a native function,
     *  else `false`.
     */
  function baseIsNative(value) {
    if (!isObject(value) || isMasked(value)) {
      return false;
    }
    var pattern = isFunction(value) ? reIsNative : reIsHostCtor;
    return pattern.test(toSource(value));
  }

  /**
     * The base implementation of `_.isSet` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a set, else `false`.
     */
  function baseIsSet(value) {
    return isObjectLike(value) && getTag(value) == setTag;
  }

  /**
     * The base implementation of `_.isTypedArray` without Node.js optimizations.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
     */
  function baseIsTypedArray(value) {
    return isObjectLike(value) &&
    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];
  }

  /**
     * The base implementation of `_.iteratee`.
     *
     * @private
     * @param {*} [value=_.identity] The value to convert to an iteratee.
     * @returns {Function} Returns the iteratee.
     */
  function baseIteratee(value) {
    // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.
    // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.
    if (typeof value == 'function') {
      return value;
    }
    if (value == null) {
      return identity;
    }
    if (_typeof(value) == 'object') {
      return isArray(value) ?
      baseMatchesProperty(value[0], value[1]) :
      baseMatches(value);
    }
    return property(value);
  }

  /**
     * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */
  function baseKeys(object) {
    if (!isPrototype(object)) {
      return nativeKeys(object);
    }
    var result = [];
    for (var key in Object(object)) {
      if (hasOwnProperty.call(object, key) && key != 'constructor') {
        result.push(key);
      }
    }
    return result;
  }

  /**
     * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */
  function baseKeysIn(object) {
    if (!isObject(object)) {
      return nativeKeysIn(object);
    }
    var isProto = isPrototype(object),
    result = [];

    for (var key in object) {
      if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {
        result.push(key);
      }
    }
    return result;
  }

  /**
     * The base implementation of `_.matches` which doesn't clone `source`.
     *
     * @private
     * @param {Object} source The object of property values to match.
     * @returns {Function} Returns the new spec function.
     */
  function baseMatches(source) {
    var matchData = getMatchData(source);
    if (matchData.length == 1 && matchData[0][2]) {
      return matchesStrictComparable(matchData[0][0], matchData[0][1]);
    }
    return function (object) {
      return object === source || baseIsMatch(object, source, matchData);
    };
  }

  /**
     * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.
     *
     * @private
     * @param {string} path The path of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     */
  function baseMatchesProperty(path, srcValue) {
    if (isKey(path) && isStrictComparable(srcValue)) {
      return matchesStrictComparable(toKey(path), srcValue);
    }
    return function (object) {
      var objValue = get(object, path);
      return objValue === undefined && objValue === srcValue ?
      hasIn(object, path) :
      baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);
    };
  }

  /**
     * A specialized version of `baseProperty` which supports deep paths.
     *
     * @private
     * @param {Array|string} path The path of the property to get.
     * @returns {Function} Returns the new accessor function.
     */
  function basePropertyDeep(path) {
    return function (object) {
      return baseGet(object, path);
    };
  }

  /**
     * The base implementation of `_.pullAt` without support for individual
     * indexes or capturing the removed elements.
     *
     * @private
     * @param {Array} array The array to modify.
     * @param {number[]} indexes The indexes of elements to remove.
     * @returns {Array} Returns `array`.
     */
  function basePullAt(array, indexes) {
    var length = array ? indexes.length : 0,
    lastIndex = length - 1;

    while (length--) {
      var index = indexes[length];
      if (length == lastIndex || index !== previous) {
        var previous = index;
        if (isIndex(index)) {
          splice.call(array, index, 1);
        } else {
          baseUnset(array, index);
        }
      }
    }
    return array;
  }

  /**
     * The base implementation of `_.slice` without an iteratee call guard.
     *
     * @private
     * @param {Array} array The array to slice.
     * @param {number} [start=0] The start position.
     * @param {number} [end=array.length] The end position.
     * @returns {Array} Returns the slice of `array`.
     */
  function baseSlice(array, start, end) {
    var index = -1,
    length = array.length;

    if (start < 0) {
      start = -start > length ? 0 : length + start;
    }
    end = end > length ? length : end;
    if (end < 0) {
      end += length;
    }
    length = start > end ? 0 : end - start >>> 0;
    start >>>= 0;

    var result = Array(length);
    while (++index < length) {
      result[index] = array[index + start];
    }
    return result;
  }

  /**
     * The base implementation of `_.toString` which doesn't convert nullish
     * values to empty strings.
     *
     * @private
     * @param {*} value The value to process.
     * @returns {string} Returns the string.
     */
  function baseToString(value) {
    // Exit early for strings to avoid a performance hit in some environments.
    if (typeof value == 'string') {
      return value;
    }
    if (isArray(value)) {
      // Recursively convert values (susceptible to call stack limits).
      return arrayMap(value, baseToString) + '';
    }
    if (isSymbol(value)) {
      return symbolToString ? symbolToString.call(value) : '';
    }
    var result = value + '';
    return result == '0' && 1 / value == -INFINITY ? '-0' : result;
  }

  /**
     * The base implementation of `_.unset`.
     *
     * @private
     * @param {Object} object The object to modify.
     * @param {Array|string} path The property path to unset.
     * @returns {boolean} Returns `true` if the property is deleted, else `false`.
     */
  function baseUnset(object, path) {
    path = castPath(path, object);
    object = parent(object, path);
    return object == null || delete object[toKey(last(path))];
  }

  /**
     * Casts `value` to a path array if it's not one.
     *
     * @private
     * @param {*} value The value to inspect.
     * @param {Object} [object] The object to query keys on.
     * @returns {Array} Returns the cast property path array.
     */
  function castPath(value, object) {
    if (isArray(value)) {
      return value;
    }
    return isKey(value, object) ? [value] : stringToPath(toString(value));
  }

  /**
     * Creates a clone of  `buffer`.
     *
     * @private
     * @param {Buffer} buffer The buffer to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Buffer} Returns the cloned buffer.
     */
  function cloneBuffer(buffer, isDeep) {
    if (isDeep) {
      return buffer.slice();
    }
    var length = buffer.length,
    result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);

    buffer.copy(result);
    return result;
  }

  /**
     * Creates a clone of `arrayBuffer`.
     *
     * @private
     * @param {ArrayBuffer} arrayBuffer The array buffer to clone.
     * @returns {ArrayBuffer} Returns the cloned array buffer.
     */
  function cloneArrayBuffer(arrayBuffer) {
    var result = new arrayBuffer.constructor(arrayBuffer.byteLength);
    new Uint8Array(result).set(new Uint8Array(arrayBuffer));
    return result;
  }

  /**
     * Creates a clone of `dataView`.
     *
     * @private
     * @param {Object} dataView The data view to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the cloned data view.
     */
  function cloneDataView(dataView, isDeep) {
    var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;
    return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);
  }

  /**
     * Creates a clone of `regexp`.
     *
     * @private
     * @param {Object} regexp The regexp to clone.
     * @returns {Object} Returns the cloned regexp.
     */
  function cloneRegExp(regexp) {
    var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));
    result.lastIndex = regexp.lastIndex;
    return result;
  }

  /**
     * Creates a clone of the `symbol` object.
     *
     * @private
     * @param {Object} symbol The symbol object to clone.
     * @returns {Object} Returns the cloned symbol object.
     */
  function cloneSymbol(symbol) {
    return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};
  }

  /**
     * Creates a clone of `typedArray`.
     *
     * @private
     * @param {Object} typedArray The typed array to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the cloned typed array.
     */
  function cloneTypedArray(typedArray, isDeep) {
    var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;
    return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);
  }

  /**
     * Copies the values of `source` to `array`.
     *
     * @private
     * @param {Array} source The array to copy values from.
     * @param {Array} [array=[]] The array to copy values to.
     * @returns {Array} Returns `array`.
     */
  function copyArray(source, array) {
    var index = -1,
    length = source.length;

    array || (array = Array(length));
    while (++index < length) {
      array[index] = source[index];
    }
    return array;
  }

  /**
     * Copies properties of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy properties from.
     * @param {Array} props The property identifiers to copy.
     * @param {Object} [object={}] The object to copy properties to.
     * @param {Function} [customizer] The function to customize copied values.
     * @returns {Object} Returns `object`.
     */
  function copyObject(source, props, object, customizer) {
    var isNew = !object;
    object || (object = {});

    var index = -1,
    length = props.length;

    while (++index < length) {
      var key = props[index];

      var newValue = customizer ?
      customizer(object[key], source[key], key, object, source) :
      undefined;

      if (newValue === undefined) {
        newValue = source[key];
      }
      if (isNew) {
        baseAssignValue(object, key, newValue);
      } else {
        assignValue(object, key, newValue);
      }
    }
    return object;
  }

  /**
     * Copies own symbols of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy symbols from.
     * @param {Object} [object={}] The object to copy symbols to.
     * @returns {Object} Returns `object`.
     */
  function copySymbols(source, object) {
    return copyObject(source, getSymbols(source), object);
  }

  /**
     * Copies own and inherited symbols of `source` to `object`.
     *
     * @private
     * @param {Object} source The object to copy symbols from.
     * @param {Object} [object={}] The object to copy symbols to.
     * @returns {Object} Returns `object`.
     */
  function copySymbolsIn(source, object) {
    return copyObject(source, getSymbolsIn(source), object);
  }

  /**
     * Creates a `_.find` or `_.findLast` function.
     *
     * @private
     * @param {Function} findIndexFunc The function to find the collection index.
     * @returns {Function} Returns the new find function.
     */
  function createFind(findIndexFunc) {
    return function (collection, predicate, fromIndex) {
      var iterable = Object(collection);
      if (!isArrayLike(collection)) {
        var iteratee = getIteratee(predicate, 3);
        collection = keys(collection);
        predicate = function predicate(key) {return iteratee(iterable[key], key, iterable);};
      }
      var index = findIndexFunc(collection, predicate, fromIndex);
      return index > -1 ? iterable[iteratee ? collection[index] : index] : undefined;
    };
  }

  /**
     * A specialized version of `baseIsEqualDeep` for arrays with support for
     * partial deep comparisons.
     *
     * @private
     * @param {Array} array The array to compare.
     * @param {Array} other The other array to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `array` and `other` objects.
     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.
     */
  function equalArrays(array, other, bitmask, customizer, equalFunc, stack) {
    var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
    arrLength = array.length,
    othLength = other.length;

    if (arrLength != othLength && !(isPartial && othLength > arrLength)) {
      return false;
    }
    // Assume cyclic values are equal.
    var stacked = stack.get(array);
    if (stacked && stack.get(other)) {
      return stacked == other;
    }
    var index = -1,
    result = true,
    seen = bitmask & COMPARE_UNORDERED_FLAG ? new SetCache() : undefined;

    stack.set(array, other);
    stack.set(other, array);

    // Ignore non-index properties.
    while (++index < arrLength) {
      var arrValue = array[index],
      othValue = other[index];

      if (customizer) {
        var compared = isPartial ?
        customizer(othValue, arrValue, index, other, array, stack) :
        customizer(arrValue, othValue, index, array, other, stack);
      }
      if (compared !== undefined) {
        if (compared) {
          continue;
        }
        result = false;
        break;
      }
      // Recursively compare arrays (susceptible to call stack limits).
      if (seen) {
        if (!arraySome(other, function (othValue, othIndex) {
          if (!cacheHas(seen, othIndex) && (
          arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {
            return seen.push(othIndex);
          }
        })) {
          result = false;
          break;
        }
      } else if (!(
      arrValue === othValue ||
      equalFunc(arrValue, othValue, bitmask, customizer, stack)))
      {
        result = false;
        break;
      }
    }
    stack['delete'](array);
    stack['delete'](other);
    return result;
  }

  /**
     * A specialized version of `baseIsEqualDeep` for comparing objects of
     * the same `toStringTag`.
     *
     * **Note:** This function only supports comparing values with tags of
     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {string} tag The `toStringTag` of the objects to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */
  function equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {
    switch (tag) {
      case dataViewTag:
        if (object.byteLength != other.byteLength ||
        object.byteOffset != other.byteOffset) {
          return false;
        }
        object = object.buffer;
        other = other.buffer;

      case arrayBufferTag:
        if (object.byteLength != other.byteLength ||
        !equalFunc(new Uint8Array(object), new Uint8Array(other))) {
          return false;
        }
        return true;

      case boolTag:
      case dateTag:
      case numberTag:
        // Coerce booleans to `1` or `0` and dates to milliseconds.
        // Invalid dates are coerced to `NaN`.
        return eq(+object, +other);

      case errorTag:
        return object.name == other.name && object.message == other.message;

      case regexpTag:
      case stringTag:
        // Coerce regexes to strings and treat strings, primitives and objects,
        // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring
        // for more details.
        return object == other + '';

      case mapTag:
        var convert = mapToArray;

      case setTag:
        var isPartial = bitmask & COMPARE_PARTIAL_FLAG;
        convert || (convert = setToArray);

        if (object.size != other.size && !isPartial) {
          return false;
        }
        // Assume cyclic values are equal.
        var stacked = stack.get(object);
        if (stacked) {
          return stacked == other;
        }
        bitmask |= COMPARE_UNORDERED_FLAG;

        // Recursively compare objects (susceptible to call stack limits).
        stack.set(object, other);
        var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);
        stack['delete'](object);
        return result;

      case symbolTag:
        if (symbolValueOf) {
          return symbolValueOf.call(object) == symbolValueOf.call(other);
        }}

    return false;
  }

  /**
     * A specialized version of `baseIsEqualDeep` for objects with support for
     * partial deep comparisons.
     *
     * @private
     * @param {Object} object The object to compare.
     * @param {Object} other The other object to compare.
     * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.
     * @param {Function} customizer The function to customize comparisons.
     * @param {Function} equalFunc The function to determine equivalents of values.
     * @param {Object} stack Tracks traversed `object` and `other` objects.
     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.
     */
  function equalObjects(object, other, bitmask, customizer, equalFunc, stack) {
    var isPartial = bitmask & COMPARE_PARTIAL_FLAG,
    objProps = getAllKeys(object),
    objLength = objProps.length,
    othProps = getAllKeys(other),
    othLength = othProps.length;

    if (objLength != othLength && !isPartial) {
      return false;
    }
    var index = objLength;
    while (index--) {
      var key = objProps[index];
      if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {
        return false;
      }
    }
    // Assume cyclic values are equal.
    var stacked = stack.get(object);
    if (stacked && stack.get(other)) {
      return stacked == other;
    }
    var result = true;
    stack.set(object, other);
    stack.set(other, object);

    var skipCtor = isPartial;
    while (++index < objLength) {
      key = objProps[index];
      var objValue = object[key],
      othValue = other[key];

      if (customizer) {
        var compared = isPartial ?
        customizer(othValue, objValue, key, other, object, stack) :
        customizer(objValue, othValue, key, object, other, stack);
      }
      // Recursively compare objects (susceptible to call stack limits).
      if (!(compared === undefined ?
      objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack) :
      compared))
      {
        result = false;
        break;
      }
      skipCtor || (skipCtor = key == 'constructor');
    }
    if (result && !skipCtor) {
      var objCtor = object.constructor,
      othCtor = other.constructor;

      // Non `Object` object instances with different constructors are not equal.
      if (objCtor != othCtor &&
      'constructor' in object && 'constructor' in other &&
      !(typeof objCtor == 'function' && objCtor instanceof objCtor &&
      typeof othCtor == 'function' && othCtor instanceof othCtor)) {
        result = false;
      }
    }
    stack['delete'](object);
    stack['delete'](other);
    return result;
  }

  /**
     * Creates an array of own enumerable property names and symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names and symbols.
     */
  function getAllKeys(object) {
    return baseGetAllKeys(object, keys, getSymbols);
  }

  /**
     * Creates an array of own and inherited enumerable property names and
     * symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names and symbols.
     */
  function getAllKeysIn(object) {
    return baseGetAllKeys(object, keysIn, getSymbolsIn);
  }

  /**
     * Gets the appropriate "iteratee" function. If `_.iteratee` is customized,
     * this function returns the custom method, otherwise it returns `baseIteratee`.
     * If arguments are provided, the chosen function is invoked with them and
     * its result is returned.
     *
     * @private
     * @param {*} [value] The value to convert to an iteratee.
     * @param {number} [arity] The arity of the created iteratee.
     * @returns {Function} Returns the chosen function or its result.
     */
  function getIteratee() {
    var result = lodash.iteratee || iteratee;
    result = result === iteratee ? baseIteratee : result;
    return arguments.length ? result(arguments[0], arguments[1]) : result;
  }

  /**
     * Gets the data for `map`.
     *
     * @private
     * @param {Object} map The map to query.
     * @param {string} key The reference key.
     * @returns {*} Returns the map data.
     */
  function getMapData(map, key) {
    var data = map.__data__;
    return isKeyable(key) ?
    data[typeof key == 'string' ? 'string' : 'hash'] :
    data.map;
  }

  /**
     * Gets the property names, values, and compare flags of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the match data of `object`.
     */
  function getMatchData(object) {
    var result = keys(object),
    length = result.length;

    while (length--) {
      var key = result[length],
      value = object[key];

      result[length] = [key, value, isStrictComparable(value)];
    }
    return result;
  }

  /**
     * Gets the native function at `key` of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {string} key The key of the method to get.
     * @returns {*} Returns the function if it's native, else `undefined`.
     */
  function getNative(object, key) {
    var value = getValue(object, key);
    return baseIsNative(value) ? value : undefined;
  }

  /**
     * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.
     *
     * @private
     * @param {*} value The value to query.
     * @returns {string} Returns the raw `toStringTag`.
     */
  function getRawTag(value) {
    var isOwn = hasOwnProperty.call(value, symToStringTag),
    tag = value[symToStringTag];

    try {
      value[symToStringTag] = undefined;
      var unmasked = true;
    } catch (e) {}

    var result = nativeObjectToString.call(value);
    if (unmasked) {
      if (isOwn) {
        value[symToStringTag] = tag;
      } else {
        delete value[symToStringTag];
      }
    }
    return result;
  }

  /**
     * Creates an array of the own enumerable symbols of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of symbols.
     */
  var getSymbols = !nativeGetSymbols ? stubArray : function (object) {
    if (object == null) {
      return [];
    }
    object = Object(object);
    return arrayFilter(nativeGetSymbols(object), function (symbol) {
      return propertyIsEnumerable.call(object, symbol);
    });
  };

  /**
      * Creates an array of the own and inherited enumerable symbols of `object`.
      *
      * @private
      * @param {Object} object The object to query.
      * @returns {Array} Returns the array of symbols.
      */
  var getSymbolsIn = !nativeGetSymbols ? stubArray : function (object) {
    var result = [];
    while (object) {
      arrayPush(result, getSymbols(object));
      object = getPrototype(object);
    }
    return result;
  };

  /**
      * Gets the `toStringTag` of `value`.
      *
      * @private
      * @param {*} value The value to query.
      * @returns {string} Returns the `toStringTag`.
      */
  var getTag = baseGetTag;

  // Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.
  if (DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag ||
  Map && getTag(new Map()) != mapTag ||
  Promise && getTag(Promise.resolve()) != promiseTag ||
  Set && getTag(new Set()) != setTag ||
  WeakMap && getTag(new WeakMap()) != weakMapTag) {
    getTag = function getTag(value) {
      var result = baseGetTag(value),
      Ctor = result == objectTag ? value.constructor : undefined,
      ctorString = Ctor ? toSource(Ctor) : '';

      if (ctorString) {
        switch (ctorString) {
          case dataViewCtorString:return dataViewTag;
          case mapCtorString:return mapTag;
          case promiseCtorString:return promiseTag;
          case setCtorString:return setTag;
          case weakMapCtorString:return weakMapTag;}

      }
      return result;
    };
  }

  /**
     * Checks if `path` exists on `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @param {Function} hasFunc The function to check properties.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     */
  function hasPath(object, path, hasFunc) {
    path = castPath(path, object);

    var index = -1,
    length = path.length,
    result = false;

    while (++index < length) {
      var key = toKey(path[index]);
      if (!(result = object != null && hasFunc(object, key))) {
        break;
      }
      object = object[key];
    }
    if (result || ++index != length) {
      return result;
    }
    length = object == null ? 0 : object.length;
    return !!length && isLength(length) && isIndex(key, length) && (
    isArray(object) || isArguments(object));
  }

  /**
     * Initializes an array clone.
     *
     * @private
     * @param {Array} array The array to clone.
     * @returns {Array} Returns the initialized clone.
     */
  function initCloneArray(array) {
    var length = array.length,
    result = new array.constructor(length);

    // Add properties assigned by `RegExp#exec`.
    if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {
      result.index = array.index;
      result.input = array.input;
    }
    return result;
  }

  /**
     * Initializes an object clone.
     *
     * @private
     * @param {Object} object The object to clone.
     * @returns {Object} Returns the initialized clone.
     */
  function initCloneObject(object) {
    return typeof object.constructor == 'function' && !isPrototype(object) ?
    baseCreate(getPrototype(object)) :
    {};
  }

  /**
     * Initializes an object clone based on its `toStringTag`.
     *
     * **Note:** This function only supports cloning values with tags of
     * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.
     *
     * @private
     * @param {Object} object The object to clone.
     * @param {string} tag The `toStringTag` of the object to clone.
     * @param {boolean} [isDeep] Specify a deep clone.
     * @returns {Object} Returns the initialized clone.
     */
  function initCloneByTag(object, tag, isDeep) {
    var Ctor = object.constructor;
    switch (tag) {
      case arrayBufferTag:
        return cloneArrayBuffer(object);

      case boolTag:
      case dateTag:
        return new Ctor(+object);

      case dataViewTag:
        return cloneDataView(object, isDeep);

      case float32Tag:case float64Tag:
      case int8Tag:case int16Tag:case int32Tag:
      case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:
        return cloneTypedArray(object, isDeep);

      case mapTag:
        return new Ctor();

      case numberTag:
      case stringTag:
        return new Ctor(object);

      case regexpTag:
        return cloneRegExp(object);

      case setTag:
        return new Ctor();

      case symbolTag:
        return cloneSymbol(object);}

  }

  /**
     * Checks if `value` is a valid array-like index.
     *
     * @private
     * @param {*} value The value to check.
     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.
     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.
     */
  function isIndex(value, length) {
    var type = _typeof(value);
    length = length == null ? MAX_SAFE_INTEGER : length;

    return !!length && (
    type == 'number' ||
    type != 'symbol' && reIsUint.test(value)) &&
    value > -1 && value % 1 == 0 && value < length;
  }

  /**
     * Checks if `value` is a property name and not a property path.
     *
     * @private
     * @param {*} value The value to check.
     * @param {Object} [object] The object to query keys on.
     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.
     */
  function isKey(value, object) {
    if (isArray(value)) {
      return false;
    }
    var type = _typeof(value);
    if (type == 'number' || type == 'symbol' || type == 'boolean' ||
    value == null || isSymbol(value)) {
      return true;
    }
    return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||
    object != null && value in Object(object);
  }

  /**
     * Checks if `value` is suitable for use as unique object key.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is suitable, else `false`.
     */
  function isKeyable(value) {
    var type = _typeof(value);
    return type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean' ?
    value !== '__proto__' :
    value === null;
  }

  /**
     * Checks if `func` has its source masked.
     *
     * @private
     * @param {Function} func The function to check.
     * @returns {boolean} Returns `true` if `func` is masked, else `false`.
     */
  function isMasked(func) {
    return !!maskSrcKey && maskSrcKey in func;
  }

  /**
     * Checks if `value` is likely a prototype object.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.
     */
  function isPrototype(value) {
    var Ctor = value && value.constructor,
    proto = typeof Ctor == 'function' && Ctor.prototype || objectProto;

    return value === proto;
  }

  /**
     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.
     *
     * @private
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` if suitable for strict
     *  equality comparisons, else `false`.
     */
  function isStrictComparable(value) {
    return value === value && !isObject(value);
  }

  /**
     * A specialized version of `matchesProperty` for source values suitable
     * for strict equality comparisons, i.e. `===`.
     *
     * @private
     * @param {string} key The key of the property to get.
     * @param {*} srcValue The value to match.
     * @returns {Function} Returns the new spec function.
     */
  function matchesStrictComparable(key, srcValue) {
    return function (object) {
      if (object == null) {
        return false;
      }
      return object[key] === srcValue && (
      srcValue !== undefined || key in Object(object));
    };
  }

  /**
     * A specialized version of `_.memoize` which clears the memoized function's
     * cache when it exceeds `MAX_MEMOIZE_SIZE`.
     *
     * @private
     * @param {Function} func The function to have its output memoized.
     * @returns {Function} Returns the new memoized function.
     */
  function memoizeCapped(func) {
    var result = memoize(func, function (key) {
      if (cache.size === MAX_MEMOIZE_SIZE) {
        cache.clear();
      }
      return key;
    });

    var cache = result.cache;
    return result;
  }

  /**
     * This function is like
     * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
     * except that it includes inherited enumerable properties.
     *
     * @private
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     */
  function nativeKeysIn(object) {
    var result = [];
    if (object != null) {
      for (var key in Object(object)) {
        result.push(key);
      }
    }
    return result;
  }

  /**
     * Converts `value` to a string using `Object.prototype.toString`.
     *
     * @private
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     */
  function objectToString(value) {
    return nativeObjectToString.call(value);
  }

  /**
     * Gets the parent value at `path` of `object`.
     *
     * @private
     * @param {Object} object The object to query.
     * @param {Array} path The path to get the parent value of.
     * @returns {*} Returns the parent value.
     */
  function parent(object, path) {
    return path.length < 2 ? object : baseGet(object, baseSlice(path, 0, -1));
  }

  /**
     * Converts `string` to a property path array.
     *
     * @private
     * @param {string} string The string to convert.
     * @returns {Array} Returns the property path array.
     */
  var stringToPath = memoizeCapped(function (string) {
    var result = [];
    if (string.charCodeAt(0) === 46 /* . */) {
        result.push('');
      }
    string.replace(rePropName, function (match, number, quote, subString) {
      result.push(quote ? subString.replace(reEscapeChar, '$1') : number || match);
    });
    return result;
  });

  /**
       * Converts `value` to a string key if it's not a string or symbol.
       *
       * @private
       * @param {*} value The value to inspect.
       * @returns {string|symbol} Returns the key.
       */
  function toKey(value) {
    if (typeof value == 'string' || isSymbol(value)) {
      return value;
    }
    var result = value + '';
    return result == '0' && 1 / value == -INFINITY ? '-0' : result;
  }

  /**
     * Converts `func` to its source code.
     *
     * @private
     * @param {Function} func The function to convert.
     * @returns {string} Returns the source code.
     */
  function toSource(func) {
    if (func != null) {
      try {
        return funcToString.call(func);
      } catch (e) {}
      try {
        return func + '';
      } catch (e) {}
    }
    return '';
  }

  /*------------------------------------------------------------------------*/

  /**
                                                                                * This method is like `_.findIndex` except that it iterates over elements
                                                                                * of `collection` from right to left.
                                                                                *
                                                                                * @static
                                                                                * @memberOf _
                                                                                * @since 2.0.0
                                                                                * @category Array
                                                                                * @param {Array} array The array to inspect.
                                                                                * @param {Function} [predicate=_.identity] The function invoked per iteration.
                                                                                * @param {number} [fromIndex=array.length-1] The index to search from.
                                                                                * @returns {number} Returns the index of the found element, else `-1`.
                                                                                * @example
                                                                                *
                                                                                * var users = [
                                                                                *   { 'user': 'barney',  'active': true },
                                                                                *   { 'user': 'fred',    'active': false },
                                                                                *   { 'user': 'pebbles', 'active': false }
                                                                                * ];
                                                                                *
                                                                                * _.findLastIndex(users, function(o) { return o.user == 'pebbles'; });
                                                                                * // => 2
                                                                                *
                                                                                * // The `_.matches` iteratee shorthand.
                                                                                * _.findLastIndex(users, { 'user': 'barney', 'active': true });
                                                                                * // => 0
                                                                                *
                                                                                * // The `_.matchesProperty` iteratee shorthand.
                                                                                * _.findLastIndex(users, ['active', false]);
                                                                                * // => 2
                                                                                *
                                                                                * // The `_.property` iteratee shorthand.
                                                                                * _.findLastIndex(users, 'active');
                                                                                * // => 0
                                                                                */
  function findLastIndex(array, predicate, fromIndex) {
    var length = array == null ? 0 : array.length;
    if (!length) {
      return -1;
    }
    var index = length - 1;
    if (fromIndex !== undefined) {
      index = toInteger(fromIndex);
      index = fromIndex < 0 ?
      nativeMax(length + index, 0) :
      nativeMin(index, length - 1);
    }
    return baseFindIndex(array, getIteratee(predicate, 3), index, true);
  }

  /**
     * Gets the last element of `array`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Array
     * @param {Array} array The array to query.
     * @returns {*} Returns the last element of `array`.
     * @example
     *
     * _.last([1, 2, 3]);
     * // => 3
     */
  function last(array) {
    var length = array == null ? 0 : array.length;
    return length ? array[length - 1] : undefined;
  }

  /**
     * Removes all elements from `array` that `predicate` returns truthy for
     * and returns an array of the removed elements. The predicate is invoked
     * with three arguments: (value, index, array).
     *
     * **Note:** Unlike `_.filter`, this method mutates `array`. Use `_.pull`
     * to pull elements from an array by value.
     *
     * @static
     * @memberOf _
     * @since 2.0.0
     * @category Array
     * @param {Array} array The array to modify.
     * @param {Function} [predicate=_.identity] The function invoked per iteration.
     * @returns {Array} Returns the new array of removed elements.
     * @example
     *
     * var array = [1, 2, 3, 4];
     * var evens = _.remove(array, function(n) {
     *   return n % 2 == 0;
     * });
     *
     * console.log(array);
     * // => [1, 3]
     *
     * console.log(evens);
     * // => [2, 4]
     */
  function remove(array, predicate) {
    var result = [];
    if (!(array && array.length)) {
      return result;
    }
    var index = -1,
    indexes = [],
    length = array.length;

    predicate = getIteratee(predicate, 3);
    while (++index < length) {
      var value = array[index];
      if (predicate(value, index, array)) {
        result.push(value);
        indexes.push(index);
      }
    }
    basePullAt(array, indexes);
    return result;
  }

  /*------------------------------------------------------------------------*/

  /**
                                                                                * This method is like `_.find` except that it iterates over elements of
                                                                                * `collection` from right to left.
                                                                                *
                                                                                * @static
                                                                                * @memberOf _
                                                                                * @since 2.0.0
                                                                                * @category Collection
                                                                                * @param {Array|Object} collection The collection to inspect.
                                                                                * @param {Function} [predicate=_.identity] The function invoked per iteration.
                                                                                * @param {number} [fromIndex=collection.length-1] The index to search from.
                                                                                * @returns {*} Returns the matched element, else `undefined`.
                                                                                * @example
                                                                                *
                                                                                * _.findLast([1, 2, 3, 4], function(n) {
                                                                                *   return n % 2 == 1;
                                                                                * });
                                                                                * // => 3
                                                                                */
  var findLast = createFind(findLastIndex);

  /*------------------------------------------------------------------------*/

  /**
                                                                                * Gets the timestamp of the number of milliseconds that have elapsed since
                                                                                * the Unix epoch (1 January 1970 00:00:00 UTC).
                                                                                *
                                                                                * @static
                                                                                * @memberOf _
                                                                                * @since 2.4.0
                                                                                * @category Date
                                                                                * @returns {number} Returns the timestamp.
                                                                                * @example
                                                                                *
                                                                                * _.defer(function(stamp) {
                                                                                *   console.log(_.now() - stamp);
                                                                                * }, _.now());
                                                                                * // => Logs the number of milliseconds it took for the deferred invocation.
                                                                                */
  var now = function now() {
    return root.Date.now();
  };

  /*------------------------------------------------------------------------*/

  /**
                                                                                * Creates a debounced function that delays invoking `func` until after `wait`
                                                                                * milliseconds have elapsed since the last time the debounced function was
                                                                                * invoked. The debounced function comes with a `cancel` method to cancel
                                                                                * delayed `func` invocations and a `flush` method to immediately invoke them.
                                                                                * Provide `options` to indicate whether `func` should be invoked on the
                                                                                * leading and/or trailing edge of the `wait` timeout. The `func` is invoked
                                                                                * with the last arguments provided to the debounced function. Subsequent
                                                                                * calls to the debounced function return the result of the last `func`
                                                                                * invocation.
                                                                                *
                                                                                * **Note:** If `leading` and `trailing` options are `true`, `func` is
                                                                                * invoked on the trailing edge of the timeout only if the debounced function
                                                                                * is invoked more than once during the `wait` timeout.
                                                                                *
                                                                                * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred
                                                                                * until to the next tick, similar to `setTimeout` with a timeout of `0`.
                                                                                *
                                                                                * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)
                                                                                * for details over the differences between `_.debounce` and `_.throttle`.
                                                                                *
                                                                                * @static
                                                                                * @memberOf _
                                                                                * @since 0.1.0
                                                                                * @category Function
                                                                                * @param {Function} func The function to debounce.
                                                                                * @param {number} [wait=0] The number of milliseconds to delay.
                                                                                * @param {Object} [options={}] The options object.
                                                                                * @param {boolean} [options.leading=false]
                                                                                *  Specify invoking on the leading edge of the timeout.
                                                                                * @param {number} [options.maxWait]
                                                                                *  The maximum time `func` is allowed to be delayed before it's invoked.
                                                                                * @param {boolean} [options.trailing=true]
                                                                                *  Specify invoking on the trailing edge of the timeout.
                                                                                * @returns {Function} Returns the new debounced function.
                                                                                * @example
                                                                                *
                                                                                * // Avoid costly calculations while the window size is in flux.
                                                                                * jQuery(window).on('resize', _.debounce(calculateLayout, 150));
                                                                                *
                                                                                * // Invoke `sendMail` when clicked, debouncing subsequent calls.
                                                                                * jQuery(element).on('click', _.debounce(sendMail, 300, {
                                                                                *   'leading': true,
                                                                                *   'trailing': false
                                                                                * }));
                                                                                *
                                                                                * // Ensure `batchLog` is invoked once after 1 second of debounced calls.
                                                                                * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });
                                                                                * var source = new EventSource('/stream');
                                                                                * jQuery(source).on('message', debounced);
                                                                                *
                                                                                * // Cancel the trailing debounced invocation.
                                                                                * jQuery(window).on('popstate', debounced.cancel);
                                                                                */
  function debounce(func, wait, options) {
    var lastArgs,
    lastThis,
    maxWait,
    result,
    timerId,
    lastCallTime,
    lastInvokeTime = 0,
    leading = false,
    maxing = false,
    trailing = true;

    if (typeof func != 'function') {
      throw new TypeError(FUNC_ERROR_TEXT);
    }
    wait = toNumber(wait) || 0;
    if (isObject(options)) {
      leading = !!options.leading;
      maxing = 'maxWait' in options;
      maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;
      trailing = 'trailing' in options ? !!options.trailing : trailing;
    }

    function invokeFunc(time) {
      var args = lastArgs,
      thisArg = lastThis;

      lastArgs = lastThis = undefined;
      lastInvokeTime = time;
      result = func.apply(thisArg, args);
      return result;
    }

    function leadingEdge(time) {
      // Reset any `maxWait` timer.
      lastInvokeTime = time;
      // Start the timer for the trailing edge.
      timerId = setTimeout(timerExpired, wait);
      // Invoke the leading edge.
      return leading ? invokeFunc(time) : result;
    }

    function remainingWait(time) {
      var timeSinceLastCall = time - lastCallTime,
      timeSinceLastInvoke = time - lastInvokeTime,
      timeWaiting = wait - timeSinceLastCall;

      return maxing ?
      nativeMin(timeWaiting, maxWait - timeSinceLastInvoke) :
      timeWaiting;
    }

    function shouldInvoke(time) {
      var timeSinceLastCall = time - lastCallTime,
      timeSinceLastInvoke = time - lastInvokeTime;

      // Either this is the first call, activity has stopped and we're at the
      // trailing edge, the system time has gone backwards and we're treating
      // it as the trailing edge, or we've hit the `maxWait` limit.
      return lastCallTime === undefined || timeSinceLastCall >= wait ||
      timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;
    }

    function timerExpired() {
      var time = now();
      if (shouldInvoke(time)) {
        return trailingEdge(time);
      }
      // Restart the timer.
      timerId = setTimeout(timerExpired, remainingWait(time));
    }

    function trailingEdge(time) {
      timerId = undefined;

      // Only invoke if we have `lastArgs` which means `func` has been
      // debounced at least once.
      if (trailing && lastArgs) {
        return invokeFunc(time);
      }
      lastArgs = lastThis = undefined;
      return result;
    }

    function cancel() {
      if (timerId !== undefined) {
        clearTimeout(timerId);
      }
      lastInvokeTime = 0;
      lastArgs = lastCallTime = lastThis = timerId = undefined;
    }

    function flush() {
      return timerId === undefined ? result : trailingEdge(now());
    }

    function debounced() {
      var time = now(),
      isInvoking = shouldInvoke(time);

      lastArgs = arguments;
      lastThis = this;
      lastCallTime = time;

      if (isInvoking) {
        if (timerId === undefined) {
          return leadingEdge(lastCallTime);
        }
        if (maxing) {
          // Handle invocations in a tight loop.
          timerId = setTimeout(timerExpired, wait);
          return invokeFunc(lastCallTime);
        }
      }
      if (timerId === undefined) {
        timerId = setTimeout(timerExpired, wait);
      }
      return result;
    }
    debounced.cancel = cancel;
    debounced.flush = flush;
    return debounced;
  }

  /**
     * Creates a function that memoizes the result of `func`. If `resolver` is
     * provided, it determines the cache key for storing the result based on the
     * arguments provided to the memoized function. By default, the first argument
     * provided to the memoized function is used as the map cache key. The `func`
     * is invoked with the `this` binding of the memoized function.
     *
     * **Note:** The cache is exposed as the `cache` property on the memoized
     * function. Its creation may be customized by replacing the `_.memoize.Cache`
     * constructor with one whose instances implement the
     * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)
     * method interface of `clear`, `delete`, `get`, `has`, and `set`.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Function
     * @param {Function} func The function to have its output memoized.
     * @param {Function} [resolver] The function to resolve the cache key.
     * @returns {Function} Returns the new memoized function.
     * @example
     *
     * var object = { 'a': 1, 'b': 2 };
     * var other = { 'c': 3, 'd': 4 };
     *
     * var values = _.memoize(_.values);
     * values(object);
     * // => [1, 2]
     *
     * values(other);
     * // => [3, 4]
     *
     * object.a = 2;
     * values(object);
     * // => [1, 2]
     *
     * // Modify the result cache.
     * values.cache.set(object, ['a', 'b']);
     * values(object);
     * // => ['a', 'b']
     *
     * // Replace `_.memoize.Cache`.
     * _.memoize.Cache = WeakMap;
     */
  function memoize(func, resolver) {
    if (typeof func != 'function' || resolver != null && typeof resolver != 'function') {
      throw new TypeError(FUNC_ERROR_TEXT);
    }
    var memoized = function memoized() {
      var args = arguments,
      key = resolver ? resolver.apply(this, args) : args[0],
      cache = memoized.cache;

      if (cache.has(key)) {
        return cache.get(key);
      }
      var result = func.apply(this, args);
      memoized.cache = cache.set(key, result) || cache;
      return result;
    };
    memoized.cache = new (memoize.Cache || MapCache)();
    return memoized;
  }

  // Expose `MapCache`.
  memoize.Cache = MapCache;

  /*------------------------------------------------------------------------*/

  /**
                                                                                * This method is like `_.clone` except that it recursively clones `value`.
                                                                                *
                                                                                * @static
                                                                                * @memberOf _
                                                                                * @since 1.0.0
                                                                                * @category Lang
                                                                                * @param {*} value The value to recursively clone.
                                                                                * @returns {*} Returns the deep cloned value.
                                                                                * @see _.clone
                                                                                * @example
                                                                                *
                                                                                * var objects = [{ 'a': 1 }, { 'b': 2 }];
                                                                                *
                                                                                * var deep = _.cloneDeep(objects);
                                                                                * console.log(deep[0] === objects[0]);
                                                                                * // => false
                                                                                */
  function cloneDeep(value) {
    return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);
  }

  /**
     * Performs a
     * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)
     * comparison between two values to determine if they are equivalent.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to compare.
     * @param {*} other The other value to compare.
     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.
     * @example
     *
     * var object = { 'a': 1 };
     * var other = { 'a': 1 };
     *
     * _.eq(object, object);
     * // => true
     *
     * _.eq(object, other);
     * // => false
     *
     * _.eq('a', 'a');
     * // => true
     *
     * _.eq('a', Object('a'));
     * // => false
     *
     * _.eq(NaN, NaN);
     * // => true
     */
  function eq(value, other) {
    return value === other || value !== value && other !== other;
  }

  /**
     * Checks if `value` is likely an `arguments` object.
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an `arguments` object,
     *  else `false`.
     * @example
     *
     * _.isArguments(function() { return arguments; }());
     * // => true
     *
     * _.isArguments([1, 2, 3]);
     * // => false
     */
  var isArguments = baseIsArguments(function () {return arguments;}()) ? baseIsArguments : function (value) {
    return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&
    !propertyIsEnumerable.call(value, 'callee');
  };

  /**
      * Checks if `value` is classified as an `Array` object.
      *
      * @static
      * @memberOf _
      * @since 0.1.0
      * @category Lang
      * @param {*} value The value to check.
      * @returns {boolean} Returns `true` if `value` is an array, else `false`.
      * @example
      *
      * _.isArray([1, 2, 3]);
      * // => true
      *
      * _.isArray(document.body.children);
      * // => false
      *
      * _.isArray('abc');
      * // => false
      *
      * _.isArray(_.noop);
      * // => false
      */
  var isArray = Array.isArray;

  /**
                                * Checks if `value` is array-like. A value is considered array-like if it's
                                * not a function and has a `value.length` that's an integer greater than or
                                * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.
                                *
                                * @static
                                * @memberOf _
                                * @since 4.0.0
                                * @category Lang
                                * @param {*} value The value to check.
                                * @returns {boolean} Returns `true` if `value` is array-like, else `false`.
                                * @example
                                *
                                * _.isArrayLike([1, 2, 3]);
                                * // => true
                                *
                                * _.isArrayLike(document.body.children);
                                * // => true
                                *
                                * _.isArrayLike('abc');
                                * // => true
                                *
                                * _.isArrayLike(_.noop);
                                * // => false
                                */
  function isArrayLike(value) {
    return value != null && isLength(value.length) && !isFunction(value);
  }

  /**
     * Checks if `value` is a buffer.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.
     * @example
     *
     * _.isBuffer(new Buffer(2));
     * // => true
     *
     * _.isBuffer(new Uint8Array(2));
     * // => false
     */
  var isBuffer = nativeIsBuffer || stubFalse;

  /**
                                               * Checks if `value` is classified as a `Function` object.
                                               *
                                               * @static
                                               * @memberOf _
                                               * @since 0.1.0
                                               * @category Lang
                                               * @param {*} value The value to check.
                                               * @returns {boolean} Returns `true` if `value` is a function, else `false`.
                                               * @example
                                               *
                                               * _.isFunction(_);
                                               * // => true
                                               *
                                               * _.isFunction(/abc/);
                                               * // => false
                                               */
  function isFunction(value) {
    if (!isObject(value)) {
      return false;
    }
    // The use of `Object#toString` avoids issues with the `typeof` operator
    // in Safari 9 which returns 'object' for typed arrays and other constructors.
    var tag = baseGetTag(value);
    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;
  }

  /**
     * Checks if `value` is a valid array-like length.
     *
     * **Note:** This method is loosely based on
     * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.
     * @example
     *
     * _.isLength(3);
     * // => true
     *
     * _.isLength(Number.MIN_VALUE);
     * // => false
     *
     * _.isLength(Infinity);
     * // => false
     *
     * _.isLength('3');
     * // => false
     */
  function isLength(value) {
    return typeof value == 'number' &&
    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;
  }

  /**
     * Checks if `value` is the
     * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)
     * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)
     *
     * @static
     * @memberOf _
     * @since 0.1.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is an object, else `false`.
     * @example
     *
     * _.isObject({});
     * // => true
     *
     * _.isObject([1, 2, 3]);
     * // => true
     *
     * _.isObject(_.noop);
     * // => true
     *
     * _.isObject(null);
     * // => false
     */
  function isObject(value) {
    var type = _typeof(value);
    return value != null && (type == 'object' || type == 'function');
  }

  /**
     * Checks if `value` is object-like. A value is object-like if it's not `null`
     * and has a `typeof` result of "object".
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is object-like, else `false`.
     * @example
     *
     * _.isObjectLike({});
     * // => true
     *
     * _.isObjectLike([1, 2, 3]);
     * // => true
     *
     * _.isObjectLike(_.noop);
     * // => false
     *
     * _.isObjectLike(null);
     * // => false
     */
  function isObjectLike(value) {
    return value != null && _typeof(value) == 'object';
  }

  /**
     * Checks if `value` is classified as a `Map` object.
     *
     * @static
     * @memberOf _
     * @since 4.3.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a map, else `false`.
     * @example
     *
     * _.isMap(new Map);
     * // => true
     *
     * _.isMap(new WeakMap);
     * // => false
     */
  var isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;

  /**
                                                             * Checks if `value` is classified as a `Set` object.
                                                             *
                                                             * @static
                                                             * @memberOf _
                                                             * @since 4.3.0
                                                             * @category Lang
                                                             * @param {*} value The value to check.
                                                             * @returns {boolean} Returns `true` if `value` is a set, else `false`.
                                                             * @example
                                                             *
                                                             * _.isSet(new Set);
                                                             * // => true
                                                             *
                                                             * _.isSet(new WeakSet);
                                                             * // => false
                                                             */
  var isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;

  /**
                                                             * Checks if `value` is classified as a `Symbol` primitive or object.
                                                             *
                                                             * @static
                                                             * @memberOf _
                                                             * @since 4.0.0
                                                             * @category Lang
                                                             * @param {*} value The value to check.
                                                             * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.
                                                             * @example
                                                             *
                                                             * _.isSymbol(Symbol.iterator);
                                                             * // => true
                                                             *
                                                             * _.isSymbol('abc');
                                                             * // => false
                                                             */
  function isSymbol(value) {
    return _typeof(value) == 'symbol' ||
    isObjectLike(value) && baseGetTag(value) == symbolTag;
  }

  /**
     * Checks if `value` is classified as a typed array.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Lang
     * @param {*} value The value to check.
     * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.
     * @example
     *
     * _.isTypedArray(new Uint8Array);
     * // => true
     *
     * _.isTypedArray([]);
     * // => false
     */
  var isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;

  /**
                                                                                         * Converts `value` to a finite number.
                                                                                         *
                                                                                         * @static
                                                                                         * @memberOf _
                                                                                         * @since 4.12.0
                                                                                         * @category Lang
                                                                                         * @param {*} value The value to convert.
                                                                                         * @returns {number} Returns the converted number.
                                                                                         * @example
                                                                                         *
                                                                                         * _.toFinite(3.2);
                                                                                         * // => 3.2
                                                                                         *
                                                                                         * _.toFinite(Number.MIN_VALUE);
                                                                                         * // => 5e-324
                                                                                         *
                                                                                         * _.toFinite(Infinity);
                                                                                         * // => 1.7976931348623157e+308
                                                                                         *
                                                                                         * _.toFinite('3.2');
                                                                                         * // => 3.2
                                                                                         */
  function toFinite(value) {
    if (!value) {
      return value === 0 ? value : 0;
    }
    value = toNumber(value);
    if (value === INFINITY || value === -INFINITY) {
      var sign = value < 0 ? -1 : 1;
      return sign * MAX_INTEGER;
    }
    return value === value ? value : 0;
  }

  /**
     * Converts `value` to an integer.
     *
     * **Note:** This method is loosely based on
     * [`ToInteger`](http://www.ecma-international.org/ecma-262/7.0/#sec-tointeger).
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {number} Returns the converted integer.
     * @example
     *
     * _.toInteger(3.2);
     * // => 3
     *
     * _.toInteger(Number.MIN_VALUE);
     * // => 0
     *
     * _.toInteger(Infinity);
     * // => 1.7976931348623157e+308
     *
     * _.toInteger('3.2');
     * // => 3
     */
  function toInteger(value) {
    var result = toFinite(value),
    remainder = result % 1;

    return result === result ? remainder ? result - remainder : result : 0;
  }

  /**
     * Converts `value` to a number.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to process.
     * @returns {number} Returns the number.
     * @example
     *
     * _.toNumber(3.2);
     * // => 3.2
     *
     * _.toNumber(Number.MIN_VALUE);
     * // => 5e-324
     *
     * _.toNumber(Infinity);
     * // => Infinity
     *
     * _.toNumber('3.2');
     * // => 3.2
     */
  function toNumber(value) {
    if (typeof value == 'number') {
      return value;
    }
    if (isSymbol(value)) {
      return NAN;
    }
    if (isObject(value)) {
      var other = typeof value.valueOf == 'function' ? value.valueOf() : value;
      value = isObject(other) ? other + '' : other;
    }
    if (typeof value != 'string') {
      return value === 0 ? value : +value;
    }
    value = value.replace(reTrim, '');
    var isBinary = reIsBinary.test(value);
    return isBinary || reIsOctal.test(value) ?
    freeParseInt(value.slice(2), isBinary ? 2 : 8) :
    reIsBadHex.test(value) ? NAN : +value;
  }

  /**
     * Converts `value` to a string. An empty string is returned for `null`
     * and `undefined` values. The sign of `-0` is preserved.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Lang
     * @param {*} value The value to convert.
     * @returns {string} Returns the converted string.
     * @example
     *
     * _.toString(null);
     * // => ''
     *
     * _.toString(-0);
     * // => '-0'
     *
     * _.toString([1, 2, 3]);
     * // => '1,2,3'
     */
  function toString(value) {
    return value == null ? '' : baseToString(value);
  }

  /*------------------------------------------------------------------------*/

  /**
                                                                                * Gets the value at `path` of `object`. If the resolved value is
                                                                                * `undefined`, the `defaultValue` is returned in its place.
                                                                                *
                                                                                * @static
                                                                                * @memberOf _
                                                                                * @since 3.7.0
                                                                                * @category Object
                                                                                * @param {Object} object The object to query.
                                                                                * @param {Array|string} path The path of the property to get.
                                                                                * @param {*} [defaultValue] The value returned for `undefined` resolved values.
                                                                                * @returns {*} Returns the resolved value.
                                                                                * @example
                                                                                *
                                                                                * var object = { 'a': [{ 'b': { 'c': 3 } }] };
                                                                                *
                                                                                * _.get(object, 'a[0].b.c');
                                                                                * // => 3
                                                                                *
                                                                                * _.get(object, ['a', '0', 'b', 'c']);
                                                                                * // => 3
                                                                                *
                                                                                * _.get(object, 'a.b.c', 'default');
                                                                                * // => 'default'
                                                                                */
  function get(object, path, defaultValue) {
    var result = object == null ? undefined : baseGet(object, path);
    return result === undefined ? defaultValue : result;
  }

  /**
     * Checks if `path` is a direct or inherited property of `object`.
     *
     * @static
     * @memberOf _
     * @since 4.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @param {Array|string} path The path to check.
     * @returns {boolean} Returns `true` if `path` exists, else `false`.
     * @example
     *
     * var object = _.create({ 'a': _.create({ 'b': 2 }) });
     *
     * _.hasIn(object, 'a');
     * // => true
     *
     * _.hasIn(object, 'a.b');
     * // => true
     *
     * _.hasIn(object, ['a', 'b']);
     * // => true
     *
     * _.hasIn(object, 'b');
     * // => false
     */
  function hasIn(object, path) {
    return object != null && hasPath(object, path, baseHasIn);
  }

  /**
     * Creates an array of the own enumerable property names of `object`.
     *
     * **Note:** Non-object values are coerced to objects. See the
     * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)
     * for more details.
     *
     * @static
     * @since 0.1.0
     * @memberOf _
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.keys(new Foo);
     * // => ['a', 'b'] (iteration order is not guaranteed)
     *
     * _.keys('hi');
     * // => ['0', '1']
     */
  function keys(object) {
    return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);
  }

  /**
     * Creates an array of the own and inherited enumerable property names of `object`.
     *
     * **Note:** Non-object values are coerced to objects.
     *
     * @static
     * @memberOf _
     * @since 3.0.0
     * @category Object
     * @param {Object} object The object to query.
     * @returns {Array} Returns the array of property names.
     * @example
     *
     * function Foo() {
     *   this.a = 1;
     *   this.b = 2;
     * }
     *
     * Foo.prototype.c = 3;
     *
     * _.keysIn(new Foo);
     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)
     */
  function keysIn(object) {
    return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);
  }

  /*------------------------------------------------------------------------*/

  /**
                                                                                * This method returns the first argument it receives.
                                                                                *
                                                                                * @static
                                                                                * @since 0.1.0
                                                                                * @memberOf _
                                                                                * @category Util
                                                                                * @param {*} value Any value.
                                                                                * @returns {*} Returns `value`.
                                                                                * @example
                                                                                *
                                                                                * var object = { 'a': 1 };
                                                                                *
                                                                                * console.log(_.identity(object) === object);
                                                                                * // => true
                                                                                */
  function identity(value) {
    return value;
  }

  /**
     * Creates a function that invokes `func` with the arguments of the created
     * function. If `func` is a property name, the created function returns the
     * property value for a given element. If `func` is an array or object, the
     * created function returns `true` for elements that contain the equivalent
     * source properties, otherwise it returns `false`.
     *
     * @static
     * @since 4.0.0
     * @memberOf _
     * @category Util
     * @param {*} [func=_.identity] The value to convert to a callback.
     * @returns {Function} Returns the callback.
     * @example
     *
     * var users = [
     *   { 'user': 'barney', 'age': 36, 'active': true },
     *   { 'user': 'fred',   'age': 40, 'active': false }
     * ];
     *
     * // The `_.matches` iteratee shorthand.
     * _.filter(users, _.iteratee({ 'user': 'barney', 'active': true }));
     * // => [{ 'user': 'barney', 'age': 36, 'active': true }]
     *
     * // The `_.matchesProperty` iteratee shorthand.
     * _.filter(users, _.iteratee(['user', 'fred']));
     * // => [{ 'user': 'fred', 'age': 40 }]
     *
     * // The `_.property` iteratee shorthand.
     * _.map(users, _.iteratee('user'));
     * // => ['barney', 'fred']
     *
     * // Create custom iteratee shorthands.
     * _.iteratee = _.wrap(_.iteratee, function(iteratee, func) {
     *   return !_.isRegExp(func) ? iteratee(func) : function(string) {
     *     return func.test(string);
     *   };
     * });
     *
     * _.filter(['abc', 'def'], /ef/);
     * // => ['def']
     */
  function iteratee(func) {
    return baseIteratee(typeof func == 'function' ? func : baseClone(func, CLONE_DEEP_FLAG));
  }

  /**
     * Creates a function that returns the value at `path` of a given object.
     *
     * @static
     * @memberOf _
     * @since 2.4.0
     * @category Util
     * @param {Array|string} path The path of the property to get.
     * @returns {Function} Returns the new accessor function.
     * @example
     *
     * var objects = [
     *   { 'a': { 'b': 2 } },
     *   { 'a': { 'b': 1 } }
     * ];
     *
     * _.map(objects, _.property('a.b'));
     * // => [2, 1]
     *
     * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');
     * // => [1, 2]
     */
  function property(path) {
    return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);
  }

  /**
     * This method returns a new empty array.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {Array} Returns the new empty array.
     * @example
     *
     * var arrays = _.times(2, _.stubArray);
     *
     * console.log(arrays);
     * // => [[], []]
     *
     * console.log(arrays[0] === arrays[1]);
     * // => false
     */
  function stubArray() {
    return [];
  }

  /**
     * This method returns `false`.
     *
     * @static
     * @memberOf _
     * @since 4.13.0
     * @category Util
     * @returns {boolean} Returns `false`.
     * @example
     *
     * _.times(2, _.stubFalse);
     * // => [false, false]
     */
  function stubFalse() {
    return false;
  }

  /*------------------------------------------------------------------------*/

  // Add methods that return wrapped values in chain sequences.
  lodash.debounce = debounce;
  lodash.iteratee = iteratee;
  lodash.keys = keys;
  lodash.keysIn = keysIn;
  lodash.memoize = memoize;
  lodash.property = property;
  lodash.remove = remove;

  /*------------------------------------------------------------------------*/

  // Add methods that return unwrapped values in chain sequences.
  lodash.cloneDeep = cloneDeep;
  lodash.eq = eq;
  lodash.findLast = findLast;
  lodash.findLastIndex = findLastIndex;
  lodash.get = get;
  lodash.hasIn = hasIn;
  lodash.identity = identity;
  lodash.isArguments = isArguments;
  lodash.isArray = isArray;
  lodash.isArrayLike = isArrayLike;
  lodash.isBuffer = isBuffer;
  lodash.isFunction = isFunction;
  lodash.isLength = isLength;
  lodash.isMap = isMap;
  lodash.isObject = isObject;
  lodash.isObjectLike = isObjectLike;
  lodash.isSet = isSet;
  lodash.isSymbol = isSymbol;
  lodash.isTypedArray = isTypedArray;
  lodash.last = last;
  lodash.stubArray = stubArray;
  lodash.stubFalse = stubFalse;
  lodash.now = now;
  lodash.toFinite = toFinite;
  lodash.toInteger = toInteger;
  lodash.toNumber = toNumber;
  lodash.toString = toString;

  /*------------------------------------------------------------------------*/

  /**
                                                                                * The semantic version number.
                                                                                *
                                                                                * @static
                                                                                * @memberOf _
                                                                                * @type {string}
                                                                                */
  lodash.VERSION = VERSION;

  /*--------------------------------------------------------------------------*/

  // Some AMD build optimizers, like r.js, check for condition patterns like:
  if ("function" == 'function' && _typeof(__webpack_require__(/*! !webpack amd options */ "./node_modules/webpack/buildin/amd-options.js")) == 'object' && __webpack_require__(/*! !webpack amd options */ "./node_modules/webpack/buildin/amd-options.js")) {
    // Define as an anonymous module so, through path mapping, it can be
    // referenced as the "underscore" module.
    !(__WEBPACK_AMD_DEFINE_RESULT__ = (function () {
      return lodash;
    }).call(exports, __webpack_require__, exports, module),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  }
}).call(this);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js"), __webpack_require__(/*! ./../../../../node_modules/webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./extensions/BimMarkups/ThirdParty/textarea-caret/textarea-caret.js":
/*!***************************************************************************!*\
  !*** ./extensions/BimMarkups/ThirdParty/textarea-caret/textarea-caret.js ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* jshint browser: true */

(function () {

  // We'll copy the properties below into the mirror div.
  // Note that some browsers, such as Firefox, do not concatenate properties
  // into their shorthand (e.g. padding-top, padding-bottom etc. -> padding),
  // so we have to list every single property explicitly.
  var properties = [
  'direction', // RTL support
  'boxSizing',
  'width', // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does
  'height',
  'overflowX',
  'overflowY', // copy the scrollbar for IE

  'borderTopWidth',
  'borderRightWidth',
  'borderBottomWidth',
  'borderLeftWidth',
  'borderStyle',

  'paddingTop',
  'paddingRight',
  'paddingBottom',
  'paddingLeft',

  // https://developer.mozilla.org/en-US/docs/Web/CSS/font
  'fontStyle',
  'fontVariant',
  'fontWeight',
  'fontStretch',
  'fontSize',
  'fontSizeAdjust',
  'lineHeight',
  'fontFamily',

  'textAlign',
  'textTransform',
  'textIndent',
  'textDecoration', // might not make a difference, but better be safe

  'letterSpacing',
  'wordSpacing',

  'tabSize',
  'MozTabSize'];



  var isBrowser = typeof window !== 'undefined';
  var isFirefox = isBrowser && window.mozInnerScreenX != null;

  function getCaretCoordinates(element, position, options) {
    if (!isBrowser) {
      throw new Error('textarea-caret-position#getCaretCoordinates should only be called in a browser');
    }

    var debug = options && options.debug || false;
    if (debug) {
      var el = document.querySelector('#input-textarea-caret-position-mirror-div');
      if (el) el.parentNode.removeChild(el);
    }

    // The mirror div will replicate the textarea's style
    var div = document.createElement('div');
    div.id = 'input-textarea-caret-position-mirror-div';
    document.body.appendChild(div);

    var style = div.style;
    var computed = window.getComputedStyle ? window.getComputedStyle(element) : element.currentStyle; // currentStyle for IE < 9
    var isInput = element.nodeName === 'INPUT';

    // Default textarea styles
    style.whiteSpace = 'pre-wrap';
    if (!isInput)
    style.wordWrap = 'break-word'; // only for textarea-s

    // Position off-screen
    style.position = 'absolute'; // required to return coordinates properly
    if (!debug)
    style.visibility = 'hidden'; // not 'display: none' because we want rendering

    // Transfer the element's properties to the div
    properties.forEach(function (prop) {
      if (isInput && prop === 'lineHeight') {
        // Special case for <input>s because text is rendered centered and line height may be != height
        style.lineHeight = computed.height;
      } else {
        style[prop] = computed[prop];
      }
    });

    if (isFirefox) {
      // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275
      if (element.scrollHeight > parseInt(computed.height))
      style.overflowY = 'scroll';
    } else {
      style.overflow = 'hidden'; // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'
    }

    div.textContent = element.value.substring(0, position);
    // The second special handling for input type="text" vs textarea:
    // spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037
    if (isInput)
    div.textContent = div.textContent.replace(/\s/g, "\xA0");

    var span = document.createElement('span');
    // Wrapping must be replicated *exactly*, including when a long word gets
    // onto the next line, with whitespace at the end of the line before (#7).
    // The  *only* reliable way to do that is to copy the *entire* rest of the
    // textarea's content into the <span> created at the caret position.
    // For inputs, just '.' would be enough, but no need to bother.
    span.textContent = element.value.substring(position) || '.'; // || because a completely empty faux span doesn't render at all
    div.appendChild(span);

    var coordinates = {
      top: span.offsetTop + parseInt(computed['borderTopWidth']),
      left: span.offsetLeft + parseInt(computed['borderLeftWidth']),
      height: parseInt(computed['lineHeight']) };


    if (debug) {
      span.style.backgroundColor = '#aaa';
    } else {
      document.body.removeChild(div);
    }

    return coordinates;
  }

  if (typeof module != 'undefined' && typeof module.exports != 'undefined') {
    module.exports = getCaretCoordinates;
  } else if (isBrowser) {
    window.getCaretCoordinates = getCaretCoordinates;
  }

})();

/***/ }),

/***/ "./extensions/BimMarkups/UI/MarkupsUI.js":
/*!***********************************************!*\
  !*** ./extensions/BimMarkups/UI/MarkupsUI.js ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return MarkupsUI; });
/* harmony import */ var _MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../MarkupsEvents */ "./extensions/BimMarkups/MarkupsEvents.js");
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}var

MarkupsUI = /*#__PURE__*/function () {
  function MarkupsUI(markupsExtension) {_classCallCheck(this, MarkupsUI);
    this.viewer = markupsExtension.viewer;
    this.options = markupsExtension.options;
    this.markupsExtension = markupsExtension;

    this.createUI();
  }_createClass(MarkupsUI, [{ key: "createUI", value: function createUI()

    {
      var uiClasses = this.options.uiClasses;
      if (!uiClasses) {
        return;
      }

      this.uiContainer = document.createElement('div');
      this.uiContainer.id = 'MarkupsUI_Container';
      this.uiContainer.className = 'MarkupsUI_Container';
      this.viewer.container.appendChild(this.uiContainer);

      var ToolbarClass = uiClasses.ToolbarClass;
      this.toolbar = ToolbarClass && new ToolbarClass(this.markupsExtension, this.uiContainer, this.viewer, this.options);

      var CreationToastClass = uiClasses.CreationToastClass;
      this.creationToast = CreationToastClass && new CreationToastClass(this.markupsExtension, this.uiContainer, this.viewer, this.options);

      var ContextualMenuClass = uiClasses.ContextualMenuClass;
      this.contextualMenu = ContextualMenuClass && new ContextualMenuClass(this.markupsExtension, this.uiContainer, this.viewer, this.options);

      var AttachmentsPreviewPanelClass = uiClasses.AttachmentsPreviewPanelClass;
      this.attachmentsPreviewPanel = AttachmentsPreviewPanelClass && new AttachmentsPreviewPanelClass(this.markupsExtension, this.uiContainer, this.viewer, this.options);

      var MarkupsDialogModalsClass = uiClasses.MarkupsDialogModalsClass;
      this.MarkupsDialogModals = MarkupsDialogModalsClass && new MarkupsDialogModalsClass(this.markupsExtension, this.uiContainer, this.viewer, this.options);

      if (this.viewer.impl.is2d) {
        var MarkupsVisibilityButtonClass = uiClasses.MarkupsVisibilityButtonClass;
        this.markupsVisibilityButton = MarkupsVisibilityButtonClass && new MarkupsVisibilityButtonClass(this.markupsExtension, this.uiContainer, this.viewer, this.options);
      } else {
        var ExitMarkupViewClass = uiClasses.ExitMarkupViewClass;
        this.exitMarkupView = ExitMarkupViewClass && new ExitMarkupViewClass(this.markupsExtension, this.uiContainer, this.viewer, this.options);
      }


      this.registerEventListeners();
    } }, { key: "destroy", value: function destroy()

    {
      if (this.toolbar) {
        this.toolbar.destroy();
        this.toolbar = null;
      }

      if (this.creationToast) {
        this.creationToast.destroy();
        this.creationToast = null;
      }

      if (this.contextualMenu) {
        this.contextualMenu.destroy();
        this.contextualMenu = null;
      }

      if (this.attachmentsPreviewPanel) {
        this.attachmentsPreviewPanel.destroy();
        this.attachmentsPreviewPanel = null;
      }

      if (this.markupsVisibilityButton) {
        this.markupsVisibilityButton.destroy();
        this.markupsVisibilityButton = null;
      }

      if (this.exitMarkupView) {
        this.exitMarkupView.destroy();
        this.exitMarkupView = null;
      }

      this.unregisterEventListeners();

      if (this.uiContainer) {
        this.viewer.container.removeChild(this.uiContainer);
        this.uiContainer = null;
      }

      this.markupsExtension = null;
      this.viewer = null;
      this.options = null;
    }

    ////////////////////////////////////////////////
    ///////// Handle LMV navigation buttons ////////
    ////////////////////////////////////////////////
  }, { key: "registerEventListeners", value: function registerEventListeners()
    {
      this.onSessionStartBinded = this.onSessionStart.bind(this);
      this.onSessionEndBinded = this.onSessionEnd.bind(this);

      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_START, this.onSessionStartBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_END, this.onSessionEndBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_SELECTED, this.onSessionStartBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_DESELECTED, this.onSessionEndBinded);
      this.markupsExtension.markupsManager.addEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_CREATION_TYPE_CHANGED, this.onSessionStartBinded);
    } }, { key: "unregisterEventListeners", value: function unregisterEventListeners()

    {
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_START, this.onSessionStartBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_SESSION_END, this.onSessionEndBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_SELECTED, this.onSessionStartBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].LAYER_DESELECTED, this.onSessionEndBinded);
      this.markupsExtension.markupsManager.removeEventListener(_MarkupsEvents__WEBPACK_IMPORTED_MODULE_0__["MARKUPS_EVENTS"].MARKUP_CREATION_TYPE_CHANGED, this.onSessionStartBinded);
    } }, { key: "onSessionStart", value: function onSessionStart()

    {
      this.selectNavigationButton(null);

      if (this.viewer.impl.is2d) {
        this.handleNavButtonEvents(true);
      }
    } }, { key: "onSessionEnd", value: function onSessionEnd()

    {
      if (this.viewer.impl.is2d) {
        this.handleNavButtonEvents(false);
      }

      this.selectNavigationButton(this.markupsExtension.markupsManager.navigationToolBackup);
    } }, { key: "getNavigationControls", value: function getNavigationControls()

    {
      var LMVtoolbar = this.viewer.getToolbar();
      var navigationControls = LMVtoolbar.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID);
      return navigationControls._controls;
    }

    // Add / remove listeners for client event on each navigation toolbar button.
  }, { key: "handleNavButtonEvents", value: function handleNavButtonEvents(addEventListener) {var _this = this;
      this.onNavButtonClickBinded = this.onNavButtonClick.bind(this);
      var buttons = this.getNavigationControls();

      var handleButtonEvents = function handleButtonEvents(button) {
        if (addEventListener) {
          if (!button.hasEventListener(Autodesk.Viewing.UI.Button.Event.CLICK, _this.onNavButtonClickBinded)) {
            button.addEventListener(Autodesk.Viewing.UI.Button.Event.CLICK, _this.onNavButtonClickBinded);
          }
        } else {
          button.removeEventListener(Autodesk.Viewing.UI.Button.Event.CLICK, _this.onNavButtonClickBinded);
        }
      };

      buttons.forEach(function (button) {
        handleButtonEvents(button);

        if (button.subMenu) {
          var subButtons = button.subMenu._controls;
          subButtons.forEach(function (subButton) {
            handleButtonEvents(subButton);
          });
        }
      });
    } }, { key: "onNavButtonClick", value: function onNavButtonClick(

    event) {var _this2 = this;
      var buttons = this.getNavigationControls();

      buttons.forEach(function (button) {
        if (button._id !== event.target._id) {
          button.setState(Autodesk.Viewing.UI.Button.State.INACTIVE);
        } else if (button.getState() === Autodesk.Viewing.UI.Button.State.INACTIVE) {
          _this2.markupsExtension.markupsManager.changeMarkupCreationType(null);
          button.setState(Autodesk.Viewing.UI.Button.State.ACTIVE); // This is mandatory to actually change the active navigation tool & update icon.

          setTimeout(function () {
            _this2.markupsExtension.markupsManager.navigationToolBackup = _this2.viewer.getActiveNavigationTool();
          });
        }
      });
    }

    // Setup active navigation tool on viewer and also activate corresponding button on navigation toolbar.
  }, { key: "selectNavigationButton", value: function selectNavigationButton(toolName) {
      var setButtonState = function setButtonState(button) {
        var isActive = button._id.toLowerCase().indexOf(toolName) !== -1;
        button.setState(isActive ? Autodesk.Viewing.UI.Button.State.ACTIVE : Autodesk.Viewing.UI.Button.State.INACTIVE);
      };

      var buttons = this.getNavigationControls();

      buttons.forEach(function (button) {
        setButtonState(button);

        // Add additional check for group button
        if (button.subMenu) {
          button.subMenu._controls.forEach(function (subButton) {
            setButtonState(subButton);
          });
        }
      });
    } }]);return MarkupsUI;}();

/***/ }),

/***/ "./extensions/BimMarkups/Utils/ActionManager/Action.js":
/*!*************************************************************!*\
  !*** ./extensions/BimMarkups/Utils/ActionManager/Action.js ***!
  \*************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return Action; });
function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;} /**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * Action
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * A base class for a single Action.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * You should implement undo and redo methods.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */var

Action = /*#__PURE__*/function () {
  function Action(actionManager) {_classCallCheck(this, Action);
    this.actionManager = actionManager;
  }_createClass(Action, [{ key: "execute", value: function execute()

    {
      this.actionManager.execute(this);
    } }, { key: "undo", value: function undo()

    {
    } }, { key: "redo", value: function redo()

    {
    } }]);return Action;}();

/***/ }),

/***/ "./extensions/BimMarkups/Utils/ActionManager/ActionManager.js":
/*!********************************************************************!*\
  !*** ./extensions/BimMarkups/Utils/ActionManager/ActionManager.js ***!
  \********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "default", function() { return ActionManager; });
/* harmony import */ var _Action__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Action */ "./extensions/BimMarkups/Utils/ActionManager/Action.js");
function _typeof(obj) {if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") {_typeof = function _typeof(obj) {return typeof obj;};} else {_typeof = function _typeof(obj) {return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;};}return _typeof(obj);}function _classCallCheck(instance, Constructor) {if (!(instance instanceof Constructor)) {throw new TypeError("Cannot call a class as a function");}}function _defineProperties(target, props) {for (var i = 0; i < props.length; i++) {var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if ("value" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);}}function _createClass(Constructor, protoProps, staticProps) {if (protoProps) _defineProperties(Constructor.prototype, protoProps);if (staticProps) _defineProperties(Constructor, staticProps);return Constructor;}function _possibleConstructorReturn(self, call) {if (call && (_typeof(call) === "object" || typeof call === "function")) {return call;}return _assertThisInitialized(self);}function _assertThisInitialized(self) {if (self === void 0) {throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return self;}function _getPrototypeOf(o) {_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {return o.__proto__ || Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _inherits(subClass, superClass) {if (typeof superClass !== "function" && superClass !== null) {throw new TypeError("Super expression must either be null or a function");}subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } });if (superClass) _setPrototypeOf(subClass, superClass);}function _setPrototypeOf(o, p) {_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {o.__proto__ = p;return o;};return _setPrototypeOf(o, p);}

/**
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * ActionManager
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * Implementation of Command Pattern - https://en.wikipedia.org/wiki/Command_pattern.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * Use in order to manage actions with undo and redo operations.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     *
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     * This class extends EventDispatcher, so for every action, it triggers an event.
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     */var

ActionManager = /*#__PURE__*/function (_Autodesk$Viewing$Eve) {_inherits(ActionManager, _Autodesk$Viewing$Eve);
  function ActionManager() {var _this;_classCallCheck(this, ActionManager);
    _this = _possibleConstructorReturn(this, _getPrototypeOf(ActionManager).call(this));

    _this.undoStack = [];
    _this.redoStack = [];

    _this.isGroupOpen = false;
    _this.nextActionId = 0;return _this;
  }_createClass(ActionManager, [{ key: "execute", value: function execute(

    action) {
      this.clearStack(this.redoStack);

      action.id = this.nextActionId;
      this.nextActionId += 1;

      action.redo();

      if (this.isGroupOpen) {
        this.group.push(action);
      } else {
        this.undoStack.push(action);
      }

      action.trigger = ActionManager.EXECUTE;
      this.notify(action);
    } }, { key: "undo", value: function undo()

    {
      if (this.undoStack.length === 0) {
        return;
      }

      if (this.isGroupOpen) {
        console.warn('Cannot undo while action group is open!');
        return;
      }

      var action = this.undoStack.pop();
      this.redoStack.push(action);

      if (action instanceof _Action__WEBPACK_IMPORTED_MODULE_0__["default"]) {
        action.undo();
      } else {
        // Action group
        for (var i = action.length - 1; i >= 0; i--) {
          action[i].undo();
        }
      }

      action.trigger = ActionManager.UNDO;
      this.notify(action);
    } }, { key: "redo", value: function redo()

    {
      if (this.redoStack.length === 0) {
        return;
      }

      if (this.isGroupOpen) {
        console.warn('Cannot redo while action group is open!');
        return;
      }

      var action = this.redoStack.pop();
      this.undoStack.push(action);

      if (action instanceof _Action__WEBPACK_IMPORTED_MODULE_0__["default"]) {
        action.redo();
      } else {
        // Action group
        for (var i = 0; i < action.length; i++) {
          action[i].redo();
        }
      }

      action.trigger = ActionManager.REDO;
      this.notify(action);
    } }, { key: "clear", value: function clear()

    {
      this.clearStack(this.undoStack);
      this.clearStack(this.redoStack);

      this.isGroupOpen = false;
      this.group = [];

      this.notify([]);
    } }, { key: "clearStack", value: function clearStack(

    stack) {
      stack.splice(0, stack.length);
    } }, { key: "isUndoStackEmpty", value: function isUndoStackEmpty()

    {
      return this.undoStack.length === 0;
    } }, { key: "isRedoStackEmpty", value: function isRedoStackEmpty()

    {
      return this.redoStack.length === 0;
    } }, { key: "notify", value: function notify(

    actionGroup) {
      actionGroup = actionGroup instanceof _Action__WEBPACK_IMPORTED_MODULE_0__["default"] ? [actionGroup] : actionGroup;

      this.dispatchEvent({
        type: ActionManager.HISTORY_CHANGED_EVENT,
        actionGroup: actionGroup,
        hasUndo: !this.isUndoStackEmpty(),
        hasRedo: !this.isRedoStackEmpty() });

    } }, { key: "openActionGroup", value: function openActionGroup()

    {
      if (this.isGroupOpen) {
        console.warn('Cannot open a new action group while another one is still open');
        return;
      }

      this.group = [];
      this.undoStack.push(this.group);
      this.isGroupOpen = true;
    } }, { key: "closeActionGroup", value: function closeActionGroup()

    {
      if (this.group.length === 0) {
        this.undoStack.pop();
      }

      this.isGroupOpen = false;
    } }]);return ActionManager;}(Autodesk.Viewing.EventDispatcher);


// ActionManager Events
ActionManager.HISTORY_CHANGED_EVENT = 'action-manager.history.changed.event';
ActionManager.UNDO = 'action-manager.undo';
ActionManager.REDO = 'action-manager.redo';
ActionManager.EXECUTE = 'action-manager.execute';

/***/ }),

/***/ "./extensions/BimMarkups/Utils/CameraUtils.js":
/*!****************************************************!*\
  !*** ./extensions/BimMarkups/Utils/CameraUtils.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _GeometryUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./GeometryUtils */ "./extensions/BimMarkups/Utils/GeometryUtils.js");


var CameraUtils = {};

// Same as viewer.worldToClient, but with a camera as argument.
CameraUtils.worldToClient = function (viewer, point, camera) {
  var p = new THREE.Vector4(point.x, point.y, point.z, 1);
  p.applyMatrix4(camera.matrixWorldInverse);
  p.applyMatrix4(camera.projectionMatrix);

  // Don't want to mirror values with negative z (behind camera)
  if (p.w > 0) {
    p.x /= p.w;
    p.y /= p.w;
    p.z /= p.w;
  }

  return viewer.impl.viewportToClient(p.x, p.y);
};

CameraUtils.getCameraEyeVector = function (camera) {
  return camera.target.clone().sub(camera.position).normalize();
};

CameraUtils.getCameraRightVector = function (camera) {
  var eye = CameraUtils.getCameraEyeVector(camera);
  return new THREE.Vector3().crossVectors(eye, camera.up).normalize();
};

CameraUtils.getCameraUpVector = function (camera) {
  var right = CameraUtils.getCameraRightVector(camera);
  var eye = CameraUtils.getCameraEyeVector(camera);
  return new THREE.Vector3().crossVectors(right, eye).normalize();
};

CameraUtils.getCameraRotation = function (camera) {
  return _GeometryUtils__WEBPACK_IMPORTED_MODULE_0__["default"].getSignedAngle(CameraUtils.getCameraUpVector(camera), new THREE.Vector3(0, 1, 0), CameraUtils.getCameraEyeVector(camera));
};

/* harmony default export */ __webpack_exports__["default"] = (CameraUtils);

/***/ }),

/***/ "./extensions/BimMarkups/Utils/EventUtils.js":
/*!***************************************************!*\
  !*** ./extensions/BimMarkups/Utils/EventUtils.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var EventUtils = {};

// In case the extension is already loaded, execute the callback,
// Otherwise, the callback will be executed only when the extension will be loaded.
EventUtils.executeAfterExtensionLoaded = function (viewer, extensionName, callback) {
  var loadedExt = viewer.getExtension(extensionName);
  if (loadedExt) {
    callback(loadedExt);
  } else {
    viewer.addEventListener(Autodesk.Viewing.EXTENSION_LOADED_EVENT, function onExtensionLoaded(event) {
      if (event.extensionId === extensionName) {
        viewer.removeEventListener(Autodesk.Viewing.EXTENSION_LOADED_EVENT, onExtensionLoaded);
        callback(viewer.getExtension(extensionName));
      }
    });
  }
};

EventUtils.executeAfterTransitionEnded = function (viewer, callback) {
  if (!viewer.navigation.getRequestTransition() && !viewer.navigation.getTransitionActive()) {
    callback();
  } else {
    // Try again in case there is a requestTransition, but CAMERA_TRANSITION_COMPLETED won't get fired.
    // It can happen in case there is a requestTransition to the same camera position exactly.
    setTimeout(function () {
      if (!viewer.navigation.getRequestTransition() && !viewer.navigation.getTransitionActive()) {
        callback();
      } else {
        viewer.addEventListener(Autodesk.Viewing.CAMERA_TRANSITION_COMPLETED, function () {
          callback();
        }, { once: true });
      }
    }, 1);
  }
};

EventUtils.executeAfterGeometryLoaded = function (viewer, callback) {
  if (viewer.model && viewer.model.isLoadDone()) {
    callback();
  } else {
    viewer.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, callback, { once: true });
  }
};

/* harmony default export */ __webpack_exports__["default"] = (EventUtils);

/***/ }),

/***/ "./extensions/BimMarkups/Utils/GeometryUtils.js":
/*!******************************************************!*\
  !*** ./extensions/BimMarkups/Utils/GeometryUtils.js ***!
  \******************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var GeometryUtils = {};

GeometryUtils.radiansToDegrees = function (radians) {
  return radians * (180 / Math.PI);
};

GeometryUtils.degreesToRadians = function (degrees) {
  return degrees * (Math.PI / 180);
};

GeometryUtils.applyRotation = function (points, angle, pivot, frontVector) {
  if (!(points instanceof Array)) {
    points = [points];
  }

  points.forEach(function (point) {
    point.sub(pivot);
    point.applyAxisAngle(frontVector, angle);
    point.add(pivot);
  });
};

GeometryUtils.getSignedAngle = function (v1, v2, eyeVector) {
  var angle = v1.angleTo(v2);

  var n = v1.clone().cross(v2).normalize();
  var sign = eyeVector.dot(n) > 0 ? 1 : -1;

  return angle * sign;
};

GeometryUtils.swapBoundingBoxY = function (boundingBox) {var _ref =
  [boundingBox.min.y, boundingBox.max.y];boundingBox.max.y = _ref[0];boundingBox.min.y = _ref[1];

  return boundingBox;
};

/* harmony default export */ __webpack_exports__["default"] = (GeometryUtils);

/***/ }),

/***/ "./extensions/BimMarkups/Utils/LodashUtils.js":
/*!****************************************************!*\
  !*** ./extensions/BimMarkups/Utils/LodashUtils.js ***!
  \****************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ThirdParty_lodash_lodash_custom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ThirdParty/lodash/lodash.custom */ "./extensions/BimMarkups/ThirdParty/lodash/lodash.custom.js");
/* harmony import */ var _ThirdParty_lodash_lodash_custom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ThirdParty_lodash_lodash_custom__WEBPACK_IMPORTED_MODULE_0__);





var LodashUtils = {};

LodashUtils.cloneDeep = function (obj) {
  return Object(_ThirdParty_lodash_lodash_custom__WEBPACK_IMPORTED_MODULE_0__["cloneDeep"])(obj);
};

LodashUtils.findLast = function (array, predicate) {
  return Object(_ThirdParty_lodash_lodash_custom__WEBPACK_IMPORTED_MODULE_0__["findLast"])(array, predicate);
};

LodashUtils.debounce = function (func, wait, options) {
  return Object(_ThirdParty_lodash_lodash_custom__WEBPACK_IMPORTED_MODULE_0__["debounce"])(func, wait, options);
};

LodashUtils.remove = function (array, predicate) {
  return Object(_ThirdParty_lodash_lodash_custom__WEBPACK_IMPORTED_MODULE_0__["remove"])(array, predicate);
};

/* harmony default export */ __webpack_exports__["default"] = (LodashUtils);

/***/ }),

/***/ "./extensions/BimMarkups/Utils/ModelUtils.js":
/*!***************************************************!*\
  !*** ./extensions/BimMarkups/Utils/ModelUtils.js ***!
  \***************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
var ModelUtils = {};

ModelUtils.getModelExtension = function (url) {
  var match = url && url.toLowerCase().match(/\.([a-z0-9]+)(\?|$)/);
  var fileExtension = match ? match[1] : null;
  return fileExtension;
};

/* harmony default export */ __webpack_exports__["default"] = (ModelUtils);

/***/ }),

/***/ "./node_modules/css-loader/index.js!./extensions/BimMarkups/FrameRenderer.css":
/*!***************************************************************************!*\
  !*** ./node_modules/css-loader!./extensions/BimMarkups/FrameRenderer.css ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".markup-frames-container {\n    transform: translateZ(0);\n    left: 0;\n    top: 0;\n    position: absolute;\n}\n\n.markup-selection-frame-container {\n    display: none;\n}\n\n.markup-selection-frame-container.visible {\n    display: block;\n}\n\n.markup-selection-frame {\n    transform: translateZ(0);\n    position: absolute;\n    pointer-events: none;\n}\n\n.markup-selection-frame.fill {\n    display: none;\n    background-color: rgba(6, 150, 215, 0.05);\n}\n\n/* iOS devices won't update the border without it. */\n.markup-selection-frame.fill.ios,\n.markup-selection-frame.border.ios {\n    transform: translateZ(0);\n    -webkit-transform: rotateZ(0deg);\n}\n\n.markup-selection-frame.fill.visible {\n    display: block;\n}\n\n.markup-selection-frame.border {\n    background-color: rgba(6, 150, 215, 0.6);\n}\n\n.markup-selection-frame.segment {\n    display: none;\n}\n\n.markup-selection-frame.segment.visible {\n    display: block;\n}\n\n.markup-anchor {\n    transform: translateZ(0);\n    display: none;\n\tposition: absolute;\n    background: #FFFFFF;\n    box-shadow: 0 0 0 1px rgba(107,120,127,0.7);\n    pointer-events: none;\n    border-radius: 20px;\n    z-index: 1;\n}\n\n.markup-anchor-fill.rectangle,\n.markup-anchor.rectangle {\n    border-radius: 0px;\n}\n\n.markup-anchor-fill {\n    display: none;\n    width: 100%;\n    margin: 1px;\n    border-radius: 20px;\n    background: #0696D7;\n}\n\n.markup-anchor-fill.visible {\n    display: block;\n}\n\n.markup-anchor.visible {\n    display: flex;\n}\n\n.rect-selector-frame {\n    transform: translateZ(0);\n    position: absolute;\n    pointer-events: none;\n    border: #222222 dashed 1px;\n    border-radius: 5px;\n}\n\n.rect-selector-frame.visible {\n    display: block;\n}", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/index.js!./extensions/BimMarkups/Links/LinksRenderer.css":
/*!*********************************************************************************!*\
  !*** ./node_modules/css-loader!./extensions/BimMarkups/Links/LinksRenderer.css ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".markup-links-container {\n    transform: translateZ(0);\n    left: 0;\n    top: 0;\n    position: absolute;\n}\n\n.link {\n    display: none;\n\tposition: absolute;\n    pointer-events: none;\n    z-index: 1;\n}\n\n.link.visible {\n    display: block;\n}\n\n.link.transparent {\n    opacity: 0.3;\n}\n\n/* Document attachment link */\n\n.link-document-attachment {\n    transform: translateZ(0);\n    display: block;\n    position: absolute;\n    text-align:center;\n    font-family: \"Artifakt Element\";\n    background-color: #0696D7;\n    border-radius: 10.5px;\n    color: white;\n    cursor: pointer;\n    font-size: 13px;\n    font-weight: 500;\n    line-height: 19px;\n    height: 20px;\n    width: 40px;\n}\n\n.link-document-attachment:before {\n    font-family: \"bimviewericon\", sans-serif;\n    content: \"\\E911\";\n    font-size: 11px;\n    padding-right: 4px;\n}\n\n.link.selected .link-document-attachment {\n    background-color: #0584BD\n}\n\n.link.hover .link-document-attachment {\n    background-color: #38ABDF\n}\n\n.link.editable .link-document-attachment {\n    outline: 1px solid rgba(6, 150, 215, 0.6);\n}\n", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/index.js!./extensions/BimMarkups/RendererHelpers/TextRenderer.css":
/*!******************************************************************************************!*\
  !*** ./node_modules/css-loader!./extensions/BimMarkups/RendererHelpers/TextRenderer.css ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__(/*! ../../../node_modules/css-loader/lib/css-base.js */ "./node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".markup-text-container {\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    position: absolute;\n    pointer-events: none;\n}\n\n.markup-text {\n    /* Optimization */\n    will-change: contents;\n    transform: translateZ(0);\n    text-rendering: geometricPrecision;\n    display: none;\n    position: absolute; /* changing position to fixed solves the 'out of screen' text expansion, but cause the text be visible on top of other element */\n    pointer-events: none;\n    text-align: left;\n    white-space: pre-wrap;\n    overflow-wrap: break-word;\n    word-wrap: break-word; /* IE11 replacement for overflow-wrap */\n    outline: none;\n    -webkit-user-select: none;\n    user-select: none;\n}\n\n/* IE uses <p> tag elements instead of divs inside contentedible,\n   inherit style to mimic div style.\n   add min width to edge cases.\n*/\n\n.markup-text p { \n    display: block;\n    box-sizing: content-box;\n    font-weight: inherit; \n    font-size: inherit; \n    font-family: inherit;\n    font-style: inherit;  \n    word-wrap: inherit; \n    white-space: inherit;\n    line-height:  inherit;\n    text-rendering: geometricPrecision;\n    -ms-text-size-adjust: 100%;\n    text-align: left;\n    margin: 0 0 0 0;\n    padding: 0 0 0 0;\n    user-select: text;\n}\n\n.markup-text.single-line br {\n    display: none;\n}\n\n.markup-text.visible {\n    display: block;\n}\n\n.markup-text-area {\n    pointer-events: all;\n    position: absolute;\n    z-index: 100;\n}", ""]);

// exports


/***/ }),

/***/ "./node_modules/css-loader/lib/css-base.js":
/*!*************************************************!*\
  !*** ./node_modules/css-loader/lib/css-base.js ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/
// css base code, injected by the css-loader
module.exports = function(useSourceMap) {
	var list = [];

	// return the list of modules as css string
	list.toString = function toString() {
		return this.map(function (item) {
			var content = cssWithMappingToString(item, useSourceMap);
			if(item[2]) {
				return "@media " + item[2] + "{" + content + "}";
			} else {
				return content;
			}
		}).join("");
	};

	// import a list of modules into the list
	list.i = function(modules, mediaQuery) {
		if(typeof modules === "string")
			modules = [[null, modules, ""]];
		var alreadyImportedModules = {};
		for(var i = 0; i < this.length; i++) {
			var id = this[i][0];
			if(typeof id === "number")
				alreadyImportedModules[id] = true;
		}
		for(i = 0; i < modules.length; i++) {
			var item = modules[i];
			// skip already imported module
			// this implementation is not 100% perfect for weird media query combinations
			//  when a module is imported multiple times with different media queries.
			//  I hope this will never occur (Hey this way we have smaller bundles)
			if(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {
				if(mediaQuery && !item[2]) {
					item[2] = mediaQuery;
				} else if(mediaQuery) {
					item[2] = "(" + item[2] + ") and (" + mediaQuery + ")";
				}
				list.push(item);
			}
		}
	};
	return list;
};

function cssWithMappingToString(item, useSourceMap) {
	var content = item[1] || '';
	var cssMapping = item[3];
	if (!cssMapping) {
		return content;
	}

	if (useSourceMap && typeof btoa === 'function') {
		var sourceMapping = toComment(cssMapping);
		var sourceURLs = cssMapping.sources.map(function (source) {
			return '/*# sourceURL=' + cssMapping.sourceRoot + source + ' */'
		});

		return [content].concat(sourceURLs).concat([sourceMapping]).join('\n');
	}

	return [content].join('\n');
}

// Adapted from convert-source-map (MIT)
function toComment(sourceMap) {
	// eslint-disable-next-line no-undef
	var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));
	var data = 'sourceMappingURL=data:application/json;charset=utf-8;base64,' + base64;

	return '/*# ' + data + ' */';
}


/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) { // check for number or string
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return id;
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./node_modules/moment/locale/af.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/af.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var af = moment.defineLocale('af', {
        months : 'Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember'.split('_'),
        monthsShort : 'Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des'.split('_'),
        weekdays : 'Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag'.split('_'),
        weekdaysShort : 'Son_Maa_Din_Woe_Don_Vry_Sat'.split('_'),
        weekdaysMin : 'So_Ma_Di_Wo_Do_Vr_Sa'.split('_'),
        meridiemParse: /vm|nm/i,
        isPM : function (input) {
            return /^nm$/i.test(input);
        },
        meridiem : function (hours, minutes, isLower) {
            if (hours < 12) {
                return isLower ? 'vm' : 'VM';
            } else {
                return isLower ? 'nm' : 'NM';
            }
        },
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Vandag om] LT',
            nextDay : '[Môre om] LT',
            nextWeek : 'dddd [om] LT',
            lastDay : '[Gister om] LT',
            lastWeek : '[Laas] dddd [om] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'oor %s',
            past : '%s gelede',
            s : '\'n paar sekondes',
            ss : '%d sekondes',
            m : '\'n minuut',
            mm : '%d minute',
            h : '\'n uur',
            hh : '%d ure',
            d : '\'n dag',
            dd : '%d dae',
            M : '\'n maand',
            MM : '%d maande',
            y : '\'n jaar',
            yy : '%d jaar'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(ste|de)/,
        ordinal : function (number) {
            return number + ((number === 1 || number === 8 || number >= 20) ? 'ste' : 'de'); // Thanks to Joris Röling : https://github.com/jjupiter
        },
        week : {
            dow : 1, // Maandag is die eerste dag van die week.
            doy : 4  // Die week wat die 4de Januarie bevat is die eerste week van die jaar.
        }
    });

    return af;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ar-dz.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/ar-dz.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var arDz = moment.defineLocale('ar-dz', {
        months : 'جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر'.split('_'),
        monthsShort : 'جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر'.split('_'),
        weekdays : 'الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت'.split('_'),
        weekdaysShort : 'احد_اثنين_ثلاثاء_اربعاء_خميس_جمعة_سبت'.split('_'),
        weekdaysMin : 'أح_إث_ثلا_أر_خم_جم_سب'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[اليوم على الساعة] LT',
            nextDay: '[غدا على الساعة] LT',
            nextWeek: 'dddd [على الساعة] LT',
            lastDay: '[أمس على الساعة] LT',
            lastWeek: 'dddd [على الساعة] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'في %s',
            past : 'منذ %s',
            s : 'ثوان',
            ss : '%d ثانية',
            m : 'دقيقة',
            mm : '%d دقائق',
            h : 'ساعة',
            hh : '%d ساعات',
            d : 'يوم',
            dd : '%d أيام',
            M : 'شهر',
            MM : '%d أشهر',
            y : 'سنة',
            yy : '%d سنوات'
        },
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 4  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return arDz;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ar-kw.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/ar-kw.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var arKw = moment.defineLocale('ar-kw', {
        months : 'يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر'.split('_'),
        monthsShort : 'يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر'.split('_'),
        weekdays : 'الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت'.split('_'),
        weekdaysShort : 'احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت'.split('_'),
        weekdaysMin : 'ح_ن_ث_ر_خ_ج_س'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[اليوم على الساعة] LT',
            nextDay: '[غدا على الساعة] LT',
            nextWeek: 'dddd [على الساعة] LT',
            lastDay: '[أمس على الساعة] LT',
            lastWeek: 'dddd [على الساعة] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'في %s',
            past : 'منذ %s',
            s : 'ثوان',
            ss : '%d ثانية',
            m : 'دقيقة',
            mm : '%d دقائق',
            h : 'ساعة',
            hh : '%d ساعات',
            d : 'يوم',
            dd : '%d أيام',
            M : 'شهر',
            MM : '%d أشهر',
            y : 'سنة',
            yy : '%d سنوات'
        },
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 12  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return arKw;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ar-ly.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/ar-ly.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '1',
        '2': '2',
        '3': '3',
        '4': '4',
        '5': '5',
        '6': '6',
        '7': '7',
        '8': '8',
        '9': '9',
        '0': '0'
    }, pluralForm = function (n) {
        return n === 0 ? 0 : n === 1 ? 1 : n === 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5;
    }, plurals = {
        s : ['أقل من ثانية', 'ثانية واحدة', ['ثانيتان', 'ثانيتين'], '%d ثوان', '%d ثانية', '%d ثانية'],
        m : ['أقل من دقيقة', 'دقيقة واحدة', ['دقيقتان', 'دقيقتين'], '%d دقائق', '%d دقيقة', '%d دقيقة'],
        h : ['أقل من ساعة', 'ساعة واحدة', ['ساعتان', 'ساعتين'], '%d ساعات', '%d ساعة', '%d ساعة'],
        d : ['أقل من يوم', 'يوم واحد', ['يومان', 'يومين'], '%d أيام', '%d يومًا', '%d يوم'],
        M : ['أقل من شهر', 'شهر واحد', ['شهران', 'شهرين'], '%d أشهر', '%d شهرا', '%d شهر'],
        y : ['أقل من عام', 'عام واحد', ['عامان', 'عامين'], '%d أعوام', '%d عامًا', '%d عام']
    }, pluralize = function (u) {
        return function (number, withoutSuffix, string, isFuture) {
            var f = pluralForm(number),
                str = plurals[u][pluralForm(number)];
            if (f === 2) {
                str = str[withoutSuffix ? 0 : 1];
            }
            return str.replace(/%d/i, number);
        };
    }, months = [
        'يناير',
        'فبراير',
        'مارس',
        'أبريل',
        'مايو',
        'يونيو',
        'يوليو',
        'أغسطس',
        'سبتمبر',
        'أكتوبر',
        'نوفمبر',
        'ديسمبر'
    ];

    var arLy = moment.defineLocale('ar-ly', {
        months : months,
        monthsShort : months,
        weekdays : 'الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت'.split('_'),
        weekdaysShort : 'أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت'.split('_'),
        weekdaysMin : 'ح_ن_ث_ر_خ_ج_س'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'D/\u200FM/\u200FYYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        meridiemParse: /ص|م/,
        isPM : function (input) {
            return 'م' === input;
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 12) {
                return 'ص';
            } else {
                return 'م';
            }
        },
        calendar : {
            sameDay: '[اليوم عند الساعة] LT',
            nextDay: '[غدًا عند الساعة] LT',
            nextWeek: 'dddd [عند الساعة] LT',
            lastDay: '[أمس عند الساعة] LT',
            lastWeek: 'dddd [عند الساعة] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'بعد %s',
            past : 'منذ %s',
            s : pluralize('s'),
            ss : pluralize('s'),
            m : pluralize('m'),
            mm : pluralize('m'),
            h : pluralize('h'),
            hh : pluralize('h'),
            d : pluralize('d'),
            dd : pluralize('d'),
            M : pluralize('M'),
            MM : pluralize('M'),
            y : pluralize('y'),
            yy : pluralize('y')
        },
        preparse: function (string) {
            return string.replace(/،/g, ',');
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            }).replace(/,/g, '،');
        },
        week : {
            dow : 6, // Saturday is the first day of the week.
            doy : 12  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return arLy;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ar-ma.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/ar-ma.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var arMa = moment.defineLocale('ar-ma', {
        months : 'يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر'.split('_'),
        monthsShort : 'يناير_فبراير_مارس_أبريل_ماي_يونيو_يوليوز_غشت_شتنبر_أكتوبر_نونبر_دجنبر'.split('_'),
        weekdays : 'الأحد_الإتنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت'.split('_'),
        weekdaysShort : 'احد_اتنين_ثلاثاء_اربعاء_خميس_جمعة_سبت'.split('_'),
        weekdaysMin : 'ح_ن_ث_ر_خ_ج_س'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[اليوم على الساعة] LT',
            nextDay: '[غدا على الساعة] LT',
            nextWeek: 'dddd [على الساعة] LT',
            lastDay: '[أمس على الساعة] LT',
            lastWeek: 'dddd [على الساعة] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'في %s',
            past : 'منذ %s',
            s : 'ثوان',
            ss : '%d ثانية',
            m : 'دقيقة',
            mm : '%d دقائق',
            h : 'ساعة',
            hh : '%d ساعات',
            d : 'يوم',
            dd : '%d أيام',
            M : 'شهر',
            MM : '%d أشهر',
            y : 'سنة',
            yy : '%d سنوات'
        },
        week : {
            dow : 6, // Saturday is the first day of the week.
            doy : 12  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return arMa;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ar-sa.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/ar-sa.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '١',
        '2': '٢',
        '3': '٣',
        '4': '٤',
        '5': '٥',
        '6': '٦',
        '7': '٧',
        '8': '٨',
        '9': '٩',
        '0': '٠'
    }, numberMap = {
        '١': '1',
        '٢': '2',
        '٣': '3',
        '٤': '4',
        '٥': '5',
        '٦': '6',
        '٧': '7',
        '٨': '8',
        '٩': '9',
        '٠': '0'
    };

    var arSa = moment.defineLocale('ar-sa', {
        months : 'يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر'.split('_'),
        monthsShort : 'يناير_فبراير_مارس_أبريل_مايو_يونيو_يوليو_أغسطس_سبتمبر_أكتوبر_نوفمبر_ديسمبر'.split('_'),
        weekdays : 'الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت'.split('_'),
        weekdaysShort : 'أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت'.split('_'),
        weekdaysMin : 'ح_ن_ث_ر_خ_ج_س'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        meridiemParse: /ص|م/,
        isPM : function (input) {
            return 'م' === input;
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 12) {
                return 'ص';
            } else {
                return 'م';
            }
        },
        calendar : {
            sameDay: '[اليوم على الساعة] LT',
            nextDay: '[غدا على الساعة] LT',
            nextWeek: 'dddd [على الساعة] LT',
            lastDay: '[أمس على الساعة] LT',
            lastWeek: 'dddd [على الساعة] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'في %s',
            past : 'منذ %s',
            s : 'ثوان',
            ss : '%d ثانية',
            m : 'دقيقة',
            mm : '%d دقائق',
            h : 'ساعة',
            hh : '%d ساعات',
            d : 'يوم',
            dd : '%d أيام',
            M : 'شهر',
            MM : '%d أشهر',
            y : 'سنة',
            yy : '%d سنوات'
        },
        preparse: function (string) {
            return string.replace(/[١٢٣٤٥٦٧٨٩٠]/g, function (match) {
                return numberMap[match];
            }).replace(/،/g, ',');
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            }).replace(/,/g, '،');
        },
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return arSa;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ar-tn.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/ar-tn.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var arTn = moment.defineLocale('ar-tn', {
        months: 'جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر'.split('_'),
        monthsShort: 'جانفي_فيفري_مارس_أفريل_ماي_جوان_جويلية_أوت_سبتمبر_أكتوبر_نوفمبر_ديسمبر'.split('_'),
        weekdays: 'الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت'.split('_'),
        weekdaysShort: 'أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت'.split('_'),
        weekdaysMin: 'ح_ن_ث_ر_خ_ج_س'.split('_'),
        weekdaysParseExact : true,
        longDateFormat: {
            LT: 'HH:mm',
            LTS: 'HH:mm:ss',
            L: 'DD/MM/YYYY',
            LL: 'D MMMM YYYY',
            LLL: 'D MMMM YYYY HH:mm',
            LLLL: 'dddd D MMMM YYYY HH:mm'
        },
        calendar: {
            sameDay: '[اليوم على الساعة] LT',
            nextDay: '[غدا على الساعة] LT',
            nextWeek: 'dddd [على الساعة] LT',
            lastDay: '[أمس على الساعة] LT',
            lastWeek: 'dddd [على الساعة] LT',
            sameElse: 'L'
        },
        relativeTime: {
            future: 'في %s',
            past: 'منذ %s',
            s: 'ثوان',
            ss : '%d ثانية',
            m: 'دقيقة',
            mm: '%d دقائق',
            h: 'ساعة',
            hh: '%d ساعات',
            d: 'يوم',
            dd: '%d أيام',
            M: 'شهر',
            MM: '%d أشهر',
            y: 'سنة',
            yy: '%d سنوات'
        },
        week: {
            dow: 1, // Monday is the first day of the week.
            doy: 4 // The week that contains Jan 4th is the first week of the year.
        }
    });

    return arTn;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ar.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ar.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '١',
        '2': '٢',
        '3': '٣',
        '4': '٤',
        '5': '٥',
        '6': '٦',
        '7': '٧',
        '8': '٨',
        '9': '٩',
        '0': '٠'
    }, numberMap = {
        '١': '1',
        '٢': '2',
        '٣': '3',
        '٤': '4',
        '٥': '5',
        '٦': '6',
        '٧': '7',
        '٨': '8',
        '٩': '9',
        '٠': '0'
    }, pluralForm = function (n) {
        return n === 0 ? 0 : n === 1 ? 1 : n === 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5;
    }, plurals = {
        s : ['أقل من ثانية', 'ثانية واحدة', ['ثانيتان', 'ثانيتين'], '%d ثوان', '%d ثانية', '%d ثانية'],
        m : ['أقل من دقيقة', 'دقيقة واحدة', ['دقيقتان', 'دقيقتين'], '%d دقائق', '%d دقيقة', '%d دقيقة'],
        h : ['أقل من ساعة', 'ساعة واحدة', ['ساعتان', 'ساعتين'], '%d ساعات', '%d ساعة', '%d ساعة'],
        d : ['أقل من يوم', 'يوم واحد', ['يومان', 'يومين'], '%d أيام', '%d يومًا', '%d يوم'],
        M : ['أقل من شهر', 'شهر واحد', ['شهران', 'شهرين'], '%d أشهر', '%d شهرا', '%d شهر'],
        y : ['أقل من عام', 'عام واحد', ['عامان', 'عامين'], '%d أعوام', '%d عامًا', '%d عام']
    }, pluralize = function (u) {
        return function (number, withoutSuffix, string, isFuture) {
            var f = pluralForm(number),
                str = plurals[u][pluralForm(number)];
            if (f === 2) {
                str = str[withoutSuffix ? 0 : 1];
            }
            return str.replace(/%d/i, number);
        };
    }, months = [
        'يناير',
        'فبراير',
        'مارس',
        'أبريل',
        'مايو',
        'يونيو',
        'يوليو',
        'أغسطس',
        'سبتمبر',
        'أكتوبر',
        'نوفمبر',
        'ديسمبر'
    ];

    var ar = moment.defineLocale('ar', {
        months : months,
        monthsShort : months,
        weekdays : 'الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت'.split('_'),
        weekdaysShort : 'أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت'.split('_'),
        weekdaysMin : 'ح_ن_ث_ر_خ_ج_س'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'D/\u200FM/\u200FYYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        meridiemParse: /ص|م/,
        isPM : function (input) {
            return 'م' === input;
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 12) {
                return 'ص';
            } else {
                return 'م';
            }
        },
        calendar : {
            sameDay: '[اليوم عند الساعة] LT',
            nextDay: '[غدًا عند الساعة] LT',
            nextWeek: 'dddd [عند الساعة] LT',
            lastDay: '[أمس عند الساعة] LT',
            lastWeek: 'dddd [عند الساعة] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'بعد %s',
            past : 'منذ %s',
            s : pluralize('s'),
            ss : pluralize('s'),
            m : pluralize('m'),
            mm : pluralize('m'),
            h : pluralize('h'),
            hh : pluralize('h'),
            d : pluralize('d'),
            dd : pluralize('d'),
            M : pluralize('M'),
            MM : pluralize('M'),
            y : pluralize('y'),
            yy : pluralize('y')
        },
        preparse: function (string) {
            return string.replace(/[١٢٣٤٥٦٧٨٩٠]/g, function (match) {
                return numberMap[match];
            }).replace(/،/g, ',');
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            }).replace(/,/g, '،');
        },
        week : {
            dow : 6, // Saturday is the first day of the week.
            doy : 12  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return ar;

})));


/***/ }),

/***/ "./node_modules/moment/locale/az.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/az.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var suffixes = {
        1: '-inci',
        5: '-inci',
        8: '-inci',
        70: '-inci',
        80: '-inci',
        2: '-nci',
        7: '-nci',
        20: '-nci',
        50: '-nci',
        3: '-üncü',
        4: '-üncü',
        100: '-üncü',
        6: '-ncı',
        9: '-uncu',
        10: '-uncu',
        30: '-uncu',
        60: '-ıncı',
        90: '-ıncı'
    };

    var az = moment.defineLocale('az', {
        months : 'yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr'.split('_'),
        monthsShort : 'yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek'.split('_'),
        weekdays : 'Bazar_Bazar ertəsi_Çərşənbə axşamı_Çərşənbə_Cümə axşamı_Cümə_Şənbə'.split('_'),
        weekdaysShort : 'Baz_BzE_ÇAx_Çər_CAx_Cüm_Şən'.split('_'),
        weekdaysMin : 'Bz_BE_ÇA_Çə_CA_Cü_Şə'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[bugün saat] LT',
            nextDay : '[sabah saat] LT',
            nextWeek : '[gələn həftə] dddd [saat] LT',
            lastDay : '[dünən] LT',
            lastWeek : '[keçən həftə] dddd [saat] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s sonra',
            past : '%s əvvəl',
            s : 'birneçə saniyə',
            ss : '%d saniyə',
            m : 'bir dəqiqə',
            mm : '%d dəqiqə',
            h : 'bir saat',
            hh : '%d saat',
            d : 'bir gün',
            dd : '%d gün',
            M : 'bir ay',
            MM : '%d ay',
            y : 'bir il',
            yy : '%d il'
        },
        meridiemParse: /gecə|səhər|gündüz|axşam/,
        isPM : function (input) {
            return /^(gündüz|axşam)$/.test(input);
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 4) {
                return 'gecə';
            } else if (hour < 12) {
                return 'səhər';
            } else if (hour < 17) {
                return 'gündüz';
            } else {
                return 'axşam';
            }
        },
        dayOfMonthOrdinalParse: /\d{1,2}-(ıncı|inci|nci|üncü|ncı|uncu)/,
        ordinal : function (number) {
            if (number === 0) {  // special case for zero
                return number + '-ıncı';
            }
            var a = number % 10,
                b = number % 100 - a,
                c = number >= 100 ? 100 : null;
            return number + (suffixes[a] || suffixes[b] || suffixes[c]);
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return az;

})));


/***/ }),

/***/ "./node_modules/moment/locale/be.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/be.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function plural(word, num) {
        var forms = word.split('_');
        return num % 10 === 1 && num % 100 !== 11 ? forms[0] : (num % 10 >= 2 && num % 10 <= 4 && (num % 100 < 10 || num % 100 >= 20) ? forms[1] : forms[2]);
    }
    function relativeTimeWithPlural(number, withoutSuffix, key) {
        var format = {
            'ss': withoutSuffix ? 'секунда_секунды_секунд' : 'секунду_секунды_секунд',
            'mm': withoutSuffix ? 'хвіліна_хвіліны_хвілін' : 'хвіліну_хвіліны_хвілін',
            'hh': withoutSuffix ? 'гадзіна_гадзіны_гадзін' : 'гадзіну_гадзіны_гадзін',
            'dd': 'дзень_дні_дзён',
            'MM': 'месяц_месяцы_месяцаў',
            'yy': 'год_гады_гадоў'
        };
        if (key === 'm') {
            return withoutSuffix ? 'хвіліна' : 'хвіліну';
        }
        else if (key === 'h') {
            return withoutSuffix ? 'гадзіна' : 'гадзіну';
        }
        else {
            return number + ' ' + plural(format[key], +number);
        }
    }

    var be = moment.defineLocale('be', {
        months : {
            format: 'студзеня_лютага_сакавіка_красавіка_траўня_чэрвеня_ліпеня_жніўня_верасня_кастрычніка_лістапада_снежня'.split('_'),
            standalone: 'студзень_люты_сакавік_красавік_травень_чэрвень_ліпень_жнівень_верасень_кастрычнік_лістапад_снежань'.split('_')
        },
        monthsShort : 'студ_лют_сак_крас_трав_чэрв_ліп_жнів_вер_каст_ліст_снеж'.split('_'),
        weekdays : {
            format: 'нядзелю_панядзелак_аўторак_сераду_чацвер_пятніцу_суботу'.split('_'),
            standalone: 'нядзеля_панядзелак_аўторак_серада_чацвер_пятніца_субота'.split('_'),
            isFormat: /\[ ?[Ууў] ?(?:мінулую|наступную)? ?\] ?dddd/
        },
        weekdaysShort : 'нд_пн_ат_ср_чц_пт_сб'.split('_'),
        weekdaysMin : 'нд_пн_ат_ср_чц_пт_сб'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY г.',
            LLL : 'D MMMM YYYY г., HH:mm',
            LLLL : 'dddd, D MMMM YYYY г., HH:mm'
        },
        calendar : {
            sameDay: '[Сёння ў] LT',
            nextDay: '[Заўтра ў] LT',
            lastDay: '[Учора ў] LT',
            nextWeek: function () {
                return '[У] dddd [ў] LT';
            },
            lastWeek: function () {
                switch (this.day()) {
                    case 0:
                    case 3:
                    case 5:
                    case 6:
                        return '[У мінулую] dddd [ў] LT';
                    case 1:
                    case 2:
                    case 4:
                        return '[У мінулы] dddd [ў] LT';
                }
            },
            sameElse: 'L'
        },
        relativeTime : {
            future : 'праз %s',
            past : '%s таму',
            s : 'некалькі секунд',
            m : relativeTimeWithPlural,
            mm : relativeTimeWithPlural,
            h : relativeTimeWithPlural,
            hh : relativeTimeWithPlural,
            d : 'дзень',
            dd : relativeTimeWithPlural,
            M : 'месяц',
            MM : relativeTimeWithPlural,
            y : 'год',
            yy : relativeTimeWithPlural
        },
        meridiemParse: /ночы|раніцы|дня|вечара/,
        isPM : function (input) {
            return /^(дня|вечара)$/.test(input);
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 4) {
                return 'ночы';
            } else if (hour < 12) {
                return 'раніцы';
            } else if (hour < 17) {
                return 'дня';
            } else {
                return 'вечара';
            }
        },
        dayOfMonthOrdinalParse: /\d{1,2}-(і|ы|га)/,
        ordinal: function (number, period) {
            switch (period) {
                case 'M':
                case 'd':
                case 'DDD':
                case 'w':
                case 'W':
                    return (number % 10 === 2 || number % 10 === 3) && (number % 100 !== 12 && number % 100 !== 13) ? number + '-і' : number + '-ы';
                case 'D':
                    return number + '-га';
                default:
                    return number;
            }
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return be;

})));


/***/ }),

/***/ "./node_modules/moment/locale/bg.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/bg.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var bg = moment.defineLocale('bg', {
        months : 'януари_февруари_март_април_май_юни_юли_август_септември_октомври_ноември_декември'.split('_'),
        monthsShort : 'янр_фев_мар_апр_май_юни_юли_авг_сеп_окт_ное_дек'.split('_'),
        weekdays : 'неделя_понеделник_вторник_сряда_четвъртък_петък_събота'.split('_'),
        weekdaysShort : 'нед_пон_вто_сря_чет_пет_съб'.split('_'),
        weekdaysMin : 'нд_пн_вт_ср_чт_пт_сб'.split('_'),
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'D.MM.YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY H:mm',
            LLLL : 'dddd, D MMMM YYYY H:mm'
        },
        calendar : {
            sameDay : '[Днес в] LT',
            nextDay : '[Утре в] LT',
            nextWeek : 'dddd [в] LT',
            lastDay : '[Вчера в] LT',
            lastWeek : function () {
                switch (this.day()) {
                    case 0:
                    case 3:
                    case 6:
                        return '[В изминалата] dddd [в] LT';
                    case 1:
                    case 2:
                    case 4:
                    case 5:
                        return '[В изминалия] dddd [в] LT';
                }
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : 'след %s',
            past : 'преди %s',
            s : 'няколко секунди',
            ss : '%d секунди',
            m : 'минута',
            mm : '%d минути',
            h : 'час',
            hh : '%d часа',
            d : 'ден',
            dd : '%d дни',
            M : 'месец',
            MM : '%d месеца',
            y : 'година',
            yy : '%d години'
        },
        dayOfMonthOrdinalParse: /\d{1,2}-(ев|ен|ти|ви|ри|ми)/,
        ordinal : function (number) {
            var lastDigit = number % 10,
                last2Digits = number % 100;
            if (number === 0) {
                return number + '-ев';
            } else if (last2Digits === 0) {
                return number + '-ен';
            } else if (last2Digits > 10 && last2Digits < 20) {
                return number + '-ти';
            } else if (lastDigit === 1) {
                return number + '-ви';
            } else if (lastDigit === 2) {
                return number + '-ри';
            } else if (lastDigit === 7 || lastDigit === 8) {
                return number + '-ми';
            } else {
                return number + '-ти';
            }
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return bg;

})));


/***/ }),

/***/ "./node_modules/moment/locale/bm.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/bm.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var bm = moment.defineLocale('bm', {
        months : 'Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mɛkalo_Zuwɛnkalo_Zuluyekalo_Utikalo_Sɛtanburukalo_ɔkutɔburukalo_Nowanburukalo_Desanburukalo'.split('_'),
        monthsShort : 'Zan_Few_Mar_Awi_Mɛ_Zuw_Zul_Uti_Sɛt_ɔku_Now_Des'.split('_'),
        weekdays : 'Kari_Ntɛnɛn_Tarata_Araba_Alamisa_Juma_Sibiri'.split('_'),
        weekdaysShort : 'Kar_Ntɛ_Tar_Ara_Ala_Jum_Sib'.split('_'),
        weekdaysMin : 'Ka_Nt_Ta_Ar_Al_Ju_Si'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'MMMM [tile] D [san] YYYY',
            LLL : 'MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm',
            LLLL : 'dddd MMMM [tile] D [san] YYYY [lɛrɛ] HH:mm'
        },
        calendar : {
            sameDay : '[Bi lɛrɛ] LT',
            nextDay : '[Sini lɛrɛ] LT',
            nextWeek : 'dddd [don lɛrɛ] LT',
            lastDay : '[Kunu lɛrɛ] LT',
            lastWeek : 'dddd [tɛmɛnen lɛrɛ] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s kɔnɔ',
            past : 'a bɛ %s bɔ',
            s : 'sanga dama dama',
            ss : 'sekondi %d',
            m : 'miniti kelen',
            mm : 'miniti %d',
            h : 'lɛrɛ kelen',
            hh : 'lɛrɛ %d',
            d : 'tile kelen',
            dd : 'tile %d',
            M : 'kalo kelen',
            MM : 'kalo %d',
            y : 'san kelen',
            yy : 'san %d'
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return bm;

})));


/***/ }),

/***/ "./node_modules/moment/locale/bn.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/bn.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '১',
        '2': '২',
        '3': '৩',
        '4': '৪',
        '5': '৫',
        '6': '৬',
        '7': '৭',
        '8': '৮',
        '9': '৯',
        '0': '০'
    },
    numberMap = {
        '১': '1',
        '২': '2',
        '৩': '3',
        '৪': '4',
        '৫': '5',
        '৬': '6',
        '৭': '7',
        '৮': '8',
        '৯': '9',
        '০': '0'
    };

    var bn = moment.defineLocale('bn', {
        months : 'জানুয়ারী_ফেব্রুয়ারি_মার্চ_এপ্রিল_মে_জুন_জুলাই_আগস্ট_সেপ্টেম্বর_অক্টোবর_নভেম্বর_ডিসেম্বর'.split('_'),
        monthsShort : 'জানু_ফেব_মার্চ_এপ্র_মে_জুন_জুল_আগ_সেপ্ট_অক্টো_নভে_ডিসে'.split('_'),
        weekdays : 'রবিবার_সোমবার_মঙ্গলবার_বুধবার_বৃহস্পতিবার_শুক্রবার_শনিবার'.split('_'),
        weekdaysShort : 'রবি_সোম_মঙ্গল_বুধ_বৃহস্পতি_শুক্র_শনি'.split('_'),
        weekdaysMin : 'রবি_সোম_মঙ্গ_বুধ_বৃহঃ_শুক্র_শনি'.split('_'),
        longDateFormat : {
            LT : 'A h:mm সময়',
            LTS : 'A h:mm:ss সময়',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY, A h:mm সময়',
            LLLL : 'dddd, D MMMM YYYY, A h:mm সময়'
        },
        calendar : {
            sameDay : '[আজ] LT',
            nextDay : '[আগামীকাল] LT',
            nextWeek : 'dddd, LT',
            lastDay : '[গতকাল] LT',
            lastWeek : '[গত] dddd, LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s পরে',
            past : '%s আগে',
            s : 'কয়েক সেকেন্ড',
            ss : '%d সেকেন্ড',
            m : 'এক মিনিট',
            mm : '%d মিনিট',
            h : 'এক ঘন্টা',
            hh : '%d ঘন্টা',
            d : 'এক দিন',
            dd : '%d দিন',
            M : 'এক মাস',
            MM : '%d মাস',
            y : 'এক বছর',
            yy : '%d বছর'
        },
        preparse: function (string) {
            return string.replace(/[১২৩৪৫৬৭৮৯০]/g, function (match) {
                return numberMap[match];
            });
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            });
        },
        meridiemParse: /রাত|সকাল|দুপুর|বিকাল|রাত/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if ((meridiem === 'রাত' && hour >= 4) ||
                    (meridiem === 'দুপুর' && hour < 5) ||
                    meridiem === 'বিকাল') {
                return hour + 12;
            } else {
                return hour;
            }
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 4) {
                return 'রাত';
            } else if (hour < 10) {
                return 'সকাল';
            } else if (hour < 17) {
                return 'দুপুর';
            } else if (hour < 20) {
                return 'বিকাল';
            } else {
                return 'রাত';
            }
        },
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return bn;

})));


/***/ }),

/***/ "./node_modules/moment/locale/bo.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/bo.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '༡',
        '2': '༢',
        '3': '༣',
        '4': '༤',
        '5': '༥',
        '6': '༦',
        '7': '༧',
        '8': '༨',
        '9': '༩',
        '0': '༠'
    },
    numberMap = {
        '༡': '1',
        '༢': '2',
        '༣': '3',
        '༤': '4',
        '༥': '5',
        '༦': '6',
        '༧': '7',
        '༨': '8',
        '༩': '9',
        '༠': '0'
    };

    var bo = moment.defineLocale('bo', {
        months : 'ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ'.split('_'),
        monthsShort : 'ཟླ་བ་དང་པོ_ཟླ་བ་གཉིས་པ_ཟླ་བ་གསུམ་པ_ཟླ་བ་བཞི་པ_ཟླ་བ་ལྔ་པ_ཟླ་བ་དྲུག་པ_ཟླ་བ་བདུན་པ_ཟླ་བ་བརྒྱད་པ_ཟླ་བ་དགུ་པ_ཟླ་བ་བཅུ་པ_ཟླ་བ་བཅུ་གཅིག་པ_ཟླ་བ་བཅུ་གཉིས་པ'.split('_'),
        weekdays : 'གཟའ་ཉི་མ་_གཟའ་ཟླ་བ་_གཟའ་མིག་དམར་_གཟའ་ལྷག་པ་_གཟའ་ཕུར་བུ_གཟའ་པ་སངས་_གཟའ་སྤེན་པ་'.split('_'),
        weekdaysShort : 'ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་'.split('_'),
        weekdaysMin : 'ཉི་མ་_ཟླ་བ་_མིག་དམར་_ལྷག་པ་_ཕུར་བུ_པ་སངས་_སྤེན་པ་'.split('_'),
        longDateFormat : {
            LT : 'A h:mm',
            LTS : 'A h:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY, A h:mm',
            LLLL : 'dddd, D MMMM YYYY, A h:mm'
        },
        calendar : {
            sameDay : '[དི་རིང] LT',
            nextDay : '[སང་ཉིན] LT',
            nextWeek : '[བདུན་ཕྲག་རྗེས་མ], LT',
            lastDay : '[ཁ་སང] LT',
            lastWeek : '[བདུན་ཕྲག་མཐའ་མ] dddd, LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s ལ་',
            past : '%s སྔན་ལ',
            s : 'ལམ་སང',
            ss : '%d སྐར་ཆ།',
            m : 'སྐར་མ་གཅིག',
            mm : '%d སྐར་མ',
            h : 'ཆུ་ཚོད་གཅིག',
            hh : '%d ཆུ་ཚོད',
            d : 'ཉིན་གཅིག',
            dd : '%d ཉིན་',
            M : 'ཟླ་བ་གཅིག',
            MM : '%d ཟླ་བ',
            y : 'ལོ་གཅིག',
            yy : '%d ལོ'
        },
        preparse: function (string) {
            return string.replace(/[༡༢༣༤༥༦༧༨༩༠]/g, function (match) {
                return numberMap[match];
            });
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            });
        },
        meridiemParse: /མཚན་མོ|ཞོགས་ཀས|ཉིན་གུང|དགོང་དག|མཚན་མོ/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if ((meridiem === 'མཚན་མོ' && hour >= 4) ||
                    (meridiem === 'ཉིན་གུང' && hour < 5) ||
                    meridiem === 'དགོང་དག') {
                return hour + 12;
            } else {
                return hour;
            }
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 4) {
                return 'མཚན་མོ';
            } else if (hour < 10) {
                return 'ཞོགས་ཀས';
            } else if (hour < 17) {
                return 'ཉིན་གུང';
            } else if (hour < 20) {
                return 'དགོང་དག';
            } else {
                return 'མཚན་མོ';
            }
        },
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return bo;

})));


/***/ }),

/***/ "./node_modules/moment/locale/br.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/br.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function relativeTimeWithMutation(number, withoutSuffix, key) {
        var format = {
            'mm': 'munutenn',
            'MM': 'miz',
            'dd': 'devezh'
        };
        return number + ' ' + mutation(format[key], number);
    }
    function specialMutationForYears(number) {
        switch (lastNumber(number)) {
            case 1:
            case 3:
            case 4:
            case 5:
            case 9:
                return number + ' bloaz';
            default:
                return number + ' vloaz';
        }
    }
    function lastNumber(number) {
        if (number > 9) {
            return lastNumber(number % 10);
        }
        return number;
    }
    function mutation(text, number) {
        if (number === 2) {
            return softMutation(text);
        }
        return text;
    }
    function softMutation(text) {
        var mutationTable = {
            'm': 'v',
            'b': 'v',
            'd': 'z'
        };
        if (mutationTable[text.charAt(0)] === undefined) {
            return text;
        }
        return mutationTable[text.charAt(0)] + text.substring(1);
    }

    var br = moment.defineLocale('br', {
        months : 'Genver_C\'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu'.split('_'),
        monthsShort : 'Gen_C\'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker'.split('_'),
        weekdays : 'Sul_Lun_Meurzh_Merc\'her_Yaou_Gwener_Sadorn'.split('_'),
        weekdaysShort : 'Sul_Lun_Meu_Mer_Yao_Gwe_Sad'.split('_'),
        weekdaysMin : 'Su_Lu_Me_Mer_Ya_Gw_Sa'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'h[e]mm A',
            LTS : 'h[e]mm:ss A',
            L : 'DD/MM/YYYY',
            LL : 'D [a viz] MMMM YYYY',
            LLL : 'D [a viz] MMMM YYYY h[e]mm A',
            LLLL : 'dddd, D [a viz] MMMM YYYY h[e]mm A'
        },
        calendar : {
            sameDay : '[Hiziv da] LT',
            nextDay : '[Warc\'hoazh da] LT',
            nextWeek : 'dddd [da] LT',
            lastDay : '[Dec\'h da] LT',
            lastWeek : 'dddd [paset da] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'a-benn %s',
            past : '%s \'zo',
            s : 'un nebeud segondennoù',
            ss : '%d eilenn',
            m : 'ur vunutenn',
            mm : relativeTimeWithMutation,
            h : 'un eur',
            hh : '%d eur',
            d : 'un devezh',
            dd : relativeTimeWithMutation,
            M : 'ur miz',
            MM : relativeTimeWithMutation,
            y : 'ur bloaz',
            yy : specialMutationForYears
        },
        dayOfMonthOrdinalParse: /\d{1,2}(añ|vet)/,
        ordinal : function (number) {
            var output = (number === 1) ? 'añ' : 'vet';
            return number + output;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return br;

})));


/***/ }),

/***/ "./node_modules/moment/locale/bs.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/bs.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function translate(number, withoutSuffix, key) {
        var result = number + ' ';
        switch (key) {
            case 'ss':
                if (number === 1) {
                    result += 'sekunda';
                } else if (number === 2 || number === 3 || number === 4) {
                    result += 'sekunde';
                } else {
                    result += 'sekundi';
                }
                return result;
            case 'm':
                return withoutSuffix ? 'jedna minuta' : 'jedne minute';
            case 'mm':
                if (number === 1) {
                    result += 'minuta';
                } else if (number === 2 || number === 3 || number === 4) {
                    result += 'minute';
                } else {
                    result += 'minuta';
                }
                return result;
            case 'h':
                return withoutSuffix ? 'jedan sat' : 'jednog sata';
            case 'hh':
                if (number === 1) {
                    result += 'sat';
                } else if (number === 2 || number === 3 || number === 4) {
                    result += 'sata';
                } else {
                    result += 'sati';
                }
                return result;
            case 'dd':
                if (number === 1) {
                    result += 'dan';
                } else {
                    result += 'dana';
                }
                return result;
            case 'MM':
                if (number === 1) {
                    result += 'mjesec';
                } else if (number === 2 || number === 3 || number === 4) {
                    result += 'mjeseca';
                } else {
                    result += 'mjeseci';
                }
                return result;
            case 'yy':
                if (number === 1) {
                    result += 'godina';
                } else if (number === 2 || number === 3 || number === 4) {
                    result += 'godine';
                } else {
                    result += 'godina';
                }
                return result;
        }
    }

    var bs = moment.defineLocale('bs', {
        months : 'januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar'.split('_'),
        monthsShort : 'jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.'.split('_'),
        monthsParseExact: true,
        weekdays : 'nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota'.split('_'),
        weekdaysShort : 'ned._pon._uto._sri._čet._pet._sub.'.split('_'),
        weekdaysMin : 'ne_po_ut_sr_če_pe_su'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM YYYY',
            LLL : 'D. MMMM YYYY H:mm',
            LLLL : 'dddd, D. MMMM YYYY H:mm'
        },
        calendar : {
            sameDay  : '[danas u] LT',
            nextDay  : '[sutra u] LT',
            nextWeek : function () {
                switch (this.day()) {
                    case 0:
                        return '[u] [nedjelju] [u] LT';
                    case 3:
                        return '[u] [srijedu] [u] LT';
                    case 6:
                        return '[u] [subotu] [u] LT';
                    case 1:
                    case 2:
                    case 4:
                    case 5:
                        return '[u] dddd [u] LT';
                }
            },
            lastDay  : '[jučer u] LT',
            lastWeek : function () {
                switch (this.day()) {
                    case 0:
                    case 3:
                        return '[prošlu] dddd [u] LT';
                    case 6:
                        return '[prošle] [subote] [u] LT';
                    case 1:
                    case 2:
                    case 4:
                    case 5:
                        return '[prošli] dddd [u] LT';
                }
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : 'za %s',
            past   : 'prije %s',
            s      : 'par sekundi',
            ss     : translate,
            m      : translate,
            mm     : translate,
            h      : translate,
            hh     : translate,
            d      : 'dan',
            dd     : translate,
            M      : 'mjesec',
            MM     : translate,
            y      : 'godinu',
            yy     : translate
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return bs;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ca.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ca.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var ca = moment.defineLocale('ca', {
        months : {
            standalone: 'gener_febrer_març_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre'.split('_'),
            format: 'de gener_de febrer_de març_d\'abril_de maig_de juny_de juliol_d\'agost_de setembre_d\'octubre_de novembre_de desembre'.split('_'),
            isFormat: /D[oD]?(\s)+MMMM/
        },
        monthsShort : 'gen._febr._març_abr._maig_juny_jul._ag._set._oct._nov._des.'.split('_'),
        monthsParseExact : true,
        weekdays : 'diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte'.split('_'),
        weekdaysShort : 'dg._dl._dt._dc._dj._dv._ds.'.split('_'),
        weekdaysMin : 'dg_dl_dt_dc_dj_dv_ds'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM [de] YYYY',
            ll : 'D MMM YYYY',
            LLL : 'D MMMM [de] YYYY [a les] H:mm',
            lll : 'D MMM YYYY, H:mm',
            LLLL : 'dddd D MMMM [de] YYYY [a les] H:mm',
            llll : 'ddd D MMM YYYY, H:mm'
        },
        calendar : {
            sameDay : function () {
                return '[avui a ' + ((this.hours() !== 1) ? 'les' : 'la') + '] LT';
            },
            nextDay : function () {
                return '[demà a ' + ((this.hours() !== 1) ? 'les' : 'la') + '] LT';
            },
            nextWeek : function () {
                return 'dddd [a ' + ((this.hours() !== 1) ? 'les' : 'la') + '] LT';
            },
            lastDay : function () {
                return '[ahir a ' + ((this.hours() !== 1) ? 'les' : 'la') + '] LT';
            },
            lastWeek : function () {
                return '[el] dddd [passat a ' + ((this.hours() !== 1) ? 'les' : 'la') + '] LT';
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : 'd\'aquí %s',
            past : 'fa %s',
            s : 'uns segons',
            ss : '%d segons',
            m : 'un minut',
            mm : '%d minuts',
            h : 'una hora',
            hh : '%d hores',
            d : 'un dia',
            dd : '%d dies',
            M : 'un mes',
            MM : '%d mesos',
            y : 'un any',
            yy : '%d anys'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(r|n|t|è|a)/,
        ordinal : function (number, period) {
            var output = (number === 1) ? 'r' :
                (number === 2) ? 'n' :
                (number === 3) ? 'r' :
                (number === 4) ? 't' : 'è';
            if (period === 'w' || period === 'W') {
                output = 'a';
            }
            return number + output;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return ca;

})));


/***/ }),

/***/ "./node_modules/moment/locale/cs.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/cs.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var months = 'leden_únor_březen_duben_květen_červen_červenec_srpen_září_říjen_listopad_prosinec'.split('_'),
        monthsShort = 'led_úno_bře_dub_kvě_čvn_čvc_srp_zář_říj_lis_pro'.split('_');
    function plural(n) {
        return (n > 1) && (n < 5) && (~~(n / 10) !== 1);
    }
    function translate(number, withoutSuffix, key, isFuture) {
        var result = number + ' ';
        switch (key) {
            case 's':  // a few seconds / in a few seconds / a few seconds ago
                return (withoutSuffix || isFuture) ? 'pár sekund' : 'pár sekundami';
            case 'ss': // 9 seconds / in 9 seconds / 9 seconds ago
                if (withoutSuffix || isFuture) {
                    return result + (plural(number) ? 'sekundy' : 'sekund');
                } else {
                    return result + 'sekundami';
                }
                break;
            case 'm':  // a minute / in a minute / a minute ago
                return withoutSuffix ? 'minuta' : (isFuture ? 'minutu' : 'minutou');
            case 'mm': // 9 minutes / in 9 minutes / 9 minutes ago
                if (withoutSuffix || isFuture) {
                    return result + (plural(number) ? 'minuty' : 'minut');
                } else {
                    return result + 'minutami';
                }
                break;
            case 'h':  // an hour / in an hour / an hour ago
                return withoutSuffix ? 'hodina' : (isFuture ? 'hodinu' : 'hodinou');
            case 'hh': // 9 hours / in 9 hours / 9 hours ago
                if (withoutSuffix || isFuture) {
                    return result + (plural(number) ? 'hodiny' : 'hodin');
                } else {
                    return result + 'hodinami';
                }
                break;
            case 'd':  // a day / in a day / a day ago
                return (withoutSuffix || isFuture) ? 'den' : 'dnem';
            case 'dd': // 9 days / in 9 days / 9 days ago
                if (withoutSuffix || isFuture) {
                    return result + (plural(number) ? 'dny' : 'dní');
                } else {
                    return result + 'dny';
                }
                break;
            case 'M':  // a month / in a month / a month ago
                return (withoutSuffix || isFuture) ? 'měsíc' : 'měsícem';
            case 'MM': // 9 months / in 9 months / 9 months ago
                if (withoutSuffix || isFuture) {
                    return result + (plural(number) ? 'měsíce' : 'měsíců');
                } else {
                    return result + 'měsíci';
                }
                break;
            case 'y':  // a year / in a year / a year ago
                return (withoutSuffix || isFuture) ? 'rok' : 'rokem';
            case 'yy': // 9 years / in 9 years / 9 years ago
                if (withoutSuffix || isFuture) {
                    return result + (plural(number) ? 'roky' : 'let');
                } else {
                    return result + 'lety';
                }
                break;
        }
    }

    var cs = moment.defineLocale('cs', {
        months : months,
        monthsShort : monthsShort,
        monthsParse : (function (months, monthsShort) {
            var i, _monthsParse = [];
            for (i = 0; i < 12; i++) {
                // use custom parser to solve problem with July (červenec)
                _monthsParse[i] = new RegExp('^' + months[i] + '$|^' + monthsShort[i] + '$', 'i');
            }
            return _monthsParse;
        }(months, monthsShort)),
        shortMonthsParse : (function (monthsShort) {
            var i, _shortMonthsParse = [];
            for (i = 0; i < 12; i++) {
                _shortMonthsParse[i] = new RegExp('^' + monthsShort[i] + '$', 'i');
            }
            return _shortMonthsParse;
        }(monthsShort)),
        longMonthsParse : (function (months) {
            var i, _longMonthsParse = [];
            for (i = 0; i < 12; i++) {
                _longMonthsParse[i] = new RegExp('^' + months[i] + '$', 'i');
            }
            return _longMonthsParse;
        }(months)),
        weekdays : 'neděle_pondělí_úterý_středa_čtvrtek_pátek_sobota'.split('_'),
        weekdaysShort : 'ne_po_út_st_čt_pá_so'.split('_'),
        weekdaysMin : 'ne_po_út_st_čt_pá_so'.split('_'),
        longDateFormat : {
            LT: 'H:mm',
            LTS : 'H:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM YYYY',
            LLL : 'D. MMMM YYYY H:mm',
            LLLL : 'dddd D. MMMM YYYY H:mm',
            l : 'D. M. YYYY'
        },
        calendar : {
            sameDay: '[dnes v] LT',
            nextDay: '[zítra v] LT',
            nextWeek: function () {
                switch (this.day()) {
                    case 0:
                        return '[v neděli v] LT';
                    case 1:
                    case 2:
                        return '[v] dddd [v] LT';
                    case 3:
                        return '[ve středu v] LT';
                    case 4:
                        return '[ve čtvrtek v] LT';
                    case 5:
                        return '[v pátek v] LT';
                    case 6:
                        return '[v sobotu v] LT';
                }
            },
            lastDay: '[včera v] LT',
            lastWeek: function () {
                switch (this.day()) {
                    case 0:
                        return '[minulou neděli v] LT';
                    case 1:
                    case 2:
                        return '[minulé] dddd [v] LT';
                    case 3:
                        return '[minulou středu v] LT';
                    case 4:
                    case 5:
                        return '[minulý] dddd [v] LT';
                    case 6:
                        return '[minulou sobotu v] LT';
                }
            },
            sameElse: 'L'
        },
        relativeTime : {
            future : 'za %s',
            past : 'před %s',
            s : translate,
            ss : translate,
            m : translate,
            mm : translate,
            h : translate,
            hh : translate,
            d : translate,
            dd : translate,
            M : translate,
            MM : translate,
            y : translate,
            yy : translate
        },
        dayOfMonthOrdinalParse : /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return cs;

})));


/***/ }),

/***/ "./node_modules/moment/locale/cv.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/cv.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var cv = moment.defineLocale('cv', {
        months : 'кӑрлач_нарӑс_пуш_ака_май_ҫӗртме_утӑ_ҫурла_авӑн_юпа_чӳк_раштав'.split('_'),
        monthsShort : 'кӑр_нар_пуш_ака_май_ҫӗр_утӑ_ҫур_авн_юпа_чӳк_раш'.split('_'),
        weekdays : 'вырсарникун_тунтикун_ытларикун_юнкун_кӗҫнерникун_эрнекун_шӑматкун'.split('_'),
        weekdaysShort : 'выр_тун_ытл_юн_кӗҫ_эрн_шӑм'.split('_'),
        weekdaysMin : 'вр_тн_ыт_юн_кҫ_эр_шм'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD-MM-YYYY',
            LL : 'YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ]',
            LLL : 'YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm',
            LLLL : 'dddd, YYYY [ҫулхи] MMMM [уйӑхӗн] D[-мӗшӗ], HH:mm'
        },
        calendar : {
            sameDay: '[Паян] LT [сехетре]',
            nextDay: '[Ыран] LT [сехетре]',
            lastDay: '[Ӗнер] LT [сехетре]',
            nextWeek: '[Ҫитес] dddd LT [сехетре]',
            lastWeek: '[Иртнӗ] dddd LT [сехетре]',
            sameElse: 'L'
        },
        relativeTime : {
            future : function (output) {
                var affix = /сехет$/i.exec(output) ? 'рен' : /ҫул$/i.exec(output) ? 'тан' : 'ран';
                return output + affix;
            },
            past : '%s каялла',
            s : 'пӗр-ик ҫеккунт',
            ss : '%d ҫеккунт',
            m : 'пӗр минут',
            mm : '%d минут',
            h : 'пӗр сехет',
            hh : '%d сехет',
            d : 'пӗр кун',
            dd : '%d кун',
            M : 'пӗр уйӑх',
            MM : '%d уйӑх',
            y : 'пӗр ҫул',
            yy : '%d ҫул'
        },
        dayOfMonthOrdinalParse: /\d{1,2}-мӗш/,
        ordinal : '%d-мӗш',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return cv;

})));


/***/ }),

/***/ "./node_modules/moment/locale/cy.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/cy.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var cy = moment.defineLocale('cy', {
        months: 'Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr'.split('_'),
        monthsShort: 'Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag'.split('_'),
        weekdays: 'Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn'.split('_'),
        weekdaysShort: 'Sul_Llun_Maw_Mer_Iau_Gwe_Sad'.split('_'),
        weekdaysMin: 'Su_Ll_Ma_Me_Ia_Gw_Sa'.split('_'),
        weekdaysParseExact : true,
        // time formats are the same as en-gb
        longDateFormat: {
            LT: 'HH:mm',
            LTS : 'HH:mm:ss',
            L: 'DD/MM/YYYY',
            LL: 'D MMMM YYYY',
            LLL: 'D MMMM YYYY HH:mm',
            LLLL: 'dddd, D MMMM YYYY HH:mm'
        },
        calendar: {
            sameDay: '[Heddiw am] LT',
            nextDay: '[Yfory am] LT',
            nextWeek: 'dddd [am] LT',
            lastDay: '[Ddoe am] LT',
            lastWeek: 'dddd [diwethaf am] LT',
            sameElse: 'L'
        },
        relativeTime: {
            future: 'mewn %s',
            past: '%s yn ôl',
            s: 'ychydig eiliadau',
            ss: '%d eiliad',
            m: 'munud',
            mm: '%d munud',
            h: 'awr',
            hh: '%d awr',
            d: 'diwrnod',
            dd: '%d diwrnod',
            M: 'mis',
            MM: '%d mis',
            y: 'blwyddyn',
            yy: '%d flynedd'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,
        // traditional ordinal numbers above 31 are not commonly used in colloquial Welsh
        ordinal: function (number) {
            var b = number,
                output = '',
                lookup = [
                    '', 'af', 'il', 'ydd', 'ydd', 'ed', 'ed', 'ed', 'fed', 'fed', 'fed', // 1af to 10fed
                    'eg', 'fed', 'eg', 'eg', 'fed', 'eg', 'eg', 'fed', 'eg', 'fed' // 11eg to 20fed
                ];
            if (b > 20) {
                if (b === 40 || b === 50 || b === 60 || b === 80 || b === 100) {
                    output = 'fed'; // not 30ain, 70ain or 90ain
                } else {
                    output = 'ain';
                }
            } else if (b > 0) {
                output = lookup[b];
            }
            return number + output;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return cy;

})));


/***/ }),

/***/ "./node_modules/moment/locale/da.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/da.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var da = moment.defineLocale('da', {
        months : 'januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december'.split('_'),
        monthsShort : 'jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec'.split('_'),
        weekdays : 'søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag'.split('_'),
        weekdaysShort : 'søn_man_tir_ons_tor_fre_lør'.split('_'),
        weekdaysMin : 'sø_ma_ti_on_to_fr_lø'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM YYYY',
            LLL : 'D. MMMM YYYY HH:mm',
            LLLL : 'dddd [d.] D. MMMM YYYY [kl.] HH:mm'
        },
        calendar : {
            sameDay : '[i dag kl.] LT',
            nextDay : '[i morgen kl.] LT',
            nextWeek : 'på dddd [kl.] LT',
            lastDay : '[i går kl.] LT',
            lastWeek : '[i] dddd[s kl.] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'om %s',
            past : '%s siden',
            s : 'få sekunder',
            ss : '%d sekunder',
            m : 'et minut',
            mm : '%d minutter',
            h : 'en time',
            hh : '%d timer',
            d : 'en dag',
            dd : '%d dage',
            M : 'en måned',
            MM : '%d måneder',
            y : 'et år',
            yy : '%d år'
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return da;

})));


/***/ }),

/***/ "./node_modules/moment/locale/de-at.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/de-at.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function processRelativeTime(number, withoutSuffix, key, isFuture) {
        var format = {
            'm': ['eine Minute', 'einer Minute'],
            'h': ['eine Stunde', 'einer Stunde'],
            'd': ['ein Tag', 'einem Tag'],
            'dd': [number + ' Tage', number + ' Tagen'],
            'M': ['ein Monat', 'einem Monat'],
            'MM': [number + ' Monate', number + ' Monaten'],
            'y': ['ein Jahr', 'einem Jahr'],
            'yy': [number + ' Jahre', number + ' Jahren']
        };
        return withoutSuffix ? format[key][0] : format[key][1];
    }

    var deAt = moment.defineLocale('de-at', {
        months : 'Jänner_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),
        monthsShort : 'Jän._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.'.split('_'),
        monthsParseExact : true,
        weekdays : 'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),
        weekdaysShort : 'So._Mo._Di._Mi._Do._Fr._Sa.'.split('_'),
        weekdaysMin : 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT: 'HH:mm',
            LTS: 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM YYYY',
            LLL : 'D. MMMM YYYY HH:mm',
            LLLL : 'dddd, D. MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[heute um] LT [Uhr]',
            sameElse: 'L',
            nextDay: '[morgen um] LT [Uhr]',
            nextWeek: 'dddd [um] LT [Uhr]',
            lastDay: '[gestern um] LT [Uhr]',
            lastWeek: '[letzten] dddd [um] LT [Uhr]'
        },
        relativeTime : {
            future : 'in %s',
            past : 'vor %s',
            s : 'ein paar Sekunden',
            ss : '%d Sekunden',
            m : processRelativeTime,
            mm : '%d Minuten',
            h : processRelativeTime,
            hh : '%d Stunden',
            d : processRelativeTime,
            dd : processRelativeTime,
            M : processRelativeTime,
            MM : processRelativeTime,
            y : processRelativeTime,
            yy : processRelativeTime
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return deAt;

})));


/***/ }),

/***/ "./node_modules/moment/locale/de-ch.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/de-ch.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function processRelativeTime(number, withoutSuffix, key, isFuture) {
        var format = {
            'm': ['eine Minute', 'einer Minute'],
            'h': ['eine Stunde', 'einer Stunde'],
            'd': ['ein Tag', 'einem Tag'],
            'dd': [number + ' Tage', number + ' Tagen'],
            'M': ['ein Monat', 'einem Monat'],
            'MM': [number + ' Monate', number + ' Monaten'],
            'y': ['ein Jahr', 'einem Jahr'],
            'yy': [number + ' Jahre', number + ' Jahren']
        };
        return withoutSuffix ? format[key][0] : format[key][1];
    }

    var deCh = moment.defineLocale('de-ch', {
        months : 'Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),
        monthsShort : 'Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.'.split('_'),
        monthsParseExact : true,
        weekdays : 'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),
        weekdaysShort : 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),
        weekdaysMin : 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT: 'HH:mm',
            LTS: 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM YYYY',
            LLL : 'D. MMMM YYYY HH:mm',
            LLLL : 'dddd, D. MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[heute um] LT [Uhr]',
            sameElse: 'L',
            nextDay: '[morgen um] LT [Uhr]',
            nextWeek: 'dddd [um] LT [Uhr]',
            lastDay: '[gestern um] LT [Uhr]',
            lastWeek: '[letzten] dddd [um] LT [Uhr]'
        },
        relativeTime : {
            future : 'in %s',
            past : 'vor %s',
            s : 'ein paar Sekunden',
            ss : '%d Sekunden',
            m : processRelativeTime,
            mm : '%d Minuten',
            h : processRelativeTime,
            hh : '%d Stunden',
            d : processRelativeTime,
            dd : processRelativeTime,
            M : processRelativeTime,
            MM : processRelativeTime,
            y : processRelativeTime,
            yy : processRelativeTime
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return deCh;

})));


/***/ }),

/***/ "./node_modules/moment/locale/de.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/de.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function processRelativeTime(number, withoutSuffix, key, isFuture) {
        var format = {
            'm': ['eine Minute', 'einer Minute'],
            'h': ['eine Stunde', 'einer Stunde'],
            'd': ['ein Tag', 'einem Tag'],
            'dd': [number + ' Tage', number + ' Tagen'],
            'M': ['ein Monat', 'einem Monat'],
            'MM': [number + ' Monate', number + ' Monaten'],
            'y': ['ein Jahr', 'einem Jahr'],
            'yy': [number + ' Jahre', number + ' Jahren']
        };
        return withoutSuffix ? format[key][0] : format[key][1];
    }

    var de = moment.defineLocale('de', {
        months : 'Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),
        monthsShort : 'Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.'.split('_'),
        monthsParseExact : true,
        weekdays : 'Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag'.split('_'),
        weekdaysShort : 'So._Mo._Di._Mi._Do._Fr._Sa.'.split('_'),
        weekdaysMin : 'So_Mo_Di_Mi_Do_Fr_Sa'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT: 'HH:mm',
            LTS: 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM YYYY',
            LLL : 'D. MMMM YYYY HH:mm',
            LLLL : 'dddd, D. MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[heute um] LT [Uhr]',
            sameElse: 'L',
            nextDay: '[morgen um] LT [Uhr]',
            nextWeek: 'dddd [um] LT [Uhr]',
            lastDay: '[gestern um] LT [Uhr]',
            lastWeek: '[letzten] dddd [um] LT [Uhr]'
        },
        relativeTime : {
            future : 'in %s',
            past : 'vor %s',
            s : 'ein paar Sekunden',
            ss : '%d Sekunden',
            m : processRelativeTime,
            mm : '%d Minuten',
            h : processRelativeTime,
            hh : '%d Stunden',
            d : processRelativeTime,
            dd : processRelativeTime,
            M : processRelativeTime,
            MM : processRelativeTime,
            y : processRelativeTime,
            yy : processRelativeTime
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return de;

})));


/***/ }),

/***/ "./node_modules/moment/locale/dv.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/dv.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var months = [
        'ޖެނުއަރީ',
        'ފެބްރުއަރީ',
        'މާރިޗު',
        'އޭޕްރީލު',
        'މޭ',
        'ޖޫން',
        'ޖުލައި',
        'އޯގަސްޓު',
        'ސެޕްޓެމްބަރު',
        'އޮކްޓޯބަރު',
        'ނޮވެމްބަރު',
        'ޑިސެމްބަރު'
    ], weekdays = [
        'އާދިއްތަ',
        'ހޯމަ',
        'އަންގާރަ',
        'ބުދަ',
        'ބުރާސްފަތި',
        'ހުކުރު',
        'ހޮނިހިރު'
    ];

    var dv = moment.defineLocale('dv', {
        months : months,
        monthsShort : months,
        weekdays : weekdays,
        weekdaysShort : weekdays,
        weekdaysMin : 'އާދި_ހޯމަ_އަން_ބުދަ_ބުރާ_ހުކު_ހޮނި'.split('_'),
        longDateFormat : {

            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'D/M/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        meridiemParse: /މކ|މފ/,
        isPM : function (input) {
            return 'މފ' === input;
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 12) {
                return 'މކ';
            } else {
                return 'މފ';
            }
        },
        calendar : {
            sameDay : '[މިއަދު] LT',
            nextDay : '[މާދަމާ] LT',
            nextWeek : 'dddd LT',
            lastDay : '[އިއްޔެ] LT',
            lastWeek : '[ފާއިތުވި] dddd LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'ތެރޭގައި %s',
            past : 'ކުރިން %s',
            s : 'ސިކުންތުކޮޅެއް',
            ss : 'd% ސިކުންތު',
            m : 'މިނިޓެއް',
            mm : 'މިނިޓު %d',
            h : 'ގަޑިއިރެއް',
            hh : 'ގަޑިއިރު %d',
            d : 'ދުވަހެއް',
            dd : 'ދުވަސް %d',
            M : 'މަހެއް',
            MM : 'މަސް %d',
            y : 'އަހަރެއް',
            yy : 'އަހަރު %d'
        },
        preparse: function (string) {
            return string.replace(/،/g, ',');
        },
        postformat: function (string) {
            return string.replace(/,/g, '،');
        },
        week : {
            dow : 7,  // Sunday is the first day of the week.
            doy : 12  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return dv;

})));


/***/ }),

/***/ "./node_modules/moment/locale/el.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/el.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';

    function isFunction(input) {
        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
    }


    var el = moment.defineLocale('el', {
        monthsNominativeEl : 'Ιανουάριος_Φεβρουάριος_Μάρτιος_Απρίλιος_Μάιος_Ιούνιος_Ιούλιος_Αύγουστος_Σεπτέμβριος_Οκτώβριος_Νοέμβριος_Δεκέμβριος'.split('_'),
        monthsGenitiveEl : 'Ιανουαρίου_Φεβρουαρίου_Μαρτίου_Απριλίου_Μαΐου_Ιουνίου_Ιουλίου_Αυγούστου_Σεπτεμβρίου_Οκτωβρίου_Νοεμβρίου_Δεκεμβρίου'.split('_'),
        months : function (momentToFormat, format) {
            if (!momentToFormat) {
                return this._monthsNominativeEl;
            } else if (typeof format === 'string' && /D/.test(format.substring(0, format.indexOf('MMMM')))) { // if there is a day number before 'MMMM'
                return this._monthsGenitiveEl[momentToFormat.month()];
            } else {
                return this._monthsNominativeEl[momentToFormat.month()];
            }
        },
        monthsShort : 'Ιαν_Φεβ_Μαρ_Απρ_Μαϊ_Ιουν_Ιουλ_Αυγ_Σεπ_Οκτ_Νοε_Δεκ'.split('_'),
        weekdays : 'Κυριακή_Δευτέρα_Τρίτη_Τετάρτη_Πέμπτη_Παρασκευή_Σάββατο'.split('_'),
        weekdaysShort : 'Κυρ_Δευ_Τρι_Τετ_Πεμ_Παρ_Σαβ'.split('_'),
        weekdaysMin : 'Κυ_Δε_Τρ_Τε_Πε_Πα_Σα'.split('_'),
        meridiem : function (hours, minutes, isLower) {
            if (hours > 11) {
                return isLower ? 'μμ' : 'ΜΜ';
            } else {
                return isLower ? 'πμ' : 'ΠΜ';
            }
        },
        isPM : function (input) {
            return ((input + '').toLowerCase()[0] === 'μ');
        },
        meridiemParse : /[ΠΜ]\.?Μ?\.?/i,
        longDateFormat : {
            LT : 'h:mm A',
            LTS : 'h:mm:ss A',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY h:mm A',
            LLLL : 'dddd, D MMMM YYYY h:mm A'
        },
        calendarEl : {
            sameDay : '[Σήμερα {}] LT',
            nextDay : '[Αύριο {}] LT',
            nextWeek : 'dddd [{}] LT',
            lastDay : '[Χθες {}] LT',
            lastWeek : function () {
                switch (this.day()) {
                    case 6:
                        return '[το προηγούμενο] dddd [{}] LT';
                    default:
                        return '[την προηγούμενη] dddd [{}] LT';
                }
            },
            sameElse : 'L'
        },
        calendar : function (key, mom) {
            var output = this._calendarEl[key],
                hours = mom && mom.hours();
            if (isFunction(output)) {
                output = output.apply(mom);
            }
            return output.replace('{}', (hours % 12 === 1 ? 'στη' : 'στις'));
        },
        relativeTime : {
            future : 'σε %s',
            past : '%s πριν',
            s : 'λίγα δευτερόλεπτα',
            ss : '%d δευτερόλεπτα',
            m : 'ένα λεπτό',
            mm : '%d λεπτά',
            h : 'μία ώρα',
            hh : '%d ώρες',
            d : 'μία μέρα',
            dd : '%d μέρες',
            M : 'ένας μήνας',
            MM : '%d μήνες',
            y : 'ένας χρόνος',
            yy : '%d χρόνια'
        },
        dayOfMonthOrdinalParse: /\d{1,2}η/,
        ordinal: '%dη',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4st is the first week of the year.
        }
    });

    return el;

})));


/***/ }),

/***/ "./node_modules/moment/locale/en-au.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/en-au.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var enAu = moment.defineLocale('en-au', {
        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),
        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),
        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),
        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),
        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),
        longDateFormat : {
            LT : 'h:mm A',
            LTS : 'h:mm:ss A',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY h:mm A',
            LLLL : 'dddd, D MMMM YYYY h:mm A'
        },
        calendar : {
            sameDay : '[Today at] LT',
            nextDay : '[Tomorrow at] LT',
            nextWeek : 'dddd [at] LT',
            lastDay : '[Yesterday at] LT',
            lastWeek : '[Last] dddd [at] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'in %s',
            past : '%s ago',
            s : 'a few seconds',
            ss : '%d seconds',
            m : 'a minute',
            mm : '%d minutes',
            h : 'an hour',
            hh : '%d hours',
            d : 'a day',
            dd : '%d days',
            M : 'a month',
            MM : '%d months',
            y : 'a year',
            yy : '%d years'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(st|nd|rd|th)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (~~(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return enAu;

})));


/***/ }),

/***/ "./node_modules/moment/locale/en-ca.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/en-ca.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var enCa = moment.defineLocale('en-ca', {
        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),
        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),
        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),
        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),
        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),
        longDateFormat : {
            LT : 'h:mm A',
            LTS : 'h:mm:ss A',
            L : 'YYYY-MM-DD',
            LL : 'MMMM D, YYYY',
            LLL : 'MMMM D, YYYY h:mm A',
            LLLL : 'dddd, MMMM D, YYYY h:mm A'
        },
        calendar : {
            sameDay : '[Today at] LT',
            nextDay : '[Tomorrow at] LT',
            nextWeek : 'dddd [at] LT',
            lastDay : '[Yesterday at] LT',
            lastWeek : '[Last] dddd [at] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'in %s',
            past : '%s ago',
            s : 'a few seconds',
            ss : '%d seconds',
            m : 'a minute',
            mm : '%d minutes',
            h : 'an hour',
            hh : '%d hours',
            d : 'a day',
            dd : '%d days',
            M : 'a month',
            MM : '%d months',
            y : 'a year',
            yy : '%d years'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(st|nd|rd|th)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (~~(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    return enCa;

})));


/***/ }),

/***/ "./node_modules/moment/locale/en-gb.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/en-gb.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var enGb = moment.defineLocale('en-gb', {
        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),
        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),
        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),
        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),
        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Today at] LT',
            nextDay : '[Tomorrow at] LT',
            nextWeek : 'dddd [at] LT',
            lastDay : '[Yesterday at] LT',
            lastWeek : '[Last] dddd [at] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'in %s',
            past : '%s ago',
            s : 'a few seconds',
            ss : '%d seconds',
            m : 'a minute',
            mm : '%d minutes',
            h : 'an hour',
            hh : '%d hours',
            d : 'a day',
            dd : '%d days',
            M : 'a month',
            MM : '%d months',
            y : 'a year',
            yy : '%d years'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(st|nd|rd|th)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (~~(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return enGb;

})));


/***/ }),

/***/ "./node_modules/moment/locale/en-ie.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/en-ie.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var enIe = moment.defineLocale('en-ie', {
        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),
        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),
        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),
        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),
        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD-MM-YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Today at] LT',
            nextDay : '[Tomorrow at] LT',
            nextWeek : 'dddd [at] LT',
            lastDay : '[Yesterday at] LT',
            lastWeek : '[Last] dddd [at] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'in %s',
            past : '%s ago',
            s : 'a few seconds',
            ss : '%d seconds',
            m : 'a minute',
            mm : '%d minutes',
            h : 'an hour',
            hh : '%d hours',
            d : 'a day',
            dd : '%d days',
            M : 'a month',
            MM : '%d months',
            y : 'a year',
            yy : '%d years'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(st|nd|rd|th)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (~~(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return enIe;

})));


/***/ }),

/***/ "./node_modules/moment/locale/en-il.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/en-il.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var enIl = moment.defineLocale('en-il', {
        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),
        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),
        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),
        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),
        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Today at] LT',
            nextDay : '[Tomorrow at] LT',
            nextWeek : 'dddd [at] LT',
            lastDay : '[Yesterday at] LT',
            lastWeek : '[Last] dddd [at] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'in %s',
            past : '%s ago',
            s : 'a few seconds',
            m : 'a minute',
            mm : '%d minutes',
            h : 'an hour',
            hh : '%d hours',
            d : 'a day',
            dd : '%d days',
            M : 'a month',
            MM : '%d months',
            y : 'a year',
            yy : '%d years'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(st|nd|rd|th)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (~~(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    return enIl;

})));


/***/ }),

/***/ "./node_modules/moment/locale/en-nz.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/en-nz.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var enNz = moment.defineLocale('en-nz', {
        months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),
        monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),
        weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),
        weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),
        weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),
        longDateFormat : {
            LT : 'h:mm A',
            LTS : 'h:mm:ss A',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY h:mm A',
            LLLL : 'dddd, D MMMM YYYY h:mm A'
        },
        calendar : {
            sameDay : '[Today at] LT',
            nextDay : '[Tomorrow at] LT',
            nextWeek : 'dddd [at] LT',
            lastDay : '[Yesterday at] LT',
            lastWeek : '[Last] dddd [at] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'in %s',
            past : '%s ago',
            s : 'a few seconds',
            ss : '%d seconds',
            m : 'a minute',
            mm : '%d minutes',
            h : 'an hour',
            hh : '%d hours',
            d : 'a day',
            dd : '%d days',
            M : 'a month',
            MM : '%d months',
            y : 'a year',
            yy : '%d years'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(st|nd|rd|th)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (~~(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return enNz;

})));


/***/ }),

/***/ "./node_modules/moment/locale/eo.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/eo.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var eo = moment.defineLocale('eo', {
        months : 'januaro_februaro_marto_aprilo_majo_junio_julio_aŭgusto_septembro_oktobro_novembro_decembro'.split('_'),
        monthsShort : 'jan_feb_mar_apr_maj_jun_jul_aŭg_sep_okt_nov_dec'.split('_'),
        weekdays : 'dimanĉo_lundo_mardo_merkredo_ĵaŭdo_vendredo_sabato'.split('_'),
        weekdaysShort : 'dim_lun_mard_merk_ĵaŭ_ven_sab'.split('_'),
        weekdaysMin : 'di_lu_ma_me_ĵa_ve_sa'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'YYYY-MM-DD',
            LL : 'D[-a de] MMMM, YYYY',
            LLL : 'D[-a de] MMMM, YYYY HH:mm',
            LLLL : 'dddd, [la] D[-a de] MMMM, YYYY HH:mm'
        },
        meridiemParse: /[ap]\.t\.m/i,
        isPM: function (input) {
            return input.charAt(0).toLowerCase() === 'p';
        },
        meridiem : function (hours, minutes, isLower) {
            if (hours > 11) {
                return isLower ? 'p.t.m.' : 'P.T.M.';
            } else {
                return isLower ? 'a.t.m.' : 'A.T.M.';
            }
        },
        calendar : {
            sameDay : '[Hodiaŭ je] LT',
            nextDay : '[Morgaŭ je] LT',
            nextWeek : 'dddd [je] LT',
            lastDay : '[Hieraŭ je] LT',
            lastWeek : '[pasinta] dddd [je] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'post %s',
            past : 'antaŭ %s',
            s : 'sekundoj',
            ss : '%d sekundoj',
            m : 'minuto',
            mm : '%d minutoj',
            h : 'horo',
            hh : '%d horoj',
            d : 'tago',//ne 'diurno', ĉar estas uzita por proksimumo
            dd : '%d tagoj',
            M : 'monato',
            MM : '%d monatoj',
            y : 'jaro',
            yy : '%d jaroj'
        },
        dayOfMonthOrdinalParse: /\d{1,2}a/,
        ordinal : '%da',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return eo;

})));


/***/ }),

/***/ "./node_modules/moment/locale/es-do.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/es-do.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var monthsShortDot = 'ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.'.split('_'),
        monthsShort = 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_');

    var monthsParse = [/^ene/i, /^feb/i, /^mar/i, /^abr/i, /^may/i, /^jun/i, /^jul/i, /^ago/i, /^sep/i, /^oct/i, /^nov/i, /^dic/i];
    var monthsRegex = /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;

    var esDo = moment.defineLocale('es-do', {
        months : 'enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre'.split('_'),
        monthsShort : function (m, format) {
            if (!m) {
                return monthsShortDot;
            } else if (/-MMM-/.test(format)) {
                return monthsShort[m.month()];
            } else {
                return monthsShortDot[m.month()];
            }
        },
        monthsRegex: monthsRegex,
        monthsShortRegex: monthsRegex,
        monthsStrictRegex: /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,
        monthsShortStrictRegex: /^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,
        monthsParse: monthsParse,
        longMonthsParse: monthsParse,
        shortMonthsParse: monthsParse,
        weekdays : 'domingo_lunes_martes_miércoles_jueves_viernes_sábado'.split('_'),
        weekdaysShort : 'dom._lun._mar._mié._jue._vie._sáb.'.split('_'),
        weekdaysMin : 'do_lu_ma_mi_ju_vi_sá'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'h:mm A',
            LTS : 'h:mm:ss A',
            L : 'DD/MM/YYYY',
            LL : 'D [de] MMMM [de] YYYY',
            LLL : 'D [de] MMMM [de] YYYY h:mm A',
            LLLL : 'dddd, D [de] MMMM [de] YYYY h:mm A'
        },
        calendar : {
            sameDay : function () {
                return '[hoy a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            nextDay : function () {
                return '[mañana a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            nextWeek : function () {
                return 'dddd [a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            lastDay : function () {
                return '[ayer a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            lastWeek : function () {
                return '[el] dddd [pasado a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : 'en %s',
            past : 'hace %s',
            s : 'unos segundos',
            ss : '%d segundos',
            m : 'un minuto',
            mm : '%d minutos',
            h : 'una hora',
            hh : '%d horas',
            d : 'un día',
            dd : '%d días',
            M : 'un mes',
            MM : '%d meses',
            y : 'un año',
            yy : '%d años'
        },
        dayOfMonthOrdinalParse : /\d{1,2}º/,
        ordinal : '%dº',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return esDo;

})));


/***/ }),

/***/ "./node_modules/moment/locale/es-us.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/es-us.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var monthsShortDot = 'ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.'.split('_'),
        monthsShort = 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_');

    var esUs = moment.defineLocale('es-us', {
        months : 'enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre'.split('_'),
        monthsShort : function (m, format) {
            if (!m) {
                return monthsShortDot;
            } else if (/-MMM-/.test(format)) {
                return monthsShort[m.month()];
            } else {
                return monthsShortDot[m.month()];
            }
        },
        monthsParseExact : true,
        weekdays : 'domingo_lunes_martes_miércoles_jueves_viernes_sábado'.split('_'),
        weekdaysShort : 'dom._lun._mar._mié._jue._vie._sáb.'.split('_'),
        weekdaysMin : 'do_lu_ma_mi_ju_vi_sá'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'h:mm A',
            LTS : 'h:mm:ss A',
            L : 'MM/DD/YYYY',
            LL : 'MMMM [de] D [de] YYYY',
            LLL : 'MMMM [de] D [de] YYYY h:mm A',
            LLLL : 'dddd, MMMM [de] D [de] YYYY h:mm A'
        },
        calendar : {
            sameDay : function () {
                return '[hoy a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            nextDay : function () {
                return '[mañana a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            nextWeek : function () {
                return 'dddd [a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            lastDay : function () {
                return '[ayer a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            lastWeek : function () {
                return '[el] dddd [pasado a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : 'en %s',
            past : 'hace %s',
            s : 'unos segundos',
            ss : '%d segundos',
            m : 'un minuto',
            mm : '%d minutos',
            h : 'una hora',
            hh : '%d horas',
            d : 'un día',
            dd : '%d días',
            M : 'un mes',
            MM : '%d meses',
            y : 'un año',
            yy : '%d años'
        },
        dayOfMonthOrdinalParse : /\d{1,2}º/,
        ordinal : '%dº',
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return esUs;

})));


/***/ }),

/***/ "./node_modules/moment/locale/es.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/es.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var monthsShortDot = 'ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.'.split('_'),
        monthsShort = 'ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic'.split('_');

    var monthsParse = [/^ene/i, /^feb/i, /^mar/i, /^abr/i, /^may/i, /^jun/i, /^jul/i, /^ago/i, /^sep/i, /^oct/i, /^nov/i, /^dic/i];
    var monthsRegex = /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;

    var es = moment.defineLocale('es', {
        months : 'enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre'.split('_'),
        monthsShort : function (m, format) {
            if (!m) {
                return monthsShortDot;
            } else if (/-MMM-/.test(format)) {
                return monthsShort[m.month()];
            } else {
                return monthsShortDot[m.month()];
            }
        },
        monthsRegex : monthsRegex,
        monthsShortRegex : monthsRegex,
        monthsStrictRegex : /^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,
        monthsShortStrictRegex : /^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,
        monthsParse : monthsParse,
        longMonthsParse : monthsParse,
        shortMonthsParse : monthsParse,
        weekdays : 'domingo_lunes_martes_miércoles_jueves_viernes_sábado'.split('_'),
        weekdaysShort : 'dom._lun._mar._mié._jue._vie._sáb.'.split('_'),
        weekdaysMin : 'do_lu_ma_mi_ju_vi_sá'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D [de] MMMM [de] YYYY',
            LLL : 'D [de] MMMM [de] YYYY H:mm',
            LLLL : 'dddd, D [de] MMMM [de] YYYY H:mm'
        },
        calendar : {
            sameDay : function () {
                return '[hoy a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            nextDay : function () {
                return '[mañana a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            nextWeek : function () {
                return 'dddd [a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            lastDay : function () {
                return '[ayer a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            lastWeek : function () {
                return '[el] dddd [pasado a la' + ((this.hours() !== 1) ? 's' : '') + '] LT';
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : 'en %s',
            past : 'hace %s',
            s : 'unos segundos',
            ss : '%d segundos',
            m : 'un minuto',
            mm : '%d minutos',
            h : 'una hora',
            hh : '%d horas',
            d : 'un día',
            dd : '%d días',
            M : 'un mes',
            MM : '%d meses',
            y : 'un año',
            yy : '%d años'
        },
        dayOfMonthOrdinalParse : /\d{1,2}º/,
        ordinal : '%dº',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return es;

})));


/***/ }),

/***/ "./node_modules/moment/locale/et.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/et.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function processRelativeTime(number, withoutSuffix, key, isFuture) {
        var format = {
            's' : ['mõne sekundi', 'mõni sekund', 'paar sekundit'],
            'ss': [number + 'sekundi', number + 'sekundit'],
            'm' : ['ühe minuti', 'üks minut'],
            'mm': [number + ' minuti', number + ' minutit'],
            'h' : ['ühe tunni', 'tund aega', 'üks tund'],
            'hh': [number + ' tunni', number + ' tundi'],
            'd' : ['ühe päeva', 'üks päev'],
            'M' : ['kuu aja', 'kuu aega', 'üks kuu'],
            'MM': [number + ' kuu', number + ' kuud'],
            'y' : ['ühe aasta', 'aasta', 'üks aasta'],
            'yy': [number + ' aasta', number + ' aastat']
        };
        if (withoutSuffix) {
            return format[key][2] ? format[key][2] : format[key][1];
        }
        return isFuture ? format[key][0] : format[key][1];
    }

    var et = moment.defineLocale('et', {
        months        : 'jaanuar_veebruar_märts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember'.split('_'),
        monthsShort   : 'jaan_veebr_märts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets'.split('_'),
        weekdays      : 'pühapäev_esmaspäev_teisipäev_kolmapäev_neljapäev_reede_laupäev'.split('_'),
        weekdaysShort : 'P_E_T_K_N_R_L'.split('_'),
        weekdaysMin   : 'P_E_T_K_N_R_L'.split('_'),
        longDateFormat : {
            LT   : 'H:mm',
            LTS : 'H:mm:ss',
            L    : 'DD.MM.YYYY',
            LL   : 'D. MMMM YYYY',
            LLL  : 'D. MMMM YYYY H:mm',
            LLLL : 'dddd, D. MMMM YYYY H:mm'
        },
        calendar : {
            sameDay  : '[Täna,] LT',
            nextDay  : '[Homme,] LT',
            nextWeek : '[Järgmine] dddd LT',
            lastDay  : '[Eile,] LT',
            lastWeek : '[Eelmine] dddd LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s pärast',
            past   : '%s tagasi',
            s      : processRelativeTime,
            ss     : processRelativeTime,
            m      : processRelativeTime,
            mm     : processRelativeTime,
            h      : processRelativeTime,
            hh     : processRelativeTime,
            d      : processRelativeTime,
            dd     : '%d päeva',
            M      : processRelativeTime,
            MM     : processRelativeTime,
            y      : processRelativeTime,
            yy     : processRelativeTime
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return et;

})));


/***/ }),

/***/ "./node_modules/moment/locale/eu.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/eu.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var eu = moment.defineLocale('eu', {
        months : 'urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua'.split('_'),
        monthsShort : 'urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.'.split('_'),
        monthsParseExact : true,
        weekdays : 'igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata'.split('_'),
        weekdaysShort : 'ig._al._ar._az._og._ol._lr.'.split('_'),
        weekdaysMin : 'ig_al_ar_az_og_ol_lr'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'YYYY-MM-DD',
            LL : 'YYYY[ko] MMMM[ren] D[a]',
            LLL : 'YYYY[ko] MMMM[ren] D[a] HH:mm',
            LLLL : 'dddd, YYYY[ko] MMMM[ren] D[a] HH:mm',
            l : 'YYYY-M-D',
            ll : 'YYYY[ko] MMM D[a]',
            lll : 'YYYY[ko] MMM D[a] HH:mm',
            llll : 'ddd, YYYY[ko] MMM D[a] HH:mm'
        },
        calendar : {
            sameDay : '[gaur] LT[etan]',
            nextDay : '[bihar] LT[etan]',
            nextWeek : 'dddd LT[etan]',
            lastDay : '[atzo] LT[etan]',
            lastWeek : '[aurreko] dddd LT[etan]',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s barru',
            past : 'duela %s',
            s : 'segundo batzuk',
            ss : '%d segundo',
            m : 'minutu bat',
            mm : '%d minutu',
            h : 'ordu bat',
            hh : '%d ordu',
            d : 'egun bat',
            dd : '%d egun',
            M : 'hilabete bat',
            MM : '%d hilabete',
            y : 'urte bat',
            yy : '%d urte'
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return eu;

})));


/***/ }),

/***/ "./node_modules/moment/locale/fa.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/fa.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '۱',
        '2': '۲',
        '3': '۳',
        '4': '۴',
        '5': '۵',
        '6': '۶',
        '7': '۷',
        '8': '۸',
        '9': '۹',
        '0': '۰'
    }, numberMap = {
        '۱': '1',
        '۲': '2',
        '۳': '3',
        '۴': '4',
        '۵': '5',
        '۶': '6',
        '۷': '7',
        '۸': '8',
        '۹': '9',
        '۰': '0'
    };

    var fa = moment.defineLocale('fa', {
        months : 'ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر'.split('_'),
        monthsShort : 'ژانویه_فوریه_مارس_آوریل_مه_ژوئن_ژوئیه_اوت_سپتامبر_اکتبر_نوامبر_دسامبر'.split('_'),
        weekdays : 'یک\u200cشنبه_دوشنبه_سه\u200cشنبه_چهارشنبه_پنج\u200cشنبه_جمعه_شنبه'.split('_'),
        weekdaysShort : 'یک\u200cشنبه_دوشنبه_سه\u200cشنبه_چهارشنبه_پنج\u200cشنبه_جمعه_شنبه'.split('_'),
        weekdaysMin : 'ی_د_س_چ_پ_ج_ش'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        meridiemParse: /قبل از ظهر|بعد از ظهر/,
        isPM: function (input) {
            return /بعد از ظهر/.test(input);
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 12) {
                return 'قبل از ظهر';
            } else {
                return 'بعد از ظهر';
            }
        },
        calendar : {
            sameDay : '[امروز ساعت] LT',
            nextDay : '[فردا ساعت] LT',
            nextWeek : 'dddd [ساعت] LT',
            lastDay : '[دیروز ساعت] LT',
            lastWeek : 'dddd [پیش] [ساعت] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'در %s',
            past : '%s پیش',
            s : 'چند ثانیه',
            ss : 'ثانیه d%',
            m : 'یک دقیقه',
            mm : '%d دقیقه',
            h : 'یک ساعت',
            hh : '%d ساعت',
            d : 'یک روز',
            dd : '%d روز',
            M : 'یک ماه',
            MM : '%d ماه',
            y : 'یک سال',
            yy : '%d سال'
        },
        preparse: function (string) {
            return string.replace(/[۰-۹]/g, function (match) {
                return numberMap[match];
            }).replace(/،/g, ',');
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            }).replace(/,/g, '،');
        },
        dayOfMonthOrdinalParse: /\d{1,2}م/,
        ordinal : '%dم',
        week : {
            dow : 6, // Saturday is the first day of the week.
            doy : 12 // The week that contains Jan 1st is the first week of the year.
        }
    });

    return fa;

})));


/***/ }),

/***/ "./node_modules/moment/locale/fi.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/fi.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var numbersPast = 'nolla yksi kaksi kolme neljä viisi kuusi seitsemän kahdeksan yhdeksän'.split(' '),
        numbersFuture = [
            'nolla', 'yhden', 'kahden', 'kolmen', 'neljän', 'viiden', 'kuuden',
            numbersPast[7], numbersPast[8], numbersPast[9]
        ];
    function translate(number, withoutSuffix, key, isFuture) {
        var result = '';
        switch (key) {
            case 's':
                return isFuture ? 'muutaman sekunnin' : 'muutama sekunti';
            case 'ss':
                return isFuture ? 'sekunnin' : 'sekuntia';
            case 'm':
                return isFuture ? 'minuutin' : 'minuutti';
            case 'mm':
                result = isFuture ? 'minuutin' : 'minuuttia';
                break;
            case 'h':
                return isFuture ? 'tunnin' : 'tunti';
            case 'hh':
                result = isFuture ? 'tunnin' : 'tuntia';
                break;
            case 'd':
                return isFuture ? 'päivän' : 'päivä';
            case 'dd':
                result = isFuture ? 'päivän' : 'päivää';
                break;
            case 'M':
                return isFuture ? 'kuukauden' : 'kuukausi';
            case 'MM':
                result = isFuture ? 'kuukauden' : 'kuukautta';
                break;
            case 'y':
                return isFuture ? 'vuoden' : 'vuosi';
            case 'yy':
                result = isFuture ? 'vuoden' : 'vuotta';
                break;
        }
        result = verbalNumber(number, isFuture) + ' ' + result;
        return result;
    }
    function verbalNumber(number, isFuture) {
        return number < 10 ? (isFuture ? numbersFuture[number] : numbersPast[number]) : number;
    }

    var fi = moment.defineLocale('fi', {
        months : 'tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_kesäkuu_heinäkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu'.split('_'),
        monthsShort : 'tammi_helmi_maalis_huhti_touko_kesä_heinä_elo_syys_loka_marras_joulu'.split('_'),
        weekdays : 'sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai'.split('_'),
        weekdaysShort : 'su_ma_ti_ke_to_pe_la'.split('_'),
        weekdaysMin : 'su_ma_ti_ke_to_pe_la'.split('_'),
        longDateFormat : {
            LT : 'HH.mm',
            LTS : 'HH.mm.ss',
            L : 'DD.MM.YYYY',
            LL : 'Do MMMM[ta] YYYY',
            LLL : 'Do MMMM[ta] YYYY, [klo] HH.mm',
            LLLL : 'dddd, Do MMMM[ta] YYYY, [klo] HH.mm',
            l : 'D.M.YYYY',
            ll : 'Do MMM YYYY',
            lll : 'Do MMM YYYY, [klo] HH.mm',
            llll : 'ddd, Do MMM YYYY, [klo] HH.mm'
        },
        calendar : {
            sameDay : '[tänään] [klo] LT',
            nextDay : '[huomenna] [klo] LT',
            nextWeek : 'dddd [klo] LT',
            lastDay : '[eilen] [klo] LT',
            lastWeek : '[viime] dddd[na] [klo] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s päästä',
            past : '%s sitten',
            s : translate,
            ss : translate,
            m : translate,
            mm : translate,
            h : translate,
            hh : translate,
            d : translate,
            dd : translate,
            M : translate,
            MM : translate,
            y : translate,
            yy : translate
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return fi;

})));


/***/ }),

/***/ "./node_modules/moment/locale/fo.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/fo.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var fo = moment.defineLocale('fo', {
        months : 'januar_februar_mars_apríl_mai_juni_juli_august_september_oktober_november_desember'.split('_'),
        monthsShort : 'jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des'.split('_'),
        weekdays : 'sunnudagur_mánadagur_týsdagur_mikudagur_hósdagur_fríggjadagur_leygardagur'.split('_'),
        weekdaysShort : 'sun_mán_týs_mik_hós_frí_ley'.split('_'),
        weekdaysMin : 'su_má_tý_mi_hó_fr_le'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D. MMMM, YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Í dag kl.] LT',
            nextDay : '[Í morgin kl.] LT',
            nextWeek : 'dddd [kl.] LT',
            lastDay : '[Í gjár kl.] LT',
            lastWeek : '[síðstu] dddd [kl] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'um %s',
            past : '%s síðani',
            s : 'fá sekund',
            ss : '%d sekundir',
            m : 'ein minutt',
            mm : '%d minuttir',
            h : 'ein tími',
            hh : '%d tímar',
            d : 'ein dagur',
            dd : '%d dagar',
            M : 'ein mánaði',
            MM : '%d mánaðir',
            y : 'eitt ár',
            yy : '%d ár'
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return fo;

})));


/***/ }),

/***/ "./node_modules/moment/locale/fr-ca.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/fr-ca.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var frCa = moment.defineLocale('fr-ca', {
        months : 'janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre'.split('_'),
        monthsShort : 'janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.'.split('_'),
        monthsParseExact : true,
        weekdays : 'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),
        weekdaysShort : 'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),
        weekdaysMin : 'di_lu_ma_me_je_ve_sa'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'YYYY-MM-DD',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Aujourd’hui à] LT',
            nextDay : '[Demain à] LT',
            nextWeek : 'dddd [à] LT',
            lastDay : '[Hier à] LT',
            lastWeek : 'dddd [dernier à] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'dans %s',
            past : 'il y a %s',
            s : 'quelques secondes',
            ss : '%d secondes',
            m : 'une minute',
            mm : '%d minutes',
            h : 'une heure',
            hh : '%d heures',
            d : 'un jour',
            dd : '%d jours',
            M : 'un mois',
            MM : '%d mois',
            y : 'un an',
            yy : '%d ans'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(er|e)/,
        ordinal : function (number, period) {
            switch (period) {
                // Words with masculine grammatical gender: mois, trimestre, jour
                default:
                case 'M':
                case 'Q':
                case 'D':
                case 'DDD':
                case 'd':
                    return number + (number === 1 ? 'er' : 'e');

                // Words with feminine grammatical gender: semaine
                case 'w':
                case 'W':
                    return number + (number === 1 ? 're' : 'e');
            }
        }
    });

    return frCa;

})));


/***/ }),

/***/ "./node_modules/moment/locale/fr-ch.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/fr-ch.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var frCh = moment.defineLocale('fr-ch', {
        months : 'janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre'.split('_'),
        monthsShort : 'janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.'.split('_'),
        monthsParseExact : true,
        weekdays : 'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),
        weekdaysShort : 'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),
        weekdaysMin : 'di_lu_ma_me_je_ve_sa'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Aujourd’hui à] LT',
            nextDay : '[Demain à] LT',
            nextWeek : 'dddd [à] LT',
            lastDay : '[Hier à] LT',
            lastWeek : 'dddd [dernier à] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'dans %s',
            past : 'il y a %s',
            s : 'quelques secondes',
            ss : '%d secondes',
            m : 'une minute',
            mm : '%d minutes',
            h : 'une heure',
            hh : '%d heures',
            d : 'un jour',
            dd : '%d jours',
            M : 'un mois',
            MM : '%d mois',
            y : 'un an',
            yy : '%d ans'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(er|e)/,
        ordinal : function (number, period) {
            switch (period) {
                // Words with masculine grammatical gender: mois, trimestre, jour
                default:
                case 'M':
                case 'Q':
                case 'D':
                case 'DDD':
                case 'd':
                    return number + (number === 1 ? 'er' : 'e');

                // Words with feminine grammatical gender: semaine
                case 'w':
                case 'W':
                    return number + (number === 1 ? 're' : 'e');
            }
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return frCh;

})));


/***/ }),

/***/ "./node_modules/moment/locale/fr.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/fr.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var fr = moment.defineLocale('fr', {
        months : 'janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre'.split('_'),
        monthsShort : 'janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.'.split('_'),
        monthsParseExact : true,
        weekdays : 'dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi'.split('_'),
        weekdaysShort : 'dim._lun._mar._mer._jeu._ven._sam.'.split('_'),
        weekdaysMin : 'di_lu_ma_me_je_ve_sa'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Aujourd’hui à] LT',
            nextDay : '[Demain à] LT',
            nextWeek : 'dddd [à] LT',
            lastDay : '[Hier à] LT',
            lastWeek : 'dddd [dernier à] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'dans %s',
            past : 'il y a %s',
            s : 'quelques secondes',
            ss : '%d secondes',
            m : 'une minute',
            mm : '%d minutes',
            h : 'une heure',
            hh : '%d heures',
            d : 'un jour',
            dd : '%d jours',
            M : 'un mois',
            MM : '%d mois',
            y : 'un an',
            yy : '%d ans'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(er|)/,
        ordinal : function (number, period) {
            switch (period) {
                // TODO: Return 'e' when day of month > 1. Move this case inside
                // block for masculine words below.
                // See https://github.com/moment/moment/issues/3375
                case 'D':
                    return number + (number === 1 ? 'er' : '');

                // Words with masculine grammatical gender: mois, trimestre, jour
                default:
                case 'M':
                case 'Q':
                case 'DDD':
                case 'd':
                    return number + (number === 1 ? 'er' : 'e');

                // Words with feminine grammatical gender: semaine
                case 'w':
                case 'W':
                    return number + (number === 1 ? 're' : 'e');
            }
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return fr;

})));


/***/ }),

/***/ "./node_modules/moment/locale/fy.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/fy.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var monthsShortWithDots = 'jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.'.split('_'),
        monthsShortWithoutDots = 'jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des'.split('_');

    var fy = moment.defineLocale('fy', {
        months : 'jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber'.split('_'),
        monthsShort : function (m, format) {
            if (!m) {
                return monthsShortWithDots;
            } else if (/-MMM-/.test(format)) {
                return monthsShortWithoutDots[m.month()];
            } else {
                return monthsShortWithDots[m.month()];
            }
        },
        monthsParseExact : true,
        weekdays : 'snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon'.split('_'),
        weekdaysShort : 'si._mo._ti._wo._to._fr._so.'.split('_'),
        weekdaysMin : 'Si_Mo_Ti_Wo_To_Fr_So'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD-MM-YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[hjoed om] LT',
            nextDay: '[moarn om] LT',
            nextWeek: 'dddd [om] LT',
            lastDay: '[juster om] LT',
            lastWeek: '[ôfrûne] dddd [om] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'oer %s',
            past : '%s lyn',
            s : 'in pear sekonden',
            ss : '%d sekonden',
            m : 'ien minút',
            mm : '%d minuten',
            h : 'ien oere',
            hh : '%d oeren',
            d : 'ien dei',
            dd : '%d dagen',
            M : 'ien moanne',
            MM : '%d moannen',
            y : 'ien jier',
            yy : '%d jierren'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(ste|de)/,
        ordinal : function (number) {
            return number + ((number === 1 || number === 8 || number >= 20) ? 'ste' : 'de');
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return fy;

})));


/***/ }),

/***/ "./node_modules/moment/locale/gd.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/gd.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var months = [
        'Am Faoilleach', 'An Gearran', 'Am Màrt', 'An Giblean', 'An Cèitean', 'An t-Ògmhios', 'An t-Iuchar', 'An Lùnastal', 'An t-Sultain', 'An Dàmhair', 'An t-Samhain', 'An Dùbhlachd'
    ];

    var monthsShort = ['Faoi', 'Gear', 'Màrt', 'Gibl', 'Cèit', 'Ògmh', 'Iuch', 'Lùn', 'Sult', 'Dàmh', 'Samh', 'Dùbh'];

    var weekdays = ['Didòmhnaich', 'Diluain', 'Dimàirt', 'Diciadain', 'Diardaoin', 'Dihaoine', 'Disathairne'];

    var weekdaysShort = ['Did', 'Dil', 'Dim', 'Dic', 'Dia', 'Dih', 'Dis'];

    var weekdaysMin = ['Dò', 'Lu', 'Mà', 'Ci', 'Ar', 'Ha', 'Sa'];

    var gd = moment.defineLocale('gd', {
        months : months,
        monthsShort : monthsShort,
        monthsParseExact : true,
        weekdays : weekdays,
        weekdaysShort : weekdaysShort,
        weekdaysMin : weekdaysMin,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[An-diugh aig] LT',
            nextDay : '[A-màireach aig] LT',
            nextWeek : 'dddd [aig] LT',
            lastDay : '[An-dè aig] LT',
            lastWeek : 'dddd [seo chaidh] [aig] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'ann an %s',
            past : 'bho chionn %s',
            s : 'beagan diogan',
            ss : '%d diogan',
            m : 'mionaid',
            mm : '%d mionaidean',
            h : 'uair',
            hh : '%d uairean',
            d : 'latha',
            dd : '%d latha',
            M : 'mìos',
            MM : '%d mìosan',
            y : 'bliadhna',
            yy : '%d bliadhna'
        },
        dayOfMonthOrdinalParse : /\d{1,2}(d|na|mh)/,
        ordinal : function (number) {
            var output = number === 1 ? 'd' : number % 10 === 2 ? 'na' : 'mh';
            return number + output;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return gd;

})));


/***/ }),

/***/ "./node_modules/moment/locale/gl.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/gl.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var gl = moment.defineLocale('gl', {
        months : 'xaneiro_febreiro_marzo_abril_maio_xuño_xullo_agosto_setembro_outubro_novembro_decembro'.split('_'),
        monthsShort : 'xan._feb._mar._abr._mai._xuñ._xul._ago._set._out._nov._dec.'.split('_'),
        monthsParseExact: true,
        weekdays : 'domingo_luns_martes_mércores_xoves_venres_sábado'.split('_'),
        weekdaysShort : 'dom._lun._mar._mér._xov._ven._sáb.'.split('_'),
        weekdaysMin : 'do_lu_ma_mé_xo_ve_sá'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D [de] MMMM [de] YYYY',
            LLL : 'D [de] MMMM [de] YYYY H:mm',
            LLLL : 'dddd, D [de] MMMM [de] YYYY H:mm'
        },
        calendar : {
            sameDay : function () {
                return '[hoxe ' + ((this.hours() !== 1) ? 'ás' : 'á') + '] LT';
            },
            nextDay : function () {
                return '[mañá ' + ((this.hours() !== 1) ? 'ás' : 'á') + '] LT';
            },
            nextWeek : function () {
                return 'dddd [' + ((this.hours() !== 1) ? 'ás' : 'a') + '] LT';
            },
            lastDay : function () {
                return '[onte ' + ((this.hours() !== 1) ? 'á' : 'a') + '] LT';
            },
            lastWeek : function () {
                return '[o] dddd [pasado ' + ((this.hours() !== 1) ? 'ás' : 'a') + '] LT';
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : function (str) {
                if (str.indexOf('un') === 0) {
                    return 'n' + str;
                }
                return 'en ' + str;
            },
            past : 'hai %s',
            s : 'uns segundos',
            ss : '%d segundos',
            m : 'un minuto',
            mm : '%d minutos',
            h : 'unha hora',
            hh : '%d horas',
            d : 'un día',
            dd : '%d días',
            M : 'un mes',
            MM : '%d meses',
            y : 'un ano',
            yy : '%d anos'
        },
        dayOfMonthOrdinalParse : /\d{1,2}º/,
        ordinal : '%dº',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return gl;

})));


/***/ }),

/***/ "./node_modules/moment/locale/gom-latn.js":
/*!************************************************!*\
  !*** ./node_modules/moment/locale/gom-latn.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function processRelativeTime(number, withoutSuffix, key, isFuture) {
        var format = {
            's': ['thodde secondanim', 'thodde second'],
            'ss': [number + ' secondanim', number + ' second'],
            'm': ['eka mintan', 'ek minute'],
            'mm': [number + ' mintanim', number + ' mintam'],
            'h': ['eka horan', 'ek hor'],
            'hh': [number + ' horanim', number + ' horam'],
            'd': ['eka disan', 'ek dis'],
            'dd': [number + ' disanim', number + ' dis'],
            'M': ['eka mhoinean', 'ek mhoino'],
            'MM': [number + ' mhoineanim', number + ' mhoine'],
            'y': ['eka vorsan', 'ek voros'],
            'yy': [number + ' vorsanim', number + ' vorsam']
        };
        return withoutSuffix ? format[key][0] : format[key][1];
    }

    var gomLatn = moment.defineLocale('gom-latn', {
        months : 'Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr'.split('_'),
        monthsShort : 'Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.'.split('_'),
        monthsParseExact : true,
        weekdays : 'Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son\'var'.split('_'),
        weekdaysShort : 'Ait._Som._Mon._Bud._Bre._Suk._Son.'.split('_'),
        weekdaysMin : 'Ai_Sm_Mo_Bu_Br_Su_Sn'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'A h:mm [vazta]',
            LTS : 'A h:mm:ss [vazta]',
            L : 'DD-MM-YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY A h:mm [vazta]',
            LLLL : 'dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]',
            llll: 'ddd, D MMM YYYY, A h:mm [vazta]'
        },
        calendar : {
            sameDay: '[Aiz] LT',
            nextDay: '[Faleam] LT',
            nextWeek: '[Ieta to] dddd[,] LT',
            lastDay: '[Kal] LT',
            lastWeek: '[Fatlo] dddd[,] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : '%s',
            past : '%s adim',
            s : processRelativeTime,
            ss : processRelativeTime,
            m : processRelativeTime,
            mm : processRelativeTime,
            h : processRelativeTime,
            hh : processRelativeTime,
            d : processRelativeTime,
            dd : processRelativeTime,
            M : processRelativeTime,
            MM : processRelativeTime,
            y : processRelativeTime,
            yy : processRelativeTime
        },
        dayOfMonthOrdinalParse : /\d{1,2}(er)/,
        ordinal : function (number, period) {
            switch (period) {
                // the ordinal 'er' only applies to day of the month
                case 'D':
                    return number + 'er';
                default:
                case 'M':
                case 'Q':
                case 'DDD':
                case 'd':
                case 'w':
                case 'W':
                    return number;
            }
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        },
        meridiemParse: /rati|sokalli|donparam|sanje/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'rati') {
                return hour < 4 ? hour : hour + 12;
            } else if (meridiem === 'sokalli') {
                return hour;
            } else if (meridiem === 'donparam') {
                return hour > 12 ? hour : hour + 12;
            } else if (meridiem === 'sanje') {
                return hour + 12;
            }
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 4) {
                return 'rati';
            } else if (hour < 12) {
                return 'sokalli';
            } else if (hour < 16) {
                return 'donparam';
            } else if (hour < 20) {
                return 'sanje';
            } else {
                return 'rati';
            }
        }
    });

    return gomLatn;

})));


/***/ }),

/***/ "./node_modules/moment/locale/gu.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/gu.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
            '1': '૧',
            '2': '૨',
            '3': '૩',
            '4': '૪',
            '5': '૫',
            '6': '૬',
            '7': '૭',
            '8': '૮',
            '9': '૯',
            '0': '૦'
        },
        numberMap = {
            '૧': '1',
            '૨': '2',
            '૩': '3',
            '૪': '4',
            '૫': '5',
            '૬': '6',
            '૭': '7',
            '૮': '8',
            '૯': '9',
            '૦': '0'
        };

    var gu = moment.defineLocale('gu', {
        months: 'જાન્યુઆરી_ફેબ્રુઆરી_માર્ચ_એપ્રિલ_મે_જૂન_જુલાઈ_ઑગસ્ટ_સપ્ટેમ્બર_ઑક્ટ્બર_નવેમ્બર_ડિસેમ્બર'.split('_'),
        monthsShort: 'જાન્યુ._ફેબ્રુ._માર્ચ_એપ્રિ._મે_જૂન_જુલા._ઑગ._સપ્ટે._ઑક્ટ્._નવે._ડિસે.'.split('_'),
        monthsParseExact: true,
        weekdays: 'રવિવાર_સોમવાર_મંગળવાર_બુધ્વાર_ગુરુવાર_શુક્રવાર_શનિવાર'.split('_'),
        weekdaysShort: 'રવિ_સોમ_મંગળ_બુધ્_ગુરુ_શુક્ર_શનિ'.split('_'),
        weekdaysMin: 'ર_સો_મં_બુ_ગુ_શુ_શ'.split('_'),
        longDateFormat: {
            LT: 'A h:mm વાગ્યે',
            LTS: 'A h:mm:ss વાગ્યે',
            L: 'DD/MM/YYYY',
            LL: 'D MMMM YYYY',
            LLL: 'D MMMM YYYY, A h:mm વાગ્યે',
            LLLL: 'dddd, D MMMM YYYY, A h:mm વાગ્યે'
        },
        calendar: {
            sameDay: '[આજ] LT',
            nextDay: '[કાલે] LT',
            nextWeek: 'dddd, LT',
            lastDay: '[ગઇકાલે] LT',
            lastWeek: '[પાછલા] dddd, LT',
            sameElse: 'L'
        },
        relativeTime: {
            future: '%s મા',
            past: '%s પેહલા',
            s: 'અમુક પળો',
            ss: '%d સેકંડ',
            m: 'એક મિનિટ',
            mm: '%d મિનિટ',
            h: 'એક કલાક',
            hh: '%d કલાક',
            d: 'એક દિવસ',
            dd: '%d દિવસ',
            M: 'એક મહિનો',
            MM: '%d મહિનો',
            y: 'એક વર્ષ',
            yy: '%d વર્ષ'
        },
        preparse: function (string) {
            return string.replace(/[૧૨૩૪૫૬૭૮૯૦]/g, function (match) {
                return numberMap[match];
            });
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            });
        },
        // Gujarati notation for meridiems are quite fuzzy in practice. While there exists
        // a rigid notion of a 'Pahar' it is not used as rigidly in modern Gujarati.
        meridiemParse: /રાત|બપોર|સવાર|સાંજ/,
        meridiemHour: function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'રાત') {
                return hour < 4 ? hour : hour + 12;
            } else if (meridiem === 'સવાર') {
                return hour;
            } else if (meridiem === 'બપોર') {
                return hour >= 10 ? hour : hour + 12;
            } else if (meridiem === 'સાંજ') {
                return hour + 12;
            }
        },
        meridiem: function (hour, minute, isLower) {
            if (hour < 4) {
                return 'રાત';
            } else if (hour < 10) {
                return 'સવાર';
            } else if (hour < 17) {
                return 'બપોર';
            } else if (hour < 20) {
                return 'સાંજ';
            } else {
                return 'રાત';
            }
        },
        week: {
            dow: 0, // Sunday is the first day of the week.
            doy: 6 // The week that contains Jan 1st is the first week of the year.
        }
    });

    return gu;

})));


/***/ }),

/***/ "./node_modules/moment/locale/he.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/he.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var he = moment.defineLocale('he', {
        months : 'ינואר_פברואר_מרץ_אפריל_מאי_יוני_יולי_אוגוסט_ספטמבר_אוקטובר_נובמבר_דצמבר'.split('_'),
        monthsShort : 'ינו׳_פבר׳_מרץ_אפר׳_מאי_יוני_יולי_אוג׳_ספט׳_אוק׳_נוב׳_דצמ׳'.split('_'),
        weekdays : 'ראשון_שני_שלישי_רביעי_חמישי_שישי_שבת'.split('_'),
        weekdaysShort : 'א׳_ב׳_ג׳_ד׳_ה׳_ו׳_ש׳'.split('_'),
        weekdaysMin : 'א_ב_ג_ד_ה_ו_ש'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D [ב]MMMM YYYY',
            LLL : 'D [ב]MMMM YYYY HH:mm',
            LLLL : 'dddd, D [ב]MMMM YYYY HH:mm',
            l : 'D/M/YYYY',
            ll : 'D MMM YYYY',
            lll : 'D MMM YYYY HH:mm',
            llll : 'ddd, D MMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[היום ב־]LT',
            nextDay : '[מחר ב־]LT',
            nextWeek : 'dddd [בשעה] LT',
            lastDay : '[אתמול ב־]LT',
            lastWeek : '[ביום] dddd [האחרון בשעה] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'בעוד %s',
            past : 'לפני %s',
            s : 'מספר שניות',
            ss : '%d שניות',
            m : 'דקה',
            mm : '%d דקות',
            h : 'שעה',
            hh : function (number) {
                if (number === 2) {
                    return 'שעתיים';
                }
                return number + ' שעות';
            },
            d : 'יום',
            dd : function (number) {
                if (number === 2) {
                    return 'יומיים';
                }
                return number + ' ימים';
            },
            M : 'חודש',
            MM : function (number) {
                if (number === 2) {
                    return 'חודשיים';
                }
                return number + ' חודשים';
            },
            y : 'שנה',
            yy : function (number) {
                if (number === 2) {
                    return 'שנתיים';
                } else if (number % 10 === 0 && number !== 10) {
                    return number + ' שנה';
                }
                return number + ' שנים';
            }
        },
        meridiemParse: /אחה"צ|לפנה"צ|אחרי הצהריים|לפני הצהריים|לפנות בוקר|בבוקר|בערב/i,
        isPM : function (input) {
            return /^(אחה"צ|אחרי הצהריים|בערב)$/.test(input);
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 5) {
                return 'לפנות בוקר';
            } else if (hour < 10) {
                return 'בבוקר';
            } else if (hour < 12) {
                return isLower ? 'לפנה"צ' : 'לפני הצהריים';
            } else if (hour < 18) {
                return isLower ? 'אחה"צ' : 'אחרי הצהריים';
            } else {
                return 'בערב';
            }
        }
    });

    return he;

})));


/***/ }),

/***/ "./node_modules/moment/locale/hi.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/hi.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '१',
        '2': '२',
        '3': '३',
        '4': '४',
        '5': '५',
        '6': '६',
        '7': '७',
        '8': '८',
        '9': '९',
        '0': '०'
    },
    numberMap = {
        '१': '1',
        '२': '2',
        '३': '3',
        '४': '4',
        '५': '5',
        '६': '6',
        '७': '7',
        '८': '8',
        '९': '9',
        '०': '0'
    };

    var hi = moment.defineLocale('hi', {
        months : 'जनवरी_फ़रवरी_मार्च_अप्रैल_मई_जून_जुलाई_अगस्त_सितम्बर_अक्टूबर_नवम्बर_दिसम्बर'.split('_'),
        monthsShort : 'जन._फ़र._मार्च_अप्रै._मई_जून_जुल._अग._सित._अक्टू._नव._दिस.'.split('_'),
        monthsParseExact: true,
        weekdays : 'रविवार_सोमवार_मंगलवार_बुधवार_गुरूवार_शुक्रवार_शनिवार'.split('_'),
        weekdaysShort : 'रवि_सोम_मंगल_बुध_गुरू_शुक्र_शनि'.split('_'),
        weekdaysMin : 'र_सो_मं_बु_गु_शु_श'.split('_'),
        longDateFormat : {
            LT : 'A h:mm बजे',
            LTS : 'A h:mm:ss बजे',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY, A h:mm बजे',
            LLLL : 'dddd, D MMMM YYYY, A h:mm बजे'
        },
        calendar : {
            sameDay : '[आज] LT',
            nextDay : '[कल] LT',
            nextWeek : 'dddd, LT',
            lastDay : '[कल] LT',
            lastWeek : '[पिछले] dddd, LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s में',
            past : '%s पहले',
            s : 'कुछ ही क्षण',
            ss : '%d सेकंड',
            m : 'एक मिनट',
            mm : '%d मिनट',
            h : 'एक घंटा',
            hh : '%d घंटे',
            d : 'एक दिन',
            dd : '%d दिन',
            M : 'एक महीने',
            MM : '%d महीने',
            y : 'एक वर्ष',
            yy : '%d वर्ष'
        },
        preparse: function (string) {
            return string.replace(/[१२३४५६७८९०]/g, function (match) {
                return numberMap[match];
            });
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            });
        },
        // Hindi notation for meridiems are quite fuzzy in practice. While there exists
        // a rigid notion of a 'Pahar' it is not used as rigidly in modern Hindi.
        meridiemParse: /रात|सुबह|दोपहर|शाम/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'रात') {
                return hour < 4 ? hour : hour + 12;
            } else if (meridiem === 'सुबह') {
                return hour;
            } else if (meridiem === 'दोपहर') {
                return hour >= 10 ? hour : hour + 12;
            } else if (meridiem === 'शाम') {
                return hour + 12;
            }
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 4) {
                return 'रात';
            } else if (hour < 10) {
                return 'सुबह';
            } else if (hour < 17) {
                return 'दोपहर';
            } else if (hour < 20) {
                return 'शाम';
            } else {
                return 'रात';
            }
        },
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return hi;

})));


/***/ }),

/***/ "./node_modules/moment/locale/hr.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/hr.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function translate(number, withoutSuffix, key) {
        var result = number + ' ';
        switch (key) {
            case 'ss':
                if (number === 1) {
                    result += 'sekunda';
                } else if (number === 2 || number === 3 || number === 4) {
                    result += 'sekunde';
                } else {
                    result += 'sekundi';
                }
                return result;
            case 'm':
                return withoutSuffix ? 'jedna minuta' : 'jedne minute';
            case 'mm':
                if (number === 1) {
                    result += 'minuta';
                } else if (number === 2 || number === 3 || number === 4) {
                    result += 'minute';
                } else {
                    result += 'minuta';
                }
                return result;
            case 'h':
                return withoutSuffix ? 'jedan sat' : 'jednog sata';
            case 'hh':
                if (number === 1) {
                    result += 'sat';
                } else if (number === 2 || number === 3 || number === 4) {
                    result += 'sata';
                } else {
                    result += 'sati';
                }
                return result;
            case 'dd':
                if (number === 1) {
                    result += 'dan';
                } else {
                    result += 'dana';
                }
                return result;
            case 'MM':
                if (number === 1) {
                    result += 'mjesec';
                } else if (number === 2 || number === 3 || number === 4) {
                    result += 'mjeseca';
                } else {
                    result += 'mjeseci';
                }
                return result;
            case 'yy':
                if (number === 1) {
                    result += 'godina';
                } else if (number === 2 || number === 3 || number === 4) {
                    result += 'godine';
                } else {
                    result += 'godina';
                }
                return result;
        }
    }

    var hr = moment.defineLocale('hr', {
        months : {
            format: 'siječnja_veljače_ožujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca'.split('_'),
            standalone: 'siječanj_veljača_ožujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac'.split('_')
        },
        monthsShort : 'sij._velj._ožu._tra._svi._lip._srp._kol._ruj._lis._stu._pro.'.split('_'),
        monthsParseExact: true,
        weekdays : 'nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota'.split('_'),
        weekdaysShort : 'ned._pon._uto._sri._čet._pet._sub.'.split('_'),
        weekdaysMin : 'ne_po_ut_sr_če_pe_su'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM YYYY',
            LLL : 'D. MMMM YYYY H:mm',
            LLLL : 'dddd, D. MMMM YYYY H:mm'
        },
        calendar : {
            sameDay  : '[danas u] LT',
            nextDay  : '[sutra u] LT',
            nextWeek : function () {
                switch (this.day()) {
                    case 0:
                        return '[u] [nedjelju] [u] LT';
                    case 3:
                        return '[u] [srijedu] [u] LT';
                    case 6:
                        return '[u] [subotu] [u] LT';
                    case 1:
                    case 2:
                    case 4:
                    case 5:
                        return '[u] dddd [u] LT';
                }
            },
            lastDay  : '[jučer u] LT',
            lastWeek : function () {
                switch (this.day()) {
                    case 0:
                    case 3:
                        return '[prošlu] dddd [u] LT';
                    case 6:
                        return '[prošle] [subote] [u] LT';
                    case 1:
                    case 2:
                    case 4:
                    case 5:
                        return '[prošli] dddd [u] LT';
                }
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : 'za %s',
            past   : 'prije %s',
            s      : 'par sekundi',
            ss     : translate,
            m      : translate,
            mm     : translate,
            h      : translate,
            hh     : translate,
            d      : 'dan',
            dd     : translate,
            M      : 'mjesec',
            MM     : translate,
            y      : 'godinu',
            yy     : translate
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return hr;

})));


/***/ }),

/***/ "./node_modules/moment/locale/hu.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/hu.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var weekEndings = 'vasárnap hétfőn kedden szerdán csütörtökön pénteken szombaton'.split(' ');
    function translate(number, withoutSuffix, key, isFuture) {
        var num = number;
        switch (key) {
            case 's':
                return (isFuture || withoutSuffix) ? 'néhány másodperc' : 'néhány másodperce';
            case 'ss':
                return num + (isFuture || withoutSuffix) ? ' másodperc' : ' másodperce';
            case 'm':
                return 'egy' + (isFuture || withoutSuffix ? ' perc' : ' perce');
            case 'mm':
                return num + (isFuture || withoutSuffix ? ' perc' : ' perce');
            case 'h':
                return 'egy' + (isFuture || withoutSuffix ? ' óra' : ' órája');
            case 'hh':
                return num + (isFuture || withoutSuffix ? ' óra' : ' órája');
            case 'd':
                return 'egy' + (isFuture || withoutSuffix ? ' nap' : ' napja');
            case 'dd':
                return num + (isFuture || withoutSuffix ? ' nap' : ' napja');
            case 'M':
                return 'egy' + (isFuture || withoutSuffix ? ' hónap' : ' hónapja');
            case 'MM':
                return num + (isFuture || withoutSuffix ? ' hónap' : ' hónapja');
            case 'y':
                return 'egy' + (isFuture || withoutSuffix ? ' év' : ' éve');
            case 'yy':
                return num + (isFuture || withoutSuffix ? ' év' : ' éve');
        }
        return '';
    }
    function week(isFuture) {
        return (isFuture ? '' : '[múlt] ') + '[' + weekEndings[this.day()] + '] LT[-kor]';
    }

    var hu = moment.defineLocale('hu', {
        months : 'január_február_március_április_május_június_július_augusztus_szeptember_október_november_december'.split('_'),
        monthsShort : 'jan_feb_márc_ápr_máj_jún_júl_aug_szept_okt_nov_dec'.split('_'),
        weekdays : 'vasárnap_hétfő_kedd_szerda_csütörtök_péntek_szombat'.split('_'),
        weekdaysShort : 'vas_hét_kedd_sze_csüt_pén_szo'.split('_'),
        weekdaysMin : 'v_h_k_sze_cs_p_szo'.split('_'),
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'YYYY.MM.DD.',
            LL : 'YYYY. MMMM D.',
            LLL : 'YYYY. MMMM D. H:mm',
            LLLL : 'YYYY. MMMM D., dddd H:mm'
        },
        meridiemParse: /de|du/i,
        isPM: function (input) {
            return input.charAt(1).toLowerCase() === 'u';
        },
        meridiem : function (hours, minutes, isLower) {
            if (hours < 12) {
                return isLower === true ? 'de' : 'DE';
            } else {
                return isLower === true ? 'du' : 'DU';
            }
        },
        calendar : {
            sameDay : '[ma] LT[-kor]',
            nextDay : '[holnap] LT[-kor]',
            nextWeek : function () {
                return week.call(this, true);
            },
            lastDay : '[tegnap] LT[-kor]',
            lastWeek : function () {
                return week.call(this, false);
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s múlva',
            past : '%s',
            s : translate,
            ss : translate,
            m : translate,
            mm : translate,
            h : translate,
            hh : translate,
            d : translate,
            dd : translate,
            M : translate,
            MM : translate,
            y : translate,
            yy : translate
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return hu;

})));


/***/ }),

/***/ "./node_modules/moment/locale/hy-am.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/hy-am.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var hyAm = moment.defineLocale('hy-am', {
        months : {
            format: 'հունվարի_փետրվարի_մարտի_ապրիլի_մայիսի_հունիսի_հուլիսի_օգոստոսի_սեպտեմբերի_հոկտեմբերի_նոյեմբերի_դեկտեմբերի'.split('_'),
            standalone: 'հունվար_փետրվար_մարտ_ապրիլ_մայիս_հունիս_հուլիս_օգոստոս_սեպտեմբեր_հոկտեմբեր_նոյեմբեր_դեկտեմբեր'.split('_')
        },
        monthsShort : 'հնվ_փտր_մրտ_ապր_մյս_հնս_հլս_օգս_սպտ_հկտ_նմբ_դկտ'.split('_'),
        weekdays : 'կիրակի_երկուշաբթի_երեքշաբթի_չորեքշաբթի_հինգշաբթի_ուրբաթ_շաբաթ'.split('_'),
        weekdaysShort : 'կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ'.split('_'),
        weekdaysMin : 'կրկ_երկ_երք_չրք_հնգ_ուրբ_շբթ'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY թ.',
            LLL : 'D MMMM YYYY թ., HH:mm',
            LLLL : 'dddd, D MMMM YYYY թ., HH:mm'
        },
        calendar : {
            sameDay: '[այսօր] LT',
            nextDay: '[վաղը] LT',
            lastDay: '[երեկ] LT',
            nextWeek: function () {
                return 'dddd [օրը ժամը] LT';
            },
            lastWeek: function () {
                return '[անցած] dddd [օրը ժամը] LT';
            },
            sameElse: 'L'
        },
        relativeTime : {
            future : '%s հետո',
            past : '%s առաջ',
            s : 'մի քանի վայրկյան',
            ss : '%d վայրկյան',
            m : 'րոպե',
            mm : '%d րոպե',
            h : 'ժամ',
            hh : '%d ժամ',
            d : 'օր',
            dd : '%d օր',
            M : 'ամիս',
            MM : '%d ամիս',
            y : 'տարի',
            yy : '%d տարի'
        },
        meridiemParse: /գիշերվա|առավոտվա|ցերեկվա|երեկոյան/,
        isPM: function (input) {
            return /^(ցերեկվա|երեկոյան)$/.test(input);
        },
        meridiem : function (hour) {
            if (hour < 4) {
                return 'գիշերվա';
            } else if (hour < 12) {
                return 'առավոտվա';
            } else if (hour < 17) {
                return 'ցերեկվա';
            } else {
                return 'երեկոյան';
            }
        },
        dayOfMonthOrdinalParse: /\d{1,2}|\d{1,2}-(ին|րդ)/,
        ordinal: function (number, period) {
            switch (period) {
                case 'DDD':
                case 'w':
                case 'W':
                case 'DDDo':
                    if (number === 1) {
                        return number + '-ին';
                    }
                    return number + '-րդ';
                default:
                    return number;
            }
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return hyAm;

})));


/***/ }),

/***/ "./node_modules/moment/locale/id.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/id.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var id = moment.defineLocale('id', {
        months : 'Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember'.split('_'),
        monthsShort : 'Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des'.split('_'),
        weekdays : 'Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu'.split('_'),
        weekdaysShort : 'Min_Sen_Sel_Rab_Kam_Jum_Sab'.split('_'),
        weekdaysMin : 'Mg_Sn_Sl_Rb_Km_Jm_Sb'.split('_'),
        longDateFormat : {
            LT : 'HH.mm',
            LTS : 'HH.mm.ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY [pukul] HH.mm',
            LLLL : 'dddd, D MMMM YYYY [pukul] HH.mm'
        },
        meridiemParse: /pagi|siang|sore|malam/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'pagi') {
                return hour;
            } else if (meridiem === 'siang') {
                return hour >= 11 ? hour : hour + 12;
            } else if (meridiem === 'sore' || meridiem === 'malam') {
                return hour + 12;
            }
        },
        meridiem : function (hours, minutes, isLower) {
            if (hours < 11) {
                return 'pagi';
            } else if (hours < 15) {
                return 'siang';
            } else if (hours < 19) {
                return 'sore';
            } else {
                return 'malam';
            }
        },
        calendar : {
            sameDay : '[Hari ini pukul] LT',
            nextDay : '[Besok pukul] LT',
            nextWeek : 'dddd [pukul] LT',
            lastDay : '[Kemarin pukul] LT',
            lastWeek : 'dddd [lalu pukul] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'dalam %s',
            past : '%s yang lalu',
            s : 'beberapa detik',
            ss : '%d detik',
            m : 'semenit',
            mm : '%d menit',
            h : 'sejam',
            hh : '%d jam',
            d : 'sehari',
            dd : '%d hari',
            M : 'sebulan',
            MM : '%d bulan',
            y : 'setahun',
            yy : '%d tahun'
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return id;

})));


/***/ }),

/***/ "./node_modules/moment/locale/is.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/is.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function plural(n) {
        if (n % 100 === 11) {
            return true;
        } else if (n % 10 === 1) {
            return false;
        }
        return true;
    }
    function translate(number, withoutSuffix, key, isFuture) {
        var result = number + ' ';
        switch (key) {
            case 's':
                return withoutSuffix || isFuture ? 'nokkrar sekúndur' : 'nokkrum sekúndum';
            case 'ss':
                if (plural(number)) {
                    return result + (withoutSuffix || isFuture ? 'sekúndur' : 'sekúndum');
                }
                return result + 'sekúnda';
            case 'm':
                return withoutSuffix ? 'mínúta' : 'mínútu';
            case 'mm':
                if (plural(number)) {
                    return result + (withoutSuffix || isFuture ? 'mínútur' : 'mínútum');
                } else if (withoutSuffix) {
                    return result + 'mínúta';
                }
                return result + 'mínútu';
            case 'hh':
                if (plural(number)) {
                    return result + (withoutSuffix || isFuture ? 'klukkustundir' : 'klukkustundum');
                }
                return result + 'klukkustund';
            case 'd':
                if (withoutSuffix) {
                    return 'dagur';
                }
                return isFuture ? 'dag' : 'degi';
            case 'dd':
                if (plural(number)) {
                    if (withoutSuffix) {
                        return result + 'dagar';
                    }
                    return result + (isFuture ? 'daga' : 'dögum');
                } else if (withoutSuffix) {
                    return result + 'dagur';
                }
                return result + (isFuture ? 'dag' : 'degi');
            case 'M':
                if (withoutSuffix) {
                    return 'mánuður';
                }
                return isFuture ? 'mánuð' : 'mánuði';
            case 'MM':
                if (plural(number)) {
                    if (withoutSuffix) {
                        return result + 'mánuðir';
                    }
                    return result + (isFuture ? 'mánuði' : 'mánuðum');
                } else if (withoutSuffix) {
                    return result + 'mánuður';
                }
                return result + (isFuture ? 'mánuð' : 'mánuði');
            case 'y':
                return withoutSuffix || isFuture ? 'ár' : 'ári';
            case 'yy':
                if (plural(number)) {
                    return result + (withoutSuffix || isFuture ? 'ár' : 'árum');
                }
                return result + (withoutSuffix || isFuture ? 'ár' : 'ári');
        }
    }

    var is = moment.defineLocale('is', {
        months : 'janúar_febrúar_mars_apríl_maí_júní_júlí_ágúst_september_október_nóvember_desember'.split('_'),
        monthsShort : 'jan_feb_mar_apr_maí_jún_júl_ágú_sep_okt_nóv_des'.split('_'),
        weekdays : 'sunnudagur_mánudagur_þriðjudagur_miðvikudagur_fimmtudagur_föstudagur_laugardagur'.split('_'),
        weekdaysShort : 'sun_mán_þri_mið_fim_fös_lau'.split('_'),
        weekdaysMin : 'Su_Má_Þr_Mi_Fi_Fö_La'.split('_'),
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM YYYY',
            LLL : 'D. MMMM YYYY [kl.] H:mm',
            LLLL : 'dddd, D. MMMM YYYY [kl.] H:mm'
        },
        calendar : {
            sameDay : '[í dag kl.] LT',
            nextDay : '[á morgun kl.] LT',
            nextWeek : 'dddd [kl.] LT',
            lastDay : '[í gær kl.] LT',
            lastWeek : '[síðasta] dddd [kl.] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'eftir %s',
            past : 'fyrir %s síðan',
            s : translate,
            ss : translate,
            m : translate,
            mm : translate,
            h : 'klukkustund',
            hh : translate,
            d : translate,
            dd : translate,
            M : translate,
            MM : translate,
            y : translate,
            yy : translate
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return is;

})));


/***/ }),

/***/ "./node_modules/moment/locale/it.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/it.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var it = moment.defineLocale('it', {
        months : 'gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre'.split('_'),
        monthsShort : 'gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic'.split('_'),
        weekdays : 'domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato'.split('_'),
        weekdaysShort : 'dom_lun_mar_mer_gio_ven_sab'.split('_'),
        weekdaysMin : 'do_lu_ma_me_gi_ve_sa'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[Oggi alle] LT',
            nextDay: '[Domani alle] LT',
            nextWeek: 'dddd [alle] LT',
            lastDay: '[Ieri alle] LT',
            lastWeek: function () {
                switch (this.day()) {
                    case 0:
                        return '[la scorsa] dddd [alle] LT';
                    default:
                        return '[lo scorso] dddd [alle] LT';
                }
            },
            sameElse: 'L'
        },
        relativeTime : {
            future : function (s) {
                return ((/^[0-9].+$/).test(s) ? 'tra' : 'in') + ' ' + s;
            },
            past : '%s fa',
            s : 'alcuni secondi',
            ss : '%d secondi',
            m : 'un minuto',
            mm : '%d minuti',
            h : 'un\'ora',
            hh : '%d ore',
            d : 'un giorno',
            dd : '%d giorni',
            M : 'un mese',
            MM : '%d mesi',
            y : 'un anno',
            yy : '%d anni'
        },
        dayOfMonthOrdinalParse : /\d{1,2}º/,
        ordinal: '%dº',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return it;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ja.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ja.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var ja = moment.defineLocale('ja', {
        months : '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),
        monthsShort : '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),
        weekdays : '日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日'.split('_'),
        weekdaysShort : '日_月_火_水_木_金_土'.split('_'),
        weekdaysMin : '日_月_火_水_木_金_土'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'YYYY/MM/DD',
            LL : 'YYYY年M月D日',
            LLL : 'YYYY年M月D日 HH:mm',
            LLLL : 'YYYY年M月D日 dddd HH:mm',
            l : 'YYYY/MM/DD',
            ll : 'YYYY年M月D日',
            lll : 'YYYY年M月D日 HH:mm',
            llll : 'YYYY年M月D日(ddd) HH:mm'
        },
        meridiemParse: /午前|午後/i,
        isPM : function (input) {
            return input === '午後';
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 12) {
                return '午前';
            } else {
                return '午後';
            }
        },
        calendar : {
            sameDay : '[今日] LT',
            nextDay : '[明日] LT',
            nextWeek : function (now) {
                if (now.week() < this.week()) {
                    return '[来週]dddd LT';
                } else {
                    return 'dddd LT';
                }
            },
            lastDay : '[昨日] LT',
            lastWeek : function (now) {
                if (this.week() < now.week()) {
                    return '[先週]dddd LT';
                } else {
                    return 'dddd LT';
                }
            },
            sameElse : 'L'
        },
        dayOfMonthOrdinalParse : /\d{1,2}日/,
        ordinal : function (number, period) {
            switch (period) {
                case 'd':
                case 'D':
                case 'DDD':
                    return number + '日';
                default:
                    return number;
            }
        },
        relativeTime : {
            future : '%s後',
            past : '%s前',
            s : '数秒',
            ss : '%d秒',
            m : '1分',
            mm : '%d分',
            h : '1時間',
            hh : '%d時間',
            d : '1日',
            dd : '%d日',
            M : '1ヶ月',
            MM : '%dヶ月',
            y : '1年',
            yy : '%d年'
        }
    });

    return ja;

})));


/***/ }),

/***/ "./node_modules/moment/locale/jv.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/jv.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var jv = moment.defineLocale('jv', {
        months : 'Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember'.split('_'),
        monthsShort : 'Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des'.split('_'),
        weekdays : 'Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu'.split('_'),
        weekdaysShort : 'Min_Sen_Sel_Reb_Kem_Jem_Sep'.split('_'),
        weekdaysMin : 'Mg_Sn_Sl_Rb_Km_Jm_Sp'.split('_'),
        longDateFormat : {
            LT : 'HH.mm',
            LTS : 'HH.mm.ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY [pukul] HH.mm',
            LLLL : 'dddd, D MMMM YYYY [pukul] HH.mm'
        },
        meridiemParse: /enjing|siyang|sonten|ndalu/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'enjing') {
                return hour;
            } else if (meridiem === 'siyang') {
                return hour >= 11 ? hour : hour + 12;
            } else if (meridiem === 'sonten' || meridiem === 'ndalu') {
                return hour + 12;
            }
        },
        meridiem : function (hours, minutes, isLower) {
            if (hours < 11) {
                return 'enjing';
            } else if (hours < 15) {
                return 'siyang';
            } else if (hours < 19) {
                return 'sonten';
            } else {
                return 'ndalu';
            }
        },
        calendar : {
            sameDay : '[Dinten puniko pukul] LT',
            nextDay : '[Mbenjang pukul] LT',
            nextWeek : 'dddd [pukul] LT',
            lastDay : '[Kala wingi pukul] LT',
            lastWeek : 'dddd [kepengker pukul] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'wonten ing %s',
            past : '%s ingkang kepengker',
            s : 'sawetawis detik',
            ss : '%d detik',
            m : 'setunggal menit',
            mm : '%d menit',
            h : 'setunggal jam',
            hh : '%d jam',
            d : 'sedinten',
            dd : '%d dinten',
            M : 'sewulan',
            MM : '%d wulan',
            y : 'setaun',
            yy : '%d taun'
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return jv;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ka.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ka.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var ka = moment.defineLocale('ka', {
        months : {
            standalone: 'იანვარი_თებერვალი_მარტი_აპრილი_მაისი_ივნისი_ივლისი_აგვისტო_სექტემბერი_ოქტომბერი_ნოემბერი_დეკემბერი'.split('_'),
            format: 'იანვარს_თებერვალს_მარტს_აპრილის_მაისს_ივნისს_ივლისს_აგვისტს_სექტემბერს_ოქტომბერს_ნოემბერს_დეკემბერს'.split('_')
        },
        monthsShort : 'იან_თებ_მარ_აპრ_მაი_ივნ_ივლ_აგვ_სექ_ოქტ_ნოე_დეკ'.split('_'),
        weekdays : {
            standalone: 'კვირა_ორშაბათი_სამშაბათი_ოთხშაბათი_ხუთშაბათი_პარასკევი_შაბათი'.split('_'),
            format: 'კვირას_ორშაბათს_სამშაბათს_ოთხშაბათს_ხუთშაბათს_პარასკევს_შაბათს'.split('_'),
            isFormat: /(წინა|შემდეგ)/
        },
        weekdaysShort : 'კვი_ორშ_სამ_ოთხ_ხუთ_პარ_შაბ'.split('_'),
        weekdaysMin : 'კვ_ორ_სა_ოთ_ხუ_პა_შა'.split('_'),
        longDateFormat : {
            LT : 'h:mm A',
            LTS : 'h:mm:ss A',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY h:mm A',
            LLLL : 'dddd, D MMMM YYYY h:mm A'
        },
        calendar : {
            sameDay : '[დღეს] LT[-ზე]',
            nextDay : '[ხვალ] LT[-ზე]',
            lastDay : '[გუშინ] LT[-ზე]',
            nextWeek : '[შემდეგ] dddd LT[-ზე]',
            lastWeek : '[წინა] dddd LT-ზე',
            sameElse : 'L'
        },
        relativeTime : {
            future : function (s) {
                return (/(წამი|წუთი|საათი|წელი)/).test(s) ?
                    s.replace(/ი$/, 'ში') :
                    s + 'ში';
            },
            past : function (s) {
                if ((/(წამი|წუთი|საათი|დღე|თვე)/).test(s)) {
                    return s.replace(/(ი|ე)$/, 'ის წინ');
                }
                if ((/წელი/).test(s)) {
                    return s.replace(/წელი$/, 'წლის წინ');
                }
            },
            s : 'რამდენიმე წამი',
            ss : '%d წამი',
            m : 'წუთი',
            mm : '%d წუთი',
            h : 'საათი',
            hh : '%d საათი',
            d : 'დღე',
            dd : '%d დღე',
            M : 'თვე',
            MM : '%d თვე',
            y : 'წელი',
            yy : '%d წელი'
        },
        dayOfMonthOrdinalParse: /0|1-ლი|მე-\d{1,2}|\d{1,2}-ე/,
        ordinal : function (number) {
            if (number === 0) {
                return number;
            }
            if (number === 1) {
                return number + '-ლი';
            }
            if ((number < 20) || (number <= 100 && (number % 20 === 0)) || (number % 100 === 0)) {
                return 'მე-' + number;
            }
            return number + '-ე';
        },
        week : {
            dow : 1,
            doy : 7
        }
    });

    return ka;

})));


/***/ }),

/***/ "./node_modules/moment/locale/kk.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/kk.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var suffixes = {
        0: '-ші',
        1: '-ші',
        2: '-ші',
        3: '-ші',
        4: '-ші',
        5: '-ші',
        6: '-шы',
        7: '-ші',
        8: '-ші',
        9: '-шы',
        10: '-шы',
        20: '-шы',
        30: '-шы',
        40: '-шы',
        50: '-ші',
        60: '-шы',
        70: '-ші',
        80: '-ші',
        90: '-шы',
        100: '-ші'
    };

    var kk = moment.defineLocale('kk', {
        months : 'қаңтар_ақпан_наурыз_сәуір_мамыр_маусым_шілде_тамыз_қыркүйек_қазан_қараша_желтоқсан'.split('_'),
        monthsShort : 'қаң_ақп_нау_сәу_мам_мау_шіл_там_қыр_қаз_қар_жел'.split('_'),
        weekdays : 'жексенбі_дүйсенбі_сейсенбі_сәрсенбі_бейсенбі_жұма_сенбі'.split('_'),
        weekdaysShort : 'жек_дүй_сей_сәр_бей_жұм_сен'.split('_'),
        weekdaysMin : 'жк_дй_сй_ср_бй_жм_сн'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Бүгін сағат] LT',
            nextDay : '[Ертең сағат] LT',
            nextWeek : 'dddd [сағат] LT',
            lastDay : '[Кеше сағат] LT',
            lastWeek : '[Өткен аптаның] dddd [сағат] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s ішінде',
            past : '%s бұрын',
            s : 'бірнеше секунд',
            ss : '%d секунд',
            m : 'бір минут',
            mm : '%d минут',
            h : 'бір сағат',
            hh : '%d сағат',
            d : 'бір күн',
            dd : '%d күн',
            M : 'бір ай',
            MM : '%d ай',
            y : 'бір жыл',
            yy : '%d жыл'
        },
        dayOfMonthOrdinalParse: /\d{1,2}-(ші|шы)/,
        ordinal : function (number) {
            var a = number % 10,
                b = number >= 100 ? 100 : null;
            return number + (suffixes[number] || suffixes[a] || suffixes[b]);
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return kk;

})));


/***/ }),

/***/ "./node_modules/moment/locale/km.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/km.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '១',
        '2': '២',
        '3': '៣',
        '4': '៤',
        '5': '៥',
        '6': '៦',
        '7': '៧',
        '8': '៨',
        '9': '៩',
        '0': '០'
    }, numberMap = {
        '១': '1',
        '២': '2',
        '៣': '3',
        '៤': '4',
        '៥': '5',
        '៦': '6',
        '៧': '7',
        '៨': '8',
        '៩': '9',
        '០': '0'
    };

    var km = moment.defineLocale('km', {
        months: 'មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ'.split(
            '_'
        ),
        monthsShort: 'មករា_កុម្ភៈ_មីនា_មេសា_ឧសភា_មិថុនា_កក្កដា_សីហា_កញ្ញា_តុលា_វិច្ឆិកា_ធ្នូ'.split(
            '_'
        ),
        weekdays: 'អាទិត្យ_ច័ន្ទ_អង្គារ_ពុធ_ព្រហស្បតិ៍_សុក្រ_សៅរ៍'.split('_'),
        weekdaysShort: 'អា_ច_អ_ព_ព្រ_សុ_ស'.split('_'),
        weekdaysMin: 'អា_ច_អ_ព_ព្រ_សុ_ស'.split('_'),
        weekdaysParseExact: true,
        longDateFormat: {
            LT: 'HH:mm',
            LTS: 'HH:mm:ss',
            L: 'DD/MM/YYYY',
            LL: 'D MMMM YYYY',
            LLL: 'D MMMM YYYY HH:mm',
            LLLL: 'dddd, D MMMM YYYY HH:mm'
        },
        meridiemParse: /ព្រឹក|ល្ងាច/,
        isPM: function (input) {
            return input === 'ល្ងាច';
        },
        meridiem: function (hour, minute, isLower) {
            if (hour < 12) {
                return 'ព្រឹក';
            } else {
                return 'ល្ងាច';
            }
        },
        calendar: {
            sameDay: '[ថ្ងៃនេះ ម៉ោង] LT',
            nextDay: '[ស្អែក ម៉ោង] LT',
            nextWeek: 'dddd [ម៉ោង] LT',
            lastDay: '[ម្សិលមិញ ម៉ោង] LT',
            lastWeek: 'dddd [សប្តាហ៍មុន] [ម៉ោង] LT',
            sameElse: 'L'
        },
        relativeTime: {
            future: '%sទៀត',
            past: '%sមុន',
            s: 'ប៉ុន្មានវិនាទី',
            ss: '%d វិនាទី',
            m: 'មួយនាទី',
            mm: '%d នាទី',
            h: 'មួយម៉ោង',
            hh: '%d ម៉ោង',
            d: 'មួយថ្ងៃ',
            dd: '%d ថ្ងៃ',
            M: 'មួយខែ',
            MM: '%d ខែ',
            y: 'មួយឆ្នាំ',
            yy: '%d ឆ្នាំ'
        },
        dayOfMonthOrdinalParse : /ទី\d{1,2}/,
        ordinal : 'ទី%d',
        preparse: function (string) {
            return string.replace(/[១២៣៤៥៦៧៨៩០]/g, function (match) {
                return numberMap[match];
            });
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            });
        },
        week: {
            dow: 1, // Monday is the first day of the week.
            doy: 4 // The week that contains Jan 4th is the first week of the year.
        }
    });

    return km;

})));


/***/ }),

/***/ "./node_modules/moment/locale/kn.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/kn.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '೧',
        '2': '೨',
        '3': '೩',
        '4': '೪',
        '5': '೫',
        '6': '೬',
        '7': '೭',
        '8': '೮',
        '9': '೯',
        '0': '೦'
    },
    numberMap = {
        '೧': '1',
        '೨': '2',
        '೩': '3',
        '೪': '4',
        '೫': '5',
        '೬': '6',
        '೭': '7',
        '೮': '8',
        '೯': '9',
        '೦': '0'
    };

    var kn = moment.defineLocale('kn', {
        months : 'ಜನವರಿ_ಫೆಬ್ರವರಿ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂಬರ್_ಅಕ್ಟೋಬರ್_ನವೆಂಬರ್_ಡಿಸೆಂಬರ್'.split('_'),
        monthsShort : 'ಜನ_ಫೆಬ್ರ_ಮಾರ್ಚ್_ಏಪ್ರಿಲ್_ಮೇ_ಜೂನ್_ಜುಲೈ_ಆಗಸ್ಟ್_ಸೆಪ್ಟೆಂ_ಅಕ್ಟೋ_ನವೆಂ_ಡಿಸೆಂ'.split('_'),
        monthsParseExact: true,
        weekdays : 'ಭಾನುವಾರ_ಸೋಮವಾರ_ಮಂಗಳವಾರ_ಬುಧವಾರ_ಗುರುವಾರ_ಶುಕ್ರವಾರ_ಶನಿವಾರ'.split('_'),
        weekdaysShort : 'ಭಾನು_ಸೋಮ_ಮಂಗಳ_ಬುಧ_ಗುರು_ಶುಕ್ರ_ಶನಿ'.split('_'),
        weekdaysMin : 'ಭಾ_ಸೋ_ಮಂ_ಬು_ಗು_ಶು_ಶ'.split('_'),
        longDateFormat : {
            LT : 'A h:mm',
            LTS : 'A h:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY, A h:mm',
            LLLL : 'dddd, D MMMM YYYY, A h:mm'
        },
        calendar : {
            sameDay : '[ಇಂದು] LT',
            nextDay : '[ನಾಳೆ] LT',
            nextWeek : 'dddd, LT',
            lastDay : '[ನಿನ್ನೆ] LT',
            lastWeek : '[ಕೊನೆಯ] dddd, LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s ನಂತರ',
            past : '%s ಹಿಂದೆ',
            s : 'ಕೆಲವು ಕ್ಷಣಗಳು',
            ss : '%d ಸೆಕೆಂಡುಗಳು',
            m : 'ಒಂದು ನಿಮಿಷ',
            mm : '%d ನಿಮಿಷ',
            h : 'ಒಂದು ಗಂಟೆ',
            hh : '%d ಗಂಟೆ',
            d : 'ಒಂದು ದಿನ',
            dd : '%d ದಿನ',
            M : 'ಒಂದು ತಿಂಗಳು',
            MM : '%d ತಿಂಗಳು',
            y : 'ಒಂದು ವರ್ಷ',
            yy : '%d ವರ್ಷ'
        },
        preparse: function (string) {
            return string.replace(/[೧೨೩೪೫೬೭೮೯೦]/g, function (match) {
                return numberMap[match];
            });
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            });
        },
        meridiemParse: /ರಾತ್ರಿ|ಬೆಳಿಗ್ಗೆ|ಮಧ್ಯಾಹ್ನ|ಸಂಜೆ/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'ರಾತ್ರಿ') {
                return hour < 4 ? hour : hour + 12;
            } else if (meridiem === 'ಬೆಳಿಗ್ಗೆ') {
                return hour;
            } else if (meridiem === 'ಮಧ್ಯಾಹ್ನ') {
                return hour >= 10 ? hour : hour + 12;
            } else if (meridiem === 'ಸಂಜೆ') {
                return hour + 12;
            }
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 4) {
                return 'ರಾತ್ರಿ';
            } else if (hour < 10) {
                return 'ಬೆಳಿಗ್ಗೆ';
            } else if (hour < 17) {
                return 'ಮಧ್ಯಾಹ್ನ';
            } else if (hour < 20) {
                return 'ಸಂಜೆ';
            } else {
                return 'ರಾತ್ರಿ';
            }
        },
        dayOfMonthOrdinalParse: /\d{1,2}(ನೇ)/,
        ordinal : function (number) {
            return number + 'ನೇ';
        },
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return kn;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ko.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ko.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var ko = moment.defineLocale('ko', {
        months : '1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월'.split('_'),
        monthsShort : '1월_2월_3월_4월_5월_6월_7월_8월_9월_10월_11월_12월'.split('_'),
        weekdays : '일요일_월요일_화요일_수요일_목요일_금요일_토요일'.split('_'),
        weekdaysShort : '일_월_화_수_목_금_토'.split('_'),
        weekdaysMin : '일_월_화_수_목_금_토'.split('_'),
        longDateFormat : {
            LT : 'A h:mm',
            LTS : 'A h:mm:ss',
            L : 'YYYY.MM.DD.',
            LL : 'YYYY년 MMMM D일',
            LLL : 'YYYY년 MMMM D일 A h:mm',
            LLLL : 'YYYY년 MMMM D일 dddd A h:mm',
            l : 'YYYY.MM.DD.',
            ll : 'YYYY년 MMMM D일',
            lll : 'YYYY년 MMMM D일 A h:mm',
            llll : 'YYYY년 MMMM D일 dddd A h:mm'
        },
        calendar : {
            sameDay : '오늘 LT',
            nextDay : '내일 LT',
            nextWeek : 'dddd LT',
            lastDay : '어제 LT',
            lastWeek : '지난주 dddd LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s 후',
            past : '%s 전',
            s : '몇 초',
            ss : '%d초',
            m : '1분',
            mm : '%d분',
            h : '한 시간',
            hh : '%d시간',
            d : '하루',
            dd : '%d일',
            M : '한 달',
            MM : '%d달',
            y : '일 년',
            yy : '%d년'
        },
        dayOfMonthOrdinalParse : /\d{1,2}(일|월|주)/,
        ordinal : function (number, period) {
            switch (period) {
                case 'd':
                case 'D':
                case 'DDD':
                    return number + '일';
                case 'M':
                    return number + '월';
                case 'w':
                case 'W':
                    return number + '주';
                default:
                    return number;
            }
        },
        meridiemParse : /오전|오후/,
        isPM : function (token) {
            return token === '오후';
        },
        meridiem : function (hour, minute, isUpper) {
            return hour < 12 ? '오전' : '오후';
        }
    });

    return ko;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ky.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ky.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var suffixes = {
        0: '-чү',
        1: '-чи',
        2: '-чи',
        3: '-чү',
        4: '-чү',
        5: '-чи',
        6: '-чы',
        7: '-чи',
        8: '-чи',
        9: '-чу',
        10: '-чу',
        20: '-чы',
        30: '-чу',
        40: '-чы',
        50: '-чү',
        60: '-чы',
        70: '-чи',
        80: '-чи',
        90: '-чу',
        100: '-чү'
    };

    var ky = moment.defineLocale('ky', {
        months : 'январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь'.split('_'),
        monthsShort : 'янв_фев_март_апр_май_июнь_июль_авг_сен_окт_ноя_дек'.split('_'),
        weekdays : 'Жекшемби_Дүйшөмбү_Шейшемби_Шаршемби_Бейшемби_Жума_Ишемби'.split('_'),
        weekdaysShort : 'Жек_Дүй_Шей_Шар_Бей_Жум_Ише'.split('_'),
        weekdaysMin : 'Жк_Дй_Шй_Шр_Бй_Жм_Иш'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Бүгүн саат] LT',
            nextDay : '[Эртең саат] LT',
            nextWeek : 'dddd [саат] LT',
            lastDay : '[Кече саат] LT',
            lastWeek : '[Өткен аптанын] dddd [күнү] [саат] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s ичинде',
            past : '%s мурун',
            s : 'бирнече секунд',
            ss : '%d секунд',
            m : 'бир мүнөт',
            mm : '%d мүнөт',
            h : 'бир саат',
            hh : '%d саат',
            d : 'бир күн',
            dd : '%d күн',
            M : 'бир ай',
            MM : '%d ай',
            y : 'бир жыл',
            yy : '%d жыл'
        },
        dayOfMonthOrdinalParse: /\d{1,2}-(чи|чы|чү|чу)/,
        ordinal : function (number) {
            var a = number % 10,
                b = number >= 100 ? 100 : null;
            return number + (suffixes[number] || suffixes[a] || suffixes[b]);
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return ky;

})));


/***/ }),

/***/ "./node_modules/moment/locale/lb.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/lb.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function processRelativeTime(number, withoutSuffix, key, isFuture) {
        var format = {
            'm': ['eng Minutt', 'enger Minutt'],
            'h': ['eng Stonn', 'enger Stonn'],
            'd': ['een Dag', 'engem Dag'],
            'M': ['ee Mount', 'engem Mount'],
            'y': ['ee Joer', 'engem Joer']
        };
        return withoutSuffix ? format[key][0] : format[key][1];
    }
    function processFutureTime(string) {
        var number = string.substr(0, string.indexOf(' '));
        if (eifelerRegelAppliesToNumber(number)) {
            return 'a ' + string;
        }
        return 'an ' + string;
    }
    function processPastTime(string) {
        var number = string.substr(0, string.indexOf(' '));
        if (eifelerRegelAppliesToNumber(number)) {
            return 'viru ' + string;
        }
        return 'virun ' + string;
    }
    /**
     * Returns true if the word before the given number loses the '-n' ending.
     * e.g. 'an 10 Deeg' but 'a 5 Deeg'
     *
     * @param number {integer}
     * @returns {boolean}
     */
    function eifelerRegelAppliesToNumber(number) {
        number = parseInt(number, 10);
        if (isNaN(number)) {
            return false;
        }
        if (number < 0) {
            // Negative Number --> always true
            return true;
        } else if (number < 10) {
            // Only 1 digit
            if (4 <= number && number <= 7) {
                return true;
            }
            return false;
        } else if (number < 100) {
            // 2 digits
            var lastDigit = number % 10, firstDigit = number / 10;
            if (lastDigit === 0) {
                return eifelerRegelAppliesToNumber(firstDigit);
            }
            return eifelerRegelAppliesToNumber(lastDigit);
        } else if (number < 10000) {
            // 3 or 4 digits --> recursively check first digit
            while (number >= 10) {
                number = number / 10;
            }
            return eifelerRegelAppliesToNumber(number);
        } else {
            // Anything larger than 4 digits: recursively check first n-3 digits
            number = number / 1000;
            return eifelerRegelAppliesToNumber(number);
        }
    }

    var lb = moment.defineLocale('lb', {
        months: 'Januar_Februar_Mäerz_Abrëll_Mee_Juni_Juli_August_September_Oktober_November_Dezember'.split('_'),
        monthsShort: 'Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.'.split('_'),
        monthsParseExact : true,
        weekdays: 'Sonndeg_Méindeg_Dënschdeg_Mëttwoch_Donneschdeg_Freideg_Samschdeg'.split('_'),
        weekdaysShort: 'So._Mé._Dë._Më._Do._Fr._Sa.'.split('_'),
        weekdaysMin: 'So_Mé_Dë_Më_Do_Fr_Sa'.split('_'),
        weekdaysParseExact : true,
        longDateFormat: {
            LT: 'H:mm [Auer]',
            LTS: 'H:mm:ss [Auer]',
            L: 'DD.MM.YYYY',
            LL: 'D. MMMM YYYY',
            LLL: 'D. MMMM YYYY H:mm [Auer]',
            LLLL: 'dddd, D. MMMM YYYY H:mm [Auer]'
        },
        calendar: {
            sameDay: '[Haut um] LT',
            sameElse: 'L',
            nextDay: '[Muer um] LT',
            nextWeek: 'dddd [um] LT',
            lastDay: '[Gëschter um] LT',
            lastWeek: function () {
                // Different date string for 'Dënschdeg' (Tuesday) and 'Donneschdeg' (Thursday) due to phonological rule
                switch (this.day()) {
                    case 2:
                    case 4:
                        return '[Leschten] dddd [um] LT';
                    default:
                        return '[Leschte] dddd [um] LT';
                }
            }
        },
        relativeTime : {
            future : processFutureTime,
            past : processPastTime,
            s : 'e puer Sekonnen',
            ss : '%d Sekonnen',
            m : processRelativeTime,
            mm : '%d Minutten',
            h : processRelativeTime,
            hh : '%d Stonnen',
            d : processRelativeTime,
            dd : '%d Deeg',
            M : processRelativeTime,
            MM : '%d Méint',
            y : processRelativeTime,
            yy : '%d Joer'
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal: '%d.',
        week: {
            dow: 1, // Monday is the first day of the week.
            doy: 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return lb;

})));


/***/ }),

/***/ "./node_modules/moment/locale/lo.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/lo.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var lo = moment.defineLocale('lo', {
        months : 'ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ'.split('_'),
        monthsShort : 'ມັງກອນ_ກຸມພາ_ມີນາ_ເມສາ_ພຶດສະພາ_ມິຖຸນາ_ກໍລະກົດ_ສິງຫາ_ກັນຍາ_ຕຸລາ_ພະຈິກ_ທັນວາ'.split('_'),
        weekdays : 'ອາທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ'.split('_'),
        weekdaysShort : 'ທິດ_ຈັນ_ອັງຄານ_ພຸດ_ພະຫັດ_ສຸກ_ເສົາ'.split('_'),
        weekdaysMin : 'ທ_ຈ_ອຄ_ພ_ພຫ_ສກ_ສ'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'ວັນdddd D MMMM YYYY HH:mm'
        },
        meridiemParse: /ຕອນເຊົ້າ|ຕອນແລງ/,
        isPM: function (input) {
            return input === 'ຕອນແລງ';
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 12) {
                return 'ຕອນເຊົ້າ';
            } else {
                return 'ຕອນແລງ';
            }
        },
        calendar : {
            sameDay : '[ມື້ນີ້ເວລາ] LT',
            nextDay : '[ມື້ອື່ນເວລາ] LT',
            nextWeek : '[ວັນ]dddd[ໜ້າເວລາ] LT',
            lastDay : '[ມື້ວານນີ້ເວລາ] LT',
            lastWeek : '[ວັນ]dddd[ແລ້ວນີ້ເວລາ] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'ອີກ %s',
            past : '%sຜ່ານມາ',
            s : 'ບໍ່ເທົ່າໃດວິນາທີ',
            ss : '%d ວິນາທີ' ,
            m : '1 ນາທີ',
            mm : '%d ນາທີ',
            h : '1 ຊົ່ວໂມງ',
            hh : '%d ຊົ່ວໂມງ',
            d : '1 ມື້',
            dd : '%d ມື້',
            M : '1 ເດືອນ',
            MM : '%d ເດືອນ',
            y : '1 ປີ',
            yy : '%d ປີ'
        },
        dayOfMonthOrdinalParse: /(ທີ່)\d{1,2}/,
        ordinal : function (number) {
            return 'ທີ່' + number;
        }
    });

    return lo;

})));


/***/ }),

/***/ "./node_modules/moment/locale/lt.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/lt.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var units = {
        'ss' : 'sekundė_sekundžių_sekundes',
        'm' : 'minutė_minutės_minutę',
        'mm': 'minutės_minučių_minutes',
        'h' : 'valanda_valandos_valandą',
        'hh': 'valandos_valandų_valandas',
        'd' : 'diena_dienos_dieną',
        'dd': 'dienos_dienų_dienas',
        'M' : 'mėnuo_mėnesio_mėnesį',
        'MM': 'mėnesiai_mėnesių_mėnesius',
        'y' : 'metai_metų_metus',
        'yy': 'metai_metų_metus'
    };
    function translateSeconds(number, withoutSuffix, key, isFuture) {
        if (withoutSuffix) {
            return 'kelios sekundės';
        } else {
            return isFuture ? 'kelių sekundžių' : 'kelias sekundes';
        }
    }
    function translateSingular(number, withoutSuffix, key, isFuture) {
        return withoutSuffix ? forms(key)[0] : (isFuture ? forms(key)[1] : forms(key)[2]);
    }
    function special(number) {
        return number % 10 === 0 || (number > 10 && number < 20);
    }
    function forms(key) {
        return units[key].split('_');
    }
    function translate(number, withoutSuffix, key, isFuture) {
        var result = number + ' ';
        if (number === 1) {
            return result + translateSingular(number, withoutSuffix, key[0], isFuture);
        } else if (withoutSuffix) {
            return result + (special(number) ? forms(key)[1] : forms(key)[0]);
        } else {
            if (isFuture) {
                return result + forms(key)[1];
            } else {
                return result + (special(number) ? forms(key)[1] : forms(key)[2]);
            }
        }
    }
    var lt = moment.defineLocale('lt', {
        months : {
            format: 'sausio_vasario_kovo_balandžio_gegužės_birželio_liepos_rugpjūčio_rugsėjo_spalio_lapkričio_gruodžio'.split('_'),
            standalone: 'sausis_vasaris_kovas_balandis_gegužė_birželis_liepa_rugpjūtis_rugsėjis_spalis_lapkritis_gruodis'.split('_'),
            isFormat: /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/
        },
        monthsShort : 'sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd'.split('_'),
        weekdays : {
            format: 'sekmadienį_pirmadienį_antradienį_trečiadienį_ketvirtadienį_penktadienį_šeštadienį'.split('_'),
            standalone: 'sekmadienis_pirmadienis_antradienis_trečiadienis_ketvirtadienis_penktadienis_šeštadienis'.split('_'),
            isFormat: /dddd HH:mm/
        },
        weekdaysShort : 'Sek_Pir_Ant_Tre_Ket_Pen_Šeš'.split('_'),
        weekdaysMin : 'S_P_A_T_K_Pn_Š'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'YYYY-MM-DD',
            LL : 'YYYY [m.] MMMM D [d.]',
            LLL : 'YYYY [m.] MMMM D [d.], HH:mm [val.]',
            LLLL : 'YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]',
            l : 'YYYY-MM-DD',
            ll : 'YYYY [m.] MMMM D [d.]',
            lll : 'YYYY [m.] MMMM D [d.], HH:mm [val.]',
            llll : 'YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]'
        },
        calendar : {
            sameDay : '[Šiandien] LT',
            nextDay : '[Rytoj] LT',
            nextWeek : 'dddd LT',
            lastDay : '[Vakar] LT',
            lastWeek : '[Praėjusį] dddd LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'po %s',
            past : 'prieš %s',
            s : translateSeconds,
            ss : translate,
            m : translateSingular,
            mm : translate,
            h : translateSingular,
            hh : translate,
            d : translateSingular,
            dd : translate,
            M : translateSingular,
            MM : translate,
            y : translateSingular,
            yy : translate
        },
        dayOfMonthOrdinalParse: /\d{1,2}-oji/,
        ordinal : function (number) {
            return number + '-oji';
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return lt;

})));


/***/ }),

/***/ "./node_modules/moment/locale/lv.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/lv.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var units = {
        'ss': 'sekundes_sekundēm_sekunde_sekundes'.split('_'),
        'm': 'minūtes_minūtēm_minūte_minūtes'.split('_'),
        'mm': 'minūtes_minūtēm_minūte_minūtes'.split('_'),
        'h': 'stundas_stundām_stunda_stundas'.split('_'),
        'hh': 'stundas_stundām_stunda_stundas'.split('_'),
        'd': 'dienas_dienām_diena_dienas'.split('_'),
        'dd': 'dienas_dienām_diena_dienas'.split('_'),
        'M': 'mēneša_mēnešiem_mēnesis_mēneši'.split('_'),
        'MM': 'mēneša_mēnešiem_mēnesis_mēneši'.split('_'),
        'y': 'gada_gadiem_gads_gadi'.split('_'),
        'yy': 'gada_gadiem_gads_gadi'.split('_')
    };
    /**
     * @param withoutSuffix boolean true = a length of time; false = before/after a period of time.
     */
    function format(forms, number, withoutSuffix) {
        if (withoutSuffix) {
            // E.g. "21 minūte", "3 minūtes".
            return number % 10 === 1 && number % 100 !== 11 ? forms[2] : forms[3];
        } else {
            // E.g. "21 minūtes" as in "pēc 21 minūtes".
            // E.g. "3 minūtēm" as in "pēc 3 minūtēm".
            return number % 10 === 1 && number % 100 !== 11 ? forms[0] : forms[1];
        }
    }
    function relativeTimeWithPlural(number, withoutSuffix, key) {
        return number + ' ' + format(units[key], number, withoutSuffix);
    }
    function relativeTimeWithSingular(number, withoutSuffix, key) {
        return format(units[key], number, withoutSuffix);
    }
    function relativeSeconds(number, withoutSuffix) {
        return withoutSuffix ? 'dažas sekundes' : 'dažām sekundēm';
    }

    var lv = moment.defineLocale('lv', {
        months : 'janvāris_februāris_marts_aprīlis_maijs_jūnijs_jūlijs_augusts_septembris_oktobris_novembris_decembris'.split('_'),
        monthsShort : 'jan_feb_mar_apr_mai_jūn_jūl_aug_sep_okt_nov_dec'.split('_'),
        weekdays : 'svētdiena_pirmdiena_otrdiena_trešdiena_ceturtdiena_piektdiena_sestdiena'.split('_'),
        weekdaysShort : 'Sv_P_O_T_C_Pk_S'.split('_'),
        weekdaysMin : 'Sv_P_O_T_C_Pk_S'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY.',
            LL : 'YYYY. [gada] D. MMMM',
            LLL : 'YYYY. [gada] D. MMMM, HH:mm',
            LLLL : 'YYYY. [gada] D. MMMM, dddd, HH:mm'
        },
        calendar : {
            sameDay : '[Šodien pulksten] LT',
            nextDay : '[Rīt pulksten] LT',
            nextWeek : 'dddd [pulksten] LT',
            lastDay : '[Vakar pulksten] LT',
            lastWeek : '[Pagājušā] dddd [pulksten] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'pēc %s',
            past : 'pirms %s',
            s : relativeSeconds,
            ss : relativeTimeWithPlural,
            m : relativeTimeWithSingular,
            mm : relativeTimeWithPlural,
            h : relativeTimeWithSingular,
            hh : relativeTimeWithPlural,
            d : relativeTimeWithSingular,
            dd : relativeTimeWithPlural,
            M : relativeTimeWithSingular,
            MM : relativeTimeWithPlural,
            y : relativeTimeWithSingular,
            yy : relativeTimeWithPlural
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return lv;

})));


/***/ }),

/***/ "./node_modules/moment/locale/me.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/me.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var translator = {
        words: { //Different grammatical cases
            ss: ['sekund', 'sekunda', 'sekundi'],
            m: ['jedan minut', 'jednog minuta'],
            mm: ['minut', 'minuta', 'minuta'],
            h: ['jedan sat', 'jednog sata'],
            hh: ['sat', 'sata', 'sati'],
            dd: ['dan', 'dana', 'dana'],
            MM: ['mjesec', 'mjeseca', 'mjeseci'],
            yy: ['godina', 'godine', 'godina']
        },
        correctGrammaticalCase: function (number, wordKey) {
            return number === 1 ? wordKey[0] : (number >= 2 && number <= 4 ? wordKey[1] : wordKey[2]);
        },
        translate: function (number, withoutSuffix, key) {
            var wordKey = translator.words[key];
            if (key.length === 1) {
                return withoutSuffix ? wordKey[0] : wordKey[1];
            } else {
                return number + ' ' + translator.correctGrammaticalCase(number, wordKey);
            }
        }
    };

    var me = moment.defineLocale('me', {
        months: 'januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar'.split('_'),
        monthsShort: 'jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.'.split('_'),
        monthsParseExact : true,
        weekdays: 'nedjelja_ponedjeljak_utorak_srijeda_četvrtak_petak_subota'.split('_'),
        weekdaysShort: 'ned._pon._uto._sri._čet._pet._sub.'.split('_'),
        weekdaysMin: 'ne_po_ut_sr_če_pe_su'.split('_'),
        weekdaysParseExact : true,
        longDateFormat: {
            LT: 'H:mm',
            LTS : 'H:mm:ss',
            L: 'DD.MM.YYYY',
            LL: 'D. MMMM YYYY',
            LLL: 'D. MMMM YYYY H:mm',
            LLLL: 'dddd, D. MMMM YYYY H:mm'
        },
        calendar: {
            sameDay: '[danas u] LT',
            nextDay: '[sjutra u] LT',

            nextWeek: function () {
                switch (this.day()) {
                    case 0:
                        return '[u] [nedjelju] [u] LT';
                    case 3:
                        return '[u] [srijedu] [u] LT';
                    case 6:
                        return '[u] [subotu] [u] LT';
                    case 1:
                    case 2:
                    case 4:
                    case 5:
                        return '[u] dddd [u] LT';
                }
            },
            lastDay  : '[juče u] LT',
            lastWeek : function () {
                var lastWeekDays = [
                    '[prošle] [nedjelje] [u] LT',
                    '[prošlog] [ponedjeljka] [u] LT',
                    '[prošlog] [utorka] [u] LT',
                    '[prošle] [srijede] [u] LT',
                    '[prošlog] [četvrtka] [u] LT',
                    '[prošlog] [petka] [u] LT',
                    '[prošle] [subote] [u] LT'
                ];
                return lastWeekDays[this.day()];
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : 'za %s',
            past   : 'prije %s',
            s      : 'nekoliko sekundi',
            ss     : translator.translate,
            m      : translator.translate,
            mm     : translator.translate,
            h      : translator.translate,
            hh     : translator.translate,
            d      : 'dan',
            dd     : translator.translate,
            M      : 'mjesec',
            MM     : translator.translate,
            y      : 'godinu',
            yy     : translator.translate
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return me;

})));


/***/ }),

/***/ "./node_modules/moment/locale/mi.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/mi.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var mi = moment.defineLocale('mi', {
        months: 'Kohi-tāte_Hui-tanguru_Poutū-te-rangi_Paenga-whāwhā_Haratua_Pipiri_Hōngoingoi_Here-turi-kōkā_Mahuru_Whiringa-ā-nuku_Whiringa-ā-rangi_Hakihea'.split('_'),
        monthsShort: 'Kohi_Hui_Pou_Pae_Hara_Pipi_Hōngoi_Here_Mahu_Whi-nu_Whi-ra_Haki'.split('_'),
        monthsRegex: /(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,
        monthsStrictRegex: /(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,
        monthsShortRegex: /(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,
        monthsShortStrictRegex: /(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,
        weekdays: 'Rātapu_Mane_Tūrei_Wenerei_Tāite_Paraire_Hātarei'.split('_'),
        weekdaysShort: 'Ta_Ma_Tū_We_Tāi_Pa_Hā'.split('_'),
        weekdaysMin: 'Ta_Ma_Tū_We_Tāi_Pa_Hā'.split('_'),
        longDateFormat: {
            LT: 'HH:mm',
            LTS: 'HH:mm:ss',
            L: 'DD/MM/YYYY',
            LL: 'D MMMM YYYY',
            LLL: 'D MMMM YYYY [i] HH:mm',
            LLLL: 'dddd, D MMMM YYYY [i] HH:mm'
        },
        calendar: {
            sameDay: '[i teie mahana, i] LT',
            nextDay: '[apopo i] LT',
            nextWeek: 'dddd [i] LT',
            lastDay: '[inanahi i] LT',
            lastWeek: 'dddd [whakamutunga i] LT',
            sameElse: 'L'
        },
        relativeTime: {
            future: 'i roto i %s',
            past: '%s i mua',
            s: 'te hēkona ruarua',
            ss: '%d hēkona',
            m: 'he meneti',
            mm: '%d meneti',
            h: 'te haora',
            hh: '%d haora',
            d: 'he ra',
            dd: '%d ra',
            M: 'he marama',
            MM: '%d marama',
            y: 'he tau',
            yy: '%d tau'
        },
        dayOfMonthOrdinalParse: /\d{1,2}º/,
        ordinal: '%dº',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return mi;

})));


/***/ }),

/***/ "./node_modules/moment/locale/mk.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/mk.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var mk = moment.defineLocale('mk', {
        months : 'јануари_февруари_март_април_мај_јуни_јули_август_септември_октомври_ноември_декември'.split('_'),
        monthsShort : 'јан_фев_мар_апр_мај_јун_јул_авг_сеп_окт_ное_дек'.split('_'),
        weekdays : 'недела_понеделник_вторник_среда_четврток_петок_сабота'.split('_'),
        weekdaysShort : 'нед_пон_вто_сре_чет_пет_саб'.split('_'),
        weekdaysMin : 'нe_пo_вт_ср_че_пе_сa'.split('_'),
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'D.MM.YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY H:mm',
            LLLL : 'dddd, D MMMM YYYY H:mm'
        },
        calendar : {
            sameDay : '[Денес во] LT',
            nextDay : '[Утре во] LT',
            nextWeek : '[Во] dddd [во] LT',
            lastDay : '[Вчера во] LT',
            lastWeek : function () {
                switch (this.day()) {
                    case 0:
                    case 3:
                    case 6:
                        return '[Изминатата] dddd [во] LT';
                    case 1:
                    case 2:
                    case 4:
                    case 5:
                        return '[Изминатиот] dddd [во] LT';
                }
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : 'после %s',
            past : 'пред %s',
            s : 'неколку секунди',
            ss : '%d секунди',
            m : 'минута',
            mm : '%d минути',
            h : 'час',
            hh : '%d часа',
            d : 'ден',
            dd : '%d дена',
            M : 'месец',
            MM : '%d месеци',
            y : 'година',
            yy : '%d години'
        },
        dayOfMonthOrdinalParse: /\d{1,2}-(ев|ен|ти|ви|ри|ми)/,
        ordinal : function (number) {
            var lastDigit = number % 10,
                last2Digits = number % 100;
            if (number === 0) {
                return number + '-ев';
            } else if (last2Digits === 0) {
                return number + '-ен';
            } else if (last2Digits > 10 && last2Digits < 20) {
                return number + '-ти';
            } else if (lastDigit === 1) {
                return number + '-ви';
            } else if (lastDigit === 2) {
                return number + '-ри';
            } else if (lastDigit === 7 || lastDigit === 8) {
                return number + '-ми';
            } else {
                return number + '-ти';
            }
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return mk;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ml.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ml.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var ml = moment.defineLocale('ml', {
        months : 'ജനുവരി_ഫെബ്രുവരി_മാർച്ച്_ഏപ്രിൽ_മേയ്_ജൂൺ_ജൂലൈ_ഓഗസ്റ്റ്_സെപ്റ്റംബർ_ഒക്ടോബർ_നവംബർ_ഡിസംബർ'.split('_'),
        monthsShort : 'ജനു._ഫെബ്രു._മാർ._ഏപ്രി._മേയ്_ജൂൺ_ജൂലൈ._ഓഗ._സെപ്റ്റ._ഒക്ടോ._നവം._ഡിസം.'.split('_'),
        monthsParseExact : true,
        weekdays : 'ഞായറാഴ്ച_തിങ്കളാഴ്ച_ചൊവ്വാഴ്ച_ബുധനാഴ്ച_വ്യാഴാഴ്ച_വെള്ളിയാഴ്ച_ശനിയാഴ്ച'.split('_'),
        weekdaysShort : 'ഞായർ_തിങ്കൾ_ചൊവ്വ_ബുധൻ_വ്യാഴം_വെള്ളി_ശനി'.split('_'),
        weekdaysMin : 'ഞാ_തി_ചൊ_ബു_വ്യാ_വെ_ശ'.split('_'),
        longDateFormat : {
            LT : 'A h:mm -നു',
            LTS : 'A h:mm:ss -നു',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY, A h:mm -നു',
            LLLL : 'dddd, D MMMM YYYY, A h:mm -നു'
        },
        calendar : {
            sameDay : '[ഇന്ന്] LT',
            nextDay : '[നാളെ] LT',
            nextWeek : 'dddd, LT',
            lastDay : '[ഇന്നലെ] LT',
            lastWeek : '[കഴിഞ്ഞ] dddd, LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s കഴിഞ്ഞ്',
            past : '%s മുൻപ്',
            s : 'അൽപ നിമിഷങ്ങൾ',
            ss : '%d സെക്കൻഡ്',
            m : 'ഒരു മിനിറ്റ്',
            mm : '%d മിനിറ്റ്',
            h : 'ഒരു മണിക്കൂർ',
            hh : '%d മണിക്കൂർ',
            d : 'ഒരു ദിവസം',
            dd : '%d ദിവസം',
            M : 'ഒരു മാസം',
            MM : '%d മാസം',
            y : 'ഒരു വർഷം',
            yy : '%d വർഷം'
        },
        meridiemParse: /രാത്രി|രാവിലെ|ഉച്ച കഴിഞ്ഞ്|വൈകുന്നേരം|രാത്രി/i,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if ((meridiem === 'രാത്രി' && hour >= 4) ||
                    meridiem === 'ഉച്ച കഴിഞ്ഞ്' ||
                    meridiem === 'വൈകുന്നേരം') {
                return hour + 12;
            } else {
                return hour;
            }
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 4) {
                return 'രാത്രി';
            } else if (hour < 12) {
                return 'രാവിലെ';
            } else if (hour < 17) {
                return 'ഉച്ച കഴിഞ്ഞ്';
            } else if (hour < 20) {
                return 'വൈകുന്നേരം';
            } else {
                return 'രാത്രി';
            }
        }
    });

    return ml;

})));


/***/ }),

/***/ "./node_modules/moment/locale/mn.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/mn.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function translate(number, withoutSuffix, key, isFuture) {
        switch (key) {
            case 's':
                return withoutSuffix ? 'хэдхэн секунд' : 'хэдхэн секундын';
            case 'ss':
                return number + (withoutSuffix ? ' секунд' : ' секундын');
            case 'm':
            case 'mm':
                return number + (withoutSuffix ? ' минут' : ' минутын');
            case 'h':
            case 'hh':
                return number + (withoutSuffix ? ' цаг' : ' цагийн');
            case 'd':
            case 'dd':
                return number + (withoutSuffix ? ' өдөр' : ' өдрийн');
            case 'M':
            case 'MM':
                return number + (withoutSuffix ? ' сар' : ' сарын');
            case 'y':
            case 'yy':
                return number + (withoutSuffix ? ' жил' : ' жилийн');
            default:
                return number;
        }
    }

    var mn = moment.defineLocale('mn', {
        months : 'Нэгдүгээр сар_Хоёрдугаар сар_Гуравдугаар сар_Дөрөвдүгээр сар_Тавдугаар сар_Зургадугаар сар_Долдугаар сар_Наймдугаар сар_Есдүгээр сар_Аравдугаар сар_Арван нэгдүгээр сар_Арван хоёрдугаар сар'.split('_'),
        monthsShort : '1 сар_2 сар_3 сар_4 сар_5 сар_6 сар_7 сар_8 сар_9 сар_10 сар_11 сар_12 сар'.split('_'),
        monthsParseExact : true,
        weekdays : 'Ням_Даваа_Мягмар_Лхагва_Пүрэв_Баасан_Бямба'.split('_'),
        weekdaysShort : 'Ням_Дав_Мяг_Лха_Пүр_Баа_Бям'.split('_'),
        weekdaysMin : 'Ня_Да_Мя_Лх_Пү_Ба_Бя'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'YYYY-MM-DD',
            LL : 'YYYY оны MMMMын D',
            LLL : 'YYYY оны MMMMын D HH:mm',
            LLLL : 'dddd, YYYY оны MMMMын D HH:mm'
        },
        meridiemParse: /ҮӨ|ҮХ/i,
        isPM : function (input) {
            return input === 'ҮХ';
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 12) {
                return 'ҮӨ';
            } else {
                return 'ҮХ';
            }
        },
        calendar : {
            sameDay : '[Өнөөдөр] LT',
            nextDay : '[Маргааш] LT',
            nextWeek : '[Ирэх] dddd LT',
            lastDay : '[Өчигдөр] LT',
            lastWeek : '[Өнгөрсөн] dddd LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s дараа',
            past : '%s өмнө',
            s : translate,
            ss : translate,
            m : translate,
            mm : translate,
            h : translate,
            hh : translate,
            d : translate,
            dd : translate,
            M : translate,
            MM : translate,
            y : translate,
            yy : translate
        },
        dayOfMonthOrdinalParse: /\d{1,2} өдөр/,
        ordinal : function (number, period) {
            switch (period) {
                case 'd':
                case 'D':
                case 'DDD':
                    return number + ' өдөр';
                default:
                    return number;
            }
        }
    });

    return mn;

})));


/***/ }),

/***/ "./node_modules/moment/locale/mr.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/mr.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '१',
        '2': '२',
        '3': '३',
        '4': '४',
        '5': '५',
        '6': '६',
        '7': '७',
        '8': '८',
        '9': '९',
        '0': '०'
    },
    numberMap = {
        '१': '1',
        '२': '2',
        '३': '3',
        '४': '4',
        '५': '5',
        '६': '6',
        '७': '7',
        '८': '8',
        '९': '9',
        '०': '0'
    };

    function relativeTimeMr(number, withoutSuffix, string, isFuture)
    {
        var output = '';
        if (withoutSuffix) {
            switch (string) {
                case 's': output = 'काही सेकंद'; break;
                case 'ss': output = '%d सेकंद'; break;
                case 'm': output = 'एक मिनिट'; break;
                case 'mm': output = '%d मिनिटे'; break;
                case 'h': output = 'एक तास'; break;
                case 'hh': output = '%d तास'; break;
                case 'd': output = 'एक दिवस'; break;
                case 'dd': output = '%d दिवस'; break;
                case 'M': output = 'एक महिना'; break;
                case 'MM': output = '%d महिने'; break;
                case 'y': output = 'एक वर्ष'; break;
                case 'yy': output = '%d वर्षे'; break;
            }
        }
        else {
            switch (string) {
                case 's': output = 'काही सेकंदां'; break;
                case 'ss': output = '%d सेकंदां'; break;
                case 'm': output = 'एका मिनिटा'; break;
                case 'mm': output = '%d मिनिटां'; break;
                case 'h': output = 'एका तासा'; break;
                case 'hh': output = '%d तासां'; break;
                case 'd': output = 'एका दिवसा'; break;
                case 'dd': output = '%d दिवसां'; break;
                case 'M': output = 'एका महिन्या'; break;
                case 'MM': output = '%d महिन्यां'; break;
                case 'y': output = 'एका वर्षा'; break;
                case 'yy': output = '%d वर्षां'; break;
            }
        }
        return output.replace(/%d/i, number);
    }

    var mr = moment.defineLocale('mr', {
        months : 'जानेवारी_फेब्रुवारी_मार्च_एप्रिल_मे_जून_जुलै_ऑगस्ट_सप्टेंबर_ऑक्टोबर_नोव्हेंबर_डिसेंबर'.split('_'),
        monthsShort: 'जाने._फेब्रु._मार्च._एप्रि._मे._जून._जुलै._ऑग._सप्टें._ऑक्टो._नोव्हें._डिसें.'.split('_'),
        monthsParseExact : true,
        weekdays : 'रविवार_सोमवार_मंगळवार_बुधवार_गुरूवार_शुक्रवार_शनिवार'.split('_'),
        weekdaysShort : 'रवि_सोम_मंगळ_बुध_गुरू_शुक्र_शनि'.split('_'),
        weekdaysMin : 'र_सो_मं_बु_गु_शु_श'.split('_'),
        longDateFormat : {
            LT : 'A h:mm वाजता',
            LTS : 'A h:mm:ss वाजता',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY, A h:mm वाजता',
            LLLL : 'dddd, D MMMM YYYY, A h:mm वाजता'
        },
        calendar : {
            sameDay : '[आज] LT',
            nextDay : '[उद्या] LT',
            nextWeek : 'dddd, LT',
            lastDay : '[काल] LT',
            lastWeek: '[मागील] dddd, LT',
            sameElse : 'L'
        },
        relativeTime : {
            future: '%sमध्ये',
            past: '%sपूर्वी',
            s: relativeTimeMr,
            ss: relativeTimeMr,
            m: relativeTimeMr,
            mm: relativeTimeMr,
            h: relativeTimeMr,
            hh: relativeTimeMr,
            d: relativeTimeMr,
            dd: relativeTimeMr,
            M: relativeTimeMr,
            MM: relativeTimeMr,
            y: relativeTimeMr,
            yy: relativeTimeMr
        },
        preparse: function (string) {
            return string.replace(/[१२३४५६७८९०]/g, function (match) {
                return numberMap[match];
            });
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            });
        },
        meridiemParse: /रात्री|सकाळी|दुपारी|सायंकाळी/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'रात्री') {
                return hour < 4 ? hour : hour + 12;
            } else if (meridiem === 'सकाळी') {
                return hour;
            } else if (meridiem === 'दुपारी') {
                return hour >= 10 ? hour : hour + 12;
            } else if (meridiem === 'सायंकाळी') {
                return hour + 12;
            }
        },
        meridiem: function (hour, minute, isLower) {
            if (hour < 4) {
                return 'रात्री';
            } else if (hour < 10) {
                return 'सकाळी';
            } else if (hour < 17) {
                return 'दुपारी';
            } else if (hour < 20) {
                return 'सायंकाळी';
            } else {
                return 'रात्री';
            }
        },
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return mr;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ms-my.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/ms-my.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var msMy = moment.defineLocale('ms-my', {
        months : 'Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember'.split('_'),
        monthsShort : 'Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis'.split('_'),
        weekdays : 'Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu'.split('_'),
        weekdaysShort : 'Ahd_Isn_Sel_Rab_Kha_Jum_Sab'.split('_'),
        weekdaysMin : 'Ah_Is_Sl_Rb_Km_Jm_Sb'.split('_'),
        longDateFormat : {
            LT : 'HH.mm',
            LTS : 'HH.mm.ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY [pukul] HH.mm',
            LLLL : 'dddd, D MMMM YYYY [pukul] HH.mm'
        },
        meridiemParse: /pagi|tengahari|petang|malam/,
        meridiemHour: function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'pagi') {
                return hour;
            } else if (meridiem === 'tengahari') {
                return hour >= 11 ? hour : hour + 12;
            } else if (meridiem === 'petang' || meridiem === 'malam') {
                return hour + 12;
            }
        },
        meridiem : function (hours, minutes, isLower) {
            if (hours < 11) {
                return 'pagi';
            } else if (hours < 15) {
                return 'tengahari';
            } else if (hours < 19) {
                return 'petang';
            } else {
                return 'malam';
            }
        },
        calendar : {
            sameDay : '[Hari ini pukul] LT',
            nextDay : '[Esok pukul] LT',
            nextWeek : 'dddd [pukul] LT',
            lastDay : '[Kelmarin pukul] LT',
            lastWeek : 'dddd [lepas pukul] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'dalam %s',
            past : '%s yang lepas',
            s : 'beberapa saat',
            ss : '%d saat',
            m : 'seminit',
            mm : '%d minit',
            h : 'sejam',
            hh : '%d jam',
            d : 'sehari',
            dd : '%d hari',
            M : 'sebulan',
            MM : '%d bulan',
            y : 'setahun',
            yy : '%d tahun'
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return msMy;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ms.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ms.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var ms = moment.defineLocale('ms', {
        months : 'Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember'.split('_'),
        monthsShort : 'Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis'.split('_'),
        weekdays : 'Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu'.split('_'),
        weekdaysShort : 'Ahd_Isn_Sel_Rab_Kha_Jum_Sab'.split('_'),
        weekdaysMin : 'Ah_Is_Sl_Rb_Km_Jm_Sb'.split('_'),
        longDateFormat : {
            LT : 'HH.mm',
            LTS : 'HH.mm.ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY [pukul] HH.mm',
            LLLL : 'dddd, D MMMM YYYY [pukul] HH.mm'
        },
        meridiemParse: /pagi|tengahari|petang|malam/,
        meridiemHour: function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'pagi') {
                return hour;
            } else if (meridiem === 'tengahari') {
                return hour >= 11 ? hour : hour + 12;
            } else if (meridiem === 'petang' || meridiem === 'malam') {
                return hour + 12;
            }
        },
        meridiem : function (hours, minutes, isLower) {
            if (hours < 11) {
                return 'pagi';
            } else if (hours < 15) {
                return 'tengahari';
            } else if (hours < 19) {
                return 'petang';
            } else {
                return 'malam';
            }
        },
        calendar : {
            sameDay : '[Hari ini pukul] LT',
            nextDay : '[Esok pukul] LT',
            nextWeek : 'dddd [pukul] LT',
            lastDay : '[Kelmarin pukul] LT',
            lastWeek : 'dddd [lepas pukul] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'dalam %s',
            past : '%s yang lepas',
            s : 'beberapa saat',
            ss : '%d saat',
            m : 'seminit',
            mm : '%d minit',
            h : 'sejam',
            hh : '%d jam',
            d : 'sehari',
            dd : '%d hari',
            M : 'sebulan',
            MM : '%d bulan',
            y : 'setahun',
            yy : '%d tahun'
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return ms;

})));


/***/ }),

/***/ "./node_modules/moment/locale/mt.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/mt.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var mt = moment.defineLocale('mt', {
        months : 'Jannar_Frar_Marzu_April_Mejju_Ġunju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diċembru'.split('_'),
        monthsShort : 'Jan_Fra_Mar_Apr_Mej_Ġun_Lul_Aww_Set_Ott_Nov_Diċ'.split('_'),
        weekdays : 'Il-Ħadd_It-Tnejn_It-Tlieta_L-Erbgħa_Il-Ħamis_Il-Ġimgħa_Is-Sibt'.split('_'),
        weekdaysShort : 'Ħad_Tne_Tli_Erb_Ħam_Ġim_Sib'.split('_'),
        weekdaysMin : 'Ħa_Tn_Tl_Er_Ħa_Ġi_Si'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Illum fil-]LT',
            nextDay : '[Għada fil-]LT',
            nextWeek : 'dddd [fil-]LT',
            lastDay : '[Il-bieraħ fil-]LT',
            lastWeek : 'dddd [li għadda] [fil-]LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'f’ %s',
            past : '%s ilu',
            s : 'ftit sekondi',
            ss : '%d sekondi',
            m : 'minuta',
            mm : '%d minuti',
            h : 'siegħa',
            hh : '%d siegħat',
            d : 'ġurnata',
            dd : '%d ġranet',
            M : 'xahar',
            MM : '%d xhur',
            y : 'sena',
            yy : '%d sni'
        },
        dayOfMonthOrdinalParse : /\d{1,2}º/,
        ordinal: '%dº',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return mt;

})));


/***/ }),

/***/ "./node_modules/moment/locale/my.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/my.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '၁',
        '2': '၂',
        '3': '၃',
        '4': '၄',
        '5': '၅',
        '6': '၆',
        '7': '၇',
        '8': '၈',
        '9': '၉',
        '0': '၀'
    }, numberMap = {
        '၁': '1',
        '၂': '2',
        '၃': '3',
        '၄': '4',
        '၅': '5',
        '၆': '6',
        '၇': '7',
        '၈': '8',
        '၉': '9',
        '၀': '0'
    };

    var my = moment.defineLocale('my', {
        months: 'ဇန်နဝါရီ_ဖေဖော်ဝါရီ_မတ်_ဧပြီ_မေ_ဇွန်_ဇူလိုင်_သြဂုတ်_စက်တင်ဘာ_အောက်တိုဘာ_နိုဝင်ဘာ_ဒီဇင်ဘာ'.split('_'),
        monthsShort: 'ဇန်_ဖေ_မတ်_ပြီ_မေ_ဇွန်_လိုင်_သြ_စက်_အောက်_နို_ဒီ'.split('_'),
        weekdays: 'တနင်္ဂနွေ_တနင်္လာ_အင်္ဂါ_ဗုဒ္ဓဟူး_ကြာသပတေး_သောကြာ_စနေ'.split('_'),
        weekdaysShort: 'နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ'.split('_'),
        weekdaysMin: 'နွေ_လာ_ဂါ_ဟူး_ကြာ_သော_နေ'.split('_'),

        longDateFormat: {
            LT: 'HH:mm',
            LTS: 'HH:mm:ss',
            L: 'DD/MM/YYYY',
            LL: 'D MMMM YYYY',
            LLL: 'D MMMM YYYY HH:mm',
            LLLL: 'dddd D MMMM YYYY HH:mm'
        },
        calendar: {
            sameDay: '[ယနေ.] LT [မှာ]',
            nextDay: '[မနက်ဖြန်] LT [မှာ]',
            nextWeek: 'dddd LT [မှာ]',
            lastDay: '[မနေ.က] LT [မှာ]',
            lastWeek: '[ပြီးခဲ့သော] dddd LT [မှာ]',
            sameElse: 'L'
        },
        relativeTime: {
            future: 'လာမည့် %s မှာ',
            past: 'လွန်ခဲ့သော %s က',
            s: 'စက္ကန်.အနည်းငယ်',
            ss : '%d စက္ကန့်',
            m: 'တစ်မိနစ်',
            mm: '%d မိနစ်',
            h: 'တစ်နာရီ',
            hh: '%d နာရီ',
            d: 'တစ်ရက်',
            dd: '%d ရက်',
            M: 'တစ်လ',
            MM: '%d လ',
            y: 'တစ်နှစ်',
            yy: '%d နှစ်'
        },
        preparse: function (string) {
            return string.replace(/[၁၂၃၄၅၆၇၈၉၀]/g, function (match) {
                return numberMap[match];
            });
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            });
        },
        week: {
            dow: 1, // Monday is the first day of the week.
            doy: 4 // The week that contains Jan 1st is the first week of the year.
        }
    });

    return my;

})));


/***/ }),

/***/ "./node_modules/moment/locale/nb.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/nb.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var nb = moment.defineLocale('nb', {
        months : 'januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember'.split('_'),
        monthsShort : 'jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.'.split('_'),
        monthsParseExact : true,
        weekdays : 'søndag_mandag_tirsdag_onsdag_torsdag_fredag_lørdag'.split('_'),
        weekdaysShort : 'sø._ma._ti._on._to._fr._lø.'.split('_'),
        weekdaysMin : 'sø_ma_ti_on_to_fr_lø'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM YYYY',
            LLL : 'D. MMMM YYYY [kl.] HH:mm',
            LLLL : 'dddd D. MMMM YYYY [kl.] HH:mm'
        },
        calendar : {
            sameDay: '[i dag kl.] LT',
            nextDay: '[i morgen kl.] LT',
            nextWeek: 'dddd [kl.] LT',
            lastDay: '[i går kl.] LT',
            lastWeek: '[forrige] dddd [kl.] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'om %s',
            past : '%s siden',
            s : 'noen sekunder',
            ss : '%d sekunder',
            m : 'ett minutt',
            mm : '%d minutter',
            h : 'en time',
            hh : '%d timer',
            d : 'en dag',
            dd : '%d dager',
            M : 'en måned',
            MM : '%d måneder',
            y : 'ett år',
            yy : '%d år'
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return nb;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ne.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ne.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '१',
        '2': '२',
        '3': '३',
        '4': '४',
        '5': '५',
        '6': '६',
        '7': '७',
        '8': '८',
        '9': '९',
        '0': '०'
    },
    numberMap = {
        '१': '1',
        '२': '2',
        '३': '3',
        '४': '4',
        '५': '5',
        '६': '6',
        '७': '7',
        '८': '8',
        '९': '9',
        '०': '0'
    };

    var ne = moment.defineLocale('ne', {
        months : 'जनवरी_फेब्रुवरी_मार्च_अप्रिल_मई_जुन_जुलाई_अगष्ट_सेप्टेम्बर_अक्टोबर_नोभेम्बर_डिसेम्बर'.split('_'),
        monthsShort : 'जन._फेब्रु._मार्च_अप्रि._मई_जुन_जुलाई._अग._सेप्ट._अक्टो._नोभे._डिसे.'.split('_'),
        monthsParseExact : true,
        weekdays : 'आइतबार_सोमबार_मङ्गलबार_बुधबार_बिहिबार_शुक्रबार_शनिबार'.split('_'),
        weekdaysShort : 'आइत._सोम._मङ्गल._बुध._बिहि._शुक्र._शनि.'.split('_'),
        weekdaysMin : 'आ._सो._मं._बु._बि._शु._श.'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'Aको h:mm बजे',
            LTS : 'Aको h:mm:ss बजे',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY, Aको h:mm बजे',
            LLLL : 'dddd, D MMMM YYYY, Aको h:mm बजे'
        },
        preparse: function (string) {
            return string.replace(/[१२३४५६७८९०]/g, function (match) {
                return numberMap[match];
            });
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            });
        },
        meridiemParse: /राति|बिहान|दिउँसो|साँझ/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'राति') {
                return hour < 4 ? hour : hour + 12;
            } else if (meridiem === 'बिहान') {
                return hour;
            } else if (meridiem === 'दिउँसो') {
                return hour >= 10 ? hour : hour + 12;
            } else if (meridiem === 'साँझ') {
                return hour + 12;
            }
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 3) {
                return 'राति';
            } else if (hour < 12) {
                return 'बिहान';
            } else if (hour < 16) {
                return 'दिउँसो';
            } else if (hour < 20) {
                return 'साँझ';
            } else {
                return 'राति';
            }
        },
        calendar : {
            sameDay : '[आज] LT',
            nextDay : '[भोलि] LT',
            nextWeek : '[आउँदो] dddd[,] LT',
            lastDay : '[हिजो] LT',
            lastWeek : '[गएको] dddd[,] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%sमा',
            past : '%s अगाडि',
            s : 'केही क्षण',
            ss : '%d सेकेण्ड',
            m : 'एक मिनेट',
            mm : '%d मिनेट',
            h : 'एक घण्टा',
            hh : '%d घण्टा',
            d : 'एक दिन',
            dd : '%d दिन',
            M : 'एक महिना',
            MM : '%d महिना',
            y : 'एक बर्ष',
            yy : '%d बर्ष'
        },
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return ne;

})));


/***/ }),

/***/ "./node_modules/moment/locale/nl-be.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/nl-be.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var monthsShortWithDots = 'jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.'.split('_'),
        monthsShortWithoutDots = 'jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec'.split('_');

    var monthsParse = [/^jan/i, /^feb/i, /^maart|mrt.?$/i, /^apr/i, /^mei$/i, /^jun[i.]?$/i, /^jul[i.]?$/i, /^aug/i, /^sep/i, /^okt/i, /^nov/i, /^dec/i];
    var monthsRegex = /^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;

    var nlBe = moment.defineLocale('nl-be', {
        months : 'januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december'.split('_'),
        monthsShort : function (m, format) {
            if (!m) {
                return monthsShortWithDots;
            } else if (/-MMM-/.test(format)) {
                return monthsShortWithoutDots[m.month()];
            } else {
                return monthsShortWithDots[m.month()];
            }
        },

        monthsRegex: monthsRegex,
        monthsShortRegex: monthsRegex,
        monthsStrictRegex: /^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,
        monthsShortStrictRegex: /^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,

        monthsParse : monthsParse,
        longMonthsParse : monthsParse,
        shortMonthsParse : monthsParse,

        weekdays : 'zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag'.split('_'),
        weekdaysShort : 'zo._ma._di._wo._do._vr._za.'.split('_'),
        weekdaysMin : 'zo_ma_di_wo_do_vr_za'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[vandaag om] LT',
            nextDay: '[morgen om] LT',
            nextWeek: 'dddd [om] LT',
            lastDay: '[gisteren om] LT',
            lastWeek: '[afgelopen] dddd [om] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'over %s',
            past : '%s geleden',
            s : 'een paar seconden',
            ss : '%d seconden',
            m : 'één minuut',
            mm : '%d minuten',
            h : 'één uur',
            hh : '%d uur',
            d : 'één dag',
            dd : '%d dagen',
            M : 'één maand',
            MM : '%d maanden',
            y : 'één jaar',
            yy : '%d jaar'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(ste|de)/,
        ordinal : function (number) {
            return number + ((number === 1 || number === 8 || number >= 20) ? 'ste' : 'de');
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return nlBe;

})));


/***/ }),

/***/ "./node_modules/moment/locale/nl.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/nl.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var monthsShortWithDots = 'jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.'.split('_'),
        monthsShortWithoutDots = 'jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec'.split('_');

    var monthsParse = [/^jan/i, /^feb/i, /^maart|mrt.?$/i, /^apr/i, /^mei$/i, /^jun[i.]?$/i, /^jul[i.]?$/i, /^aug/i, /^sep/i, /^okt/i, /^nov/i, /^dec/i];
    var monthsRegex = /^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;

    var nl = moment.defineLocale('nl', {
        months : 'januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december'.split('_'),
        monthsShort : function (m, format) {
            if (!m) {
                return monthsShortWithDots;
            } else if (/-MMM-/.test(format)) {
                return monthsShortWithoutDots[m.month()];
            } else {
                return monthsShortWithDots[m.month()];
            }
        },

        monthsRegex: monthsRegex,
        monthsShortRegex: monthsRegex,
        monthsStrictRegex: /^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,
        monthsShortStrictRegex: /^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,

        monthsParse : monthsParse,
        longMonthsParse : monthsParse,
        shortMonthsParse : monthsParse,

        weekdays : 'zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag'.split('_'),
        weekdaysShort : 'zo._ma._di._wo._do._vr._za.'.split('_'),
        weekdaysMin : 'zo_ma_di_wo_do_vr_za'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD-MM-YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[vandaag om] LT',
            nextDay: '[morgen om] LT',
            nextWeek: 'dddd [om] LT',
            lastDay: '[gisteren om] LT',
            lastWeek: '[afgelopen] dddd [om] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'over %s',
            past : '%s geleden',
            s : 'een paar seconden',
            ss : '%d seconden',
            m : 'één minuut',
            mm : '%d minuten',
            h : 'één uur',
            hh : '%d uur',
            d : 'één dag',
            dd : '%d dagen',
            M : 'één maand',
            MM : '%d maanden',
            y : 'één jaar',
            yy : '%d jaar'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(ste|de)/,
        ordinal : function (number) {
            return number + ((number === 1 || number === 8 || number >= 20) ? 'ste' : 'de');
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return nl;

})));


/***/ }),

/***/ "./node_modules/moment/locale/nn.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/nn.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var nn = moment.defineLocale('nn', {
        months : 'januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember'.split('_'),
        monthsShort : 'jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des'.split('_'),
        weekdays : 'sundag_måndag_tysdag_onsdag_torsdag_fredag_laurdag'.split('_'),
        weekdaysShort : 'sun_mån_tys_ons_tor_fre_lau'.split('_'),
        weekdaysMin : 'su_må_ty_on_to_fr_lø'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM YYYY',
            LLL : 'D. MMMM YYYY [kl.] H:mm',
            LLLL : 'dddd D. MMMM YYYY [kl.] HH:mm'
        },
        calendar : {
            sameDay: '[I dag klokka] LT',
            nextDay: '[I morgon klokka] LT',
            nextWeek: 'dddd [klokka] LT',
            lastDay: '[I går klokka] LT',
            lastWeek: '[Føregåande] dddd [klokka] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'om %s',
            past : '%s sidan',
            s : 'nokre sekund',
            ss : '%d sekund',
            m : 'eit minutt',
            mm : '%d minutt',
            h : 'ein time',
            hh : '%d timar',
            d : 'ein dag',
            dd : '%d dagar',
            M : 'ein månad',
            MM : '%d månader',
            y : 'eit år',
            yy : '%d år'
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return nn;

})));


/***/ }),

/***/ "./node_modules/moment/locale/pa-in.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/pa-in.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '੧',
        '2': '੨',
        '3': '੩',
        '4': '੪',
        '5': '੫',
        '6': '੬',
        '7': '੭',
        '8': '੮',
        '9': '੯',
        '0': '੦'
    },
    numberMap = {
        '੧': '1',
        '੨': '2',
        '੩': '3',
        '੪': '4',
        '੫': '5',
        '੬': '6',
        '੭': '7',
        '੮': '8',
        '੯': '9',
        '੦': '0'
    };

    var paIn = moment.defineLocale('pa-in', {
        // There are months name as per Nanakshahi Calender but they are not used as rigidly in modern Punjabi.
        months : 'ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ'.split('_'),
        monthsShort : 'ਜਨਵਰੀ_ਫ਼ਰਵਰੀ_ਮਾਰਚ_ਅਪ੍ਰੈਲ_ਮਈ_ਜੂਨ_ਜੁਲਾਈ_ਅਗਸਤ_ਸਤੰਬਰ_ਅਕਤੂਬਰ_ਨਵੰਬਰ_ਦਸੰਬਰ'.split('_'),
        weekdays : 'ਐਤਵਾਰ_ਸੋਮਵਾਰ_ਮੰਗਲਵਾਰ_ਬੁਧਵਾਰ_ਵੀਰਵਾਰ_ਸ਼ੁੱਕਰਵਾਰ_ਸ਼ਨੀਚਰਵਾਰ'.split('_'),
        weekdaysShort : 'ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ'.split('_'),
        weekdaysMin : 'ਐਤ_ਸੋਮ_ਮੰਗਲ_ਬੁਧ_ਵੀਰ_ਸ਼ੁਕਰ_ਸ਼ਨੀ'.split('_'),
        longDateFormat : {
            LT : 'A h:mm ਵਜੇ',
            LTS : 'A h:mm:ss ਵਜੇ',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY, A h:mm ਵਜੇ',
            LLLL : 'dddd, D MMMM YYYY, A h:mm ਵਜੇ'
        },
        calendar : {
            sameDay : '[ਅਜ] LT',
            nextDay : '[ਕਲ] LT',
            nextWeek : '[ਅਗਲਾ] dddd, LT',
            lastDay : '[ਕਲ] LT',
            lastWeek : '[ਪਿਛਲੇ] dddd, LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s ਵਿੱਚ',
            past : '%s ਪਿਛਲੇ',
            s : 'ਕੁਝ ਸਕਿੰਟ',
            ss : '%d ਸਕਿੰਟ',
            m : 'ਇਕ ਮਿੰਟ',
            mm : '%d ਮਿੰਟ',
            h : 'ਇੱਕ ਘੰਟਾ',
            hh : '%d ਘੰਟੇ',
            d : 'ਇੱਕ ਦਿਨ',
            dd : '%d ਦਿਨ',
            M : 'ਇੱਕ ਮਹੀਨਾ',
            MM : '%d ਮਹੀਨੇ',
            y : 'ਇੱਕ ਸਾਲ',
            yy : '%d ਸਾਲ'
        },
        preparse: function (string) {
            return string.replace(/[੧੨੩੪੫੬੭੮੯੦]/g, function (match) {
                return numberMap[match];
            });
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            });
        },
        // Punjabi notation for meridiems are quite fuzzy in practice. While there exists
        // a rigid notion of a 'Pahar' it is not used as rigidly in modern Punjabi.
        meridiemParse: /ਰਾਤ|ਸਵੇਰ|ਦੁਪਹਿਰ|ਸ਼ਾਮ/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'ਰਾਤ') {
                return hour < 4 ? hour : hour + 12;
            } else if (meridiem === 'ਸਵੇਰ') {
                return hour;
            } else if (meridiem === 'ਦੁਪਹਿਰ') {
                return hour >= 10 ? hour : hour + 12;
            } else if (meridiem === 'ਸ਼ਾਮ') {
                return hour + 12;
            }
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 4) {
                return 'ਰਾਤ';
            } else if (hour < 10) {
                return 'ਸਵੇਰ';
            } else if (hour < 17) {
                return 'ਦੁਪਹਿਰ';
            } else if (hour < 20) {
                return 'ਸ਼ਾਮ';
            } else {
                return 'ਰਾਤ';
            }
        },
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return paIn;

})));


/***/ }),

/***/ "./node_modules/moment/locale/pl.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/pl.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var monthsNominative = 'styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień'.split('_'),
        monthsSubjective = 'stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia'.split('_');
    function plural(n) {
        return (n % 10 < 5) && (n % 10 > 1) && ((~~(n / 10) % 10) !== 1);
    }
    function translate(number, withoutSuffix, key) {
        var result = number + ' ';
        switch (key) {
            case 'ss':
                return result + (plural(number) ? 'sekundy' : 'sekund');
            case 'm':
                return withoutSuffix ? 'minuta' : 'minutę';
            case 'mm':
                return result + (plural(number) ? 'minuty' : 'minut');
            case 'h':
                return withoutSuffix  ? 'godzina'  : 'godzinę';
            case 'hh':
                return result + (plural(number) ? 'godziny' : 'godzin');
            case 'MM':
                return result + (plural(number) ? 'miesiące' : 'miesięcy');
            case 'yy':
                return result + (plural(number) ? 'lata' : 'lat');
        }
    }

    var pl = moment.defineLocale('pl', {
        months : function (momentToFormat, format) {
            if (!momentToFormat) {
                return monthsNominative;
            } else if (format === '') {
                // Hack: if format empty we know this is used to generate
                // RegExp by moment. Give then back both valid forms of months
                // in RegExp ready format.
                return '(' + monthsSubjective[momentToFormat.month()] + '|' + monthsNominative[momentToFormat.month()] + ')';
            } else if (/D MMMM/.test(format)) {
                return monthsSubjective[momentToFormat.month()];
            } else {
                return monthsNominative[momentToFormat.month()];
            }
        },
        monthsShort : 'sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru'.split('_'),
        weekdays : 'niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota'.split('_'),
        weekdaysShort : 'ndz_pon_wt_śr_czw_pt_sob'.split('_'),
        weekdaysMin : 'Nd_Pn_Wt_Śr_Cz_Pt_So'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[Dziś o] LT',
            nextDay: '[Jutro o] LT',
            nextWeek: function () {
                switch (this.day()) {
                    case 0:
                        return '[W niedzielę o] LT';

                    case 2:
                        return '[We wtorek o] LT';

                    case 3:
                        return '[W środę o] LT';

                    case 6:
                        return '[W sobotę o] LT';

                    default:
                        return '[W] dddd [o] LT';
                }
            },
            lastDay: '[Wczoraj o] LT',
            lastWeek: function () {
                switch (this.day()) {
                    case 0:
                        return '[W zeszłą niedzielę o] LT';
                    case 3:
                        return '[W zeszłą środę o] LT';
                    case 6:
                        return '[W zeszłą sobotę o] LT';
                    default:
                        return '[W zeszły] dddd [o] LT';
                }
            },
            sameElse: 'L'
        },
        relativeTime : {
            future : 'za %s',
            past : '%s temu',
            s : 'kilka sekund',
            ss : translate,
            m : translate,
            mm : translate,
            h : translate,
            hh : translate,
            d : '1 dzień',
            dd : '%d dni',
            M : 'miesiąc',
            MM : translate,
            y : 'rok',
            yy : translate
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return pl;

})));


/***/ }),

/***/ "./node_modules/moment/locale/pt-br.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/pt-br.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var ptBr = moment.defineLocale('pt-br', {
        months : 'janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro'.split('_'),
        monthsShort : 'jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez'.split('_'),
        weekdays : 'Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado'.split('_'),
        weekdaysShort : 'Dom_Seg_Ter_Qua_Qui_Sex_Sáb'.split('_'),
        weekdaysMin : 'Do_2ª_3ª_4ª_5ª_6ª_Sá'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D [de] MMMM [de] YYYY',
            LLL : 'D [de] MMMM [de] YYYY [às] HH:mm',
            LLLL : 'dddd, D [de] MMMM [de] YYYY [às] HH:mm'
        },
        calendar : {
            sameDay: '[Hoje às] LT',
            nextDay: '[Amanhã às] LT',
            nextWeek: 'dddd [às] LT',
            lastDay: '[Ontem às] LT',
            lastWeek: function () {
                return (this.day() === 0 || this.day() === 6) ?
                    '[Último] dddd [às] LT' : // Saturday + Sunday
                    '[Última] dddd [às] LT'; // Monday - Friday
            },
            sameElse: 'L'
        },
        relativeTime : {
            future : 'em %s',
            past : 'há %s',
            s : 'poucos segundos',
            ss : '%d segundos',
            m : 'um minuto',
            mm : '%d minutos',
            h : 'uma hora',
            hh : '%d horas',
            d : 'um dia',
            dd : '%d dias',
            M : 'um mês',
            MM : '%d meses',
            y : 'um ano',
            yy : '%d anos'
        },
        dayOfMonthOrdinalParse: /\d{1,2}º/,
        ordinal : '%dº'
    });

    return ptBr;

})));


/***/ }),

/***/ "./node_modules/moment/locale/pt.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/pt.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var pt = moment.defineLocale('pt', {
        months : 'janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro'.split('_'),
        monthsShort : 'jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez'.split('_'),
        weekdays : 'Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado'.split('_'),
        weekdaysShort : 'Dom_Seg_Ter_Qua_Qui_Sex_Sáb'.split('_'),
        weekdaysMin : 'Do_2ª_3ª_4ª_5ª_6ª_Sá'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D [de] MMMM [de] YYYY',
            LLL : 'D [de] MMMM [de] YYYY HH:mm',
            LLLL : 'dddd, D [de] MMMM [de] YYYY HH:mm'
        },
        calendar : {
            sameDay: '[Hoje às] LT',
            nextDay: '[Amanhã às] LT',
            nextWeek: 'dddd [às] LT',
            lastDay: '[Ontem às] LT',
            lastWeek: function () {
                return (this.day() === 0 || this.day() === 6) ?
                    '[Último] dddd [às] LT' : // Saturday + Sunday
                    '[Última] dddd [às] LT'; // Monday - Friday
            },
            sameElse: 'L'
        },
        relativeTime : {
            future : 'em %s',
            past : 'há %s',
            s : 'segundos',
            ss : '%d segundos',
            m : 'um minuto',
            mm : '%d minutos',
            h : 'uma hora',
            hh : '%d horas',
            d : 'um dia',
            dd : '%d dias',
            M : 'um mês',
            MM : '%d meses',
            y : 'um ano',
            yy : '%d anos'
        },
        dayOfMonthOrdinalParse: /\d{1,2}º/,
        ordinal : '%dº',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return pt;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ro.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ro.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function relativeTimeWithPlural(number, withoutSuffix, key) {
        var format = {
                'ss': 'secunde',
                'mm': 'minute',
                'hh': 'ore',
                'dd': 'zile',
                'MM': 'luni',
                'yy': 'ani'
            },
            separator = ' ';
        if (number % 100 >= 20 || (number >= 100 && number % 100 === 0)) {
            separator = ' de ';
        }
        return number + separator + format[key];
    }

    var ro = moment.defineLocale('ro', {
        months : 'ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie'.split('_'),
        monthsShort : 'ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.'.split('_'),
        monthsParseExact: true,
        weekdays : 'duminică_luni_marți_miercuri_joi_vineri_sâmbătă'.split('_'),
        weekdaysShort : 'Dum_Lun_Mar_Mie_Joi_Vin_Sâm'.split('_'),
        weekdaysMin : 'Du_Lu_Ma_Mi_Jo_Vi_Sâ'.split('_'),
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY H:mm',
            LLLL : 'dddd, D MMMM YYYY H:mm'
        },
        calendar : {
            sameDay: '[azi la] LT',
            nextDay: '[mâine la] LT',
            nextWeek: 'dddd [la] LT',
            lastDay: '[ieri la] LT',
            lastWeek: '[fosta] dddd [la] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'peste %s',
            past : '%s în urmă',
            s : 'câteva secunde',
            ss : relativeTimeWithPlural,
            m : 'un minut',
            mm : relativeTimeWithPlural,
            h : 'o oră',
            hh : relativeTimeWithPlural,
            d : 'o zi',
            dd : relativeTimeWithPlural,
            M : 'o lună',
            MM : relativeTimeWithPlural,
            y : 'un an',
            yy : relativeTimeWithPlural
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return ro;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ru.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ru.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function plural(word, num) {
        var forms = word.split('_');
        return num % 10 === 1 && num % 100 !== 11 ? forms[0] : (num % 10 >= 2 && num % 10 <= 4 && (num % 100 < 10 || num % 100 >= 20) ? forms[1] : forms[2]);
    }
    function relativeTimeWithPlural(number, withoutSuffix, key) {
        var format = {
            'ss': withoutSuffix ? 'секунда_секунды_секунд' : 'секунду_секунды_секунд',
            'mm': withoutSuffix ? 'минута_минуты_минут' : 'минуту_минуты_минут',
            'hh': 'час_часа_часов',
            'dd': 'день_дня_дней',
            'MM': 'месяц_месяца_месяцев',
            'yy': 'год_года_лет'
        };
        if (key === 'm') {
            return withoutSuffix ? 'минута' : 'минуту';
        }
        else {
            return number + ' ' + plural(format[key], +number);
        }
    }
    var monthsParse = [/^янв/i, /^фев/i, /^мар/i, /^апр/i, /^ма[йя]/i, /^июн/i, /^июл/i, /^авг/i, /^сен/i, /^окт/i, /^ноя/i, /^дек/i];

    // http://new.gramota.ru/spravka/rules/139-prop : § 103
    // Сокращения месяцев: http://new.gramota.ru/spravka/buro/search-answer?s=242637
    // CLDR data:          http://www.unicode.org/cldr/charts/28/summary/ru.html#1753
    var ru = moment.defineLocale('ru', {
        months : {
            format: 'января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря'.split('_'),
            standalone: 'январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь'.split('_')
        },
        monthsShort : {
            // по CLDR именно "июл." и "июн.", но какой смысл менять букву на точку ?
            format: 'янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.'.split('_'),
            standalone: 'янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.'.split('_')
        },
        weekdays : {
            standalone: 'воскресенье_понедельник_вторник_среда_четверг_пятница_суббота'.split('_'),
            format: 'воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу'.split('_'),
            isFormat: /\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/
        },
        weekdaysShort : 'вс_пн_вт_ср_чт_пт_сб'.split('_'),
        weekdaysMin : 'вс_пн_вт_ср_чт_пт_сб'.split('_'),
        monthsParse : monthsParse,
        longMonthsParse : monthsParse,
        shortMonthsParse : monthsParse,

        // полные названия с падежами, по три буквы, для некоторых, по 4 буквы, сокращения с точкой и без точки
        monthsRegex: /^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,

        // копия предыдущего
        monthsShortRegex: /^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,

        // полные названия с падежами
        monthsStrictRegex: /^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,

        // Выражение, которое соотвествует только сокращённым формам
        monthsShortStrictRegex: /^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY г.',
            LLL : 'D MMMM YYYY г., H:mm',
            LLLL : 'dddd, D MMMM YYYY г., H:mm'
        },
        calendar : {
            sameDay: '[Сегодня, в] LT',
            nextDay: '[Завтра, в] LT',
            lastDay: '[Вчера, в] LT',
            nextWeek: function (now) {
                if (now.week() !== this.week()) {
                    switch (this.day()) {
                        case 0:
                            return '[В следующее] dddd, [в] LT';
                        case 1:
                        case 2:
                        case 4:
                            return '[В следующий] dddd, [в] LT';
                        case 3:
                        case 5:
                        case 6:
                            return '[В следующую] dddd, [в] LT';
                    }
                } else {
                    if (this.day() === 2) {
                        return '[Во] dddd, [в] LT';
                    } else {
                        return '[В] dddd, [в] LT';
                    }
                }
            },
            lastWeek: function (now) {
                if (now.week() !== this.week()) {
                    switch (this.day()) {
                        case 0:
                            return '[В прошлое] dddd, [в] LT';
                        case 1:
                        case 2:
                        case 4:
                            return '[В прошлый] dddd, [в] LT';
                        case 3:
                        case 5:
                        case 6:
                            return '[В прошлую] dddd, [в] LT';
                    }
                } else {
                    if (this.day() === 2) {
                        return '[Во] dddd, [в] LT';
                    } else {
                        return '[В] dddd, [в] LT';
                    }
                }
            },
            sameElse: 'L'
        },
        relativeTime : {
            future : 'через %s',
            past : '%s назад',
            s : 'несколько секунд',
            ss : relativeTimeWithPlural,
            m : relativeTimeWithPlural,
            mm : relativeTimeWithPlural,
            h : 'час',
            hh : relativeTimeWithPlural,
            d : 'день',
            dd : relativeTimeWithPlural,
            M : 'месяц',
            MM : relativeTimeWithPlural,
            y : 'год',
            yy : relativeTimeWithPlural
        },
        meridiemParse: /ночи|утра|дня|вечера/i,
        isPM : function (input) {
            return /^(дня|вечера)$/.test(input);
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 4) {
                return 'ночи';
            } else if (hour < 12) {
                return 'утра';
            } else if (hour < 17) {
                return 'дня';
            } else {
                return 'вечера';
            }
        },
        dayOfMonthOrdinalParse: /\d{1,2}-(й|го|я)/,
        ordinal: function (number, period) {
            switch (period) {
                case 'M':
                case 'd':
                case 'DDD':
                    return number + '-й';
                case 'D':
                    return number + '-го';
                case 'w':
                case 'W':
                    return number + '-я';
                default:
                    return number;
            }
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return ru;

})));


/***/ }),

/***/ "./node_modules/moment/locale/sd.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/sd.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var months = [
        'جنوري',
        'فيبروري',
        'مارچ',
        'اپريل',
        'مئي',
        'جون',
        'جولاءِ',
        'آگسٽ',
        'سيپٽمبر',
        'آڪٽوبر',
        'نومبر',
        'ڊسمبر'
    ];
    var days = [
        'آچر',
        'سومر',
        'اڱارو',
        'اربع',
        'خميس',
        'جمع',
        'ڇنڇر'
    ];

    var sd = moment.defineLocale('sd', {
        months : months,
        monthsShort : months,
        weekdays : days,
        weekdaysShort : days,
        weekdaysMin : days,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd، D MMMM YYYY HH:mm'
        },
        meridiemParse: /صبح|شام/,
        isPM : function (input) {
            return 'شام' === input;
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 12) {
                return 'صبح';
            }
            return 'شام';
        },
        calendar : {
            sameDay : '[اڄ] LT',
            nextDay : '[سڀاڻي] LT',
            nextWeek : 'dddd [اڳين هفتي تي] LT',
            lastDay : '[ڪالهه] LT',
            lastWeek : '[گزريل هفتي] dddd [تي] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s پوء',
            past : '%s اڳ',
            s : 'چند سيڪنڊ',
            ss : '%d سيڪنڊ',
            m : 'هڪ منٽ',
            mm : '%d منٽ',
            h : 'هڪ ڪلاڪ',
            hh : '%d ڪلاڪ',
            d : 'هڪ ڏينهن',
            dd : '%d ڏينهن',
            M : 'هڪ مهينو',
            MM : '%d مهينا',
            y : 'هڪ سال',
            yy : '%d سال'
        },
        preparse: function (string) {
            return string.replace(/،/g, ',');
        },
        postformat: function (string) {
            return string.replace(/,/g, '،');
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return sd;

})));


/***/ }),

/***/ "./node_modules/moment/locale/se.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/se.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var se = moment.defineLocale('se', {
        months : 'ođđajagemánnu_guovvamánnu_njukčamánnu_cuoŋománnu_miessemánnu_geassemánnu_suoidnemánnu_borgemánnu_čakčamánnu_golggotmánnu_skábmamánnu_juovlamánnu'.split('_'),
        monthsShort : 'ođđj_guov_njuk_cuo_mies_geas_suoi_borg_čakč_golg_skáb_juov'.split('_'),
        weekdays : 'sotnabeaivi_vuossárga_maŋŋebárga_gaskavahkku_duorastat_bearjadat_lávvardat'.split('_'),
        weekdaysShort : 'sotn_vuos_maŋ_gask_duor_bear_láv'.split('_'),
        weekdaysMin : 's_v_m_g_d_b_L'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'MMMM D. [b.] YYYY',
            LLL : 'MMMM D. [b.] YYYY [ti.] HH:mm',
            LLLL : 'dddd, MMMM D. [b.] YYYY [ti.] HH:mm'
        },
        calendar : {
            sameDay: '[otne ti] LT',
            nextDay: '[ihttin ti] LT',
            nextWeek: 'dddd [ti] LT',
            lastDay: '[ikte ti] LT',
            lastWeek: '[ovddit] dddd [ti] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : '%s geažes',
            past : 'maŋit %s',
            s : 'moadde sekunddat',
            ss: '%d sekunddat',
            m : 'okta minuhta',
            mm : '%d minuhtat',
            h : 'okta diimmu',
            hh : '%d diimmut',
            d : 'okta beaivi',
            dd : '%d beaivvit',
            M : 'okta mánnu',
            MM : '%d mánut',
            y : 'okta jahki',
            yy : '%d jagit'
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return se;

})));


/***/ }),

/***/ "./node_modules/moment/locale/si.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/si.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    /*jshint -W100*/
    var si = moment.defineLocale('si', {
        months : 'ජනවාරි_පෙබරවාරි_මාර්තු_අප්‍රේල්_මැයි_ජූනි_ජූලි_අගෝස්තු_සැප්තැම්බර්_ඔක්තෝබර්_නොවැම්බර්_දෙසැම්බර්'.split('_'),
        monthsShort : 'ජන_පෙබ_මාර්_අප්_මැයි_ජූනි_ජූලි_අගෝ_සැප්_ඔක්_නොවැ_දෙසැ'.split('_'),
        weekdays : 'ඉරිදා_සඳුදා_අඟහරුවාදා_බදාදා_බ්‍රහස්පතින්දා_සිකුරාදා_සෙනසුරාදා'.split('_'),
        weekdaysShort : 'ඉරි_සඳු_අඟ_බදා_බ්‍රහ_සිකු_සෙන'.split('_'),
        weekdaysMin : 'ඉ_ස_අ_බ_බ්‍ර_සි_සෙ'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'a h:mm',
            LTS : 'a h:mm:ss',
            L : 'YYYY/MM/DD',
            LL : 'YYYY MMMM D',
            LLL : 'YYYY MMMM D, a h:mm',
            LLLL : 'YYYY MMMM D [වැනි] dddd, a h:mm:ss'
        },
        calendar : {
            sameDay : '[අද] LT[ට]',
            nextDay : '[හෙට] LT[ට]',
            nextWeek : 'dddd LT[ට]',
            lastDay : '[ඊයේ] LT[ට]',
            lastWeek : '[පසුගිය] dddd LT[ට]',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%sකින්',
            past : '%sකට පෙර',
            s : 'තත්පර කිහිපය',
            ss : 'තත්පර %d',
            m : 'මිනිත්තුව',
            mm : 'මිනිත්තු %d',
            h : 'පැය',
            hh : 'පැය %d',
            d : 'දිනය',
            dd : 'දින %d',
            M : 'මාසය',
            MM : 'මාස %d',
            y : 'වසර',
            yy : 'වසර %d'
        },
        dayOfMonthOrdinalParse: /\d{1,2} වැනි/,
        ordinal : function (number) {
            return number + ' වැනි';
        },
        meridiemParse : /පෙර වරු|පස් වරු|පෙ.ව|ප.ව./,
        isPM : function (input) {
            return input === 'ප.ව.' || input === 'පස් වරු';
        },
        meridiem : function (hours, minutes, isLower) {
            if (hours > 11) {
                return isLower ? 'ප.ව.' : 'පස් වරු';
            } else {
                return isLower ? 'පෙ.ව.' : 'පෙර වරු';
            }
        }
    });

    return si;

})));


/***/ }),

/***/ "./node_modules/moment/locale/sk.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/sk.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var months = 'január_február_marec_apríl_máj_jún_júl_august_september_október_november_december'.split('_'),
        monthsShort = 'jan_feb_mar_apr_máj_jún_júl_aug_sep_okt_nov_dec'.split('_');
    function plural(n) {
        return (n > 1) && (n < 5);
    }
    function translate(number, withoutSuffix, key, isFuture) {
        var result = number + ' ';
        switch (key) {
            case 's':  // a few seconds / in a few seconds / a few seconds ago
                return (withoutSuffix || isFuture) ? 'pár sekúnd' : 'pár sekundami';
            case 'ss': // 9 seconds / in 9 seconds / 9 seconds ago
                if (withoutSuffix || isFuture) {
                    return result + (plural(number) ? 'sekundy' : 'sekúnd');
                } else {
                    return result + 'sekundami';
                }
                break;
            case 'm':  // a minute / in a minute / a minute ago
                return withoutSuffix ? 'minúta' : (isFuture ? 'minútu' : 'minútou');
            case 'mm': // 9 minutes / in 9 minutes / 9 minutes ago
                if (withoutSuffix || isFuture) {
                    return result + (plural(number) ? 'minúty' : 'minút');
                } else {
                    return result + 'minútami';
                }
                break;
            case 'h':  // an hour / in an hour / an hour ago
                return withoutSuffix ? 'hodina' : (isFuture ? 'hodinu' : 'hodinou');
            case 'hh': // 9 hours / in 9 hours / 9 hours ago
                if (withoutSuffix || isFuture) {
                    return result + (plural(number) ? 'hodiny' : 'hodín');
                } else {
                    return result + 'hodinami';
                }
                break;
            case 'd':  // a day / in a day / a day ago
                return (withoutSuffix || isFuture) ? 'deň' : 'dňom';
            case 'dd': // 9 days / in 9 days / 9 days ago
                if (withoutSuffix || isFuture) {
                    return result + (plural(number) ? 'dni' : 'dní');
                } else {
                    return result + 'dňami';
                }
                break;
            case 'M':  // a month / in a month / a month ago
                return (withoutSuffix || isFuture) ? 'mesiac' : 'mesiacom';
            case 'MM': // 9 months / in 9 months / 9 months ago
                if (withoutSuffix || isFuture) {
                    return result + (plural(number) ? 'mesiace' : 'mesiacov');
                } else {
                    return result + 'mesiacmi';
                }
                break;
            case 'y':  // a year / in a year / a year ago
                return (withoutSuffix || isFuture) ? 'rok' : 'rokom';
            case 'yy': // 9 years / in 9 years / 9 years ago
                if (withoutSuffix || isFuture) {
                    return result + (plural(number) ? 'roky' : 'rokov');
                } else {
                    return result + 'rokmi';
                }
                break;
        }
    }

    var sk = moment.defineLocale('sk', {
        months : months,
        monthsShort : monthsShort,
        weekdays : 'nedeľa_pondelok_utorok_streda_štvrtok_piatok_sobota'.split('_'),
        weekdaysShort : 'ne_po_ut_st_št_pi_so'.split('_'),
        weekdaysMin : 'ne_po_ut_st_št_pi_so'.split('_'),
        longDateFormat : {
            LT: 'H:mm',
            LTS : 'H:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM YYYY',
            LLL : 'D. MMMM YYYY H:mm',
            LLLL : 'dddd D. MMMM YYYY H:mm'
        },
        calendar : {
            sameDay: '[dnes o] LT',
            nextDay: '[zajtra o] LT',
            nextWeek: function () {
                switch (this.day()) {
                    case 0:
                        return '[v nedeľu o] LT';
                    case 1:
                    case 2:
                        return '[v] dddd [o] LT';
                    case 3:
                        return '[v stredu o] LT';
                    case 4:
                        return '[vo štvrtok o] LT';
                    case 5:
                        return '[v piatok o] LT';
                    case 6:
                        return '[v sobotu o] LT';
                }
            },
            lastDay: '[včera o] LT',
            lastWeek: function () {
                switch (this.day()) {
                    case 0:
                        return '[minulú nedeľu o] LT';
                    case 1:
                    case 2:
                        return '[minulý] dddd [o] LT';
                    case 3:
                        return '[minulú stredu o] LT';
                    case 4:
                    case 5:
                        return '[minulý] dddd [o] LT';
                    case 6:
                        return '[minulú sobotu o] LT';
                }
            },
            sameElse: 'L'
        },
        relativeTime : {
            future : 'za %s',
            past : 'pred %s',
            s : translate,
            ss : translate,
            m : translate,
            mm : translate,
            h : translate,
            hh : translate,
            d : translate,
            dd : translate,
            M : translate,
            MM : translate,
            y : translate,
            yy : translate
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return sk;

})));


/***/ }),

/***/ "./node_modules/moment/locale/sl.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/sl.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function processRelativeTime(number, withoutSuffix, key, isFuture) {
        var result = number + ' ';
        switch (key) {
            case 's':
                return withoutSuffix || isFuture ? 'nekaj sekund' : 'nekaj sekundami';
            case 'ss':
                if (number === 1) {
                    result += withoutSuffix ? 'sekundo' : 'sekundi';
                } else if (number === 2) {
                    result += withoutSuffix || isFuture ? 'sekundi' : 'sekundah';
                } else if (number < 5) {
                    result += withoutSuffix || isFuture ? 'sekunde' : 'sekundah';
                } else {
                    result += withoutSuffix || isFuture ? 'sekund' : 'sekund';
                }
                return result;
            case 'm':
                return withoutSuffix ? 'ena minuta' : 'eno minuto';
            case 'mm':
                if (number === 1) {
                    result += withoutSuffix ? 'minuta' : 'minuto';
                } else if (number === 2) {
                    result += withoutSuffix || isFuture ? 'minuti' : 'minutama';
                } else if (number < 5) {
                    result += withoutSuffix || isFuture ? 'minute' : 'minutami';
                } else {
                    result += withoutSuffix || isFuture ? 'minut' : 'minutami';
                }
                return result;
            case 'h':
                return withoutSuffix ? 'ena ura' : 'eno uro';
            case 'hh':
                if (number === 1) {
                    result += withoutSuffix ? 'ura' : 'uro';
                } else if (number === 2) {
                    result += withoutSuffix || isFuture ? 'uri' : 'urama';
                } else if (number < 5) {
                    result += withoutSuffix || isFuture ? 'ure' : 'urami';
                } else {
                    result += withoutSuffix || isFuture ? 'ur' : 'urami';
                }
                return result;
            case 'd':
                return withoutSuffix || isFuture ? 'en dan' : 'enim dnem';
            case 'dd':
                if (number === 1) {
                    result += withoutSuffix || isFuture ? 'dan' : 'dnem';
                } else if (number === 2) {
                    result += withoutSuffix || isFuture ? 'dni' : 'dnevoma';
                } else {
                    result += withoutSuffix || isFuture ? 'dni' : 'dnevi';
                }
                return result;
            case 'M':
                return withoutSuffix || isFuture ? 'en mesec' : 'enim mesecem';
            case 'MM':
                if (number === 1) {
                    result += withoutSuffix || isFuture ? 'mesec' : 'mesecem';
                } else if (number === 2) {
                    result += withoutSuffix || isFuture ? 'meseca' : 'mesecema';
                } else if (number < 5) {
                    result += withoutSuffix || isFuture ? 'mesece' : 'meseci';
                } else {
                    result += withoutSuffix || isFuture ? 'mesecev' : 'meseci';
                }
                return result;
            case 'y':
                return withoutSuffix || isFuture ? 'eno leto' : 'enim letom';
            case 'yy':
                if (number === 1) {
                    result += withoutSuffix || isFuture ? 'leto' : 'letom';
                } else if (number === 2) {
                    result += withoutSuffix || isFuture ? 'leti' : 'letoma';
                } else if (number < 5) {
                    result += withoutSuffix || isFuture ? 'leta' : 'leti';
                } else {
                    result += withoutSuffix || isFuture ? 'let' : 'leti';
                }
                return result;
        }
    }

    var sl = moment.defineLocale('sl', {
        months : 'januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december'.split('_'),
        monthsShort : 'jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.'.split('_'),
        monthsParseExact: true,
        weekdays : 'nedelja_ponedeljek_torek_sreda_četrtek_petek_sobota'.split('_'),
        weekdaysShort : 'ned._pon._tor._sre._čet._pet._sob.'.split('_'),
        weekdaysMin : 'ne_po_to_sr_če_pe_so'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM YYYY',
            LLL : 'D. MMMM YYYY H:mm',
            LLLL : 'dddd, D. MMMM YYYY H:mm'
        },
        calendar : {
            sameDay  : '[danes ob] LT',
            nextDay  : '[jutri ob] LT',

            nextWeek : function () {
                switch (this.day()) {
                    case 0:
                        return '[v] [nedeljo] [ob] LT';
                    case 3:
                        return '[v] [sredo] [ob] LT';
                    case 6:
                        return '[v] [soboto] [ob] LT';
                    case 1:
                    case 2:
                    case 4:
                    case 5:
                        return '[v] dddd [ob] LT';
                }
            },
            lastDay  : '[včeraj ob] LT',
            lastWeek : function () {
                switch (this.day()) {
                    case 0:
                        return '[prejšnjo] [nedeljo] [ob] LT';
                    case 3:
                        return '[prejšnjo] [sredo] [ob] LT';
                    case 6:
                        return '[prejšnjo] [soboto] [ob] LT';
                    case 1:
                    case 2:
                    case 4:
                    case 5:
                        return '[prejšnji] dddd [ob] LT';
                }
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : 'čez %s',
            past   : 'pred %s',
            s      : processRelativeTime,
            ss     : processRelativeTime,
            m      : processRelativeTime,
            mm     : processRelativeTime,
            h      : processRelativeTime,
            hh     : processRelativeTime,
            d      : processRelativeTime,
            dd     : processRelativeTime,
            M      : processRelativeTime,
            MM     : processRelativeTime,
            y      : processRelativeTime,
            yy     : processRelativeTime
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return sl;

})));


/***/ }),

/***/ "./node_modules/moment/locale/sq.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/sq.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var sq = moment.defineLocale('sq', {
        months : 'Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nëntor_Dhjetor'.split('_'),
        monthsShort : 'Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nën_Dhj'.split('_'),
        weekdays : 'E Diel_E Hënë_E Martë_E Mërkurë_E Enjte_E Premte_E Shtunë'.split('_'),
        weekdaysShort : 'Die_Hën_Mar_Mër_Enj_Pre_Sht'.split('_'),
        weekdaysMin : 'D_H_Ma_Më_E_P_Sh'.split('_'),
        weekdaysParseExact : true,
        meridiemParse: /PD|MD/,
        isPM: function (input) {
            return input.charAt(0) === 'M';
        },
        meridiem : function (hours, minutes, isLower) {
            return hours < 12 ? 'PD' : 'MD';
        },
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Sot në] LT',
            nextDay : '[Nesër në] LT',
            nextWeek : 'dddd [në] LT',
            lastDay : '[Dje në] LT',
            lastWeek : 'dddd [e kaluar në] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'në %s',
            past : '%s më parë',
            s : 'disa sekonda',
            ss : '%d sekonda',
            m : 'një minutë',
            mm : '%d minuta',
            h : 'një orë',
            hh : '%d orë',
            d : 'një ditë',
            dd : '%d ditë',
            M : 'një muaj',
            MM : '%d muaj',
            y : 'një vit',
            yy : '%d vite'
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return sq;

})));


/***/ }),

/***/ "./node_modules/moment/locale/sr-cyrl.js":
/*!***********************************************!*\
  !*** ./node_modules/moment/locale/sr-cyrl.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var translator = {
        words: { //Different grammatical cases
            ss: ['секунда', 'секунде', 'секунди'],
            m: ['један минут', 'једне минуте'],
            mm: ['минут', 'минуте', 'минута'],
            h: ['један сат', 'једног сата'],
            hh: ['сат', 'сата', 'сати'],
            dd: ['дан', 'дана', 'дана'],
            MM: ['месец', 'месеца', 'месеци'],
            yy: ['година', 'године', 'година']
        },
        correctGrammaticalCase: function (number, wordKey) {
            return number === 1 ? wordKey[0] : (number >= 2 && number <= 4 ? wordKey[1] : wordKey[2]);
        },
        translate: function (number, withoutSuffix, key) {
            var wordKey = translator.words[key];
            if (key.length === 1) {
                return withoutSuffix ? wordKey[0] : wordKey[1];
            } else {
                return number + ' ' + translator.correctGrammaticalCase(number, wordKey);
            }
        }
    };

    var srCyrl = moment.defineLocale('sr-cyrl', {
        months: 'јануар_фебруар_март_април_мај_јун_јул_август_септембар_октобар_новембар_децембар'.split('_'),
        monthsShort: 'јан._феб._мар._апр._мај_јун_јул_авг._сеп._окт._нов._дец.'.split('_'),
        monthsParseExact: true,
        weekdays: 'недеља_понедељак_уторак_среда_четвртак_петак_субота'.split('_'),
        weekdaysShort: 'нед._пон._уто._сре._чет._пет._суб.'.split('_'),
        weekdaysMin: 'не_по_ут_ср_че_пе_су'.split('_'),
        weekdaysParseExact : true,
        longDateFormat: {
            LT: 'H:mm',
            LTS : 'H:mm:ss',
            L: 'DD.MM.YYYY',
            LL: 'D. MMMM YYYY',
            LLL: 'D. MMMM YYYY H:mm',
            LLLL: 'dddd, D. MMMM YYYY H:mm'
        },
        calendar: {
            sameDay: '[данас у] LT',
            nextDay: '[сутра у] LT',
            nextWeek: function () {
                switch (this.day()) {
                    case 0:
                        return '[у] [недељу] [у] LT';
                    case 3:
                        return '[у] [среду] [у] LT';
                    case 6:
                        return '[у] [суботу] [у] LT';
                    case 1:
                    case 2:
                    case 4:
                    case 5:
                        return '[у] dddd [у] LT';
                }
            },
            lastDay  : '[јуче у] LT',
            lastWeek : function () {
                var lastWeekDays = [
                    '[прошле] [недеље] [у] LT',
                    '[прошлог] [понедељка] [у] LT',
                    '[прошлог] [уторка] [у] LT',
                    '[прошле] [среде] [у] LT',
                    '[прошлог] [четвртка] [у] LT',
                    '[прошлог] [петка] [у] LT',
                    '[прошле] [суботе] [у] LT'
                ];
                return lastWeekDays[this.day()];
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : 'за %s',
            past   : 'пре %s',
            s      : 'неколико секунди',
            ss     : translator.translate,
            m      : translator.translate,
            mm     : translator.translate,
            h      : translator.translate,
            hh     : translator.translate,
            d      : 'дан',
            dd     : translator.translate,
            M      : 'месец',
            MM     : translator.translate,
            y      : 'годину',
            yy     : translator.translate
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return srCyrl;

})));


/***/ }),

/***/ "./node_modules/moment/locale/sr.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/sr.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var translator = {
        words: { //Different grammatical cases
            ss: ['sekunda', 'sekunde', 'sekundi'],
            m: ['jedan minut', 'jedne minute'],
            mm: ['minut', 'minute', 'minuta'],
            h: ['jedan sat', 'jednog sata'],
            hh: ['sat', 'sata', 'sati'],
            dd: ['dan', 'dana', 'dana'],
            MM: ['mesec', 'meseca', 'meseci'],
            yy: ['godina', 'godine', 'godina']
        },
        correctGrammaticalCase: function (number, wordKey) {
            return number === 1 ? wordKey[0] : (number >= 2 && number <= 4 ? wordKey[1] : wordKey[2]);
        },
        translate: function (number, withoutSuffix, key) {
            var wordKey = translator.words[key];
            if (key.length === 1) {
                return withoutSuffix ? wordKey[0] : wordKey[1];
            } else {
                return number + ' ' + translator.correctGrammaticalCase(number, wordKey);
            }
        }
    };

    var sr = moment.defineLocale('sr', {
        months: 'januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar'.split('_'),
        monthsShort: 'jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.'.split('_'),
        monthsParseExact: true,
        weekdays: 'nedelja_ponedeljak_utorak_sreda_četvrtak_petak_subota'.split('_'),
        weekdaysShort: 'ned._pon._uto._sre._čet._pet._sub.'.split('_'),
        weekdaysMin: 'ne_po_ut_sr_če_pe_su'.split('_'),
        weekdaysParseExact : true,
        longDateFormat: {
            LT: 'H:mm',
            LTS : 'H:mm:ss',
            L: 'DD.MM.YYYY',
            LL: 'D. MMMM YYYY',
            LLL: 'D. MMMM YYYY H:mm',
            LLLL: 'dddd, D. MMMM YYYY H:mm'
        },
        calendar: {
            sameDay: '[danas u] LT',
            nextDay: '[sutra u] LT',
            nextWeek: function () {
                switch (this.day()) {
                    case 0:
                        return '[u] [nedelju] [u] LT';
                    case 3:
                        return '[u] [sredu] [u] LT';
                    case 6:
                        return '[u] [subotu] [u] LT';
                    case 1:
                    case 2:
                    case 4:
                    case 5:
                        return '[u] dddd [u] LT';
                }
            },
            lastDay  : '[juče u] LT',
            lastWeek : function () {
                var lastWeekDays = [
                    '[prošle] [nedelje] [u] LT',
                    '[prošlog] [ponedeljka] [u] LT',
                    '[prošlog] [utorka] [u] LT',
                    '[prošle] [srede] [u] LT',
                    '[prošlog] [četvrtka] [u] LT',
                    '[prošlog] [petka] [u] LT',
                    '[prošle] [subote] [u] LT'
                ];
                return lastWeekDays[this.day()];
            },
            sameElse : 'L'
        },
        relativeTime : {
            future : 'za %s',
            past   : 'pre %s',
            s      : 'nekoliko sekundi',
            ss     : translator.translate,
            m      : translator.translate,
            mm     : translator.translate,
            h      : translator.translate,
            hh     : translator.translate,
            d      : 'dan',
            dd     : translator.translate,
            M      : 'mesec',
            MM     : translator.translate,
            y      : 'godinu',
            yy     : translator.translate
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return sr;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ss.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ss.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var ss = moment.defineLocale('ss', {
        months : "Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split('_'),
        monthsShort : 'Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo'.split('_'),
        weekdays : 'Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo'.split('_'),
        weekdaysShort : 'Lis_Umb_Lsb_Les_Lsi_Lsh_Umg'.split('_'),
        weekdaysMin : 'Li_Us_Lb_Lt_Ls_Lh_Ug'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'h:mm A',
            LTS : 'h:mm:ss A',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY h:mm A',
            LLLL : 'dddd, D MMMM YYYY h:mm A'
        },
        calendar : {
            sameDay : '[Namuhla nga] LT',
            nextDay : '[Kusasa nga] LT',
            nextWeek : 'dddd [nga] LT',
            lastDay : '[Itolo nga] LT',
            lastWeek : 'dddd [leliphelile] [nga] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'nga %s',
            past : 'wenteka nga %s',
            s : 'emizuzwana lomcane',
            ss : '%d mzuzwana',
            m : 'umzuzu',
            mm : '%d emizuzu',
            h : 'lihora',
            hh : '%d emahora',
            d : 'lilanga',
            dd : '%d emalanga',
            M : 'inyanga',
            MM : '%d tinyanga',
            y : 'umnyaka',
            yy : '%d iminyaka'
        },
        meridiemParse: /ekuseni|emini|entsambama|ebusuku/,
        meridiem : function (hours, minutes, isLower) {
            if (hours < 11) {
                return 'ekuseni';
            } else if (hours < 15) {
                return 'emini';
            } else if (hours < 19) {
                return 'entsambama';
            } else {
                return 'ebusuku';
            }
        },
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'ekuseni') {
                return hour;
            } else if (meridiem === 'emini') {
                return hour >= 11 ? hour : hour + 12;
            } else if (meridiem === 'entsambama' || meridiem === 'ebusuku') {
                if (hour === 0) {
                    return 0;
                }
                return hour + 12;
            }
        },
        dayOfMonthOrdinalParse: /\d{1,2}/,
        ordinal : '%d',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return ss;

})));


/***/ }),

/***/ "./node_modules/moment/locale/sv.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/sv.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var sv = moment.defineLocale('sv', {
        months : 'januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december'.split('_'),
        monthsShort : 'jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec'.split('_'),
        weekdays : 'söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag'.split('_'),
        weekdaysShort : 'sön_mån_tis_ons_tor_fre_lör'.split('_'),
        weekdaysMin : 'sö_må_ti_on_to_fr_lö'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'YYYY-MM-DD',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY [kl.] HH:mm',
            LLLL : 'dddd D MMMM YYYY [kl.] HH:mm',
            lll : 'D MMM YYYY HH:mm',
            llll : 'ddd D MMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[Idag] LT',
            nextDay: '[Imorgon] LT',
            lastDay: '[Igår] LT',
            nextWeek: '[På] dddd LT',
            lastWeek: '[I] dddd[s] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'om %s',
            past : 'för %s sedan',
            s : 'några sekunder',
            ss : '%d sekunder',
            m : 'en minut',
            mm : '%d minuter',
            h : 'en timme',
            hh : '%d timmar',
            d : 'en dag',
            dd : '%d dagar',
            M : 'en månad',
            MM : '%d månader',
            y : 'ett år',
            yy : '%d år'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(e|a)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (~~(number % 100 / 10) === 1) ? 'e' :
                (b === 1) ? 'a' :
                (b === 2) ? 'a' :
                (b === 3) ? 'e' : 'e';
            return number + output;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return sv;

})));


/***/ }),

/***/ "./node_modules/moment/locale/sw.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/sw.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var sw = moment.defineLocale('sw', {
        months : 'Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba'.split('_'),
        monthsShort : 'Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des'.split('_'),
        weekdays : 'Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi'.split('_'),
        weekdaysShort : 'Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos'.split('_'),
        weekdaysMin : 'J2_J3_J4_J5_Al_Ij_J1'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[leo saa] LT',
            nextDay : '[kesho saa] LT',
            nextWeek : '[wiki ijayo] dddd [saat] LT',
            lastDay : '[jana] LT',
            lastWeek : '[wiki iliyopita] dddd [saat] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s baadaye',
            past : 'tokea %s',
            s : 'hivi punde',
            ss : 'sekunde %d',
            m : 'dakika moja',
            mm : 'dakika %d',
            h : 'saa limoja',
            hh : 'masaa %d',
            d : 'siku moja',
            dd : 'masiku %d',
            M : 'mwezi mmoja',
            MM : 'miezi %d',
            y : 'mwaka mmoja',
            yy : 'miaka %d'
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return sw;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ta.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ta.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var symbolMap = {
        '1': '௧',
        '2': '௨',
        '3': '௩',
        '4': '௪',
        '5': '௫',
        '6': '௬',
        '7': '௭',
        '8': '௮',
        '9': '௯',
        '0': '௦'
    }, numberMap = {
        '௧': '1',
        '௨': '2',
        '௩': '3',
        '௪': '4',
        '௫': '5',
        '௬': '6',
        '௭': '7',
        '௮': '8',
        '௯': '9',
        '௦': '0'
    };

    var ta = moment.defineLocale('ta', {
        months : 'ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்'.split('_'),
        monthsShort : 'ஜனவரி_பிப்ரவரி_மார்ச்_ஏப்ரல்_மே_ஜூன்_ஜூலை_ஆகஸ்ட்_செப்டெம்பர்_அக்டோபர்_நவம்பர்_டிசம்பர்'.split('_'),
        weekdays : 'ஞாயிற்றுக்கிழமை_திங்கட்கிழமை_செவ்வாய்கிழமை_புதன்கிழமை_வியாழக்கிழமை_வெள்ளிக்கிழமை_சனிக்கிழமை'.split('_'),
        weekdaysShort : 'ஞாயிறு_திங்கள்_செவ்வாய்_புதன்_வியாழன்_வெள்ளி_சனி'.split('_'),
        weekdaysMin : 'ஞா_தி_செ_பு_வி_வெ_ச'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY, HH:mm',
            LLLL : 'dddd, D MMMM YYYY, HH:mm'
        },
        calendar : {
            sameDay : '[இன்று] LT',
            nextDay : '[நாளை] LT',
            nextWeek : 'dddd, LT',
            lastDay : '[நேற்று] LT',
            lastWeek : '[கடந்த வாரம்] dddd, LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s இல்',
            past : '%s முன்',
            s : 'ஒரு சில விநாடிகள்',
            ss : '%d விநாடிகள்',
            m : 'ஒரு நிமிடம்',
            mm : '%d நிமிடங்கள்',
            h : 'ஒரு மணி நேரம்',
            hh : '%d மணி நேரம்',
            d : 'ஒரு நாள்',
            dd : '%d நாட்கள்',
            M : 'ஒரு மாதம்',
            MM : '%d மாதங்கள்',
            y : 'ஒரு வருடம்',
            yy : '%d ஆண்டுகள்'
        },
        dayOfMonthOrdinalParse: /\d{1,2}வது/,
        ordinal : function (number) {
            return number + 'வது';
        },
        preparse: function (string) {
            return string.replace(/[௧௨௩௪௫௬௭௮௯௦]/g, function (match) {
                return numberMap[match];
            });
        },
        postformat: function (string) {
            return string.replace(/\d/g, function (match) {
                return symbolMap[match];
            });
        },
        // refer http://ta.wikipedia.org/s/1er1
        meridiemParse: /யாமம்|வைகறை|காலை|நண்பகல்|எற்பாடு|மாலை/,
        meridiem : function (hour, minute, isLower) {
            if (hour < 2) {
                return ' யாமம்';
            } else if (hour < 6) {
                return ' வைகறை';  // வைகறை
            } else if (hour < 10) {
                return ' காலை'; // காலை
            } else if (hour < 14) {
                return ' நண்பகல்'; // நண்பகல்
            } else if (hour < 18) {
                return ' எற்பாடு'; // எற்பாடு
            } else if (hour < 22) {
                return ' மாலை'; // மாலை
            } else {
                return ' யாமம்';
            }
        },
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'யாமம்') {
                return hour < 2 ? hour : hour + 12;
            } else if (meridiem === 'வைகறை' || meridiem === 'காலை') {
                return hour;
            } else if (meridiem === 'நண்பகல்') {
                return hour >= 10 ? hour : hour + 12;
            } else {
                return hour + 12;
            }
        },
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return ta;

})));


/***/ }),

/***/ "./node_modules/moment/locale/te.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/te.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var te = moment.defineLocale('te', {
        months : 'జనవరి_ఫిబ్రవరి_మార్చి_ఏప్రిల్_మే_జూన్_జూలై_ఆగస్టు_సెప్టెంబర్_అక్టోబర్_నవంబర్_డిసెంబర్'.split('_'),
        monthsShort : 'జన._ఫిబ్ర._మార్చి_ఏప్రి._మే_జూన్_జూలై_ఆగ._సెప్._అక్టో._నవ._డిసె.'.split('_'),
        monthsParseExact : true,
        weekdays : 'ఆదివారం_సోమవారం_మంగళవారం_బుధవారం_గురువారం_శుక్రవారం_శనివారం'.split('_'),
        weekdaysShort : 'ఆది_సోమ_మంగళ_బుధ_గురు_శుక్ర_శని'.split('_'),
        weekdaysMin : 'ఆ_సో_మం_బు_గు_శు_శ'.split('_'),
        longDateFormat : {
            LT : 'A h:mm',
            LTS : 'A h:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY, A h:mm',
            LLLL : 'dddd, D MMMM YYYY, A h:mm'
        },
        calendar : {
            sameDay : '[నేడు] LT',
            nextDay : '[రేపు] LT',
            nextWeek : 'dddd, LT',
            lastDay : '[నిన్న] LT',
            lastWeek : '[గత] dddd, LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s లో',
            past : '%s క్రితం',
            s : 'కొన్ని క్షణాలు',
            ss : '%d సెకన్లు',
            m : 'ఒక నిమిషం',
            mm : '%d నిమిషాలు',
            h : 'ఒక గంట',
            hh : '%d గంటలు',
            d : 'ఒక రోజు',
            dd : '%d రోజులు',
            M : 'ఒక నెల',
            MM : '%d నెలలు',
            y : 'ఒక సంవత్సరం',
            yy : '%d సంవత్సరాలు'
        },
        dayOfMonthOrdinalParse : /\d{1,2}వ/,
        ordinal : '%dవ',
        meridiemParse: /రాత్రి|ఉదయం|మధ్యాహ్నం|సాయంత్రం/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'రాత్రి') {
                return hour < 4 ? hour : hour + 12;
            } else if (meridiem === 'ఉదయం') {
                return hour;
            } else if (meridiem === 'మధ్యాహ్నం') {
                return hour >= 10 ? hour : hour + 12;
            } else if (meridiem === 'సాయంత్రం') {
                return hour + 12;
            }
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 4) {
                return 'రాత్రి';
            } else if (hour < 10) {
                return 'ఉదయం';
            } else if (hour < 17) {
                return 'మధ్యాహ్నం';
            } else if (hour < 20) {
                return 'సాయంత్రం';
            } else {
                return 'రాత్రి';
            }
        },
        week : {
            dow : 0, // Sunday is the first day of the week.
            doy : 6  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return te;

})));


/***/ }),

/***/ "./node_modules/moment/locale/tet.js":
/*!*******************************************!*\
  !*** ./node_modules/moment/locale/tet.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var tet = moment.defineLocale('tet', {
        months : 'Janeiru_Fevereiru_Marsu_Abril_Maiu_Juñu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru'.split('_'),
        monthsShort : 'Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez'.split('_'),
        weekdays : 'Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu'.split('_'),
        weekdaysShort : 'Dom_Seg_Ters_Kua_Kint_Sest_Sab'.split('_'),
        weekdaysMin : 'Do_Seg_Te_Ku_Ki_Ses_Sa'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[Ohin iha] LT',
            nextDay: '[Aban iha] LT',
            nextWeek: 'dddd [iha] LT',
            lastDay: '[Horiseik iha] LT',
            lastWeek: 'dddd [semana kotuk] [iha] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'iha %s',
            past : '%s liuba',
            s : 'minutu balun',
            ss : 'minutu %d',
            m : 'minutu ida',
            mm : 'minutu %d',
            h : 'oras ida',
            hh : 'oras %d',
            d : 'loron ida',
            dd : 'loron %d',
            M : 'fulan ida',
            MM : 'fulan %d',
            y : 'tinan ida',
            yy : 'tinan %d'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(st|nd|rd|th)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (~~(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return tet;

})));


/***/ }),

/***/ "./node_modules/moment/locale/tg.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/tg.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var suffixes = {
        0: '-ум',
        1: '-ум',
        2: '-юм',
        3: '-юм',
        4: '-ум',
        5: '-ум',
        6: '-ум',
        7: '-ум',
        8: '-ум',
        9: '-ум',
        10: '-ум',
        12: '-ум',
        13: '-ум',
        20: '-ум',
        30: '-юм',
        40: '-ум',
        50: '-ум',
        60: '-ум',
        70: '-ум',
        80: '-ум',
        90: '-ум',
        100: '-ум'
    };

    var tg = moment.defineLocale('tg', {
        months : 'январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр'.split('_'),
        monthsShort : 'янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек'.split('_'),
        weekdays : 'якшанбе_душанбе_сешанбе_чоршанбе_панҷшанбе_ҷумъа_шанбе'.split('_'),
        weekdaysShort : 'яшб_дшб_сшб_чшб_пшб_ҷум_шнб'.split('_'),
        weekdaysMin : 'яш_дш_сш_чш_пш_ҷм_шб'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[Имрӯз соати] LT',
            nextDay : '[Пагоҳ соати] LT',
            lastDay : '[Дирӯз соати] LT',
            nextWeek : 'dddd[и] [ҳафтаи оянда соати] LT',
            lastWeek : 'dddd[и] [ҳафтаи гузашта соати] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'баъди %s',
            past : '%s пеш',
            s : 'якчанд сония',
            m : 'як дақиқа',
            mm : '%d дақиқа',
            h : 'як соат',
            hh : '%d соат',
            d : 'як рӯз',
            dd : '%d рӯз',
            M : 'як моҳ',
            MM : '%d моҳ',
            y : 'як сол',
            yy : '%d сол'
        },
        meridiemParse: /шаб|субҳ|рӯз|бегоҳ/,
        meridiemHour: function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === 'шаб') {
                return hour < 4 ? hour : hour + 12;
            } else if (meridiem === 'субҳ') {
                return hour;
            } else if (meridiem === 'рӯз') {
                return hour >= 11 ? hour : hour + 12;
            } else if (meridiem === 'бегоҳ') {
                return hour + 12;
            }
        },
        meridiem: function (hour, minute, isLower) {
            if (hour < 4) {
                return 'шаб';
            } else if (hour < 11) {
                return 'субҳ';
            } else if (hour < 16) {
                return 'рӯз';
            } else if (hour < 19) {
                return 'бегоҳ';
            } else {
                return 'шаб';
            }
        },
        dayOfMonthOrdinalParse: /\d{1,2}-(ум|юм)/,
        ordinal: function (number) {
            var a = number % 10,
                b = number >= 100 ? 100 : null;
            return number + (suffixes[number] || suffixes[a] || suffixes[b]);
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1th is the first week of the year.
        }
    });

    return tg;

})));


/***/ }),

/***/ "./node_modules/moment/locale/th.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/th.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var th = moment.defineLocale('th', {
        months : 'มกราคม_กุมภาพันธ์_มีนาคม_เมษายน_พฤษภาคม_มิถุนายน_กรกฎาคม_สิงหาคม_กันยายน_ตุลาคม_พฤศจิกายน_ธันวาคม'.split('_'),
        monthsShort : 'ม.ค._ก.พ._มี.ค._เม.ย._พ.ค._มิ.ย._ก.ค._ส.ค._ก.ย._ต.ค._พ.ย._ธ.ค.'.split('_'),
        monthsParseExact: true,
        weekdays : 'อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัสบดี_ศุกร์_เสาร์'.split('_'),
        weekdaysShort : 'อาทิตย์_จันทร์_อังคาร_พุธ_พฤหัส_ศุกร์_เสาร์'.split('_'), // yes, three characters difference
        weekdaysMin : 'อา._จ._อ._พ._พฤ._ศ._ส.'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'H:mm',
            LTS : 'H:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY เวลา H:mm',
            LLLL : 'วันddddที่ D MMMM YYYY เวลา H:mm'
        },
        meridiemParse: /ก่อนเที่ยง|หลังเที่ยง/,
        isPM: function (input) {
            return input === 'หลังเที่ยง';
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 12) {
                return 'ก่อนเที่ยง';
            } else {
                return 'หลังเที่ยง';
            }
        },
        calendar : {
            sameDay : '[วันนี้ เวลา] LT',
            nextDay : '[พรุ่งนี้ เวลา] LT',
            nextWeek : 'dddd[หน้า เวลา] LT',
            lastDay : '[เมื่อวานนี้ เวลา] LT',
            lastWeek : '[วัน]dddd[ที่แล้ว เวลา] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'อีก %s',
            past : '%sที่แล้ว',
            s : 'ไม่กี่วินาที',
            ss : '%d วินาที',
            m : '1 นาที',
            mm : '%d นาที',
            h : '1 ชั่วโมง',
            hh : '%d ชั่วโมง',
            d : '1 วัน',
            dd : '%d วัน',
            M : '1 เดือน',
            MM : '%d เดือน',
            y : '1 ปี',
            yy : '%d ปี'
        }
    });

    return th;

})));


/***/ }),

/***/ "./node_modules/moment/locale/tl-ph.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/tl-ph.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var tlPh = moment.defineLocale('tl-ph', {
        months : 'Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre'.split('_'),
        monthsShort : 'Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis'.split('_'),
        weekdays : 'Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado'.split('_'),
        weekdaysShort : 'Lin_Lun_Mar_Miy_Huw_Biy_Sab'.split('_'),
        weekdaysMin : 'Li_Lu_Ma_Mi_Hu_Bi_Sab'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'MM/D/YYYY',
            LL : 'MMMM D, YYYY',
            LLL : 'MMMM D, YYYY HH:mm',
            LLLL : 'dddd, MMMM DD, YYYY HH:mm'
        },
        calendar : {
            sameDay: 'LT [ngayong araw]',
            nextDay: '[Bukas ng] LT',
            nextWeek: 'LT [sa susunod na] dddd',
            lastDay: 'LT [kahapon]',
            lastWeek: 'LT [noong nakaraang] dddd',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'sa loob ng %s',
            past : '%s ang nakalipas',
            s : 'ilang segundo',
            ss : '%d segundo',
            m : 'isang minuto',
            mm : '%d minuto',
            h : 'isang oras',
            hh : '%d oras',
            d : 'isang araw',
            dd : '%d araw',
            M : 'isang buwan',
            MM : '%d buwan',
            y : 'isang taon',
            yy : '%d taon'
        },
        dayOfMonthOrdinalParse: /\d{1,2}/,
        ordinal : function (number) {
            return number;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return tlPh;

})));


/***/ }),

/***/ "./node_modules/moment/locale/tlh.js":
/*!*******************************************!*\
  !*** ./node_modules/moment/locale/tlh.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var numbersNouns = 'pagh_wa’_cha’_wej_loS_vagh_jav_Soch_chorgh_Hut'.split('_');

    function translateFuture(output) {
        var time = output;
        time = (output.indexOf('jaj') !== -1) ?
        time.slice(0, -3) + 'leS' :
        (output.indexOf('jar') !== -1) ?
        time.slice(0, -3) + 'waQ' :
        (output.indexOf('DIS') !== -1) ?
        time.slice(0, -3) + 'nem' :
        time + ' pIq';
        return time;
    }

    function translatePast(output) {
        var time = output;
        time = (output.indexOf('jaj') !== -1) ?
        time.slice(0, -3) + 'Hu’' :
        (output.indexOf('jar') !== -1) ?
        time.slice(0, -3) + 'wen' :
        (output.indexOf('DIS') !== -1) ?
        time.slice(0, -3) + 'ben' :
        time + ' ret';
        return time;
    }

    function translate(number, withoutSuffix, string, isFuture) {
        var numberNoun = numberAsNoun(number);
        switch (string) {
            case 'ss':
                return numberNoun + ' lup';
            case 'mm':
                return numberNoun + ' tup';
            case 'hh':
                return numberNoun + ' rep';
            case 'dd':
                return numberNoun + ' jaj';
            case 'MM':
                return numberNoun + ' jar';
            case 'yy':
                return numberNoun + ' DIS';
        }
    }

    function numberAsNoun(number) {
        var hundred = Math.floor((number % 1000) / 100),
        ten = Math.floor((number % 100) / 10),
        one = number % 10,
        word = '';
        if (hundred > 0) {
            word += numbersNouns[hundred] + 'vatlh';
        }
        if (ten > 0) {
            word += ((word !== '') ? ' ' : '') + numbersNouns[ten] + 'maH';
        }
        if (one > 0) {
            word += ((word !== '') ? ' ' : '') + numbersNouns[one];
        }
        return (word === '') ? 'pagh' : word;
    }

    var tlh = moment.defineLocale('tlh', {
        months : 'tera’ jar wa’_tera’ jar cha’_tera’ jar wej_tera’ jar loS_tera’ jar vagh_tera’ jar jav_tera’ jar Soch_tera’ jar chorgh_tera’ jar Hut_tera’ jar wa’maH_tera’ jar wa’maH wa’_tera’ jar wa’maH cha’'.split('_'),
        monthsShort : 'jar wa’_jar cha’_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wa’maH_jar wa’maH wa’_jar wa’maH cha’'.split('_'),
        monthsParseExact : true,
        weekdays : 'lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj'.split('_'),
        weekdaysShort : 'lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj'.split('_'),
        weekdaysMin : 'lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[DaHjaj] LT',
            nextDay: '[wa’leS] LT',
            nextWeek: 'LLL',
            lastDay: '[wa’Hu’] LT',
            lastWeek: 'LLL',
            sameElse: 'L'
        },
        relativeTime : {
            future : translateFuture,
            past : translatePast,
            s : 'puS lup',
            ss : translate,
            m : 'wa’ tup',
            mm : translate,
            h : 'wa’ rep',
            hh : translate,
            d : 'wa’ jaj',
            dd : translate,
            M : 'wa’ jar',
            MM : translate,
            y : 'wa’ DIS',
            yy : translate
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return tlh;

})));


/***/ }),

/***/ "./node_modules/moment/locale/tr.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/tr.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {


;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';

    var suffixes = {
        1: '\'inci',
        5: '\'inci',
        8: '\'inci',
        70: '\'inci',
        80: '\'inci',
        2: '\'nci',
        7: '\'nci',
        20: '\'nci',
        50: '\'nci',
        3: '\'üncü',
        4: '\'üncü',
        100: '\'üncü',
        6: '\'ncı',
        9: '\'uncu',
        10: '\'uncu',
        30: '\'uncu',
        60: '\'ıncı',
        90: '\'ıncı'
    };

    var tr = moment.defineLocale('tr', {
        months : 'Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık'.split('_'),
        monthsShort : 'Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara'.split('_'),
        weekdays : 'Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi'.split('_'),
        weekdaysShort : 'Paz_Pts_Sal_Çar_Per_Cum_Cts'.split('_'),
        weekdaysMin : 'Pz_Pt_Sa_Ça_Pe_Cu_Ct'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[bugün saat] LT',
            nextDay : '[yarın saat] LT',
            nextWeek : '[gelecek] dddd [saat] LT',
            lastDay : '[dün] LT',
            lastWeek : '[geçen] dddd [saat] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s sonra',
            past : '%s önce',
            s : 'birkaç saniye',
            ss : '%d saniye',
            m : 'bir dakika',
            mm : '%d dakika',
            h : 'bir saat',
            hh : '%d saat',
            d : 'bir gün',
            dd : '%d gün',
            M : 'bir ay',
            MM : '%d ay',
            y : 'bir yıl',
            yy : '%d yıl'
        },
        ordinal: function (number, period) {
            switch (period) {
                case 'd':
                case 'D':
                case 'Do':
                case 'DD':
                    return number;
                default:
                    if (number === 0) {  // special case for zero
                        return number + '\'ıncı';
                    }
                    var a = number % 10,
                        b = number % 100 - a,
                        c = number >= 100 ? 100 : null;
                    return number + (suffixes[a] || suffixes[b] || suffixes[c]);
            }
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return tr;

})));


/***/ }),

/***/ "./node_modules/moment/locale/tzl.js":
/*!*******************************************!*\
  !*** ./node_modules/moment/locale/tzl.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    // After the year there should be a slash and the amount of years since December 26, 1979 in Roman numerals.
    // This is currently too difficult (maybe even impossible) to add.
    var tzl = moment.defineLocale('tzl', {
        months : 'Januar_Fevraglh_Març_Avrïu_Mai_Gün_Julia_Guscht_Setemvar_Listopäts_Noemvar_Zecemvar'.split('_'),
        monthsShort : 'Jan_Fev_Mar_Avr_Mai_Gün_Jul_Gus_Set_Lis_Noe_Zec'.split('_'),
        weekdays : 'Súladi_Lúneçi_Maitzi_Márcuri_Xhúadi_Viénerçi_Sáturi'.split('_'),
        weekdaysShort : 'Súl_Lún_Mai_Már_Xhú_Vié_Sát'.split('_'),
        weekdaysMin : 'Sú_Lú_Ma_Má_Xh_Vi_Sá'.split('_'),
        longDateFormat : {
            LT : 'HH.mm',
            LTS : 'HH.mm.ss',
            L : 'DD.MM.YYYY',
            LL : 'D. MMMM [dallas] YYYY',
            LLL : 'D. MMMM [dallas] YYYY HH.mm',
            LLLL : 'dddd, [li] D. MMMM [dallas] YYYY HH.mm'
        },
        meridiemParse: /d\'o|d\'a/i,
        isPM : function (input) {
            return 'd\'o' === input.toLowerCase();
        },
        meridiem : function (hours, minutes, isLower) {
            if (hours > 11) {
                return isLower ? 'd\'o' : 'D\'O';
            } else {
                return isLower ? 'd\'a' : 'D\'A';
            }
        },
        calendar : {
            sameDay : '[oxhi à] LT',
            nextDay : '[demà à] LT',
            nextWeek : 'dddd [à] LT',
            lastDay : '[ieiri à] LT',
            lastWeek : '[sür el] dddd [lasteu à] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'osprei %s',
            past : 'ja%s',
            s : processRelativeTime,
            ss : processRelativeTime,
            m : processRelativeTime,
            mm : processRelativeTime,
            h : processRelativeTime,
            hh : processRelativeTime,
            d : processRelativeTime,
            dd : processRelativeTime,
            M : processRelativeTime,
            MM : processRelativeTime,
            y : processRelativeTime,
            yy : processRelativeTime
        },
        dayOfMonthOrdinalParse: /\d{1,2}\./,
        ordinal : '%d.',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    function processRelativeTime(number, withoutSuffix, key, isFuture) {
        var format = {
            's': ['viensas secunds', '\'iensas secunds'],
            'ss': [number + ' secunds', '' + number + ' secunds'],
            'm': ['\'n míut', '\'iens míut'],
            'mm': [number + ' míuts', '' + number + ' míuts'],
            'h': ['\'n þora', '\'iensa þora'],
            'hh': [number + ' þoras', '' + number + ' þoras'],
            'd': ['\'n ziua', '\'iensa ziua'],
            'dd': [number + ' ziuas', '' + number + ' ziuas'],
            'M': ['\'n mes', '\'iens mes'],
            'MM': [number + ' mesen', '' + number + ' mesen'],
            'y': ['\'n ar', '\'iens ar'],
            'yy': [number + ' ars', '' + number + ' ars']
        };
        return isFuture ? format[key][0] : (withoutSuffix ? format[key][0] : format[key][1]);
    }

    return tzl;

})));


/***/ }),

/***/ "./node_modules/moment/locale/tzm-latn.js":
/*!************************************************!*\
  !*** ./node_modules/moment/locale/tzm-latn.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var tzmLatn = moment.defineLocale('tzm-latn', {
        months : 'innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir'.split('_'),
        monthsShort : 'innayr_brˤayrˤ_marˤsˤ_ibrir_mayyw_ywnyw_ywlywz_ɣwšt_šwtanbir_ktˤwbrˤ_nwwanbir_dwjnbir'.split('_'),
        weekdays : 'asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas'.split('_'),
        weekdaysShort : 'asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas'.split('_'),
        weekdaysMin : 'asamas_aynas_asinas_akras_akwas_asimwas_asiḍyas'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[asdkh g] LT',
            nextDay: '[aska g] LT',
            nextWeek: 'dddd [g] LT',
            lastDay: '[assant g] LT',
            lastWeek: 'dddd [g] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'dadkh s yan %s',
            past : 'yan %s',
            s : 'imik',
            ss : '%d imik',
            m : 'minuḍ',
            mm : '%d minuḍ',
            h : 'saɛa',
            hh : '%d tassaɛin',
            d : 'ass',
            dd : '%d ossan',
            M : 'ayowr',
            MM : '%d iyyirn',
            y : 'asgas',
            yy : '%d isgasn'
        },
        week : {
            dow : 6, // Saturday is the first day of the week.
            doy : 12  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return tzmLatn;

})));


/***/ }),

/***/ "./node_modules/moment/locale/tzm.js":
/*!*******************************************!*\
  !*** ./node_modules/moment/locale/tzm.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var tzm = moment.defineLocale('tzm', {
        months : 'ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ'.split('_'),
        monthsShort : 'ⵉⵏⵏⴰⵢⵔ_ⴱⵕⴰⵢⵕ_ⵎⴰⵕⵚ_ⵉⴱⵔⵉⵔ_ⵎⴰⵢⵢⵓ_ⵢⵓⵏⵢⵓ_ⵢⵓⵍⵢⵓⵣ_ⵖⵓⵛⵜ_ⵛⵓⵜⴰⵏⴱⵉⵔ_ⴽⵟⵓⴱⵕ_ⵏⵓⵡⴰⵏⴱⵉⵔ_ⴷⵓⵊⵏⴱⵉⵔ'.split('_'),
        weekdays : 'ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ'.split('_'),
        weekdaysShort : 'ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ'.split('_'),
        weekdaysMin : 'ⴰⵙⴰⵎⴰⵙ_ⴰⵢⵏⴰⵙ_ⴰⵙⵉⵏⴰⵙ_ⴰⴽⵔⴰⵙ_ⴰⴽⵡⴰⵙ_ⴰⵙⵉⵎⵡⴰⵙ_ⴰⵙⵉⴹⵢⴰⵙ'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS: 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[ⴰⵙⴷⵅ ⴴ] LT',
            nextDay: '[ⴰⵙⴽⴰ ⴴ] LT',
            nextWeek: 'dddd [ⴴ] LT',
            lastDay: '[ⴰⵚⴰⵏⵜ ⴴ] LT',
            lastWeek: 'dddd [ⴴ] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : 'ⴷⴰⴷⵅ ⵙ ⵢⴰⵏ %s',
            past : 'ⵢⴰⵏ %s',
            s : 'ⵉⵎⵉⴽ',
            ss : '%d ⵉⵎⵉⴽ',
            m : 'ⵎⵉⵏⵓⴺ',
            mm : '%d ⵎⵉⵏⵓⴺ',
            h : 'ⵙⴰⵄⴰ',
            hh : '%d ⵜⴰⵙⵙⴰⵄⵉⵏ',
            d : 'ⴰⵙⵙ',
            dd : '%d oⵙⵙⴰⵏ',
            M : 'ⴰⵢoⵓⵔ',
            MM : '%d ⵉⵢⵢⵉⵔⵏ',
            y : 'ⴰⵙⴳⴰⵙ',
            yy : '%d ⵉⵙⴳⴰⵙⵏ'
        },
        week : {
            dow : 6, // Saturday is the first day of the week.
            doy : 12  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return tzm;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ug-cn.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/ug-cn.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js language configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var ugCn = moment.defineLocale('ug-cn', {
        months: 'يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر'.split(
            '_'
        ),
        monthsShort: 'يانۋار_فېۋرال_مارت_ئاپرېل_ماي_ئىيۇن_ئىيۇل_ئاۋغۇست_سېنتەبىر_ئۆكتەبىر_نويابىر_دېكابىر'.split(
            '_'
        ),
        weekdays: 'يەكشەنبە_دۈشەنبە_سەيشەنبە_چارشەنبە_پەيشەنبە_جۈمە_شەنبە'.split(
            '_'
        ),
        weekdaysShort: 'يە_دۈ_سە_چا_پە_جۈ_شە'.split('_'),
        weekdaysMin: 'يە_دۈ_سە_چا_پە_جۈ_شە'.split('_'),
        longDateFormat: {
            LT: 'HH:mm',
            LTS: 'HH:mm:ss',
            L: 'YYYY-MM-DD',
            LL: 'YYYY-يىلىM-ئاينىڭD-كۈنى',
            LLL: 'YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm',
            LLLL: 'dddd، YYYY-يىلىM-ئاينىڭD-كۈنى، HH:mm'
        },
        meridiemParse: /يېرىم كېچە|سەھەر|چۈشتىن بۇرۇن|چۈش|چۈشتىن كېيىن|كەچ/,
        meridiemHour: function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (
                meridiem === 'يېرىم كېچە' ||
                meridiem === 'سەھەر' ||
                meridiem === 'چۈشتىن بۇرۇن'
            ) {
                return hour;
            } else if (meridiem === 'چۈشتىن كېيىن' || meridiem === 'كەچ') {
                return hour + 12;
            } else {
                return hour >= 11 ? hour : hour + 12;
            }
        },
        meridiem: function (hour, minute, isLower) {
            var hm = hour * 100 + minute;
            if (hm < 600) {
                return 'يېرىم كېچە';
            } else if (hm < 900) {
                return 'سەھەر';
            } else if (hm < 1130) {
                return 'چۈشتىن بۇرۇن';
            } else if (hm < 1230) {
                return 'چۈش';
            } else if (hm < 1800) {
                return 'چۈشتىن كېيىن';
            } else {
                return 'كەچ';
            }
        },
        calendar: {
            sameDay: '[بۈگۈن سائەت] LT',
            nextDay: '[ئەتە سائەت] LT',
            nextWeek: '[كېلەركى] dddd [سائەت] LT',
            lastDay: '[تۆنۈگۈن] LT',
            lastWeek: '[ئالدىنقى] dddd [سائەت] LT',
            sameElse: 'L'
        },
        relativeTime: {
            future: '%s كېيىن',
            past: '%s بۇرۇن',
            s: 'نەچچە سېكونت',
            ss: '%d سېكونت',
            m: 'بىر مىنۇت',
            mm: '%d مىنۇت',
            h: 'بىر سائەت',
            hh: '%d سائەت',
            d: 'بىر كۈن',
            dd: '%d كۈن',
            M: 'بىر ئاي',
            MM: '%d ئاي',
            y: 'بىر يىل',
            yy: '%d يىل'
        },

        dayOfMonthOrdinalParse: /\d{1,2}(-كۈنى|-ئاي|-ھەپتە)/,
        ordinal: function (number, period) {
            switch (period) {
                case 'd':
                case 'D':
                case 'DDD':
                    return number + '-كۈنى';
                case 'w':
                case 'W':
                    return number + '-ھەپتە';
                default:
                    return number;
            }
        },
        preparse: function (string) {
            return string.replace(/،/g, ',');
        },
        postformat: function (string) {
            return string.replace(/,/g, '،');
        },
        week: {
            // GB/T 7408-1994《数据元和交换格式·信息交换·日期和时间表示法》与ISO 8601:1988等效
            dow: 1, // Monday is the first day of the week.
            doy: 7 // The week that contains Jan 1st is the first week of the year.
        }
    });

    return ugCn;

})));


/***/ }),

/***/ "./node_modules/moment/locale/uk.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/uk.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    function plural(word, num) {
        var forms = word.split('_');
        return num % 10 === 1 && num % 100 !== 11 ? forms[0] : (num % 10 >= 2 && num % 10 <= 4 && (num % 100 < 10 || num % 100 >= 20) ? forms[1] : forms[2]);
    }
    function relativeTimeWithPlural(number, withoutSuffix, key) {
        var format = {
            'ss': withoutSuffix ? 'секунда_секунди_секунд' : 'секунду_секунди_секунд',
            'mm': withoutSuffix ? 'хвилина_хвилини_хвилин' : 'хвилину_хвилини_хвилин',
            'hh': withoutSuffix ? 'година_години_годин' : 'годину_години_годин',
            'dd': 'день_дні_днів',
            'MM': 'місяць_місяці_місяців',
            'yy': 'рік_роки_років'
        };
        if (key === 'm') {
            return withoutSuffix ? 'хвилина' : 'хвилину';
        }
        else if (key === 'h') {
            return withoutSuffix ? 'година' : 'годину';
        }
        else {
            return number + ' ' + plural(format[key], +number);
        }
    }
    function weekdaysCaseReplace(m, format) {
        var weekdays = {
            'nominative': 'неділя_понеділок_вівторок_середа_четвер_п’ятниця_субота'.split('_'),
            'accusative': 'неділю_понеділок_вівторок_середу_четвер_п’ятницю_суботу'.split('_'),
            'genitive': 'неділі_понеділка_вівторка_середи_четверга_п’ятниці_суботи'.split('_')
        };

        if (!m) {
            return weekdays['nominative'];
        }

        var nounCase = (/(\[[ВвУу]\]) ?dddd/).test(format) ?
            'accusative' :
            ((/\[?(?:минулої|наступної)? ?\] ?dddd/).test(format) ?
                'genitive' :
                'nominative');
        return weekdays[nounCase][m.day()];
    }
    function processHoursFunction(str) {
        return function () {
            return str + 'о' + (this.hours() === 11 ? 'б' : '') + '] LT';
        };
    }

    var uk = moment.defineLocale('uk', {
        months : {
            'format': 'січня_лютого_березня_квітня_травня_червня_липня_серпня_вересня_жовтня_листопада_грудня'.split('_'),
            'standalone': 'січень_лютий_березень_квітень_травень_червень_липень_серпень_вересень_жовтень_листопад_грудень'.split('_')
        },
        monthsShort : 'січ_лют_бер_квіт_трав_черв_лип_серп_вер_жовт_лист_груд'.split('_'),
        weekdays : weekdaysCaseReplace,
        weekdaysShort : 'нд_пн_вт_ср_чт_пт_сб'.split('_'),
        weekdaysMin : 'нд_пн_вт_ср_чт_пт_сб'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD.MM.YYYY',
            LL : 'D MMMM YYYY р.',
            LLL : 'D MMMM YYYY р., HH:mm',
            LLLL : 'dddd, D MMMM YYYY р., HH:mm'
        },
        calendar : {
            sameDay: processHoursFunction('[Сьогодні '),
            nextDay: processHoursFunction('[Завтра '),
            lastDay: processHoursFunction('[Вчора '),
            nextWeek: processHoursFunction('[У] dddd ['),
            lastWeek: function () {
                switch (this.day()) {
                    case 0:
                    case 3:
                    case 5:
                    case 6:
                        return processHoursFunction('[Минулої] dddd [').call(this);
                    case 1:
                    case 2:
                    case 4:
                        return processHoursFunction('[Минулого] dddd [').call(this);
                }
            },
            sameElse: 'L'
        },
        relativeTime : {
            future : 'за %s',
            past : '%s тому',
            s : 'декілька секунд',
            ss : relativeTimeWithPlural,
            m : relativeTimeWithPlural,
            mm : relativeTimeWithPlural,
            h : 'годину',
            hh : relativeTimeWithPlural,
            d : 'день',
            dd : relativeTimeWithPlural,
            M : 'місяць',
            MM : relativeTimeWithPlural,
            y : 'рік',
            yy : relativeTimeWithPlural
        },
        // M. E.: those two are virtually unused but a user might want to implement them for his/her website for some reason
        meridiemParse: /ночі|ранку|дня|вечора/,
        isPM: function (input) {
            return /^(дня|вечора)$/.test(input);
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 4) {
                return 'ночі';
            } else if (hour < 12) {
                return 'ранку';
            } else if (hour < 17) {
                return 'дня';
            } else {
                return 'вечора';
            }
        },
        dayOfMonthOrdinalParse: /\d{1,2}-(й|го)/,
        ordinal: function (number, period) {
            switch (period) {
                case 'M':
                case 'd':
                case 'DDD':
                case 'w':
                case 'W':
                    return number + '-й';
                case 'D':
                    return number + '-го';
                default:
                    return number;
            }
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return uk;

})));


/***/ }),

/***/ "./node_modules/moment/locale/ur.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/ur.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var months = [
        'جنوری',
        'فروری',
        'مارچ',
        'اپریل',
        'مئی',
        'جون',
        'جولائی',
        'اگست',
        'ستمبر',
        'اکتوبر',
        'نومبر',
        'دسمبر'
    ];
    var days = [
        'اتوار',
        'پیر',
        'منگل',
        'بدھ',
        'جمعرات',
        'جمعہ',
        'ہفتہ'
    ];

    var ur = moment.defineLocale('ur', {
        months : months,
        monthsShort : months,
        weekdays : days,
        weekdaysShort : days,
        weekdaysMin : days,
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd، D MMMM YYYY HH:mm'
        },
        meridiemParse: /صبح|شام/,
        isPM : function (input) {
            return 'شام' === input;
        },
        meridiem : function (hour, minute, isLower) {
            if (hour < 12) {
                return 'صبح';
            }
            return 'شام';
        },
        calendar : {
            sameDay : '[آج بوقت] LT',
            nextDay : '[کل بوقت] LT',
            nextWeek : 'dddd [بوقت] LT',
            lastDay : '[گذشتہ روز بوقت] LT',
            lastWeek : '[گذشتہ] dddd [بوقت] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : '%s بعد',
            past : '%s قبل',
            s : 'چند سیکنڈ',
            ss : '%d سیکنڈ',
            m : 'ایک منٹ',
            mm : '%d منٹ',
            h : 'ایک گھنٹہ',
            hh : '%d گھنٹے',
            d : 'ایک دن',
            dd : '%d دن',
            M : 'ایک ماہ',
            MM : '%d ماہ',
            y : 'ایک سال',
            yy : '%d سال'
        },
        preparse: function (string) {
            return string.replace(/،/g, ',');
        },
        postformat: function (string) {
            return string.replace(/,/g, '،');
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return ur;

})));


/***/ }),

/***/ "./node_modules/moment/locale/uz-latn.js":
/*!***********************************************!*\
  !*** ./node_modules/moment/locale/uz-latn.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var uzLatn = moment.defineLocale('uz-latn', {
        months : 'Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr'.split('_'),
        monthsShort : 'Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek'.split('_'),
        weekdays : 'Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba'.split('_'),
        weekdaysShort : 'Yak_Dush_Sesh_Chor_Pay_Jum_Shan'.split('_'),
        weekdaysMin : 'Ya_Du_Se_Cho_Pa_Ju_Sha'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'D MMMM YYYY, dddd HH:mm'
        },
        calendar : {
            sameDay : '[Bugun soat] LT [da]',
            nextDay : '[Ertaga] LT [da]',
            nextWeek : 'dddd [kuni soat] LT [da]',
            lastDay : '[Kecha soat] LT [da]',
            lastWeek : '[O\'tgan] dddd [kuni soat] LT [da]',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'Yaqin %s ichida',
            past : 'Bir necha %s oldin',
            s : 'soniya',
            ss : '%d soniya',
            m : 'bir daqiqa',
            mm : '%d daqiqa',
            h : 'bir soat',
            hh : '%d soat',
            d : 'bir kun',
            dd : '%d kun',
            M : 'bir oy',
            MM : '%d oy',
            y : 'bir yil',
            yy : '%d yil'
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 1st is the first week of the year.
        }
    });

    return uzLatn;

})));


/***/ }),

/***/ "./node_modules/moment/locale/uz.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/uz.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var uz = moment.defineLocale('uz', {
        months : 'январ_феврал_март_апрел_май_июн_июл_август_сентябр_октябр_ноябр_декабр'.split('_'),
        monthsShort : 'янв_фев_мар_апр_май_июн_июл_авг_сен_окт_ноя_дек'.split('_'),
        weekdays : 'Якшанба_Душанба_Сешанба_Чоршанба_Пайшанба_Жума_Шанба'.split('_'),
        weekdaysShort : 'Якш_Душ_Сеш_Чор_Пай_Жум_Шан'.split('_'),
        weekdaysMin : 'Як_Ду_Се_Чо_Па_Жу_Ша'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'D MMMM YYYY, dddd HH:mm'
        },
        calendar : {
            sameDay : '[Бугун соат] LT [да]',
            nextDay : '[Эртага] LT [да]',
            nextWeek : 'dddd [куни соат] LT [да]',
            lastDay : '[Кеча соат] LT [да]',
            lastWeek : '[Утган] dddd [куни соат] LT [да]',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'Якин %s ичида',
            past : 'Бир неча %s олдин',
            s : 'фурсат',
            ss : '%d фурсат',
            m : 'бир дакика',
            mm : '%d дакика',
            h : 'бир соат',
            hh : '%d соат',
            d : 'бир кун',
            dd : '%d кун',
            M : 'бир ой',
            MM : '%d ой',
            y : 'бир йил',
            yy : '%d йил'
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 7  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return uz;

})));


/***/ }),

/***/ "./node_modules/moment/locale/vi.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/vi.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var vi = moment.defineLocale('vi', {
        months : 'tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12'.split('_'),
        monthsShort : 'Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12'.split('_'),
        monthsParseExact : true,
        weekdays : 'chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy'.split('_'),
        weekdaysShort : 'CN_T2_T3_T4_T5_T6_T7'.split('_'),
        weekdaysMin : 'CN_T2_T3_T4_T5_T6_T7'.split('_'),
        weekdaysParseExact : true,
        meridiemParse: /sa|ch/i,
        isPM : function (input) {
            return /^ch$/i.test(input);
        },
        meridiem : function (hours, minutes, isLower) {
            if (hours < 12) {
                return isLower ? 'sa' : 'SA';
            } else {
                return isLower ? 'ch' : 'CH';
            }
        },
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM [năm] YYYY',
            LLL : 'D MMMM [năm] YYYY HH:mm',
            LLLL : 'dddd, D MMMM [năm] YYYY HH:mm',
            l : 'DD/M/YYYY',
            ll : 'D MMM YYYY',
            lll : 'D MMM YYYY HH:mm',
            llll : 'ddd, D MMM YYYY HH:mm'
        },
        calendar : {
            sameDay: '[Hôm nay lúc] LT',
            nextDay: '[Ngày mai lúc] LT',
            nextWeek: 'dddd [tuần tới lúc] LT',
            lastDay: '[Hôm qua lúc] LT',
            lastWeek: 'dddd [tuần rồi lúc] LT',
            sameElse: 'L'
        },
        relativeTime : {
            future : '%s tới',
            past : '%s trước',
            s : 'vài giây',
            ss : '%d giây' ,
            m : 'một phút',
            mm : '%d phút',
            h : 'một giờ',
            hh : '%d giờ',
            d : 'một ngày',
            dd : '%d ngày',
            M : 'một tháng',
            MM : '%d tháng',
            y : 'một năm',
            yy : '%d năm'
        },
        dayOfMonthOrdinalParse: /\d{1,2}/,
        ordinal : function (number) {
            return number;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return vi;

})));


/***/ }),

/***/ "./node_modules/moment/locale/x-pseudo.js":
/*!************************************************!*\
  !*** ./node_modules/moment/locale/x-pseudo.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var xPseudo = moment.defineLocale('x-pseudo', {
        months : 'J~áñúá~rý_F~ébrú~árý_~Márc~h_Áp~ríl_~Máý_~Júñé~_Júl~ý_Áú~gúst~_Sép~témb~ér_Ó~ctób~ér_Ñ~óvém~bér_~Décé~mbér'.split('_'),
        monthsShort : 'J~áñ_~Féb_~Már_~Ápr_~Máý_~Júñ_~Júl_~Áúg_~Sép_~Óct_~Ñóv_~Déc'.split('_'),
        monthsParseExact : true,
        weekdays : 'S~úñdá~ý_Mó~ñdáý~_Túé~sdáý~_Wéd~ñésd~áý_T~húrs~dáý_~Fríd~áý_S~átúr~dáý'.split('_'),
        weekdaysShort : 'S~úñ_~Móñ_~Túé_~Wéd_~Thú_~Frí_~Sát'.split('_'),
        weekdaysMin : 'S~ú_Mó~_Tú_~Wé_T~h_Fr~_Sá'.split('_'),
        weekdaysParseExact : true,
        longDateFormat : {
            LT : 'HH:mm',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY HH:mm',
            LLLL : 'dddd, D MMMM YYYY HH:mm'
        },
        calendar : {
            sameDay : '[T~ódá~ý át] LT',
            nextDay : '[T~ómó~rró~w át] LT',
            nextWeek : 'dddd [át] LT',
            lastDay : '[Ý~ést~érdá~ý át] LT',
            lastWeek : '[L~ást] dddd [át] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'í~ñ %s',
            past : '%s á~gó',
            s : 'á ~féw ~sécó~ñds',
            ss : '%d s~écóñ~ds',
            m : 'á ~míñ~úté',
            mm : '%d m~íñú~tés',
            h : 'á~ñ hó~úr',
            hh : '%d h~óúrs',
            d : 'á ~dáý',
            dd : '%d d~áýs',
            M : 'á ~móñ~th',
            MM : '%d m~óñt~hs',
            y : 'á ~ýéár',
            yy : '%d ý~éárs'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (~~(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        },
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return xPseudo;

})));


/***/ }),

/***/ "./node_modules/moment/locale/yo.js":
/*!******************************************!*\
  !*** ./node_modules/moment/locale/yo.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var yo = moment.defineLocale('yo', {
        months : 'Sẹ́rẹ́_Èrèlè_Ẹrẹ̀nà_Ìgbé_Èbibi_Òkùdu_Agẹmo_Ògún_Owewe_Ọ̀wàrà_Bélú_Ọ̀pẹ̀̀'.split('_'),
        monthsShort : 'Sẹ́r_Èrl_Ẹrn_Ìgb_Èbi_Òkù_Agẹ_Ògú_Owe_Ọ̀wà_Bél_Ọ̀pẹ̀̀'.split('_'),
        weekdays : 'Àìkú_Ajé_Ìsẹ́gun_Ọjọ́rú_Ọjọ́bọ_Ẹtì_Àbámẹ́ta'.split('_'),
        weekdaysShort : 'Àìk_Ajé_Ìsẹ́_Ọjr_Ọjb_Ẹtì_Àbá'.split('_'),
        weekdaysMin : 'Àì_Aj_Ìs_Ọr_Ọb_Ẹt_Àb'.split('_'),
        longDateFormat : {
            LT : 'h:mm A',
            LTS : 'h:mm:ss A',
            L : 'DD/MM/YYYY',
            LL : 'D MMMM YYYY',
            LLL : 'D MMMM YYYY h:mm A',
            LLLL : 'dddd, D MMMM YYYY h:mm A'
        },
        calendar : {
            sameDay : '[Ònì ni] LT',
            nextDay : '[Ọ̀la ni] LT',
            nextWeek : 'dddd [Ọsẹ̀ tón\'bọ] [ni] LT',
            lastDay : '[Àna ni] LT',
            lastWeek : 'dddd [Ọsẹ̀ tólọ́] [ni] LT',
            sameElse : 'L'
        },
        relativeTime : {
            future : 'ní %s',
            past : '%s kọjá',
            s : 'ìsẹjú aayá die',
            ss :'aayá %d',
            m : 'ìsẹjú kan',
            mm : 'ìsẹjú %d',
            h : 'wákati kan',
            hh : 'wákati %d',
            d : 'ọjọ́ kan',
            dd : 'ọjọ́ %d',
            M : 'osù kan',
            MM : 'osù %d',
            y : 'ọdún kan',
            yy : 'ọdún %d'
        },
        dayOfMonthOrdinalParse : /ọjọ́\s\d{1,2}/,
        ordinal : 'ọjọ́ %d',
        week : {
            dow : 1, // Monday is the first day of the week.
            doy : 4 // The week that contains Jan 4th is the first week of the year.
        }
    });

    return yo;

})));


/***/ }),

/***/ "./node_modules/moment/locale/zh-cn.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/zh-cn.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var zhCn = moment.defineLocale('zh-cn', {
        months : '一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split('_'),
        monthsShort : '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),
        weekdays : '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_'),
        weekdaysShort : '周日_周一_周二_周三_周四_周五_周六'.split('_'),
        weekdaysMin : '日_一_二_三_四_五_六'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'YYYY/MM/DD',
            LL : 'YYYY年M月D日',
            LLL : 'YYYY年M月D日Ah点mm分',
            LLLL : 'YYYY年M月D日ddddAh点mm分',
            l : 'YYYY/M/D',
            ll : 'YYYY年M月D日',
            lll : 'YYYY年M月D日 HH:mm',
            llll : 'YYYY年M月D日dddd HH:mm'
        },
        meridiemParse: /凌晨|早上|上午|中午|下午|晚上/,
        meridiemHour: function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === '凌晨' || meridiem === '早上' ||
                    meridiem === '上午') {
                return hour;
            } else if (meridiem === '下午' || meridiem === '晚上') {
                return hour + 12;
            } else {
                // '中午'
                return hour >= 11 ? hour : hour + 12;
            }
        },
        meridiem : function (hour, minute, isLower) {
            var hm = hour * 100 + minute;
            if (hm < 600) {
                return '凌晨';
            } else if (hm < 900) {
                return '早上';
            } else if (hm < 1130) {
                return '上午';
            } else if (hm < 1230) {
                return '中午';
            } else if (hm < 1800) {
                return '下午';
            } else {
                return '晚上';
            }
        },
        calendar : {
            sameDay : '[今天]LT',
            nextDay : '[明天]LT',
            nextWeek : '[下]ddddLT',
            lastDay : '[昨天]LT',
            lastWeek : '[上]ddddLT',
            sameElse : 'L'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(日|月|周)/,
        ordinal : function (number, period) {
            switch (period) {
                case 'd':
                case 'D':
                case 'DDD':
                    return number + '日';
                case 'M':
                    return number + '月';
                case 'w':
                case 'W':
                    return number + '周';
                default:
                    return number;
            }
        },
        relativeTime : {
            future : '%s内',
            past : '%s前',
            s : '几秒',
            ss : '%d 秒',
            m : '1 分钟',
            mm : '%d 分钟',
            h : '1 小时',
            hh : '%d 小时',
            d : '1 天',
            dd : '%d 天',
            M : '1 个月',
            MM : '%d 个月',
            y : '1 年',
            yy : '%d 年'
        },
        week : {
            // GB/T 7408-1994《数据元和交换格式·信息交换·日期和时间表示法》与ISO 8601:1988等效
            dow : 1, // Monday is the first day of the week.
            doy : 4  // The week that contains Jan 4th is the first week of the year.
        }
    });

    return zhCn;

})));


/***/ }),

/***/ "./node_modules/moment/locale/zh-hk.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/zh-hk.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var zhHk = moment.defineLocale('zh-hk', {
        months : '一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split('_'),
        monthsShort : '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),
        weekdays : '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_'),
        weekdaysShort : '週日_週一_週二_週三_週四_週五_週六'.split('_'),
        weekdaysMin : '日_一_二_三_四_五_六'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'YYYY/MM/DD',
            LL : 'YYYY年M月D日',
            LLL : 'YYYY年M月D日 HH:mm',
            LLLL : 'YYYY年M月D日dddd HH:mm',
            l : 'YYYY/M/D',
            ll : 'YYYY年M月D日',
            lll : 'YYYY年M月D日 HH:mm',
            llll : 'YYYY年M月D日dddd HH:mm'
        },
        meridiemParse: /凌晨|早上|上午|中午|下午|晚上/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === '凌晨' || meridiem === '早上' || meridiem === '上午') {
                return hour;
            } else if (meridiem === '中午') {
                return hour >= 11 ? hour : hour + 12;
            } else if (meridiem === '下午' || meridiem === '晚上') {
                return hour + 12;
            }
        },
        meridiem : function (hour, minute, isLower) {
            var hm = hour * 100 + minute;
            if (hm < 600) {
                return '凌晨';
            } else if (hm < 900) {
                return '早上';
            } else if (hm < 1130) {
                return '上午';
            } else if (hm < 1230) {
                return '中午';
            } else if (hm < 1800) {
                return '下午';
            } else {
                return '晚上';
            }
        },
        calendar : {
            sameDay : '[今天]LT',
            nextDay : '[明天]LT',
            nextWeek : '[下]ddddLT',
            lastDay : '[昨天]LT',
            lastWeek : '[上]ddddLT',
            sameElse : 'L'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(日|月|週)/,
        ordinal : function (number, period) {
            switch (period) {
                case 'd' :
                case 'D' :
                case 'DDD' :
                    return number + '日';
                case 'M' :
                    return number + '月';
                case 'w' :
                case 'W' :
                    return number + '週';
                default :
                    return number;
            }
        },
        relativeTime : {
            future : '%s內',
            past : '%s前',
            s : '幾秒',
            ss : '%d 秒',
            m : '1 分鐘',
            mm : '%d 分鐘',
            h : '1 小時',
            hh : '%d 小時',
            d : '1 天',
            dd : '%d 天',
            M : '1 個月',
            MM : '%d 個月',
            y : '1 年',
            yy : '%d 年'
        }
    });

    return zhHk;

})));


/***/ }),

/***/ "./node_modules/moment/locale/zh-tw.js":
/*!*********************************************!*\
  !*** ./node_modules/moment/locale/zh-tw.js ***!
  \*********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

//! moment.js locale configuration

;(function (global, factory) {
    true ? factory(__webpack_require__(/*! ../moment */ "./node_modules/moment/moment.js")) :
   undefined
}(this, (function (moment) { 'use strict';


    var zhTw = moment.defineLocale('zh-tw', {
        months : '一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月'.split('_'),
        monthsShort : '1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月'.split('_'),
        weekdays : '星期日_星期一_星期二_星期三_星期四_星期五_星期六'.split('_'),
        weekdaysShort : '週日_週一_週二_週三_週四_週五_週六'.split('_'),
        weekdaysMin : '日_一_二_三_四_五_六'.split('_'),
        longDateFormat : {
            LT : 'HH:mm',
            LTS : 'HH:mm:ss',
            L : 'YYYY/MM/DD',
            LL : 'YYYY年M月D日',
            LLL : 'YYYY年M月D日 HH:mm',
            LLLL : 'YYYY年M月D日dddd HH:mm',
            l : 'YYYY/M/D',
            ll : 'YYYY年M月D日',
            lll : 'YYYY年M月D日 HH:mm',
            llll : 'YYYY年M月D日dddd HH:mm'
        },
        meridiemParse: /凌晨|早上|上午|中午|下午|晚上/,
        meridiemHour : function (hour, meridiem) {
            if (hour === 12) {
                hour = 0;
            }
            if (meridiem === '凌晨' || meridiem === '早上' || meridiem === '上午') {
                return hour;
            } else if (meridiem === '中午') {
                return hour >= 11 ? hour : hour + 12;
            } else if (meridiem === '下午' || meridiem === '晚上') {
                return hour + 12;
            }
        },
        meridiem : function (hour, minute, isLower) {
            var hm = hour * 100 + minute;
            if (hm < 600) {
                return '凌晨';
            } else if (hm < 900) {
                return '早上';
            } else if (hm < 1130) {
                return '上午';
            } else if (hm < 1230) {
                return '中午';
            } else if (hm < 1800) {
                return '下午';
            } else {
                return '晚上';
            }
        },
        calendar : {
            sameDay : '[今天] LT',
            nextDay : '[明天] LT',
            nextWeek : '[下]dddd LT',
            lastDay : '[昨天] LT',
            lastWeek : '[上]dddd LT',
            sameElse : 'L'
        },
        dayOfMonthOrdinalParse: /\d{1,2}(日|月|週)/,
        ordinal : function (number, period) {
            switch (period) {
                case 'd' :
                case 'D' :
                case 'DDD' :
                    return number + '日';
                case 'M' :
                    return number + '月';
                case 'w' :
                case 'W' :
                    return number + '週';
                default :
                    return number;
            }
        },
        relativeTime : {
            future : '%s內',
            past : '%s前',
            s : '幾秒',
            ss : '%d 秒',
            m : '1 分鐘',
            mm : '%d 分鐘',
            h : '1 小時',
            hh : '%d 小時',
            d : '1 天',
            dd : '%d 天',
            M : '1 個月',
            MM : '%d 個月',
            y : '1 年',
            yy : '%d 年'
        }
    });

    return zhTw;

})));


/***/ }),

/***/ "./node_modules/moment/moment.js":
/*!***************************************!*\
  !*** ./node_modules/moment/moment.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {var require;//! moment.js

;(function (global, factory) {
     true ? module.exports = factory() :
    undefined
}(this, (function () { 'use strict';

    var hookCallback;

    function hooks () {
        return hookCallback.apply(null, arguments);
    }

    // This is done to register the method called with moment()
    // without creating circular dependencies.
    function setHookCallback (callback) {
        hookCallback = callback;
    }

    function isArray(input) {
        return input instanceof Array || Object.prototype.toString.call(input) === '[object Array]';
    }

    function isObject(input) {
        // IE8 will treat undefined and null as object if it wasn't for
        // input != null
        return input != null && Object.prototype.toString.call(input) === '[object Object]';
    }

    function isObjectEmpty(obj) {
        if (Object.getOwnPropertyNames) {
            return (Object.getOwnPropertyNames(obj).length === 0);
        } else {
            var k;
            for (k in obj) {
                if (obj.hasOwnProperty(k)) {
                    return false;
                }
            }
            return true;
        }
    }

    function isUndefined(input) {
        return input === void 0;
    }

    function isNumber(input) {
        return typeof input === 'number' || Object.prototype.toString.call(input) === '[object Number]';
    }

    function isDate(input) {
        return input instanceof Date || Object.prototype.toString.call(input) === '[object Date]';
    }

    function map(arr, fn) {
        var res = [], i;
        for (i = 0; i < arr.length; ++i) {
            res.push(fn(arr[i], i));
        }
        return res;
    }

    function hasOwnProp(a, b) {
        return Object.prototype.hasOwnProperty.call(a, b);
    }

    function extend(a, b) {
        for (var i in b) {
            if (hasOwnProp(b, i)) {
                a[i] = b[i];
            }
        }

        if (hasOwnProp(b, 'toString')) {
            a.toString = b.toString;
        }

        if (hasOwnProp(b, 'valueOf')) {
            a.valueOf = b.valueOf;
        }

        return a;
    }

    function createUTC (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, true).utc();
    }

    function defaultParsingFlags() {
        // We need to deep clone this object.
        return {
            empty           : false,
            unusedTokens    : [],
            unusedInput     : [],
            overflow        : -2,
            charsLeftOver   : 0,
            nullInput       : false,
            invalidMonth    : null,
            invalidFormat   : false,
            userInvalidated : false,
            iso             : false,
            parsedDateParts : [],
            meridiem        : null,
            rfc2822         : false,
            weekdayMismatch : false
        };
    }

    function getParsingFlags(m) {
        if (m._pf == null) {
            m._pf = defaultParsingFlags();
        }
        return m._pf;
    }

    var some;
    if (Array.prototype.some) {
        some = Array.prototype.some;
    } else {
        some = function (fun) {
            var t = Object(this);
            var len = t.length >>> 0;

            for (var i = 0; i < len; i++) {
                if (i in t && fun.call(this, t[i], i, t)) {
                    return true;
                }
            }

            return false;
        };
    }

    function isValid(m) {
        if (m._isValid == null) {
            var flags = getParsingFlags(m);
            var parsedParts = some.call(flags.parsedDateParts, function (i) {
                return i != null;
            });
            var isNowValid = !isNaN(m._d.getTime()) &&
                flags.overflow < 0 &&
                !flags.empty &&
                !flags.invalidMonth &&
                !flags.invalidWeekday &&
                !flags.weekdayMismatch &&
                !flags.nullInput &&
                !flags.invalidFormat &&
                !flags.userInvalidated &&
                (!flags.meridiem || (flags.meridiem && parsedParts));

            if (m._strict) {
                isNowValid = isNowValid &&
                    flags.charsLeftOver === 0 &&
                    flags.unusedTokens.length === 0 &&
                    flags.bigHour === undefined;
            }

            if (Object.isFrozen == null || !Object.isFrozen(m)) {
                m._isValid = isNowValid;
            }
            else {
                return isNowValid;
            }
        }
        return m._isValid;
    }

    function createInvalid (flags) {
        var m = createUTC(NaN);
        if (flags != null) {
            extend(getParsingFlags(m), flags);
        }
        else {
            getParsingFlags(m).userInvalidated = true;
        }

        return m;
    }

    // Plugins that add properties should also add the key here (null value),
    // so we can properly clone ourselves.
    var momentProperties = hooks.momentProperties = [];

    function copyConfig(to, from) {
        var i, prop, val;

        if (!isUndefined(from._isAMomentObject)) {
            to._isAMomentObject = from._isAMomentObject;
        }
        if (!isUndefined(from._i)) {
            to._i = from._i;
        }
        if (!isUndefined(from._f)) {
            to._f = from._f;
        }
        if (!isUndefined(from._l)) {
            to._l = from._l;
        }
        if (!isUndefined(from._strict)) {
            to._strict = from._strict;
        }
        if (!isUndefined(from._tzm)) {
            to._tzm = from._tzm;
        }
        if (!isUndefined(from._isUTC)) {
            to._isUTC = from._isUTC;
        }
        if (!isUndefined(from._offset)) {
            to._offset = from._offset;
        }
        if (!isUndefined(from._pf)) {
            to._pf = getParsingFlags(from);
        }
        if (!isUndefined(from._locale)) {
            to._locale = from._locale;
        }

        if (momentProperties.length > 0) {
            for (i = 0; i < momentProperties.length; i++) {
                prop = momentProperties[i];
                val = from[prop];
                if (!isUndefined(val)) {
                    to[prop] = val;
                }
            }
        }

        return to;
    }

    var updateInProgress = false;

    // Moment prototype object
    function Moment(config) {
        copyConfig(this, config);
        this._d = new Date(config._d != null ? config._d.getTime() : NaN);
        if (!this.isValid()) {
            this._d = new Date(NaN);
        }
        // Prevent infinite loop in case updateOffset creates new moment
        // objects.
        if (updateInProgress === false) {
            updateInProgress = true;
            hooks.updateOffset(this);
            updateInProgress = false;
        }
    }

    function isMoment (obj) {
        return obj instanceof Moment || (obj != null && obj._isAMomentObject != null);
    }

    function absFloor (number) {
        if (number < 0) {
            // -0 -> 0
            return Math.ceil(number) || 0;
        } else {
            return Math.floor(number);
        }
    }

    function toInt(argumentForCoercion) {
        var coercedNumber = +argumentForCoercion,
            value = 0;

        if (coercedNumber !== 0 && isFinite(coercedNumber)) {
            value = absFloor(coercedNumber);
        }

        return value;
    }

    // compare two arrays, return the number of differences
    function compareArrays(array1, array2, dontConvert) {
        var len = Math.min(array1.length, array2.length),
            lengthDiff = Math.abs(array1.length - array2.length),
            diffs = 0,
            i;
        for (i = 0; i < len; i++) {
            if ((dontConvert && array1[i] !== array2[i]) ||
                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {
                diffs++;
            }
        }
        return diffs + lengthDiff;
    }

    function warn(msg) {
        if (hooks.suppressDeprecationWarnings === false &&
                (typeof console !==  'undefined') && console.warn) {
            console.warn('Deprecation warning: ' + msg);
        }
    }

    function deprecate(msg, fn) {
        var firstTime = true;

        return extend(function () {
            if (hooks.deprecationHandler != null) {
                hooks.deprecationHandler(null, msg);
            }
            if (firstTime) {
                var args = [];
                var arg;
                for (var i = 0; i < arguments.length; i++) {
                    arg = '';
                    if (typeof arguments[i] === 'object') {
                        arg += '\n[' + i + '] ';
                        for (var key in arguments[0]) {
                            arg += key + ': ' + arguments[0][key] + ', ';
                        }
                        arg = arg.slice(0, -2); // Remove trailing comma and space
                    } else {
                        arg = arguments[i];
                    }
                    args.push(arg);
                }
                warn(msg + '\nArguments: ' + Array.prototype.slice.call(args).join('') + '\n' + (new Error()).stack);
                firstTime = false;
            }
            return fn.apply(this, arguments);
        }, fn);
    }

    var deprecations = {};

    function deprecateSimple(name, msg) {
        if (hooks.deprecationHandler != null) {
            hooks.deprecationHandler(name, msg);
        }
        if (!deprecations[name]) {
            warn(msg);
            deprecations[name] = true;
        }
    }

    hooks.suppressDeprecationWarnings = false;
    hooks.deprecationHandler = null;

    function isFunction(input) {
        return input instanceof Function || Object.prototype.toString.call(input) === '[object Function]';
    }

    function set (config) {
        var prop, i;
        for (i in config) {
            prop = config[i];
            if (isFunction(prop)) {
                this[i] = prop;
            } else {
                this['_' + i] = prop;
            }
        }
        this._config = config;
        // Lenient ordinal parsing accepts just a number in addition to
        // number + (possibly) stuff coming from _dayOfMonthOrdinalParse.
        // TODO: Remove "ordinalParse" fallback in next major release.
        this._dayOfMonthOrdinalParseLenient = new RegExp(
            (this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) +
                '|' + (/\d{1,2}/).source);
    }

    function mergeConfigs(parentConfig, childConfig) {
        var res = extend({}, parentConfig), prop;
        for (prop in childConfig) {
            if (hasOwnProp(childConfig, prop)) {
                if (isObject(parentConfig[prop]) && isObject(childConfig[prop])) {
                    res[prop] = {};
                    extend(res[prop], parentConfig[prop]);
                    extend(res[prop], childConfig[prop]);
                } else if (childConfig[prop] != null) {
                    res[prop] = childConfig[prop];
                } else {
                    delete res[prop];
                }
            }
        }
        for (prop in parentConfig) {
            if (hasOwnProp(parentConfig, prop) &&
                    !hasOwnProp(childConfig, prop) &&
                    isObject(parentConfig[prop])) {
                // make sure changes to properties don't modify parent config
                res[prop] = extend({}, res[prop]);
            }
        }
        return res;
    }

    function Locale(config) {
        if (config != null) {
            this.set(config);
        }
    }

    var keys;

    if (Object.keys) {
        keys = Object.keys;
    } else {
        keys = function (obj) {
            var i, res = [];
            for (i in obj) {
                if (hasOwnProp(obj, i)) {
                    res.push(i);
                }
            }
            return res;
        };
    }

    var defaultCalendar = {
        sameDay : '[Today at] LT',
        nextDay : '[Tomorrow at] LT',
        nextWeek : 'dddd [at] LT',
        lastDay : '[Yesterday at] LT',
        lastWeek : '[Last] dddd [at] LT',
        sameElse : 'L'
    };

    function calendar (key, mom, now) {
        var output = this._calendar[key] || this._calendar['sameElse'];
        return isFunction(output) ? output.call(mom, now) : output;
    }

    var defaultLongDateFormat = {
        LTS  : 'h:mm:ss A',
        LT   : 'h:mm A',
        L    : 'MM/DD/YYYY',
        LL   : 'MMMM D, YYYY',
        LLL  : 'MMMM D, YYYY h:mm A',
        LLLL : 'dddd, MMMM D, YYYY h:mm A'
    };

    function longDateFormat (key) {
        var format = this._longDateFormat[key],
            formatUpper = this._longDateFormat[key.toUpperCase()];

        if (format || !formatUpper) {
            return format;
        }

        this._longDateFormat[key] = formatUpper.replace(/MMMM|MM|DD|dddd/g, function (val) {
            return val.slice(1);
        });

        return this._longDateFormat[key];
    }

    var defaultInvalidDate = 'Invalid date';

    function invalidDate () {
        return this._invalidDate;
    }

    var defaultOrdinal = '%d';
    var defaultDayOfMonthOrdinalParse = /\d{1,2}/;

    function ordinal (number) {
        return this._ordinal.replace('%d', number);
    }

    var defaultRelativeTime = {
        future : 'in %s',
        past   : '%s ago',
        s  : 'a few seconds',
        ss : '%d seconds',
        m  : 'a minute',
        mm : '%d minutes',
        h  : 'an hour',
        hh : '%d hours',
        d  : 'a day',
        dd : '%d days',
        M  : 'a month',
        MM : '%d months',
        y  : 'a year',
        yy : '%d years'
    };

    function relativeTime (number, withoutSuffix, string, isFuture) {
        var output = this._relativeTime[string];
        return (isFunction(output)) ?
            output(number, withoutSuffix, string, isFuture) :
            output.replace(/%d/i, number);
    }

    function pastFuture (diff, output) {
        var format = this._relativeTime[diff > 0 ? 'future' : 'past'];
        return isFunction(format) ? format(output) : format.replace(/%s/i, output);
    }

    var aliases = {};

    function addUnitAlias (unit, shorthand) {
        var lowerCase = unit.toLowerCase();
        aliases[lowerCase] = aliases[lowerCase + 's'] = aliases[shorthand] = unit;
    }

    function normalizeUnits(units) {
        return typeof units === 'string' ? aliases[units] || aliases[units.toLowerCase()] : undefined;
    }

    function normalizeObjectUnits(inputObject) {
        var normalizedInput = {},
            normalizedProp,
            prop;

        for (prop in inputObject) {
            if (hasOwnProp(inputObject, prop)) {
                normalizedProp = normalizeUnits(prop);
                if (normalizedProp) {
                    normalizedInput[normalizedProp] = inputObject[prop];
                }
            }
        }

        return normalizedInput;
    }

    var priorities = {};

    function addUnitPriority(unit, priority) {
        priorities[unit] = priority;
    }

    function getPrioritizedUnits(unitsObj) {
        var units = [];
        for (var u in unitsObj) {
            units.push({unit: u, priority: priorities[u]});
        }
        units.sort(function (a, b) {
            return a.priority - b.priority;
        });
        return units;
    }

    function zeroFill(number, targetLength, forceSign) {
        var absNumber = '' + Math.abs(number),
            zerosToFill = targetLength - absNumber.length,
            sign = number >= 0;
        return (sign ? (forceSign ? '+' : '') : '-') +
            Math.pow(10, Math.max(0, zerosToFill)).toString().substr(1) + absNumber;
    }

    var formattingTokens = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;

    var localFormattingTokens = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;

    var formatFunctions = {};

    var formatTokenFunctions = {};

    // token:    'M'
    // padded:   ['MM', 2]
    // ordinal:  'Mo'
    // callback: function () { this.month() + 1 }
    function addFormatToken (token, padded, ordinal, callback) {
        var func = callback;
        if (typeof callback === 'string') {
            func = function () {
                return this[callback]();
            };
        }
        if (token) {
            formatTokenFunctions[token] = func;
        }
        if (padded) {
            formatTokenFunctions[padded[0]] = function () {
                return zeroFill(func.apply(this, arguments), padded[1], padded[2]);
            };
        }
        if (ordinal) {
            formatTokenFunctions[ordinal] = function () {
                return this.localeData().ordinal(func.apply(this, arguments), token);
            };
        }
    }

    function removeFormattingTokens(input) {
        if (input.match(/\[[\s\S]/)) {
            return input.replace(/^\[|\]$/g, '');
        }
        return input.replace(/\\/g, '');
    }

    function makeFormatFunction(format) {
        var array = format.match(formattingTokens), i, length;

        for (i = 0, length = array.length; i < length; i++) {
            if (formatTokenFunctions[array[i]]) {
                array[i] = formatTokenFunctions[array[i]];
            } else {
                array[i] = removeFormattingTokens(array[i]);
            }
        }

        return function (mom) {
            var output = '', i;
            for (i = 0; i < length; i++) {
                output += isFunction(array[i]) ? array[i].call(mom, format) : array[i];
            }
            return output;
        };
    }

    // format date using native date object
    function formatMoment(m, format) {
        if (!m.isValid()) {
            return m.localeData().invalidDate();
        }

        format = expandFormat(format, m.localeData());
        formatFunctions[format] = formatFunctions[format] || makeFormatFunction(format);

        return formatFunctions[format](m);
    }

    function expandFormat(format, locale) {
        var i = 5;

        function replaceLongDateFormatTokens(input) {
            return locale.longDateFormat(input) || input;
        }

        localFormattingTokens.lastIndex = 0;
        while (i >= 0 && localFormattingTokens.test(format)) {
            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);
            localFormattingTokens.lastIndex = 0;
            i -= 1;
        }

        return format;
    }

    var match1         = /\d/;            //       0 - 9
    var match2         = /\d\d/;          //      00 - 99
    var match3         = /\d{3}/;         //     000 - 999
    var match4         = /\d{4}/;         //    0000 - 9999
    var match6         = /[+-]?\d{6}/;    // -999999 - 999999
    var match1to2      = /\d\d?/;         //       0 - 99
    var match3to4      = /\d\d\d\d?/;     //     999 - 9999
    var match5to6      = /\d\d\d\d\d\d?/; //   99999 - 999999
    var match1to3      = /\d{1,3}/;       //       0 - 999
    var match1to4      = /\d{1,4}/;       //       0 - 9999
    var match1to6      = /[+-]?\d{1,6}/;  // -999999 - 999999

    var matchUnsigned  = /\d+/;           //       0 - inf
    var matchSigned    = /[+-]?\d+/;      //    -inf - inf

    var matchOffset    = /Z|[+-]\d\d:?\d\d/gi; // +00:00 -00:00 +0000 -0000 or Z
    var matchShortOffset = /Z|[+-]\d\d(?::?\d\d)?/gi; // +00 -00 +00:00 -00:00 +0000 -0000 or Z

    var matchTimestamp = /[+-]?\d+(\.\d{1,3})?/; // 123456789 123456789.123

    // any word (or two) characters or numbers including two/three word month in arabic.
    // includes scottish gaelic two word and hyphenated months
    var matchWord = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;

    var regexes = {};

    function addRegexToken (token, regex, strictRegex) {
        regexes[token] = isFunction(regex) ? regex : function (isStrict, localeData) {
            return (isStrict && strictRegex) ? strictRegex : regex;
        };
    }

    function getParseRegexForToken (token, config) {
        if (!hasOwnProp(regexes, token)) {
            return new RegExp(unescapeFormat(token));
        }

        return regexes[token](config._strict, config._locale);
    }

    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript
    function unescapeFormat(s) {
        return regexEscape(s.replace('\\', '').replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (matched, p1, p2, p3, p4) {
            return p1 || p2 || p3 || p4;
        }));
    }

    function regexEscape(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    var tokens = {};

    function addParseToken (token, callback) {
        var i, func = callback;
        if (typeof token === 'string') {
            token = [token];
        }
        if (isNumber(callback)) {
            func = function (input, array) {
                array[callback] = toInt(input);
            };
        }
        for (i = 0; i < token.length; i++) {
            tokens[token[i]] = func;
        }
    }

    function addWeekParseToken (token, callback) {
        addParseToken(token, function (input, array, config, token) {
            config._w = config._w || {};
            callback(input, config._w, config, token);
        });
    }

    function addTimeToArrayFromToken(token, input, config) {
        if (input != null && hasOwnProp(tokens, token)) {
            tokens[token](input, config._a, config, token);
        }
    }

    var YEAR = 0;
    var MONTH = 1;
    var DATE = 2;
    var HOUR = 3;
    var MINUTE = 4;
    var SECOND = 5;
    var MILLISECOND = 6;
    var WEEK = 7;
    var WEEKDAY = 8;

    // FORMATTING

    addFormatToken('Y', 0, 0, function () {
        var y = this.year();
        return y <= 9999 ? '' + y : '+' + y;
    });

    addFormatToken(0, ['YY', 2], 0, function () {
        return this.year() % 100;
    });

    addFormatToken(0, ['YYYY',   4],       0, 'year');
    addFormatToken(0, ['YYYYY',  5],       0, 'year');
    addFormatToken(0, ['YYYYYY', 6, true], 0, 'year');

    // ALIASES

    addUnitAlias('year', 'y');

    // PRIORITIES

    addUnitPriority('year', 1);

    // PARSING

    addRegexToken('Y',      matchSigned);
    addRegexToken('YY',     match1to2, match2);
    addRegexToken('YYYY',   match1to4, match4);
    addRegexToken('YYYYY',  match1to6, match6);
    addRegexToken('YYYYYY', match1to6, match6);

    addParseToken(['YYYYY', 'YYYYYY'], YEAR);
    addParseToken('YYYY', function (input, array) {
        array[YEAR] = input.length === 2 ? hooks.parseTwoDigitYear(input) : toInt(input);
    });
    addParseToken('YY', function (input, array) {
        array[YEAR] = hooks.parseTwoDigitYear(input);
    });
    addParseToken('Y', function (input, array) {
        array[YEAR] = parseInt(input, 10);
    });

    // HELPERS

    function daysInYear(year) {
        return isLeapYear(year) ? 366 : 365;
    }

    function isLeapYear(year) {
        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;
    }

    // HOOKS

    hooks.parseTwoDigitYear = function (input) {
        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);
    };

    // MOMENTS

    var getSetYear = makeGetSet('FullYear', true);

    function getIsLeapYear () {
        return isLeapYear(this.year());
    }

    function makeGetSet (unit, keepTime) {
        return function (value) {
            if (value != null) {
                set$1(this, unit, value);
                hooks.updateOffset(this, keepTime);
                return this;
            } else {
                return get(this, unit);
            }
        };
    }

    function get (mom, unit) {
        return mom.isValid() ?
            mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]() : NaN;
    }

    function set$1 (mom, unit, value) {
        if (mom.isValid() && !isNaN(value)) {
            if (unit === 'FullYear' && isLeapYear(mom.year()) && mom.month() === 1 && mom.date() === 29) {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value, mom.month(), daysInMonth(value, mom.month()));
            }
            else {
                mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);
            }
        }
    }

    // MOMENTS

    function stringGet (units) {
        units = normalizeUnits(units);
        if (isFunction(this[units])) {
            return this[units]();
        }
        return this;
    }


    function stringSet (units, value) {
        if (typeof units === 'object') {
            units = normalizeObjectUnits(units);
            var prioritized = getPrioritizedUnits(units);
            for (var i = 0; i < prioritized.length; i++) {
                this[prioritized[i].unit](units[prioritized[i].unit]);
            }
        } else {
            units = normalizeUnits(units);
            if (isFunction(this[units])) {
                return this[units](value);
            }
        }
        return this;
    }

    function mod(n, x) {
        return ((n % x) + x) % x;
    }

    var indexOf;

    if (Array.prototype.indexOf) {
        indexOf = Array.prototype.indexOf;
    } else {
        indexOf = function (o) {
            // I know
            var i;
            for (i = 0; i < this.length; ++i) {
                if (this[i] === o) {
                    return i;
                }
            }
            return -1;
        };
    }

    function daysInMonth(year, month) {
        if (isNaN(year) || isNaN(month)) {
            return NaN;
        }
        var modMonth = mod(month, 12);
        year += (month - modMonth) / 12;
        return modMonth === 1 ? (isLeapYear(year) ? 29 : 28) : (31 - modMonth % 7 % 2);
    }

    // FORMATTING

    addFormatToken('M', ['MM', 2], 'Mo', function () {
        return this.month() + 1;
    });

    addFormatToken('MMM', 0, 0, function (format) {
        return this.localeData().monthsShort(this, format);
    });

    addFormatToken('MMMM', 0, 0, function (format) {
        return this.localeData().months(this, format);
    });

    // ALIASES

    addUnitAlias('month', 'M');

    // PRIORITY

    addUnitPriority('month', 8);

    // PARSING

    addRegexToken('M',    match1to2);
    addRegexToken('MM',   match1to2, match2);
    addRegexToken('MMM',  function (isStrict, locale) {
        return locale.monthsShortRegex(isStrict);
    });
    addRegexToken('MMMM', function (isStrict, locale) {
        return locale.monthsRegex(isStrict);
    });

    addParseToken(['M', 'MM'], function (input, array) {
        array[MONTH] = toInt(input) - 1;
    });

    addParseToken(['MMM', 'MMMM'], function (input, array, config, token) {
        var month = config._locale.monthsParse(input, token, config._strict);
        // if we didn't find a month name, mark the date as invalid.
        if (month != null) {
            array[MONTH] = month;
        } else {
            getParsingFlags(config).invalidMonth = input;
        }
    });

    // LOCALES

    var MONTHS_IN_FORMAT = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/;
    var defaultLocaleMonths = 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_');
    function localeMonths (m, format) {
        if (!m) {
            return isArray(this._months) ? this._months :
                this._months['standalone'];
        }
        return isArray(this._months) ? this._months[m.month()] :
            this._months[(this._months.isFormat || MONTHS_IN_FORMAT).test(format) ? 'format' : 'standalone'][m.month()];
    }

    var defaultLocaleMonthsShort = 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_');
    function localeMonthsShort (m, format) {
        if (!m) {
            return isArray(this._monthsShort) ? this._monthsShort :
                this._monthsShort['standalone'];
        }
        return isArray(this._monthsShort) ? this._monthsShort[m.month()] :
            this._monthsShort[MONTHS_IN_FORMAT.test(format) ? 'format' : 'standalone'][m.month()];
    }

    function handleStrictParse(monthName, format, strict) {
        var i, ii, mom, llc = monthName.toLocaleLowerCase();
        if (!this._monthsParse) {
            // this is not used
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
            for (i = 0; i < 12; ++i) {
                mom = createUTC([2000, i]);
                this._shortMonthsParse[i] = this.monthsShort(mom, '').toLocaleLowerCase();
                this._longMonthsParse[i] = this.months(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'MMM') {
                ii = indexOf.call(this._shortMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._longMonthsParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._longMonthsParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortMonthsParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeMonthsParse (monthName, format, strict) {
        var i, mom, regex;

        if (this._monthsParseExact) {
            return handleStrictParse.call(this, monthName, format, strict);
        }

        if (!this._monthsParse) {
            this._monthsParse = [];
            this._longMonthsParse = [];
            this._shortMonthsParse = [];
        }

        // TODO: add sorting
        // Sorting makes sure if one month (or abbr) is a prefix of another
        // see sorting in computeMonthsParse
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            if (strict && !this._longMonthsParse[i]) {
                this._longMonthsParse[i] = new RegExp('^' + this.months(mom, '').replace('.', '') + '$', 'i');
                this._shortMonthsParse[i] = new RegExp('^' + this.monthsShort(mom, '').replace('.', '') + '$', 'i');
            }
            if (!strict && !this._monthsParse[i]) {
                regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');
                this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'MMMM' && this._longMonthsParse[i].test(monthName)) {
                return i;
            } else if (strict && format === 'MMM' && this._shortMonthsParse[i].test(monthName)) {
                return i;
            } else if (!strict && this._monthsParse[i].test(monthName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function setMonth (mom, value) {
        var dayOfMonth;

        if (!mom.isValid()) {
            // No op
            return mom;
        }

        if (typeof value === 'string') {
            if (/^\d+$/.test(value)) {
                value = toInt(value);
            } else {
                value = mom.localeData().monthsParse(value);
                // TODO: Another silent failure?
                if (!isNumber(value)) {
                    return mom;
                }
            }
        }

        dayOfMonth = Math.min(mom.date(), daysInMonth(mom.year(), value));
        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);
        return mom;
    }

    function getSetMonth (value) {
        if (value != null) {
            setMonth(this, value);
            hooks.updateOffset(this, true);
            return this;
        } else {
            return get(this, 'Month');
        }
    }

    function getDaysInMonth () {
        return daysInMonth(this.year(), this.month());
    }

    var defaultMonthsShortRegex = matchWord;
    function monthsShortRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsShortStrictRegex;
            } else {
                return this._monthsShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsShortRegex')) {
                this._monthsShortRegex = defaultMonthsShortRegex;
            }
            return this._monthsShortStrictRegex && isStrict ?
                this._monthsShortStrictRegex : this._monthsShortRegex;
        }
    }

    var defaultMonthsRegex = matchWord;
    function monthsRegex (isStrict) {
        if (this._monthsParseExact) {
            if (!hasOwnProp(this, '_monthsRegex')) {
                computeMonthsParse.call(this);
            }
            if (isStrict) {
                return this._monthsStrictRegex;
            } else {
                return this._monthsRegex;
            }
        } else {
            if (!hasOwnProp(this, '_monthsRegex')) {
                this._monthsRegex = defaultMonthsRegex;
            }
            return this._monthsStrictRegex && isStrict ?
                this._monthsStrictRegex : this._monthsRegex;
        }
    }

    function computeMonthsParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom;
        for (i = 0; i < 12; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, i]);
            shortPieces.push(this.monthsShort(mom, ''));
            longPieces.push(this.months(mom, ''));
            mixedPieces.push(this.months(mom, ''));
            mixedPieces.push(this.monthsShort(mom, ''));
        }
        // Sorting makes sure if one month (or abbr) is a prefix of another it
        // will match the longer piece.
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 12; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
        }
        for (i = 0; i < 24; i++) {
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._monthsRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._monthsShortRegex = this._monthsRegex;
        this._monthsStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._monthsShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
    }

    function createDate (y, m, d, h, M, s, ms) {
        // can't just apply() to create a date:
        // https://stackoverflow.com/q/181348
        var date = new Date(y, m, d, h, M, s, ms);

        // the date constructor remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0 && isFinite(date.getFullYear())) {
            date.setFullYear(y);
        }
        return date;
    }

    function createUTCDate (y) {
        var date = new Date(Date.UTC.apply(null, arguments));

        // the Date.UTC function remaps years 0-99 to 1900-1999
        if (y < 100 && y >= 0 && isFinite(date.getUTCFullYear())) {
            date.setUTCFullYear(y);
        }
        return date;
    }

    // start-of-first-week - start-of-year
    function firstWeekOffset(year, dow, doy) {
        var // first-week day -- which january is always in the first week (4 for iso, 1 for other)
            fwd = 7 + dow - doy,
            // first-week day local weekday -- which local weekday is fwd
            fwdlw = (7 + createUTCDate(year, 0, fwd).getUTCDay() - dow) % 7;

        return -fwdlw + fwd - 1;
    }

    // https://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday
    function dayOfYearFromWeeks(year, week, weekday, dow, doy) {
        var localWeekday = (7 + weekday - dow) % 7,
            weekOffset = firstWeekOffset(year, dow, doy),
            dayOfYear = 1 + 7 * (week - 1) + localWeekday + weekOffset,
            resYear, resDayOfYear;

        if (dayOfYear <= 0) {
            resYear = year - 1;
            resDayOfYear = daysInYear(resYear) + dayOfYear;
        } else if (dayOfYear > daysInYear(year)) {
            resYear = year + 1;
            resDayOfYear = dayOfYear - daysInYear(year);
        } else {
            resYear = year;
            resDayOfYear = dayOfYear;
        }

        return {
            year: resYear,
            dayOfYear: resDayOfYear
        };
    }

    function weekOfYear(mom, dow, doy) {
        var weekOffset = firstWeekOffset(mom.year(), dow, doy),
            week = Math.floor((mom.dayOfYear() - weekOffset - 1) / 7) + 1,
            resWeek, resYear;

        if (week < 1) {
            resYear = mom.year() - 1;
            resWeek = week + weeksInYear(resYear, dow, doy);
        } else if (week > weeksInYear(mom.year(), dow, doy)) {
            resWeek = week - weeksInYear(mom.year(), dow, doy);
            resYear = mom.year() + 1;
        } else {
            resYear = mom.year();
            resWeek = week;
        }

        return {
            week: resWeek,
            year: resYear
        };
    }

    function weeksInYear(year, dow, doy) {
        var weekOffset = firstWeekOffset(year, dow, doy),
            weekOffsetNext = firstWeekOffset(year + 1, dow, doy);
        return (daysInYear(year) - weekOffset + weekOffsetNext) / 7;
    }

    // FORMATTING

    addFormatToken('w', ['ww', 2], 'wo', 'week');
    addFormatToken('W', ['WW', 2], 'Wo', 'isoWeek');

    // ALIASES

    addUnitAlias('week', 'w');
    addUnitAlias('isoWeek', 'W');

    // PRIORITIES

    addUnitPriority('week', 5);
    addUnitPriority('isoWeek', 5);

    // PARSING

    addRegexToken('w',  match1to2);
    addRegexToken('ww', match1to2, match2);
    addRegexToken('W',  match1to2);
    addRegexToken('WW', match1to2, match2);

    addWeekParseToken(['w', 'ww', 'W', 'WW'], function (input, week, config, token) {
        week[token.substr(0, 1)] = toInt(input);
    });

    // HELPERS

    // LOCALES

    function localeWeek (mom) {
        return weekOfYear(mom, this._week.dow, this._week.doy).week;
    }

    var defaultLocaleWeek = {
        dow : 0, // Sunday is the first day of the week.
        doy : 6  // The week that contains Jan 1st is the first week of the year.
    };

    function localeFirstDayOfWeek () {
        return this._week.dow;
    }

    function localeFirstDayOfYear () {
        return this._week.doy;
    }

    // MOMENTS

    function getSetWeek (input) {
        var week = this.localeData().week(this);
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    function getSetISOWeek (input) {
        var week = weekOfYear(this, 1, 4).week;
        return input == null ? week : this.add((input - week) * 7, 'd');
    }

    // FORMATTING

    addFormatToken('d', 0, 'do', 'day');

    addFormatToken('dd', 0, 0, function (format) {
        return this.localeData().weekdaysMin(this, format);
    });

    addFormatToken('ddd', 0, 0, function (format) {
        return this.localeData().weekdaysShort(this, format);
    });

    addFormatToken('dddd', 0, 0, function (format) {
        return this.localeData().weekdays(this, format);
    });

    addFormatToken('e', 0, 0, 'weekday');
    addFormatToken('E', 0, 0, 'isoWeekday');

    // ALIASES

    addUnitAlias('day', 'd');
    addUnitAlias('weekday', 'e');
    addUnitAlias('isoWeekday', 'E');

    // PRIORITY
    addUnitPriority('day', 11);
    addUnitPriority('weekday', 11);
    addUnitPriority('isoWeekday', 11);

    // PARSING

    addRegexToken('d',    match1to2);
    addRegexToken('e',    match1to2);
    addRegexToken('E',    match1to2);
    addRegexToken('dd',   function (isStrict, locale) {
        return locale.weekdaysMinRegex(isStrict);
    });
    addRegexToken('ddd',   function (isStrict, locale) {
        return locale.weekdaysShortRegex(isStrict);
    });
    addRegexToken('dddd',   function (isStrict, locale) {
        return locale.weekdaysRegex(isStrict);
    });

    addWeekParseToken(['dd', 'ddd', 'dddd'], function (input, week, config, token) {
        var weekday = config._locale.weekdaysParse(input, token, config._strict);
        // if we didn't get a weekday name, mark the date as invalid
        if (weekday != null) {
            week.d = weekday;
        } else {
            getParsingFlags(config).invalidWeekday = input;
        }
    });

    addWeekParseToken(['d', 'e', 'E'], function (input, week, config, token) {
        week[token] = toInt(input);
    });

    // HELPERS

    function parseWeekday(input, locale) {
        if (typeof input !== 'string') {
            return input;
        }

        if (!isNaN(input)) {
            return parseInt(input, 10);
        }

        input = locale.weekdaysParse(input);
        if (typeof input === 'number') {
            return input;
        }

        return null;
    }

    function parseIsoWeekday(input, locale) {
        if (typeof input === 'string') {
            return locale.weekdaysParse(input) % 7 || 7;
        }
        return isNaN(input) ? null : input;
    }

    // LOCALES

    var defaultLocaleWeekdays = 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_');
    function localeWeekdays (m, format) {
        if (!m) {
            return isArray(this._weekdays) ? this._weekdays :
                this._weekdays['standalone'];
        }
        return isArray(this._weekdays) ? this._weekdays[m.day()] :
            this._weekdays[this._weekdays.isFormat.test(format) ? 'format' : 'standalone'][m.day()];
    }

    var defaultLocaleWeekdaysShort = 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_');
    function localeWeekdaysShort (m) {
        return (m) ? this._weekdaysShort[m.day()] : this._weekdaysShort;
    }

    var defaultLocaleWeekdaysMin = 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_');
    function localeWeekdaysMin (m) {
        return (m) ? this._weekdaysMin[m.day()] : this._weekdaysMin;
    }

    function handleStrictParse$1(weekdayName, format, strict) {
        var i, ii, mom, llc = weekdayName.toLocaleLowerCase();
        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._minWeekdaysParse = [];

            for (i = 0; i < 7; ++i) {
                mom = createUTC([2000, 1]).day(i);
                this._minWeekdaysParse[i] = this.weekdaysMin(mom, '').toLocaleLowerCase();
                this._shortWeekdaysParse[i] = this.weekdaysShort(mom, '').toLocaleLowerCase();
                this._weekdaysParse[i] = this.weekdays(mom, '').toLocaleLowerCase();
            }
        }

        if (strict) {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        } else {
            if (format === 'dddd') {
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else if (format === 'ddd') {
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._minWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            } else {
                ii = indexOf.call(this._minWeekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._weekdaysParse, llc);
                if (ii !== -1) {
                    return ii;
                }
                ii = indexOf.call(this._shortWeekdaysParse, llc);
                return ii !== -1 ? ii : null;
            }
        }
    }

    function localeWeekdaysParse (weekdayName, format, strict) {
        var i, mom, regex;

        if (this._weekdaysParseExact) {
            return handleStrictParse$1.call(this, weekdayName, format, strict);
        }

        if (!this._weekdaysParse) {
            this._weekdaysParse = [];
            this._minWeekdaysParse = [];
            this._shortWeekdaysParse = [];
            this._fullWeekdaysParse = [];
        }

        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already

            mom = createUTC([2000, 1]).day(i);
            if (strict && !this._fullWeekdaysParse[i]) {
                this._fullWeekdaysParse[i] = new RegExp('^' + this.weekdays(mom, '').replace('.', '\\.?') + '$', 'i');
                this._shortWeekdaysParse[i] = new RegExp('^' + this.weekdaysShort(mom, '').replace('.', '\\.?') + '$', 'i');
                this._minWeekdaysParse[i] = new RegExp('^' + this.weekdaysMin(mom, '').replace('.', '\\.?') + '$', 'i');
            }
            if (!this._weekdaysParse[i]) {
                regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');
                this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');
            }
            // test the regex
            if (strict && format === 'dddd' && this._fullWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'ddd' && this._shortWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (strict && format === 'dd' && this._minWeekdaysParse[i].test(weekdayName)) {
                return i;
            } else if (!strict && this._weekdaysParse[i].test(weekdayName)) {
                return i;
            }
        }
    }

    // MOMENTS

    function getSetDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        if (input != null) {
            input = parseWeekday(input, this.localeData());
            return this.add(input - day, 'd');
        } else {
            return day;
        }
    }

    function getSetLocaleDayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return input == null ? weekday : this.add(input - weekday, 'd');
    }

    function getSetISODayOfWeek (input) {
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }

        // behaves the same as moment#day except
        // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)
        // as a setter, sunday should belong to the previous week.

        if (input != null) {
            var weekday = parseIsoWeekday(input, this.localeData());
            return this.day(this.day() % 7 ? weekday : weekday - 7);
        } else {
            return this.day() || 7;
        }
    }

    var defaultWeekdaysRegex = matchWord;
    function weekdaysRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysStrictRegex;
            } else {
                return this._weekdaysRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                this._weekdaysRegex = defaultWeekdaysRegex;
            }
            return this._weekdaysStrictRegex && isStrict ?
                this._weekdaysStrictRegex : this._weekdaysRegex;
        }
    }

    var defaultWeekdaysShortRegex = matchWord;
    function weekdaysShortRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysShortStrictRegex;
            } else {
                return this._weekdaysShortRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysShortRegex')) {
                this._weekdaysShortRegex = defaultWeekdaysShortRegex;
            }
            return this._weekdaysShortStrictRegex && isStrict ?
                this._weekdaysShortStrictRegex : this._weekdaysShortRegex;
        }
    }

    var defaultWeekdaysMinRegex = matchWord;
    function weekdaysMinRegex (isStrict) {
        if (this._weekdaysParseExact) {
            if (!hasOwnProp(this, '_weekdaysRegex')) {
                computeWeekdaysParse.call(this);
            }
            if (isStrict) {
                return this._weekdaysMinStrictRegex;
            } else {
                return this._weekdaysMinRegex;
            }
        } else {
            if (!hasOwnProp(this, '_weekdaysMinRegex')) {
                this._weekdaysMinRegex = defaultWeekdaysMinRegex;
            }
            return this._weekdaysMinStrictRegex && isStrict ?
                this._weekdaysMinStrictRegex : this._weekdaysMinRegex;
        }
    }


    function computeWeekdaysParse () {
        function cmpLenRev(a, b) {
            return b.length - a.length;
        }

        var minPieces = [], shortPieces = [], longPieces = [], mixedPieces = [],
            i, mom, minp, shortp, longp;
        for (i = 0; i < 7; i++) {
            // make the regex if we don't have it already
            mom = createUTC([2000, 1]).day(i);
            minp = this.weekdaysMin(mom, '');
            shortp = this.weekdaysShort(mom, '');
            longp = this.weekdays(mom, '');
            minPieces.push(minp);
            shortPieces.push(shortp);
            longPieces.push(longp);
            mixedPieces.push(minp);
            mixedPieces.push(shortp);
            mixedPieces.push(longp);
        }
        // Sorting makes sure if one weekday (or abbr) is a prefix of another it
        // will match the longer piece.
        minPieces.sort(cmpLenRev);
        shortPieces.sort(cmpLenRev);
        longPieces.sort(cmpLenRev);
        mixedPieces.sort(cmpLenRev);
        for (i = 0; i < 7; i++) {
            shortPieces[i] = regexEscape(shortPieces[i]);
            longPieces[i] = regexEscape(longPieces[i]);
            mixedPieces[i] = regexEscape(mixedPieces[i]);
        }

        this._weekdaysRegex = new RegExp('^(' + mixedPieces.join('|') + ')', 'i');
        this._weekdaysShortRegex = this._weekdaysRegex;
        this._weekdaysMinRegex = this._weekdaysRegex;

        this._weekdaysStrictRegex = new RegExp('^(' + longPieces.join('|') + ')', 'i');
        this._weekdaysShortStrictRegex = new RegExp('^(' + shortPieces.join('|') + ')', 'i');
        this._weekdaysMinStrictRegex = new RegExp('^(' + minPieces.join('|') + ')', 'i');
    }

    // FORMATTING

    function hFormat() {
        return this.hours() % 12 || 12;
    }

    function kFormat() {
        return this.hours() || 24;
    }

    addFormatToken('H', ['HH', 2], 0, 'hour');
    addFormatToken('h', ['hh', 2], 0, hFormat);
    addFormatToken('k', ['kk', 2], 0, kFormat);

    addFormatToken('hmm', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2);
    });

    addFormatToken('hmmss', 0, 0, function () {
        return '' + hFormat.apply(this) + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    addFormatToken('Hmm', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2);
    });

    addFormatToken('Hmmss', 0, 0, function () {
        return '' + this.hours() + zeroFill(this.minutes(), 2) +
            zeroFill(this.seconds(), 2);
    });

    function meridiem (token, lowercase) {
        addFormatToken(token, 0, 0, function () {
            return this.localeData().meridiem(this.hours(), this.minutes(), lowercase);
        });
    }

    meridiem('a', true);
    meridiem('A', false);

    // ALIASES

    addUnitAlias('hour', 'h');

    // PRIORITY
    addUnitPriority('hour', 13);

    // PARSING

    function matchMeridiem (isStrict, locale) {
        return locale._meridiemParse;
    }

    addRegexToken('a',  matchMeridiem);
    addRegexToken('A',  matchMeridiem);
    addRegexToken('H',  match1to2);
    addRegexToken('h',  match1to2);
    addRegexToken('k',  match1to2);
    addRegexToken('HH', match1to2, match2);
    addRegexToken('hh', match1to2, match2);
    addRegexToken('kk', match1to2, match2);

    addRegexToken('hmm', match3to4);
    addRegexToken('hmmss', match5to6);
    addRegexToken('Hmm', match3to4);
    addRegexToken('Hmmss', match5to6);

    addParseToken(['H', 'HH'], HOUR);
    addParseToken(['k', 'kk'], function (input, array, config) {
        var kInput = toInt(input);
        array[HOUR] = kInput === 24 ? 0 : kInput;
    });
    addParseToken(['a', 'A'], function (input, array, config) {
        config._isPm = config._locale.isPM(input);
        config._meridiem = input;
    });
    addParseToken(['h', 'hh'], function (input, array, config) {
        array[HOUR] = toInt(input);
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
        getParsingFlags(config).bigHour = true;
    });
    addParseToken('Hmm', function (input, array, config) {
        var pos = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos));
        array[MINUTE] = toInt(input.substr(pos));
    });
    addParseToken('Hmmss', function (input, array, config) {
        var pos1 = input.length - 4;
        var pos2 = input.length - 2;
        array[HOUR] = toInt(input.substr(0, pos1));
        array[MINUTE] = toInt(input.substr(pos1, 2));
        array[SECOND] = toInt(input.substr(pos2));
    });

    // LOCALES

    function localeIsPM (input) {
        // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays
        // Using charAt should be more compatible.
        return ((input + '').toLowerCase().charAt(0) === 'p');
    }

    var defaultLocaleMeridiemParse = /[ap]\.?m?\.?/i;
    function localeMeridiem (hours, minutes, isLower) {
        if (hours > 11) {
            return isLower ? 'pm' : 'PM';
        } else {
            return isLower ? 'am' : 'AM';
        }
    }


    // MOMENTS

    // Setting the hour should keep the time, because the user explicitly
    // specified which hour they want. So trying to maintain the same hour (in
    // a new timezone) makes sense. Adding/subtracting hours does not follow
    // this rule.
    var getSetHour = makeGetSet('Hours', true);

    var baseConfig = {
        calendar: defaultCalendar,
        longDateFormat: defaultLongDateFormat,
        invalidDate: defaultInvalidDate,
        ordinal: defaultOrdinal,
        dayOfMonthOrdinalParse: defaultDayOfMonthOrdinalParse,
        relativeTime: defaultRelativeTime,

        months: defaultLocaleMonths,
        monthsShort: defaultLocaleMonthsShort,

        week: defaultLocaleWeek,

        weekdays: defaultLocaleWeekdays,
        weekdaysMin: defaultLocaleWeekdaysMin,
        weekdaysShort: defaultLocaleWeekdaysShort,

        meridiemParse: defaultLocaleMeridiemParse
    };

    // internal storage for locale config files
    var locales = {};
    var localeFamilies = {};
    var globalLocale;

    function normalizeLocale(key) {
        return key ? key.toLowerCase().replace('_', '-') : key;
    }

    // pick the locale from the array
    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each
    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root
    function chooseLocale(names) {
        var i = 0, j, next, locale, split;

        while (i < names.length) {
            split = normalizeLocale(names[i]).split('-');
            j = split.length;
            next = normalizeLocale(names[i + 1]);
            next = next ? next.split('-') : null;
            while (j > 0) {
                locale = loadLocale(split.slice(0, j).join('-'));
                if (locale) {
                    return locale;
                }
                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {
                    //the next array item is better than a shallower substring of this one
                    break;
                }
                j--;
            }
            i++;
        }
        return globalLocale;
    }

    function loadLocale(name) {
        var oldLocale = null;
        // TODO: Find a better way to register and load all the locales in Node
        if (!locales[name] && (typeof module !== 'undefined') &&
                module && module.exports) {
            try {
                oldLocale = globalLocale._abbr;
                var aliasedRequire = require;
                __webpack_require__("./node_modules/moment/locale sync recursive ^\\.\\/.*$")("./" + name);
                getSetGlobalLocale(oldLocale);
            } catch (e) {}
        }
        return locales[name];
    }

    // This function will load locale and then set the global locale.  If
    // no arguments are passed in, it will simply return the current global
    // locale key.
    function getSetGlobalLocale (key, values) {
        var data;
        if (key) {
            if (isUndefined(values)) {
                data = getLocale(key);
            }
            else {
                data = defineLocale(key, values);
            }

            if (data) {
                // moment.duration._locale = moment._locale = data;
                globalLocale = data;
            }
            else {
                if ((typeof console !==  'undefined') && console.warn) {
                    //warn user if arguments are passed but the locale could not be set
                    console.warn('Locale ' + key +  ' not found. Did you forget to load it?');
                }
            }
        }

        return globalLocale._abbr;
    }

    function defineLocale (name, config) {
        if (config !== null) {
            var locale, parentConfig = baseConfig;
            config.abbr = name;
            if (locales[name] != null) {
                deprecateSimple('defineLocaleOverride',
                        'use moment.updateLocale(localeName, config) to change ' +
                        'an existing locale. moment.defineLocale(localeName, ' +
                        'config) should only be used for creating a new locale ' +
                        'See http://momentjs.com/guides/#/warnings/define-locale/ for more info.');
                parentConfig = locales[name]._config;
            } else if (config.parentLocale != null) {
                if (locales[config.parentLocale] != null) {
                    parentConfig = locales[config.parentLocale]._config;
                } else {
                    locale = loadLocale(config.parentLocale);
                    if (locale != null) {
                        parentConfig = locale._config;
                    } else {
                        if (!localeFamilies[config.parentLocale]) {
                            localeFamilies[config.parentLocale] = [];
                        }
                        localeFamilies[config.parentLocale].push({
                            name: name,
                            config: config
                        });
                        return null;
                    }
                }
            }
            locales[name] = new Locale(mergeConfigs(parentConfig, config));

            if (localeFamilies[name]) {
                localeFamilies[name].forEach(function (x) {
                    defineLocale(x.name, x.config);
                });
            }

            // backwards compat for now: also set the locale
            // make sure we set the locale AFTER all child locales have been
            // created, so we won't end up with the child locale set.
            getSetGlobalLocale(name);


            return locales[name];
        } else {
            // useful for testing
            delete locales[name];
            return null;
        }
    }

    function updateLocale(name, config) {
        if (config != null) {
            var locale, tmpLocale, parentConfig = baseConfig;
            // MERGE
            tmpLocale = loadLocale(name);
            if (tmpLocale != null) {
                parentConfig = tmpLocale._config;
            }
            config = mergeConfigs(parentConfig, config);
            locale = new Locale(config);
            locale.parentLocale = locales[name];
            locales[name] = locale;

            // backwards compat for now: also set the locale
            getSetGlobalLocale(name);
        } else {
            // pass null for config to unupdate, useful for tests
            if (locales[name] != null) {
                if (locales[name].parentLocale != null) {
                    locales[name] = locales[name].parentLocale;
                } else if (locales[name] != null) {
                    delete locales[name];
                }
            }
        }
        return locales[name];
    }

    // returns locale data
    function getLocale (key) {
        var locale;

        if (key && key._locale && key._locale._abbr) {
            key = key._locale._abbr;
        }

        if (!key) {
            return globalLocale;
        }

        if (!isArray(key)) {
            //short-circuit everything else
            locale = loadLocale(key);
            if (locale) {
                return locale;
            }
            key = [key];
        }

        return chooseLocale(key);
    }

    function listLocales() {
        return keys(locales);
    }

    function checkOverflow (m) {
        var overflow;
        var a = m._a;

        if (a && getParsingFlags(m).overflow === -2) {
            overflow =
                a[MONTH]       < 0 || a[MONTH]       > 11  ? MONTH :
                a[DATE]        < 1 || a[DATE]        > daysInMonth(a[YEAR], a[MONTH]) ? DATE :
                a[HOUR]        < 0 || a[HOUR]        > 24 || (a[HOUR] === 24 && (a[MINUTE] !== 0 || a[SECOND] !== 0 || a[MILLISECOND] !== 0)) ? HOUR :
                a[MINUTE]      < 0 || a[MINUTE]      > 59  ? MINUTE :
                a[SECOND]      < 0 || a[SECOND]      > 59  ? SECOND :
                a[MILLISECOND] < 0 || a[MILLISECOND] > 999 ? MILLISECOND :
                -1;

            if (getParsingFlags(m)._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {
                overflow = DATE;
            }
            if (getParsingFlags(m)._overflowWeeks && overflow === -1) {
                overflow = WEEK;
            }
            if (getParsingFlags(m)._overflowWeekday && overflow === -1) {
                overflow = WEEKDAY;
            }

            getParsingFlags(m).overflow = overflow;
        }

        return m;
    }

    // Pick the first defined of two or three arguments.
    function defaults(a, b, c) {
        if (a != null) {
            return a;
        }
        if (b != null) {
            return b;
        }
        return c;
    }

    function currentDateArray(config) {
        // hooks is actually the exported moment object
        var nowValue = new Date(hooks.now());
        if (config._useUTC) {
            return [nowValue.getUTCFullYear(), nowValue.getUTCMonth(), nowValue.getUTCDate()];
        }
        return [nowValue.getFullYear(), nowValue.getMonth(), nowValue.getDate()];
    }

    // convert an array to a date.
    // the array should mirror the parameters below
    // note: all values past the year are optional and will default to the lowest possible value.
    // [year, month, day , hour, minute, second, millisecond]
    function configFromArray (config) {
        var i, date, input = [], currentDate, expectedWeekday, yearToUse;

        if (config._d) {
            return;
        }

        currentDate = currentDateArray(config);

        //compute day of the year from weeks and weekdays
        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {
            dayOfYearFromWeekInfo(config);
        }

        //if the day of the year is set, figure out what it is
        if (config._dayOfYear != null) {
            yearToUse = defaults(config._a[YEAR], currentDate[YEAR]);

            if (config._dayOfYear > daysInYear(yearToUse) || config._dayOfYear === 0) {
                getParsingFlags(config)._overflowDayOfYear = true;
            }

            date = createUTCDate(yearToUse, 0, config._dayOfYear);
            config._a[MONTH] = date.getUTCMonth();
            config._a[DATE] = date.getUTCDate();
        }

        // Default to current date.
        // * if no year, month, day of month are given, default to today
        // * if day of month is given, default month and year
        // * if month is given, default only year
        // * if year is given, don't default anything
        for (i = 0; i < 3 && config._a[i] == null; ++i) {
            config._a[i] = input[i] = currentDate[i];
        }

        // Zero out whatever was not defaulted, including time
        for (; i < 7; i++) {
            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];
        }

        // Check for 24:00:00.000
        if (config._a[HOUR] === 24 &&
                config._a[MINUTE] === 0 &&
                config._a[SECOND] === 0 &&
                config._a[MILLISECOND] === 0) {
            config._nextDay = true;
            config._a[HOUR] = 0;
        }

        config._d = (config._useUTC ? createUTCDate : createDate).apply(null, input);
        expectedWeekday = config._useUTC ? config._d.getUTCDay() : config._d.getDay();

        // Apply timezone offset from input. The actual utcOffset can be changed
        // with parseZone.
        if (config._tzm != null) {
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);
        }

        if (config._nextDay) {
            config._a[HOUR] = 24;
        }

        // check for mismatching day of week
        if (config._w && typeof config._w.d !== 'undefined' && config._w.d !== expectedWeekday) {
            getParsingFlags(config).weekdayMismatch = true;
        }
    }

    function dayOfYearFromWeekInfo(config) {
        var w, weekYear, week, weekday, dow, doy, temp, weekdayOverflow;

        w = config._w;
        if (w.GG != null || w.W != null || w.E != null) {
            dow = 1;
            doy = 4;

            // TODO: We need to take the current isoWeekYear, but that depends on
            // how we interpret now (local, utc, fixed offset). So create
            // a now version of current config (take local/utc/offset flags, and
            // create now).
            weekYear = defaults(w.GG, config._a[YEAR], weekOfYear(createLocal(), 1, 4).year);
            week = defaults(w.W, 1);
            weekday = defaults(w.E, 1);
            if (weekday < 1 || weekday > 7) {
                weekdayOverflow = true;
            }
        } else {
            dow = config._locale._week.dow;
            doy = config._locale._week.doy;

            var curWeek = weekOfYear(createLocal(), dow, doy);

            weekYear = defaults(w.gg, config._a[YEAR], curWeek.year);

            // Default to current week.
            week = defaults(w.w, curWeek.week);

            if (w.d != null) {
                // weekday -- low day numbers are considered next week
                weekday = w.d;
                if (weekday < 0 || weekday > 6) {
                    weekdayOverflow = true;
                }
            } else if (w.e != null) {
                // local weekday -- counting starts from begining of week
                weekday = w.e + dow;
                if (w.e < 0 || w.e > 6) {
                    weekdayOverflow = true;
                }
            } else {
                // default to begining of week
                weekday = dow;
            }
        }
        if (week < 1 || week > weeksInYear(weekYear, dow, doy)) {
            getParsingFlags(config)._overflowWeeks = true;
        } else if (weekdayOverflow != null) {
            getParsingFlags(config)._overflowWeekday = true;
        } else {
            temp = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy);
            config._a[YEAR] = temp.year;
            config._dayOfYear = temp.dayOfYear;
        }
    }

    // iso 8601 regex
    // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)
    var extendedIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;
    var basicIsoRegex = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;

    var tzRegex = /Z|[+-]\d\d(?::?\d\d)?/;

    var isoDates = [
        ['YYYYYY-MM-DD', /[+-]\d{6}-\d\d-\d\d/],
        ['YYYY-MM-DD', /\d{4}-\d\d-\d\d/],
        ['GGGG-[W]WW-E', /\d{4}-W\d\d-\d/],
        ['GGGG-[W]WW', /\d{4}-W\d\d/, false],
        ['YYYY-DDD', /\d{4}-\d{3}/],
        ['YYYY-MM', /\d{4}-\d\d/, false],
        ['YYYYYYMMDD', /[+-]\d{10}/],
        ['YYYYMMDD', /\d{8}/],
        // YYYYMM is NOT allowed by the standard
        ['GGGG[W]WWE', /\d{4}W\d{3}/],
        ['GGGG[W]WW', /\d{4}W\d{2}/, false],
        ['YYYYDDD', /\d{7}/]
    ];

    // iso time formats and regexes
    var isoTimes = [
        ['HH:mm:ss.SSSS', /\d\d:\d\d:\d\d\.\d+/],
        ['HH:mm:ss,SSSS', /\d\d:\d\d:\d\d,\d+/],
        ['HH:mm:ss', /\d\d:\d\d:\d\d/],
        ['HH:mm', /\d\d:\d\d/],
        ['HHmmss.SSSS', /\d\d\d\d\d\d\.\d+/],
        ['HHmmss,SSSS', /\d\d\d\d\d\d,\d+/],
        ['HHmmss', /\d\d\d\d\d\d/],
        ['HHmm', /\d\d\d\d/],
        ['HH', /\d\d/]
    ];

    var aspNetJsonRegex = /^\/?Date\((\-?\d+)/i;

    // date from iso format
    function configFromISO(config) {
        var i, l,
            string = config._i,
            match = extendedIsoRegex.exec(string) || basicIsoRegex.exec(string),
            allowTime, dateFormat, timeFormat, tzFormat;

        if (match) {
            getParsingFlags(config).iso = true;

            for (i = 0, l = isoDates.length; i < l; i++) {
                if (isoDates[i][1].exec(match[1])) {
                    dateFormat = isoDates[i][0];
                    allowTime = isoDates[i][2] !== false;
                    break;
                }
            }
            if (dateFormat == null) {
                config._isValid = false;
                return;
            }
            if (match[3]) {
                for (i = 0, l = isoTimes.length; i < l; i++) {
                    if (isoTimes[i][1].exec(match[3])) {
                        // match[2] should be 'T' or space
                        timeFormat = (match[2] || ' ') + isoTimes[i][0];
                        break;
                    }
                }
                if (timeFormat == null) {
                    config._isValid = false;
                    return;
                }
            }
            if (!allowTime && timeFormat != null) {
                config._isValid = false;
                return;
            }
            if (match[4]) {
                if (tzRegex.exec(match[4])) {
                    tzFormat = 'Z';
                } else {
                    config._isValid = false;
                    return;
                }
            }
            config._f = dateFormat + (timeFormat || '') + (tzFormat || '');
            configFromStringAndFormat(config);
        } else {
            config._isValid = false;
        }
    }

    // RFC 2822 regex: For details see https://tools.ietf.org/html/rfc2822#section-3.3
    var rfc2822 = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;

    function extractFromRFC2822Strings(yearStr, monthStr, dayStr, hourStr, minuteStr, secondStr) {
        var result = [
            untruncateYear(yearStr),
            defaultLocaleMonthsShort.indexOf(monthStr),
            parseInt(dayStr, 10),
            parseInt(hourStr, 10),
            parseInt(minuteStr, 10)
        ];

        if (secondStr) {
            result.push(parseInt(secondStr, 10));
        }

        return result;
    }

    function untruncateYear(yearStr) {
        var year = parseInt(yearStr, 10);
        if (year <= 49) {
            return 2000 + year;
        } else if (year <= 999) {
            return 1900 + year;
        }
        return year;
    }

    function preprocessRFC2822(s) {
        // Remove comments and folding whitespace and replace multiple-spaces with a single space
        return s.replace(/\([^)]*\)|[\n\t]/g, ' ').replace(/(\s\s+)/g, ' ').replace(/^\s\s*/, '').replace(/\s\s*$/, '');
    }

    function checkWeekday(weekdayStr, parsedInput, config) {
        if (weekdayStr) {
            // TODO: Replace the vanilla JS Date object with an indepentent day-of-week check.
            var weekdayProvided = defaultLocaleWeekdaysShort.indexOf(weekdayStr),
                weekdayActual = new Date(parsedInput[0], parsedInput[1], parsedInput[2]).getDay();
            if (weekdayProvided !== weekdayActual) {
                getParsingFlags(config).weekdayMismatch = true;
                config._isValid = false;
                return false;
            }
        }
        return true;
    }

    var obsOffsets = {
        UT: 0,
        GMT: 0,
        EDT: -4 * 60,
        EST: -5 * 60,
        CDT: -5 * 60,
        CST: -6 * 60,
        MDT: -6 * 60,
        MST: -7 * 60,
        PDT: -7 * 60,
        PST: -8 * 60
    };

    function calculateOffset(obsOffset, militaryOffset, numOffset) {
        if (obsOffset) {
            return obsOffsets[obsOffset];
        } else if (militaryOffset) {
            // the only allowed military tz is Z
            return 0;
        } else {
            var hm = parseInt(numOffset, 10);
            var m = hm % 100, h = (hm - m) / 100;
            return h * 60 + m;
        }
    }

    // date and time from ref 2822 format
    function configFromRFC2822(config) {
        var match = rfc2822.exec(preprocessRFC2822(config._i));
        if (match) {
            var parsedArray = extractFromRFC2822Strings(match[4], match[3], match[2], match[5], match[6], match[7]);
            if (!checkWeekday(match[1], parsedArray, config)) {
                return;
            }

            config._a = parsedArray;
            config._tzm = calculateOffset(match[8], match[9], match[10]);

            config._d = createUTCDate.apply(null, config._a);
            config._d.setUTCMinutes(config._d.getUTCMinutes() - config._tzm);

            getParsingFlags(config).rfc2822 = true;
        } else {
            config._isValid = false;
        }
    }

    // date from iso format or fallback
    function configFromString(config) {
        var matched = aspNetJsonRegex.exec(config._i);

        if (matched !== null) {
            config._d = new Date(+matched[1]);
            return;
        }

        configFromISO(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        configFromRFC2822(config);
        if (config._isValid === false) {
            delete config._isValid;
        } else {
            return;
        }

        // Final attempt, use Input Fallback
        hooks.createFromInputFallback(config);
    }

    hooks.createFromInputFallback = deprecate(
        'value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), ' +
        'which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are ' +
        'discouraged and will be removed in an upcoming major release. Please refer to ' +
        'http://momentjs.com/guides/#/warnings/js-date/ for more info.',
        function (config) {
            config._d = new Date(config._i + (config._useUTC ? ' UTC' : ''));
        }
    );

    // constant that refers to the ISO standard
    hooks.ISO_8601 = function () {};

    // constant that refers to the RFC 2822 form
    hooks.RFC_2822 = function () {};

    // date from string and format string
    function configFromStringAndFormat(config) {
        // TODO: Move this to another part of the creation flow to prevent circular deps
        if (config._f === hooks.ISO_8601) {
            configFromISO(config);
            return;
        }
        if (config._f === hooks.RFC_2822) {
            configFromRFC2822(config);
            return;
        }
        config._a = [];
        getParsingFlags(config).empty = true;

        // This array is used to make a Date, either with `new Date` or `Date.UTC`
        var string = '' + config._i,
            i, parsedInput, tokens, token, skipped,
            stringLength = string.length,
            totalParsedInputLength = 0;

        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];

        for (i = 0; i < tokens.length; i++) {
            token = tokens[i];
            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];
            // console.log('token', token, 'parsedInput', parsedInput,
            //         'regex', getParseRegexForToken(token, config));
            if (parsedInput) {
                skipped = string.substr(0, string.indexOf(parsedInput));
                if (skipped.length > 0) {
                    getParsingFlags(config).unusedInput.push(skipped);
                }
                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);
                totalParsedInputLength += parsedInput.length;
            }
            // don't parse if it's not a known token
            if (formatTokenFunctions[token]) {
                if (parsedInput) {
                    getParsingFlags(config).empty = false;
                }
                else {
                    getParsingFlags(config).unusedTokens.push(token);
                }
                addTimeToArrayFromToken(token, parsedInput, config);
            }
            else if (config._strict && !parsedInput) {
                getParsingFlags(config).unusedTokens.push(token);
            }
        }

        // add remaining unparsed input length to the string
        getParsingFlags(config).charsLeftOver = stringLength - totalParsedInputLength;
        if (string.length > 0) {
            getParsingFlags(config).unusedInput.push(string);
        }

        // clear _12h flag if hour is <= 12
        if (config._a[HOUR] <= 12 &&
            getParsingFlags(config).bigHour === true &&
            config._a[HOUR] > 0) {
            getParsingFlags(config).bigHour = undefined;
        }

        getParsingFlags(config).parsedDateParts = config._a.slice(0);
        getParsingFlags(config).meridiem = config._meridiem;
        // handle meridiem
        config._a[HOUR] = meridiemFixWrap(config._locale, config._a[HOUR], config._meridiem);

        configFromArray(config);
        checkOverflow(config);
    }


    function meridiemFixWrap (locale, hour, meridiem) {
        var isPm;

        if (meridiem == null) {
            // nothing to do
            return hour;
        }
        if (locale.meridiemHour != null) {
            return locale.meridiemHour(hour, meridiem);
        } else if (locale.isPM != null) {
            // Fallback
            isPm = locale.isPM(meridiem);
            if (isPm && hour < 12) {
                hour += 12;
            }
            if (!isPm && hour === 12) {
                hour = 0;
            }
            return hour;
        } else {
            // this is not supposed to happen
            return hour;
        }
    }

    // date from string and array of format strings
    function configFromStringAndArray(config) {
        var tempConfig,
            bestMoment,

            scoreToBeat,
            i,
            currentScore;

        if (config._f.length === 0) {
            getParsingFlags(config).invalidFormat = true;
            config._d = new Date(NaN);
            return;
        }

        for (i = 0; i < config._f.length; i++) {
            currentScore = 0;
            tempConfig = copyConfig({}, config);
            if (config._useUTC != null) {
                tempConfig._useUTC = config._useUTC;
            }
            tempConfig._f = config._f[i];
            configFromStringAndFormat(tempConfig);

            if (!isValid(tempConfig)) {
                continue;
            }

            // if there is any input that was not parsed add a penalty for that format
            currentScore += getParsingFlags(tempConfig).charsLeftOver;

            //or tokens
            currentScore += getParsingFlags(tempConfig).unusedTokens.length * 10;

            getParsingFlags(tempConfig).score = currentScore;

            if (scoreToBeat == null || currentScore < scoreToBeat) {
                scoreToBeat = currentScore;
                bestMoment = tempConfig;
            }
        }

        extend(config, bestMoment || tempConfig);
    }

    function configFromObject(config) {
        if (config._d) {
            return;
        }

        var i = normalizeObjectUnits(config._i);
        config._a = map([i.year, i.month, i.day || i.date, i.hour, i.minute, i.second, i.millisecond], function (obj) {
            return obj && parseInt(obj, 10);
        });

        configFromArray(config);
    }

    function createFromConfig (config) {
        var res = new Moment(checkOverflow(prepareConfig(config)));
        if (res._nextDay) {
            // Adding is smart enough around DST
            res.add(1, 'd');
            res._nextDay = undefined;
        }

        return res;
    }

    function prepareConfig (config) {
        var input = config._i,
            format = config._f;

        config._locale = config._locale || getLocale(config._l);

        if (input === null || (format === undefined && input === '')) {
            return createInvalid({nullInput: true});
        }

        if (typeof input === 'string') {
            config._i = input = config._locale.preparse(input);
        }

        if (isMoment(input)) {
            return new Moment(checkOverflow(input));
        } else if (isDate(input)) {
            config._d = input;
        } else if (isArray(format)) {
            configFromStringAndArray(config);
        } else if (format) {
            configFromStringAndFormat(config);
        }  else {
            configFromInput(config);
        }

        if (!isValid(config)) {
            config._d = null;
        }

        return config;
    }

    function configFromInput(config) {
        var input = config._i;
        if (isUndefined(input)) {
            config._d = new Date(hooks.now());
        } else if (isDate(input)) {
            config._d = new Date(input.valueOf());
        } else if (typeof input === 'string') {
            configFromString(config);
        } else if (isArray(input)) {
            config._a = map(input.slice(0), function (obj) {
                return parseInt(obj, 10);
            });
            configFromArray(config);
        } else if (isObject(input)) {
            configFromObject(config);
        } else if (isNumber(input)) {
            // from milliseconds
            config._d = new Date(input);
        } else {
            hooks.createFromInputFallback(config);
        }
    }

    function createLocalOrUTC (input, format, locale, strict, isUTC) {
        var c = {};

        if (locale === true || locale === false) {
            strict = locale;
            locale = undefined;
        }

        if ((isObject(input) && isObjectEmpty(input)) ||
                (isArray(input) && input.length === 0)) {
            input = undefined;
        }
        // object construction must be done this way.
        // https://github.com/moment/moment/issues/1423
        c._isAMomentObject = true;
        c._useUTC = c._isUTC = isUTC;
        c._l = locale;
        c._i = input;
        c._f = format;
        c._strict = strict;

        return createFromConfig(c);
    }

    function createLocal (input, format, locale, strict) {
        return createLocalOrUTC(input, format, locale, strict, false);
    }

    var prototypeMin = deprecate(
        'moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other < this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    var prototypeMax = deprecate(
        'moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/',
        function () {
            var other = createLocal.apply(null, arguments);
            if (this.isValid() && other.isValid()) {
                return other > this ? this : other;
            } else {
                return createInvalid();
            }
        }
    );

    // Pick a moment m from moments so that m[fn](other) is true for all
    // other. This relies on the function fn to be transitive.
    //
    // moments should either be an array of moment objects or an array, whose
    // first element is an array of moment objects.
    function pickBy(fn, moments) {
        var res, i;
        if (moments.length === 1 && isArray(moments[0])) {
            moments = moments[0];
        }
        if (!moments.length) {
            return createLocal();
        }
        res = moments[0];
        for (i = 1; i < moments.length; ++i) {
            if (!moments[i].isValid() || moments[i][fn](res)) {
                res = moments[i];
            }
        }
        return res;
    }

    // TODO: Use [].sort instead?
    function min () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isBefore', args);
    }

    function max () {
        var args = [].slice.call(arguments, 0);

        return pickBy('isAfter', args);
    }

    var now = function () {
        return Date.now ? Date.now() : +(new Date());
    };

    var ordering = ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second', 'millisecond'];

    function isDurationValid(m) {
        for (var key in m) {
            if (!(indexOf.call(ordering, key) !== -1 && (m[key] == null || !isNaN(m[key])))) {
                return false;
            }
        }

        var unitHasDecimal = false;
        for (var i = 0; i < ordering.length; ++i) {
            if (m[ordering[i]]) {
                if (unitHasDecimal) {
                    return false; // only allow non-integers for smallest unit
                }
                if (parseFloat(m[ordering[i]]) !== toInt(m[ordering[i]])) {
                    unitHasDecimal = true;
                }
            }
        }

        return true;
    }

    function isValid$1() {
        return this._isValid;
    }

    function createInvalid$1() {
        return createDuration(NaN);
    }

    function Duration (duration) {
        var normalizedInput = normalizeObjectUnits(duration),
            years = normalizedInput.year || 0,
            quarters = normalizedInput.quarter || 0,
            months = normalizedInput.month || 0,
            weeks = normalizedInput.week || 0,
            days = normalizedInput.day || 0,
            hours = normalizedInput.hour || 0,
            minutes = normalizedInput.minute || 0,
            seconds = normalizedInput.second || 0,
            milliseconds = normalizedInput.millisecond || 0;

        this._isValid = isDurationValid(normalizedInput);

        // representation for dateAddRemove
        this._milliseconds = +milliseconds +
            seconds * 1e3 + // 1000
            minutes * 6e4 + // 1000 * 60
            hours * 1000 * 60 * 60; //using 1000 * 60 * 60 instead of 36e5 to avoid floating point rounding errors https://github.com/moment/moment/issues/2978
        // Because of dateAddRemove treats 24 hours as different from a
        // day when working around DST, we need to store them separately
        this._days = +days +
            weeks * 7;
        // It is impossible to translate months into days without knowing
        // which months you are are talking about, so we have to store
        // it separately.
        this._months = +months +
            quarters * 3 +
            years * 12;

        this._data = {};

        this._locale = getLocale();

        this._bubble();
    }

    function isDuration (obj) {
        return obj instanceof Duration;
    }

    function absRound (number) {
        if (number < 0) {
            return Math.round(-1 * number) * -1;
        } else {
            return Math.round(number);
        }
    }

    // FORMATTING

    function offset (token, separator) {
        addFormatToken(token, 0, 0, function () {
            var offset = this.utcOffset();
            var sign = '+';
            if (offset < 0) {
                offset = -offset;
                sign = '-';
            }
            return sign + zeroFill(~~(offset / 60), 2) + separator + zeroFill(~~(offset) % 60, 2);
        });
    }

    offset('Z', ':');
    offset('ZZ', '');

    // PARSING

    addRegexToken('Z',  matchShortOffset);
    addRegexToken('ZZ', matchShortOffset);
    addParseToken(['Z', 'ZZ'], function (input, array, config) {
        config._useUTC = true;
        config._tzm = offsetFromString(matchShortOffset, input);
    });

    // HELPERS

    // timezone chunker
    // '+10:00' > ['10',  '00']
    // '-1530'  > ['-15', '30']
    var chunkOffset = /([\+\-]|\d\d)/gi;

    function offsetFromString(matcher, string) {
        var matches = (string || '').match(matcher);

        if (matches === null) {
            return null;
        }

        var chunk   = matches[matches.length - 1] || [];
        var parts   = (chunk + '').match(chunkOffset) || ['-', 0, 0];
        var minutes = +(parts[1] * 60) + toInt(parts[2]);

        return minutes === 0 ?
          0 :
          parts[0] === '+' ? minutes : -minutes;
    }

    // Return a moment from input, that is local/utc/zone equivalent to model.
    function cloneWithOffset(input, model) {
        var res, diff;
        if (model._isUTC) {
            res = model.clone();
            diff = (isMoment(input) || isDate(input) ? input.valueOf() : createLocal(input).valueOf()) - res.valueOf();
            // Use low-level api, because this fn is low-level api.
            res._d.setTime(res._d.valueOf() + diff);
            hooks.updateOffset(res, false);
            return res;
        } else {
            return createLocal(input).local();
        }
    }

    function getDateOffset (m) {
        // On Firefox.24 Date#getTimezoneOffset returns a floating point.
        // https://github.com/moment/moment/pull/1871
        return -Math.round(m._d.getTimezoneOffset() / 15) * 15;
    }

    // HOOKS

    // This function will be called whenever a moment is mutated.
    // It is intended to keep the offset in sync with the timezone.
    hooks.updateOffset = function () {};

    // MOMENTS

    // keepLocalTime = true means only change the timezone, without
    // affecting the local hour. So 5:31:26 +0300 --[utcOffset(2, true)]-->
    // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist with offset
    // +0200, so we adjust the time as needed, to be valid.
    //
    // Keeping the time actually adds/subtracts (one hour)
    // from the actual represented time. That is why we call updateOffset
    // a second time. In case it wants us to change the offset again
    // _changeInProgress == true case, then we have to adjust, because
    // there is no such time in the given timezone.
    function getSetOffset (input, keepLocalTime, keepMinutes) {
        var offset = this._offset || 0,
            localAdjust;
        if (!this.isValid()) {
            return input != null ? this : NaN;
        }
        if (input != null) {
            if (typeof input === 'string') {
                input = offsetFromString(matchShortOffset, input);
                if (input === null) {
                    return this;
                }
            } else if (Math.abs(input) < 16 && !keepMinutes) {
                input = input * 60;
            }
            if (!this._isUTC && keepLocalTime) {
                localAdjust = getDateOffset(this);
            }
            this._offset = input;
            this._isUTC = true;
            if (localAdjust != null) {
                this.add(localAdjust, 'm');
            }
            if (offset !== input) {
                if (!keepLocalTime || this._changeInProgress) {
                    addSubtract(this, createDuration(input - offset, 'm'), 1, false);
                } else if (!this._changeInProgress) {
                    this._changeInProgress = true;
                    hooks.updateOffset(this, true);
                    this._changeInProgress = null;
                }
            }
            return this;
        } else {
            return this._isUTC ? offset : getDateOffset(this);
        }
    }

    function getSetZone (input, keepLocalTime) {
        if (input != null) {
            if (typeof input !== 'string') {
                input = -input;
            }

            this.utcOffset(input, keepLocalTime);

            return this;
        } else {
            return -this.utcOffset();
        }
    }

    function setOffsetToUTC (keepLocalTime) {
        return this.utcOffset(0, keepLocalTime);
    }

    function setOffsetToLocal (keepLocalTime) {
        if (this._isUTC) {
            this.utcOffset(0, keepLocalTime);
            this._isUTC = false;

            if (keepLocalTime) {
                this.subtract(getDateOffset(this), 'm');
            }
        }
        return this;
    }

    function setOffsetToParsedOffset () {
        if (this._tzm != null) {
            this.utcOffset(this._tzm, false, true);
        } else if (typeof this._i === 'string') {
            var tZone = offsetFromString(matchOffset, this._i);
            if (tZone != null) {
                this.utcOffset(tZone);
            }
            else {
                this.utcOffset(0, true);
            }
        }
        return this;
    }

    function hasAlignedHourOffset (input) {
        if (!this.isValid()) {
            return false;
        }
        input = input ? createLocal(input).utcOffset() : 0;

        return (this.utcOffset() - input) % 60 === 0;
    }

    function isDaylightSavingTime () {
        return (
            this.utcOffset() > this.clone().month(0).utcOffset() ||
            this.utcOffset() > this.clone().month(5).utcOffset()
        );
    }

    function isDaylightSavingTimeShifted () {
        if (!isUndefined(this._isDSTShifted)) {
            return this._isDSTShifted;
        }

        var c = {};

        copyConfig(c, this);
        c = prepareConfig(c);

        if (c._a) {
            var other = c._isUTC ? createUTC(c._a) : createLocal(c._a);
            this._isDSTShifted = this.isValid() &&
                compareArrays(c._a, other.toArray()) > 0;
        } else {
            this._isDSTShifted = false;
        }

        return this._isDSTShifted;
    }

    function isLocal () {
        return this.isValid() ? !this._isUTC : false;
    }

    function isUtcOffset () {
        return this.isValid() ? this._isUTC : false;
    }

    function isUtc () {
        return this.isValid() ? this._isUTC && this._offset === 0 : false;
    }

    // ASP.NET json date format regex
    var aspNetRegex = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/;

    // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html
    // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere
    // and further modified to allow for strings containing both week and day
    var isoRegex = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;

    function createDuration (input, key) {
        var duration = input,
            // matching against regexp is expensive, do it on demand
            match = null,
            sign,
            ret,
            diffRes;

        if (isDuration(input)) {
            duration = {
                ms : input._milliseconds,
                d  : input._days,
                M  : input._months
            };
        } else if (isNumber(input)) {
            duration = {};
            if (key) {
                duration[key] = input;
            } else {
                duration.milliseconds = input;
            }
        } else if (!!(match = aspNetRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : 1;
            duration = {
                y  : 0,
                d  : toInt(match[DATE])                         * sign,
                h  : toInt(match[HOUR])                         * sign,
                m  : toInt(match[MINUTE])                       * sign,
                s  : toInt(match[SECOND])                       * sign,
                ms : toInt(absRound(match[MILLISECOND] * 1000)) * sign // the millisecond decimal point is included in the match
            };
        } else if (!!(match = isoRegex.exec(input))) {
            sign = (match[1] === '-') ? -1 : (match[1] === '+') ? 1 : 1;
            duration = {
                y : parseIso(match[2], sign),
                M : parseIso(match[3], sign),
                w : parseIso(match[4], sign),
                d : parseIso(match[5], sign),
                h : parseIso(match[6], sign),
                m : parseIso(match[7], sign),
                s : parseIso(match[8], sign)
            };
        } else if (duration == null) {// checks for null or undefined
            duration = {};
        } else if (typeof duration === 'object' && ('from' in duration || 'to' in duration)) {
            diffRes = momentsDifference(createLocal(duration.from), createLocal(duration.to));

            duration = {};
            duration.ms = diffRes.milliseconds;
            duration.M = diffRes.months;
        }

        ret = new Duration(duration);

        if (isDuration(input) && hasOwnProp(input, '_locale')) {
            ret._locale = input._locale;
        }

        return ret;
    }

    createDuration.fn = Duration.prototype;
    createDuration.invalid = createInvalid$1;

    function parseIso (inp, sign) {
        // We'd normally use ~~inp for this, but unfortunately it also
        // converts floats to ints.
        // inp may be undefined, so careful calling replace on it.
        var res = inp && parseFloat(inp.replace(',', '.'));
        // apply sign while we're at it
        return (isNaN(res) ? 0 : res) * sign;
    }

    function positiveMomentsDifference(base, other) {
        var res = {milliseconds: 0, months: 0};

        res.months = other.month() - base.month() +
            (other.year() - base.year()) * 12;
        if (base.clone().add(res.months, 'M').isAfter(other)) {
            --res.months;
        }

        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));

        return res;
    }

    function momentsDifference(base, other) {
        var res;
        if (!(base.isValid() && other.isValid())) {
            return {milliseconds: 0, months: 0};
        }

        other = cloneWithOffset(other, base);
        if (base.isBefore(other)) {
            res = positiveMomentsDifference(base, other);
        } else {
            res = positiveMomentsDifference(other, base);
            res.milliseconds = -res.milliseconds;
            res.months = -res.months;
        }

        return res;
    }

    // TODO: remove 'name' arg after deprecation is removed
    function createAdder(direction, name) {
        return function (val, period) {
            var dur, tmp;
            //invert the arguments, but complain about it
            if (period !== null && !isNaN(+period)) {
                deprecateSimple(name, 'moment().' + name  + '(period, number) is deprecated. Please use moment().' + name + '(number, period). ' +
                'See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.');
                tmp = val; val = period; period = tmp;
            }

            val = typeof val === 'string' ? +val : val;
            dur = createDuration(val, period);
            addSubtract(this, dur, direction);
            return this;
        };
    }

    function addSubtract (mom, duration, isAdding, updateOffset) {
        var milliseconds = duration._milliseconds,
            days = absRound(duration._days),
            months = absRound(duration._months);

        if (!mom.isValid()) {
            // No op
            return;
        }

        updateOffset = updateOffset == null ? true : updateOffset;

        if (months) {
            setMonth(mom, get(mom, 'Month') + months * isAdding);
        }
        if (days) {
            set$1(mom, 'Date', get(mom, 'Date') + days * isAdding);
        }
        if (milliseconds) {
            mom._d.setTime(mom._d.valueOf() + milliseconds * isAdding);
        }
        if (updateOffset) {
            hooks.updateOffset(mom, days || months);
        }
    }

    var add      = createAdder(1, 'add');
    var subtract = createAdder(-1, 'subtract');

    function getCalendarFormat(myMoment, now) {
        var diff = myMoment.diff(now, 'days', true);
        return diff < -6 ? 'sameElse' :
                diff < -1 ? 'lastWeek' :
                diff < 0 ? 'lastDay' :
                diff < 1 ? 'sameDay' :
                diff < 2 ? 'nextDay' :
                diff < 7 ? 'nextWeek' : 'sameElse';
    }

    function calendar$1 (time, formats) {
        // We want to compare the start of today, vs this.
        // Getting start-of-today depends on whether we're local/utc/offset or not.
        var now = time || createLocal(),
            sod = cloneWithOffset(now, this).startOf('day'),
            format = hooks.calendarFormat(this, sod) || 'sameElse';

        var output = formats && (isFunction(formats[format]) ? formats[format].call(this, now) : formats[format]);

        return this.format(output || this.localeData().calendar(format, this, createLocal(now)));
    }

    function clone () {
        return new Moment(this);
    }

    function isAfter (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
        if (units === 'millisecond') {
            return this.valueOf() > localInput.valueOf();
        } else {
            return localInput.valueOf() < this.clone().startOf(units).valueOf();
        }
    }

    function isBefore (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input);
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(!isUndefined(units) ? units : 'millisecond');
        if (units === 'millisecond') {
            return this.valueOf() < localInput.valueOf();
        } else {
            return this.clone().endOf(units).valueOf() < localInput.valueOf();
        }
    }

    function isBetween (from, to, units, inclusivity) {
        inclusivity = inclusivity || '()';
        return (inclusivity[0] === '(' ? this.isAfter(from, units) : !this.isBefore(from, units)) &&
            (inclusivity[1] === ')' ? this.isBefore(to, units) : !this.isAfter(to, units));
    }

    function isSame (input, units) {
        var localInput = isMoment(input) ? input : createLocal(input),
            inputMs;
        if (!(this.isValid() && localInput.isValid())) {
            return false;
        }
        units = normalizeUnits(units || 'millisecond');
        if (units === 'millisecond') {
            return this.valueOf() === localInput.valueOf();
        } else {
            inputMs = localInput.valueOf();
            return this.clone().startOf(units).valueOf() <= inputMs && inputMs <= this.clone().endOf(units).valueOf();
        }
    }

    function isSameOrAfter (input, units) {
        return this.isSame(input, units) || this.isAfter(input,units);
    }

    function isSameOrBefore (input, units) {
        return this.isSame(input, units) || this.isBefore(input,units);
    }

    function diff (input, units, asFloat) {
        var that,
            zoneDelta,
            output;

        if (!this.isValid()) {
            return NaN;
        }

        that = cloneWithOffset(input, this);

        if (!that.isValid()) {
            return NaN;
        }

        zoneDelta = (that.utcOffset() - this.utcOffset()) * 6e4;

        units = normalizeUnits(units);

        switch (units) {
            case 'year': output = monthDiff(this, that) / 12; break;
            case 'month': output = monthDiff(this, that); break;
            case 'quarter': output = monthDiff(this, that) / 3; break;
            case 'second': output = (this - that) / 1e3; break; // 1000
            case 'minute': output = (this - that) / 6e4; break; // 1000 * 60
            case 'hour': output = (this - that) / 36e5; break; // 1000 * 60 * 60
            case 'day': output = (this - that - zoneDelta) / 864e5; break; // 1000 * 60 * 60 * 24, negate dst
            case 'week': output = (this - that - zoneDelta) / 6048e5; break; // 1000 * 60 * 60 * 24 * 7, negate dst
            default: output = this - that;
        }

        return asFloat ? output : absFloor(output);
    }

    function monthDiff (a, b) {
        // difference in months
        var wholeMonthDiff = ((b.year() - a.year()) * 12) + (b.month() - a.month()),
            // b is in (anchor - 1 month, anchor + 1 month)
            anchor = a.clone().add(wholeMonthDiff, 'months'),
            anchor2, adjust;

        if (b - anchor < 0) {
            anchor2 = a.clone().add(wholeMonthDiff - 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor - anchor2);
        } else {
            anchor2 = a.clone().add(wholeMonthDiff + 1, 'months');
            // linear across the month
            adjust = (b - anchor) / (anchor2 - anchor);
        }

        //check for negative zero, return zero if negative zero
        return -(wholeMonthDiff + adjust) || 0;
    }

    hooks.defaultFormat = 'YYYY-MM-DDTHH:mm:ssZ';
    hooks.defaultFormatUtc = 'YYYY-MM-DDTHH:mm:ss[Z]';

    function toString () {
        return this.clone().locale('en').format('ddd MMM DD YYYY HH:mm:ss [GMT]ZZ');
    }

    function toISOString(keepOffset) {
        if (!this.isValid()) {
            return null;
        }
        var utc = keepOffset !== true;
        var m = utc ? this.clone().utc() : this;
        if (m.year() < 0 || m.year() > 9999) {
            return formatMoment(m, utc ? 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYYYY-MM-DD[T]HH:mm:ss.SSSZ');
        }
        if (isFunction(Date.prototype.toISOString)) {
            // native implementation is ~50x faster, use it when we can
            if (utc) {
                return this.toDate().toISOString();
            } else {
                return new Date(this.valueOf() + this.utcOffset() * 60 * 1000).toISOString().replace('Z', formatMoment(m, 'Z'));
            }
        }
        return formatMoment(m, utc ? 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]' : 'YYYY-MM-DD[T]HH:mm:ss.SSSZ');
    }

    /**
     * Return a human readable representation of a moment that can
     * also be evaluated to get a new moment which is the same
     *
     * @link https://nodejs.org/dist/latest/docs/api/util.html#util_custom_inspect_function_on_objects
     */
    function inspect () {
        if (!this.isValid()) {
            return 'moment.invalid(/* ' + this._i + ' */)';
        }
        var func = 'moment';
        var zone = '';
        if (!this.isLocal()) {
            func = this.utcOffset() === 0 ? 'moment.utc' : 'moment.parseZone';
            zone = 'Z';
        }
        var prefix = '[' + func + '("]';
        var year = (0 <= this.year() && this.year() <= 9999) ? 'YYYY' : 'YYYYYY';
        var datetime = '-MM-DD[T]HH:mm:ss.SSS';
        var suffix = zone + '[")]';

        return this.format(prefix + year + datetime + suffix);
    }

    function format (inputString) {
        if (!inputString) {
            inputString = this.isUtc() ? hooks.defaultFormatUtc : hooks.defaultFormat;
        }
        var output = formatMoment(this, inputString);
        return this.localeData().postformat(output);
    }

    function from (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function fromNow (withoutSuffix) {
        return this.from(createLocal(), withoutSuffix);
    }

    function to (time, withoutSuffix) {
        if (this.isValid() &&
                ((isMoment(time) && time.isValid()) ||
                 createLocal(time).isValid())) {
            return createDuration({from: this, to: time}).locale(this.locale()).humanize(!withoutSuffix);
        } else {
            return this.localeData().invalidDate();
        }
    }

    function toNow (withoutSuffix) {
        return this.to(createLocal(), withoutSuffix);
    }

    // If passed a locale key, it will set the locale for this
    // instance.  Otherwise, it will return the locale configuration
    // variables for this instance.
    function locale (key) {
        var newLocaleData;

        if (key === undefined) {
            return this._locale._abbr;
        } else {
            newLocaleData = getLocale(key);
            if (newLocaleData != null) {
                this._locale = newLocaleData;
            }
            return this;
        }
    }

    var lang = deprecate(
        'moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.',
        function (key) {
            if (key === undefined) {
                return this.localeData();
            } else {
                return this.locale(key);
            }
        }
    );

    function localeData () {
        return this._locale;
    }

    function startOf (units) {
        units = normalizeUnits(units);
        // the following switch intentionally omits break keywords
        // to utilize falling through the cases.
        switch (units) {
            case 'year':
                this.month(0);
                /* falls through */
            case 'quarter':
            case 'month':
                this.date(1);
                /* falls through */
            case 'week':
            case 'isoWeek':
            case 'day':
            case 'date':
                this.hours(0);
                /* falls through */
            case 'hour':
                this.minutes(0);
                /* falls through */
            case 'minute':
                this.seconds(0);
                /* falls through */
            case 'second':
                this.milliseconds(0);
        }

        // weeks are a special case
        if (units === 'week') {
            this.weekday(0);
        }
        if (units === 'isoWeek') {
            this.isoWeekday(1);
        }

        // quarters are also special
        if (units === 'quarter') {
            this.month(Math.floor(this.month() / 3) * 3);
        }

        return this;
    }

    function endOf (units) {
        units = normalizeUnits(units);
        if (units === undefined || units === 'millisecond') {
            return this;
        }

        // 'date' is an alias for 'day', so it should be considered as such.
        if (units === 'date') {
            units = 'day';
        }

        return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');
    }

    function valueOf () {
        return this._d.valueOf() - ((this._offset || 0) * 60000);
    }

    function unix () {
        return Math.floor(this.valueOf() / 1000);
    }

    function toDate () {
        return new Date(this.valueOf());
    }

    function toArray () {
        var m = this;
        return [m.year(), m.month(), m.date(), m.hour(), m.minute(), m.second(), m.millisecond()];
    }

    function toObject () {
        var m = this;
        return {
            years: m.year(),
            months: m.month(),
            date: m.date(),
            hours: m.hours(),
            minutes: m.minutes(),
            seconds: m.seconds(),
            milliseconds: m.milliseconds()
        };
    }

    function toJSON () {
        // new Date(NaN).toJSON() === null
        return this.isValid() ? this.toISOString() : null;
    }

    function isValid$2 () {
        return isValid(this);
    }

    function parsingFlags () {
        return extend({}, getParsingFlags(this));
    }

    function invalidAt () {
        return getParsingFlags(this).overflow;
    }

    function creationData() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        };
    }

    // FORMATTING

    addFormatToken(0, ['gg', 2], 0, function () {
        return this.weekYear() % 100;
    });

    addFormatToken(0, ['GG', 2], 0, function () {
        return this.isoWeekYear() % 100;
    });

    function addWeekYearFormatToken (token, getter) {
        addFormatToken(0, [token, token.length], 0, getter);
    }

    addWeekYearFormatToken('gggg',     'weekYear');
    addWeekYearFormatToken('ggggg',    'weekYear');
    addWeekYearFormatToken('GGGG',  'isoWeekYear');
    addWeekYearFormatToken('GGGGG', 'isoWeekYear');

    // ALIASES

    addUnitAlias('weekYear', 'gg');
    addUnitAlias('isoWeekYear', 'GG');

    // PRIORITY

    addUnitPriority('weekYear', 1);
    addUnitPriority('isoWeekYear', 1);


    // PARSING

    addRegexToken('G',      matchSigned);
    addRegexToken('g',      matchSigned);
    addRegexToken('GG',     match1to2, match2);
    addRegexToken('gg',     match1to2, match2);
    addRegexToken('GGGG',   match1to4, match4);
    addRegexToken('gggg',   match1to4, match4);
    addRegexToken('GGGGG',  match1to6, match6);
    addRegexToken('ggggg',  match1to6, match6);

    addWeekParseToken(['gggg', 'ggggg', 'GGGG', 'GGGGG'], function (input, week, config, token) {
        week[token.substr(0, 2)] = toInt(input);
    });

    addWeekParseToken(['gg', 'GG'], function (input, week, config, token) {
        week[token] = hooks.parseTwoDigitYear(input);
    });

    // MOMENTS

    function getSetWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input,
                this.week(),
                this.weekday(),
                this.localeData()._week.dow,
                this.localeData()._week.doy);
    }

    function getSetISOWeekYear (input) {
        return getSetWeekYearHelper.call(this,
                input, this.isoWeek(), this.isoWeekday(), 1, 4);
    }

    function getISOWeeksInYear () {
        return weeksInYear(this.year(), 1, 4);
    }

    function getWeeksInYear () {
        var weekInfo = this.localeData()._week;
        return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);
    }

    function getSetWeekYearHelper(input, week, weekday, dow, doy) {
        var weeksTarget;
        if (input == null) {
            return weekOfYear(this, dow, doy).year;
        } else {
            weeksTarget = weeksInYear(input, dow, doy);
            if (week > weeksTarget) {
                week = weeksTarget;
            }
            return setWeekAll.call(this, input, week, weekday, dow, doy);
        }
    }

    function setWeekAll(weekYear, week, weekday, dow, doy) {
        var dayOfYearData = dayOfYearFromWeeks(weekYear, week, weekday, dow, doy),
            date = createUTCDate(dayOfYearData.year, 0, dayOfYearData.dayOfYear);

        this.year(date.getUTCFullYear());
        this.month(date.getUTCMonth());
        this.date(date.getUTCDate());
        return this;
    }

    // FORMATTING

    addFormatToken('Q', 0, 'Qo', 'quarter');

    // ALIASES

    addUnitAlias('quarter', 'Q');

    // PRIORITY

    addUnitPriority('quarter', 7);

    // PARSING

    addRegexToken('Q', match1);
    addParseToken('Q', function (input, array) {
        array[MONTH] = (toInt(input) - 1) * 3;
    });

    // MOMENTS

    function getSetQuarter (input) {
        return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);
    }

    // FORMATTING

    addFormatToken('D', ['DD', 2], 'Do', 'date');

    // ALIASES

    addUnitAlias('date', 'D');

    // PRIORITY
    addUnitPriority('date', 9);

    // PARSING

    addRegexToken('D',  match1to2);
    addRegexToken('DD', match1to2, match2);
    addRegexToken('Do', function (isStrict, locale) {
        // TODO: Remove "ordinalParse" fallback in next major release.
        return isStrict ?
          (locale._dayOfMonthOrdinalParse || locale._ordinalParse) :
          locale._dayOfMonthOrdinalParseLenient;
    });

    addParseToken(['D', 'DD'], DATE);
    addParseToken('Do', function (input, array) {
        array[DATE] = toInt(input.match(match1to2)[0]);
    });

    // MOMENTS

    var getSetDayOfMonth = makeGetSet('Date', true);

    // FORMATTING

    addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');

    // ALIASES

    addUnitAlias('dayOfYear', 'DDD');

    // PRIORITY
    addUnitPriority('dayOfYear', 4);

    // PARSING

    addRegexToken('DDD',  match1to3);
    addRegexToken('DDDD', match3);
    addParseToken(['DDD', 'DDDD'], function (input, array, config) {
        config._dayOfYear = toInt(input);
    });

    // HELPERS

    // MOMENTS

    function getSetDayOfYear (input) {
        var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
        return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
    }

    // FORMATTING

    addFormatToken('m', ['mm', 2], 0, 'minute');

    // ALIASES

    addUnitAlias('minute', 'm');

    // PRIORITY

    addUnitPriority('minute', 14);

    // PARSING

    addRegexToken('m',  match1to2);
    addRegexToken('mm', match1to2, match2);
    addParseToken(['m', 'mm'], MINUTE);

    // MOMENTS

    var getSetMinute = makeGetSet('Minutes', false);

    // FORMATTING

    addFormatToken('s', ['ss', 2], 0, 'second');

    // ALIASES

    addUnitAlias('second', 's');

    // PRIORITY

    addUnitPriority('second', 15);

    // PARSING

    addRegexToken('s',  match1to2);
    addRegexToken('ss', match1to2, match2);
    addParseToken(['s', 'ss'], SECOND);

    // MOMENTS

    var getSetSecond = makeGetSet('Seconds', false);

    // FORMATTING

    addFormatToken('S', 0, 0, function () {
        return ~~(this.millisecond() / 100);
    });

    addFormatToken(0, ['SS', 2], 0, function () {
        return ~~(this.millisecond() / 10);
    });

    addFormatToken(0, ['SSS', 3], 0, 'millisecond');
    addFormatToken(0, ['SSSS', 4], 0, function () {
        return this.millisecond() * 10;
    });
    addFormatToken(0, ['SSSSS', 5], 0, function () {
        return this.millisecond() * 100;
    });
    addFormatToken(0, ['SSSSSS', 6], 0, function () {
        return this.millisecond() * 1000;
    });
    addFormatToken(0, ['SSSSSSS', 7], 0, function () {
        return this.millisecond() * 10000;
    });
    addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
        return this.millisecond() * 100000;
    });
    addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
        return this.millisecond() * 1000000;
    });


    // ALIASES

    addUnitAlias('millisecond', 'ms');

    // PRIORITY

    addUnitPriority('millisecond', 16);

    // PARSING

    addRegexToken('S',    match1to3, match1);
    addRegexToken('SS',   match1to3, match2);
    addRegexToken('SSS',  match1to3, match3);

    var token;
    for (token = 'SSSS'; token.length <= 9; token += 'S') {
        addRegexToken(token, matchUnsigned);
    }

    function parseMs(input, array) {
        array[MILLISECOND] = toInt(('0.' + input) * 1000);
    }

    for (token = 'S'; token.length <= 9; token += 'S') {
        addParseToken(token, parseMs);
    }
    // MOMENTS

    var getSetMillisecond = makeGetSet('Milliseconds', false);

    // FORMATTING

    addFormatToken('z',  0, 0, 'zoneAbbr');
    addFormatToken('zz', 0, 0, 'zoneName');

    // MOMENTS

    function getZoneAbbr () {
        return this._isUTC ? 'UTC' : '';
    }

    function getZoneName () {
        return this._isUTC ? 'Coordinated Universal Time' : '';
    }

    var proto = Moment.prototype;

    proto.add               = add;
    proto.calendar          = calendar$1;
    proto.clone             = clone;
    proto.diff              = diff;
    proto.endOf             = endOf;
    proto.format            = format;
    proto.from              = from;
    proto.fromNow           = fromNow;
    proto.to                = to;
    proto.toNow             = toNow;
    proto.get               = stringGet;
    proto.invalidAt         = invalidAt;
    proto.isAfter           = isAfter;
    proto.isBefore          = isBefore;
    proto.isBetween         = isBetween;
    proto.isSame            = isSame;
    proto.isSameOrAfter     = isSameOrAfter;
    proto.isSameOrBefore    = isSameOrBefore;
    proto.isValid           = isValid$2;
    proto.lang              = lang;
    proto.locale            = locale;
    proto.localeData        = localeData;
    proto.max               = prototypeMax;
    proto.min               = prototypeMin;
    proto.parsingFlags      = parsingFlags;
    proto.set               = stringSet;
    proto.startOf           = startOf;
    proto.subtract          = subtract;
    proto.toArray           = toArray;
    proto.toObject          = toObject;
    proto.toDate            = toDate;
    proto.toISOString       = toISOString;
    proto.inspect           = inspect;
    proto.toJSON            = toJSON;
    proto.toString          = toString;
    proto.unix              = unix;
    proto.valueOf           = valueOf;
    proto.creationData      = creationData;
    proto.year       = getSetYear;
    proto.isLeapYear = getIsLeapYear;
    proto.weekYear    = getSetWeekYear;
    proto.isoWeekYear = getSetISOWeekYear;
    proto.quarter = proto.quarters = getSetQuarter;
    proto.month       = getSetMonth;
    proto.daysInMonth = getDaysInMonth;
    proto.week           = proto.weeks        = getSetWeek;
    proto.isoWeek        = proto.isoWeeks     = getSetISOWeek;
    proto.weeksInYear    = getWeeksInYear;
    proto.isoWeeksInYear = getISOWeeksInYear;
    proto.date       = getSetDayOfMonth;
    proto.day        = proto.days             = getSetDayOfWeek;
    proto.weekday    = getSetLocaleDayOfWeek;
    proto.isoWeekday = getSetISODayOfWeek;
    proto.dayOfYear  = getSetDayOfYear;
    proto.hour = proto.hours = getSetHour;
    proto.minute = proto.minutes = getSetMinute;
    proto.second = proto.seconds = getSetSecond;
    proto.millisecond = proto.milliseconds = getSetMillisecond;
    proto.utcOffset            = getSetOffset;
    proto.utc                  = setOffsetToUTC;
    proto.local                = setOffsetToLocal;
    proto.parseZone            = setOffsetToParsedOffset;
    proto.hasAlignedHourOffset = hasAlignedHourOffset;
    proto.isDST                = isDaylightSavingTime;
    proto.isLocal              = isLocal;
    proto.isUtcOffset          = isUtcOffset;
    proto.isUtc                = isUtc;
    proto.isUTC                = isUtc;
    proto.zoneAbbr = getZoneAbbr;
    proto.zoneName = getZoneName;
    proto.dates  = deprecate('dates accessor is deprecated. Use date instead.', getSetDayOfMonth);
    proto.months = deprecate('months accessor is deprecated. Use month instead', getSetMonth);
    proto.years  = deprecate('years accessor is deprecated. Use year instead', getSetYear);
    proto.zone   = deprecate('moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/', getSetZone);
    proto.isDSTShifted = deprecate('isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information', isDaylightSavingTimeShifted);

    function createUnix (input) {
        return createLocal(input * 1000);
    }

    function createInZone () {
        return createLocal.apply(null, arguments).parseZone();
    }

    function preParsePostFormat (string) {
        return string;
    }

    var proto$1 = Locale.prototype;

    proto$1.calendar        = calendar;
    proto$1.longDateFormat  = longDateFormat;
    proto$1.invalidDate     = invalidDate;
    proto$1.ordinal         = ordinal;
    proto$1.preparse        = preParsePostFormat;
    proto$1.postformat      = preParsePostFormat;
    proto$1.relativeTime    = relativeTime;
    proto$1.pastFuture      = pastFuture;
    proto$1.set             = set;

    proto$1.months            =        localeMonths;
    proto$1.monthsShort       =        localeMonthsShort;
    proto$1.monthsParse       =        localeMonthsParse;
    proto$1.monthsRegex       = monthsRegex;
    proto$1.monthsShortRegex  = monthsShortRegex;
    proto$1.week = localeWeek;
    proto$1.firstDayOfYear = localeFirstDayOfYear;
    proto$1.firstDayOfWeek = localeFirstDayOfWeek;

    proto$1.weekdays       =        localeWeekdays;
    proto$1.weekdaysMin    =        localeWeekdaysMin;
    proto$1.weekdaysShort  =        localeWeekdaysShort;
    proto$1.weekdaysParse  =        localeWeekdaysParse;

    proto$1.weekdaysRegex       =        weekdaysRegex;
    proto$1.weekdaysShortRegex  =        weekdaysShortRegex;
    proto$1.weekdaysMinRegex    =        weekdaysMinRegex;

    proto$1.isPM = localeIsPM;
    proto$1.meridiem = localeMeridiem;

    function get$1 (format, index, field, setter) {
        var locale = getLocale();
        var utc = createUTC().set(setter, index);
        return locale[field](utc, format);
    }

    function listMonthsImpl (format, index, field) {
        if (isNumber(format)) {
            index = format;
            format = undefined;
        }

        format = format || '';

        if (index != null) {
            return get$1(format, index, field, 'month');
        }

        var i;
        var out = [];
        for (i = 0; i < 12; i++) {
            out[i] = get$1(format, i, field, 'month');
        }
        return out;
    }

    // ()
    // (5)
    // (fmt, 5)
    // (fmt)
    // (true)
    // (true, 5)
    // (true, fmt, 5)
    // (true, fmt)
    function listWeekdaysImpl (localeSorted, format, index, field) {
        if (typeof localeSorted === 'boolean') {
            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        } else {
            format = localeSorted;
            index = format;
            localeSorted = false;

            if (isNumber(format)) {
                index = format;
                format = undefined;
            }

            format = format || '';
        }

        var locale = getLocale(),
            shift = localeSorted ? locale._week.dow : 0;

        if (index != null) {
            return get$1(format, (index + shift) % 7, field, 'day');
        }

        var i;
        var out = [];
        for (i = 0; i < 7; i++) {
            out[i] = get$1(format, (i + shift) % 7, field, 'day');
        }
        return out;
    }

    function listMonths (format, index) {
        return listMonthsImpl(format, index, 'months');
    }

    function listMonthsShort (format, index) {
        return listMonthsImpl(format, index, 'monthsShort');
    }

    function listWeekdays (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdays');
    }

    function listWeekdaysShort (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysShort');
    }

    function listWeekdaysMin (localeSorted, format, index) {
        return listWeekdaysImpl(localeSorted, format, index, 'weekdaysMin');
    }

    getSetGlobalLocale('en', {
        dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal : function (number) {
            var b = number % 10,
                output = (toInt(number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
            return number + output;
        }
    });

    // Side effect imports

    hooks.lang = deprecate('moment.lang is deprecated. Use moment.locale instead.', getSetGlobalLocale);
    hooks.langData = deprecate('moment.langData is deprecated. Use moment.localeData instead.', getLocale);

    var mathAbs = Math.abs;

    function abs () {
        var data           = this._data;

        this._milliseconds = mathAbs(this._milliseconds);
        this._days         = mathAbs(this._days);
        this._months       = mathAbs(this._months);

        data.milliseconds  = mathAbs(data.milliseconds);
        data.seconds       = mathAbs(data.seconds);
        data.minutes       = mathAbs(data.minutes);
        data.hours         = mathAbs(data.hours);
        data.months        = mathAbs(data.months);
        data.years         = mathAbs(data.years);

        return this;
    }

    function addSubtract$1 (duration, input, value, direction) {
        var other = createDuration(input, value);

        duration._milliseconds += direction * other._milliseconds;
        duration._days         += direction * other._days;
        duration._months       += direction * other._months;

        return duration._bubble();
    }

    // supports only 2.0-style add(1, 's') or add(duration)
    function add$1 (input, value) {
        return addSubtract$1(this, input, value, 1);
    }

    // supports only 2.0-style subtract(1, 's') or subtract(duration)
    function subtract$1 (input, value) {
        return addSubtract$1(this, input, value, -1);
    }

    function absCeil (number) {
        if (number < 0) {
            return Math.floor(number);
        } else {
            return Math.ceil(number);
        }
    }

    function bubble () {
        var milliseconds = this._milliseconds;
        var days         = this._days;
        var months       = this._months;
        var data         = this._data;
        var seconds, minutes, hours, years, monthsFromDays;

        // if we have a mix of positive and negative values, bubble down first
        // check: https://github.com/moment/moment/issues/2166
        if (!((milliseconds >= 0 && days >= 0 && months >= 0) ||
                (milliseconds <= 0 && days <= 0 && months <= 0))) {
            milliseconds += absCeil(monthsToDays(months) + days) * 864e5;
            days = 0;
            months = 0;
        }

        // The following code bubbles up values, see the tests for
        // examples of what that means.
        data.milliseconds = milliseconds % 1000;

        seconds           = absFloor(milliseconds / 1000);
        data.seconds      = seconds % 60;

        minutes           = absFloor(seconds / 60);
        data.minutes      = minutes % 60;

        hours             = absFloor(minutes / 60);
        data.hours        = hours % 24;

        days += absFloor(hours / 24);

        // convert days to months
        monthsFromDays = absFloor(daysToMonths(days));
        months += monthsFromDays;
        days -= absCeil(monthsToDays(monthsFromDays));

        // 12 months -> 1 year
        years = absFloor(months / 12);
        months %= 12;

        data.days   = days;
        data.months = months;
        data.years  = years;

        return this;
    }

    function daysToMonths (days) {
        // 400 years have 146097 days (taking into account leap year rules)
        // 400 years have 12 months === 4800
        return days * 4800 / 146097;
    }

    function monthsToDays (months) {
        // the reverse of daysToMonths
        return months * 146097 / 4800;
    }

    function as (units) {
        if (!this.isValid()) {
            return NaN;
        }
        var days;
        var months;
        var milliseconds = this._milliseconds;

        units = normalizeUnits(units);

        if (units === 'month' || units === 'year') {
            days   = this._days   + milliseconds / 864e5;
            months = this._months + daysToMonths(days);
            return units === 'month' ? months : months / 12;
        } else {
            // handle milliseconds separately because of floating point math errors (issue #1867)
            days = this._days + Math.round(monthsToDays(this._months));
            switch (units) {
                case 'week'   : return days / 7     + milliseconds / 6048e5;
                case 'day'    : return days         + milliseconds / 864e5;
                case 'hour'   : return days * 24    + milliseconds / 36e5;
                case 'minute' : return days * 1440  + milliseconds / 6e4;
                case 'second' : return days * 86400 + milliseconds / 1000;
                // Math.floor prevents floating point math errors here
                case 'millisecond': return Math.floor(days * 864e5) + milliseconds;
                default: throw new Error('Unknown unit ' + units);
            }
        }
    }

    // TODO: Use this.as('ms')?
    function valueOf$1 () {
        if (!this.isValid()) {
            return NaN;
        }
        return (
            this._milliseconds +
            this._days * 864e5 +
            (this._months % 12) * 2592e6 +
            toInt(this._months / 12) * 31536e6
        );
    }

    function makeAs (alias) {
        return function () {
            return this.as(alias);
        };
    }

    var asMilliseconds = makeAs('ms');
    var asSeconds      = makeAs('s');
    var asMinutes      = makeAs('m');
    var asHours        = makeAs('h');
    var asDays         = makeAs('d');
    var asWeeks        = makeAs('w');
    var asMonths       = makeAs('M');
    var asYears        = makeAs('y');

    function clone$1 () {
        return createDuration(this);
    }

    function get$2 (units) {
        units = normalizeUnits(units);
        return this.isValid() ? this[units + 's']() : NaN;
    }

    function makeGetter(name) {
        return function () {
            return this.isValid() ? this._data[name] : NaN;
        };
    }

    var milliseconds = makeGetter('milliseconds');
    var seconds      = makeGetter('seconds');
    var minutes      = makeGetter('minutes');
    var hours        = makeGetter('hours');
    var days         = makeGetter('days');
    var months       = makeGetter('months');
    var years        = makeGetter('years');

    function weeks () {
        return absFloor(this.days() / 7);
    }

    var round = Math.round;
    var thresholds = {
        ss: 44,         // a few seconds to seconds
        s : 45,         // seconds to minute
        m : 45,         // minutes to hour
        h : 22,         // hours to day
        d : 26,         // days to month
        M : 11          // months to year
    };

    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize
    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {
        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);
    }

    function relativeTime$1 (posNegDuration, withoutSuffix, locale) {
        var duration = createDuration(posNegDuration).abs();
        var seconds  = round(duration.as('s'));
        var minutes  = round(duration.as('m'));
        var hours    = round(duration.as('h'));
        var days     = round(duration.as('d'));
        var months   = round(duration.as('M'));
        var years    = round(duration.as('y'));

        var a = seconds <= thresholds.ss && ['s', seconds]  ||
                seconds < thresholds.s   && ['ss', seconds] ||
                minutes <= 1             && ['m']           ||
                minutes < thresholds.m   && ['mm', minutes] ||
                hours   <= 1             && ['h']           ||
                hours   < thresholds.h   && ['hh', hours]   ||
                days    <= 1             && ['d']           ||
                days    < thresholds.d   && ['dd', days]    ||
                months  <= 1             && ['M']           ||
                months  < thresholds.M   && ['MM', months]  ||
                years   <= 1             && ['y']           || ['yy', years];

        a[2] = withoutSuffix;
        a[3] = +posNegDuration > 0;
        a[4] = locale;
        return substituteTimeAgo.apply(null, a);
    }

    // This function allows you to set the rounding function for relative time strings
    function getSetRelativeTimeRounding (roundingFunction) {
        if (roundingFunction === undefined) {
            return round;
        }
        if (typeof(roundingFunction) === 'function') {
            round = roundingFunction;
            return true;
        }
        return false;
    }

    // This function allows you to set a threshold for relative time strings
    function getSetRelativeTimeThreshold (threshold, limit) {
        if (thresholds[threshold] === undefined) {
            return false;
        }
        if (limit === undefined) {
            return thresholds[threshold];
        }
        thresholds[threshold] = limit;
        if (threshold === 's') {
            thresholds.ss = limit - 1;
        }
        return true;
    }

    function humanize (withSuffix) {
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var locale = this.localeData();
        var output = relativeTime$1(this, !withSuffix, locale);

        if (withSuffix) {
            output = locale.pastFuture(+this, output);
        }

        return locale.postformat(output);
    }

    var abs$1 = Math.abs;

    function sign(x) {
        return ((x > 0) - (x < 0)) || +x;
    }

    function toISOString$1() {
        // for ISO strings we do not use the normal bubbling rules:
        //  * milliseconds bubble up until they become hours
        //  * days do not bubble at all
        //  * months bubble up until they become years
        // This is because there is no context-free conversion between hours and days
        // (think of clock changes)
        // and also not between days and months (28-31 days per month)
        if (!this.isValid()) {
            return this.localeData().invalidDate();
        }

        var seconds = abs$1(this._milliseconds) / 1000;
        var days         = abs$1(this._days);
        var months       = abs$1(this._months);
        var minutes, hours, years;

        // 3600 seconds -> 60 minutes -> 1 hour
        minutes           = absFloor(seconds / 60);
        hours             = absFloor(minutes / 60);
        seconds %= 60;
        minutes %= 60;

        // 12 months -> 1 year
        years  = absFloor(months / 12);
        months %= 12;


        // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js
        var Y = years;
        var M = months;
        var D = days;
        var h = hours;
        var m = minutes;
        var s = seconds ? seconds.toFixed(3).replace(/\.?0+$/, '') : '';
        var total = this.asSeconds();

        if (!total) {
            // this is the same as C#'s (Noda) and python (isodate)...
            // but not other JS (goog.date)
            return 'P0D';
        }

        var totalSign = total < 0 ? '-' : '';
        var ymSign = sign(this._months) !== sign(total) ? '-' : '';
        var daysSign = sign(this._days) !== sign(total) ? '-' : '';
        var hmsSign = sign(this._milliseconds) !== sign(total) ? '-' : '';

        return totalSign + 'P' +
            (Y ? ymSign + Y + 'Y' : '') +
            (M ? ymSign + M + 'M' : '') +
            (D ? daysSign + D + 'D' : '') +
            ((h || m || s) ? 'T' : '') +
            (h ? hmsSign + h + 'H' : '') +
            (m ? hmsSign + m + 'M' : '') +
            (s ? hmsSign + s + 'S' : '');
    }

    var proto$2 = Duration.prototype;

    proto$2.isValid        = isValid$1;
    proto$2.abs            = abs;
    proto$2.add            = add$1;
    proto$2.subtract       = subtract$1;
    proto$2.as             = as;
    proto$2.asMilliseconds = asMilliseconds;
    proto$2.asSeconds      = asSeconds;
    proto$2.asMinutes      = asMinutes;
    proto$2.asHours        = asHours;
    proto$2.asDays         = asDays;
    proto$2.asWeeks        = asWeeks;
    proto$2.asMonths       = asMonths;
    proto$2.asYears        = asYears;
    proto$2.valueOf        = valueOf$1;
    proto$2._bubble        = bubble;
    proto$2.clone          = clone$1;
    proto$2.get            = get$2;
    proto$2.milliseconds   = milliseconds;
    proto$2.seconds        = seconds;
    proto$2.minutes        = minutes;
    proto$2.hours          = hours;
    proto$2.days           = days;
    proto$2.weeks          = weeks;
    proto$2.months         = months;
    proto$2.years          = years;
    proto$2.humanize       = humanize;
    proto$2.toISOString    = toISOString$1;
    proto$2.toString       = toISOString$1;
    proto$2.toJSON         = toISOString$1;
    proto$2.locale         = locale;
    proto$2.localeData     = localeData;

    proto$2.toIsoString = deprecate('toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)', toISOString$1);
    proto$2.lang = lang;

    // Side effect imports

    // FORMATTING

    addFormatToken('X', 0, 0, 'unix');
    addFormatToken('x', 0, 0, 'valueOf');

    // PARSING

    addRegexToken('x', matchSigned);
    addRegexToken('X', matchTimestamp);
    addParseToken('X', function (input, array, config) {
        config._d = new Date(parseFloat(input, 10) * 1000);
    });
    addParseToken('x', function (input, array, config) {
        config._d = new Date(toInt(input));
    });

    // Side effect imports


    hooks.version = '2.22.2';

    setHookCallback(createLocal);

    hooks.fn                    = proto;
    hooks.min                   = min;
    hooks.max                   = max;
    hooks.now                   = now;
    hooks.utc                   = createUTC;
    hooks.unix                  = createUnix;
    hooks.months                = listMonths;
    hooks.isDate                = isDate;
    hooks.locale                = getSetGlobalLocale;
    hooks.invalid               = createInvalid;
    hooks.duration              = createDuration;
    hooks.isMoment              = isMoment;
    hooks.weekdays              = listWeekdays;
    hooks.parseZone             = createInZone;
    hooks.localeData            = getLocale;
    hooks.isDuration            = isDuration;
    hooks.monthsShort           = listMonthsShort;
    hooks.weekdaysMin           = listWeekdaysMin;
    hooks.defineLocale          = defineLocale;
    hooks.updateLocale          = updateLocale;
    hooks.locales               = listLocales;
    hooks.weekdaysShort         = listWeekdaysShort;
    hooks.normalizeUnits        = normalizeUnits;
    hooks.relativeTimeRounding  = getSetRelativeTimeRounding;
    hooks.relativeTimeThreshold = getSetRelativeTimeThreshold;
    hooks.calendarFormat        = getCalendarFormat;
    hooks.prototype             = proto;

    // currently HTML5 input type only supports 24-hour formats
    hooks.HTML5_FMT = {
        DATETIME_LOCAL: 'YYYY-MM-DDTHH:mm',             // <input type="datetime-local" />
        DATETIME_LOCAL_SECONDS: 'YYYY-MM-DDTHH:mm:ss',  // <input type="datetime-local" step="1" />
        DATETIME_LOCAL_MS: 'YYYY-MM-DDTHH:mm:ss.SSS',   // <input type="datetime-local" step="0.001" />
        DATE: 'YYYY-MM-DD',                             // <input type="date" />
        TIME: 'HH:mm',                                  // <input type="time" />
        TIME_SECONDS: 'HH:mm:ss',                       // <input type="time" step="1" />
        TIME_MS: 'HH:mm:ss.SSS',                        // <input type="time" step="0.001" />
        WEEK: 'YYYY-[W]WW',                             // <input type="week" />
        MONTH: 'YYYY-MM'                                // <input type="month" />
    };

    return hooks;

})));

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/module.js */ "./node_modules/webpack/buildin/module.js")(module)))

/***/ }),

/***/ "./node_modules/style-loader/lib/addStyles.js":
/*!****************************************************!*\
  !*** ./node_modules/style-loader/lib/addStyles.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*
	MIT License http://www.opensource.org/licenses/mit-license.php
	Author Tobias Koppers @sokra
*/

var stylesInDom = {};

var	memoize = function (fn) {
	var memo;

	return function () {
		if (typeof memo === "undefined") memo = fn.apply(this, arguments);
		return memo;
	};
};

var isOldIE = memoize(function () {
	// Test for IE <= 9 as proposed by Browserhacks
	// @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805
	// Tests for existence of standard globals is to allow style-loader
	// to operate correctly into non-standard environments
	// @see https://github.com/webpack-contrib/style-loader/issues/177
	return window && document && document.all && !window.atob;
});

var getTarget = function (target, parent) {
  if (parent){
    return parent.querySelector(target);
  }
  return document.querySelector(target);
};

var getElement = (function (fn) {
	var memo = {};

	return function(target, parent) {
                // If passing function in options, then use it for resolve "head" element.
                // Useful for Shadow Root style i.e
                // {
                //   insertInto: function () { return document.querySelector("#foo").shadowRoot }
                // }
                if (typeof target === 'function') {
                        return target();
                }
                if (typeof memo[target] === "undefined") {
			var styleTarget = getTarget.call(this, target, parent);
			// Special case to return head of iframe instead of iframe itself
			if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {
				try {
					// This will throw an exception if access to iframe is blocked
					// due to cross-origin restrictions
					styleTarget = styleTarget.contentDocument.head;
				} catch(e) {
					styleTarget = null;
				}
			}
			memo[target] = styleTarget;
		}
		return memo[target]
	};
})();

var singleton = null;
var	singletonCounter = 0;
var	stylesInsertedAtTop = [];

var	fixUrls = __webpack_require__(/*! ./urls */ "./node_modules/style-loader/lib/urls.js");

module.exports = function(list, options) {
	if (typeof DEBUG !== "undefined" && DEBUG) {
		if (typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");
	}

	options = options || {};

	options.attrs = typeof options.attrs === "object" ? options.attrs : {};

	// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>
	// tags it will allow on a page
	if (!options.singleton && typeof options.singleton !== "boolean") options.singleton = isOldIE();

	// By default, add <style> tags to the <head> element
        if (!options.insertInto) options.insertInto = "head";

	// By default, add <style> tags to the bottom of the target
	if (!options.insertAt) options.insertAt = "bottom";

	var styles = listToStyles(list, options);

	addStylesToDom(styles, options);

	return function update (newList) {
		var mayRemove = [];

		for (var i = 0; i < styles.length; i++) {
			var item = styles[i];
			var domStyle = stylesInDom[item.id];

			domStyle.refs--;
			mayRemove.push(domStyle);
		}

		if(newList) {
			var newStyles = listToStyles(newList, options);
			addStylesToDom(newStyles, options);
		}

		for (var i = 0; i < mayRemove.length; i++) {
			var domStyle = mayRemove[i];

			if(domStyle.refs === 0) {
				for (var j = 0; j < domStyle.parts.length; j++) domStyle.parts[j]();

				delete stylesInDom[domStyle.id];
			}
		}
	};
};

function addStylesToDom (styles, options) {
	for (var i = 0; i < styles.length; i++) {
		var item = styles[i];
		var domStyle = stylesInDom[item.id];

		if(domStyle) {
			domStyle.refs++;

			for(var j = 0; j < domStyle.parts.length; j++) {
				domStyle.parts[j](item.parts[j]);
			}

			for(; j < item.parts.length; j++) {
				domStyle.parts.push(addStyle(item.parts[j], options));
			}
		} else {
			var parts = [];

			for(var j = 0; j < item.parts.length; j++) {
				parts.push(addStyle(item.parts[j], options));
			}

			stylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};
		}
	}
}

function listToStyles (list, options) {
	var styles = [];
	var newStyles = {};

	for (var i = 0; i < list.length; i++) {
		var item = list[i];
		var id = options.base ? item[0] + options.base : item[0];
		var css = item[1];
		var media = item[2];
		var sourceMap = item[3];
		var part = {css: css, media: media, sourceMap: sourceMap};

		if(!newStyles[id]) styles.push(newStyles[id] = {id: id, parts: [part]});
		else newStyles[id].parts.push(part);
	}

	return styles;
}

function insertStyleElement (options, style) {
	var target = getElement(options.insertInto)

	if (!target) {
		throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");
	}

	var lastStyleElementInsertedAtTop = stylesInsertedAtTop[stylesInsertedAtTop.length - 1];

	if (options.insertAt === "top") {
		if (!lastStyleElementInsertedAtTop) {
			target.insertBefore(style, target.firstChild);
		} else if (lastStyleElementInsertedAtTop.nextSibling) {
			target.insertBefore(style, lastStyleElementInsertedAtTop.nextSibling);
		} else {
			target.appendChild(style);
		}
		stylesInsertedAtTop.push(style);
	} else if (options.insertAt === "bottom") {
		target.appendChild(style);
	} else if (typeof options.insertAt === "object" && options.insertAt.before) {
		var nextSibling = getElement(options.insertAt.before, target);
		target.insertBefore(style, nextSibling);
	} else {
		throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");
	}
}

function removeStyleElement (style) {
	if (style.parentNode === null) return false;
	style.parentNode.removeChild(style);

	var idx = stylesInsertedAtTop.indexOf(style);
	if(idx >= 0) {
		stylesInsertedAtTop.splice(idx, 1);
	}
}

function createStyleElement (options) {
	var style = document.createElement("style");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}

	if(options.attrs.nonce === undefined) {
		var nonce = getNonce();
		if (nonce) {
			options.attrs.nonce = nonce;
		}
	}

	addAttrs(style, options.attrs);
	insertStyleElement(options, style);

	return style;
}

function createLinkElement (options) {
	var link = document.createElement("link");

	if(options.attrs.type === undefined) {
		options.attrs.type = "text/css";
	}
	options.attrs.rel = "stylesheet";

	addAttrs(link, options.attrs);
	insertStyleElement(options, link);

	return link;
}

function addAttrs (el, attrs) {
	Object.keys(attrs).forEach(function (key) {
		el.setAttribute(key, attrs[key]);
	});
}

function getNonce() {
	if (false) {}

	return __webpack_require__.nc;
}

function addStyle (obj, options) {
	var style, update, remove, result;

	// If a transform function was defined, run it on the css
	if (options.transform && obj.css) {
	    result = options.transform(obj.css);

	    if (result) {
	    	// If transform returns a value, use that instead of the original css.
	    	// This allows running runtime transformations on the css.
	    	obj.css = result;
	    } else {
	    	// If the transform function returns a falsy value, don't add this css.
	    	// This allows conditional loading of css
	    	return function() {
	    		// noop
	    	};
	    }
	}

	if (options.singleton) {
		var styleIndex = singletonCounter++;

		style = singleton || (singleton = createStyleElement(options));

		update = applyToSingletonTag.bind(null, style, styleIndex, false);
		remove = applyToSingletonTag.bind(null, style, styleIndex, true);

	} else if (
		obj.sourceMap &&
		typeof URL === "function" &&
		typeof URL.createObjectURL === "function" &&
		typeof URL.revokeObjectURL === "function" &&
		typeof Blob === "function" &&
		typeof btoa === "function"
	) {
		style = createLinkElement(options);
		update = updateLink.bind(null, style, options);
		remove = function () {
			removeStyleElement(style);

			if(style.href) URL.revokeObjectURL(style.href);
		};
	} else {
		style = createStyleElement(options);
		update = applyToTag.bind(null, style);
		remove = function () {
			removeStyleElement(style);
		};
	}

	update(obj);

	return function updateStyle (newObj) {
		if (newObj) {
			if (
				newObj.css === obj.css &&
				newObj.media === obj.media &&
				newObj.sourceMap === obj.sourceMap
			) {
				return;
			}

			update(obj = newObj);
		} else {
			remove();
		}
	};
}

var replaceText = (function () {
	var textStore = [];

	return function (index, replacement) {
		textStore[index] = replacement;

		return textStore.filter(Boolean).join('\n');
	};
})();

function applyToSingletonTag (style, index, remove, obj) {
	var css = remove ? "" : obj.css;

	if (style.styleSheet) {
		style.styleSheet.cssText = replaceText(index, css);
	} else {
		var cssNode = document.createTextNode(css);
		var childNodes = style.childNodes;

		if (childNodes[index]) style.removeChild(childNodes[index]);

		if (childNodes.length) {
			style.insertBefore(cssNode, childNodes[index]);
		} else {
			style.appendChild(cssNode);
		}
	}
}

function applyToTag (style, obj) {
	var css = obj.css;
	var media = obj.media;

	if(media) {
		style.setAttribute("media", media)
	}

	if(style.styleSheet) {
		style.styleSheet.cssText = css;
	} else {
		while(style.firstChild) {
			style.removeChild(style.firstChild);
		}

		style.appendChild(document.createTextNode(css));
	}
}

function updateLink (link, options, obj) {
	var css = obj.css;
	var sourceMap = obj.sourceMap;

	/*
		If convertToAbsoluteUrls isn't defined, but sourcemaps are enabled
		and there is no publicPath defined then lets turn convertToAbsoluteUrls
		on by default.  Otherwise default to the convertToAbsoluteUrls option
		directly
	*/
	var autoFixUrls = options.convertToAbsoluteUrls === undefined && sourceMap;

	if (options.convertToAbsoluteUrls || autoFixUrls) {
		css = fixUrls(css);
	}

	if (sourceMap) {
		// http://stackoverflow.com/a/26603875
		css += "\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";
	}

	var blob = new Blob([css], { type: "text/css" });

	var oldSrc = link.href;

	link.href = URL.createObjectURL(blob);

	if(oldSrc) URL.revokeObjectURL(oldSrc);
}


/***/ }),

/***/ "./node_modules/style-loader/lib/urls.js":
/*!***********************************************!*\
  !*** ./node_modules/style-loader/lib/urls.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {


/**
 * When source maps are enabled, `style-loader` uses a link element with a data-uri to
 * embed the css on the page. This breaks all relative urls because now they are relative to a
 * bundle instead of the current page.
 *
 * One solution is to only use full urls, but that may be impossible.
 *
 * Instead, this function "fixes" the relative urls to be absolute according to the current page location.
 *
 * A rudimentary test suite is located at `test/fixUrls.js` and can be run via the `npm test` command.
 *
 */

module.exports = function (css) {
  // get current location
  var location = typeof window !== "undefined" && window.location;

  if (!location) {
    throw new Error("fixUrls requires window.location");
  }

	// blank or null?
	if (!css || typeof css !== "string") {
	  return css;
  }

  var baseUrl = location.protocol + "//" + location.host;
  var currentDir = baseUrl + location.pathname.replace(/\/[^\/]*$/, "/");

	// convert each url(...)
	/*
	This regular expression is just a way to recursively match brackets within
	a string.

	 /url\s*\(  = Match on the word "url" with any whitespace after it and then a parens
	   (  = Start a capturing group
	     (?:  = Start a non-capturing group
	         [^)(]  = Match anything that isn't a parentheses
	         |  = OR
	         \(  = Match a start parentheses
	             (?:  = Start another non-capturing groups
	                 [^)(]+  = Match anything that isn't a parentheses
	                 |  = OR
	                 \(  = Match a start parentheses
	                     [^)(]*  = Match anything that isn't a parentheses
	                 \)  = Match a end parentheses
	             )  = End Group
              *\) = Match anything and then a close parens
          )  = Close non-capturing group
          *  = Match anything
       )  = Close capturing group
	 \)  = Match a close parens

	 /gi  = Get all matches, not the first.  Be case insensitive.
	 */
	var fixedCss = css.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi, function(fullMatch, origUrl) {
		// strip quotes (if they exist)
		var unquotedOrigUrl = origUrl
			.trim()
			.replace(/^"(.*)"$/, function(o, $1){ return $1; })
			.replace(/^'(.*)'$/, function(o, $1){ return $1; });

		// already a full url? no change
		if (/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(unquotedOrigUrl)) {
		  return fullMatch;
		}

		// convert the url to a full url
		var newUrl;

		if (unquotedOrigUrl.indexOf("//") === 0) {
		  	//TODO: should we add protocol?
			newUrl = unquotedOrigUrl;
		} else if (unquotedOrigUrl.indexOf("/") === 0) {
			// path should be relative to the base url
			newUrl = baseUrl + unquotedOrigUrl; // already starts with '/'
		} else {
			// path should be relative to current directory
			newUrl = currentDir + unquotedOrigUrl.replace(/^\.\//, ""); // Strip leading './'
		}

		// send back the fixed url(...)
		return "url(" + JSON.stringify(newUrl) + ")";
	});

	// send back the fixed css
	return fixedCss;
};


/***/ }),

/***/ "./node_modules/uuid/index.js":
/*!************************************!*\
  !*** ./node_modules/uuid/index.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var v1 = __webpack_require__(/*! ./v1 */ "./node_modules/uuid/v1.js");
var v4 = __webpack_require__(/*! ./v4 */ "./node_modules/uuid/v4.js");

var uuid = v4;
uuid.v1 = v1;
uuid.v4 = v4;

module.exports = uuid;


/***/ }),

/***/ "./node_modules/uuid/lib/bytesToUuid.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/bytesToUuid.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Convert array of 16 byte values to UUID string format of the form:
 * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX
 */
var byteToHex = [];
for (var i = 0; i < 256; ++i) {
  byteToHex[i] = (i + 0x100).toString(16).substr(1);
}

function bytesToUuid(buf, offset) {
  var i = offset || 0;
  var bth = byteToHex;
  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4
  return ([bth[buf[i++]], bth[buf[i++]], 
	bth[buf[i++]], bth[buf[i++]], '-',
	bth[buf[i++]], bth[buf[i++]], '-',
	bth[buf[i++]], bth[buf[i++]], '-',
	bth[buf[i++]], bth[buf[i++]], '-',
	bth[buf[i++]], bth[buf[i++]],
	bth[buf[i++]], bth[buf[i++]],
	bth[buf[i++]], bth[buf[i++]]]).join('');
}

module.exports = bytesToUuid;


/***/ }),

/***/ "./node_modules/uuid/lib/rng-browser.js":
/*!**********************************************!*\
  !*** ./node_modules/uuid/lib/rng-browser.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// Unique ID creation requires a high quality random # generator.  In the
// browser this is a little complicated due to unknown quality of Math.random()
// and inconsistent support for the `crypto` API.  We do the best we can via
// feature-detection

// getRandomValues needs to be invoked in a context where "this" is a Crypto
// implementation. Also, find the complete implementation of crypto on IE11.
var getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||
                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));

if (getRandomValues) {
  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto
  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef

  module.exports = function whatwgRNG() {
    getRandomValues(rnds8);
    return rnds8;
  };
} else {
  // Math.random()-based (RNG)
  //
  // If all else fails, use Math.random().  It's fast, but is of unspecified
  // quality.
  var rnds = new Array(16);

  module.exports = function mathRNG() {
    for (var i = 0, r; i < 16; i++) {
      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;
      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;
    }

    return rnds;
  };
}


/***/ }),

/***/ "./node_modules/uuid/v1.js":
/*!*********************************!*\
  !*** ./node_modules/uuid/v1.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var rng = __webpack_require__(/*! ./lib/rng */ "./node_modules/uuid/lib/rng-browser.js");
var bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ "./node_modules/uuid/lib/bytesToUuid.js");

// **`v1()` - Generate time-based UUID**
//
// Inspired by https://github.com/LiosK/UUID.js
// and http://docs.python.org/library/uuid.html

var _nodeId;
var _clockseq;

// Previous uuid creation time
var _lastMSecs = 0;
var _lastNSecs = 0;

// See https://github.com/broofa/node-uuid for API details
function v1(options, buf, offset) {
  var i = buf && offset || 0;
  var b = buf || [];

  options = options || {};
  var node = options.node || _nodeId;
  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;

  // node and clockseq need to be initialized to random values if they're not
  // specified.  We do this lazily to minimize issues related to insufficient
  // system entropy.  See #189
  if (node == null || clockseq == null) {
    var seedBytes = rng();
    if (node == null) {
      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)
      node = _nodeId = [
        seedBytes[0] | 0x01,
        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]
      ];
    }
    if (clockseq == null) {
      // Per 4.2.2, randomize (14 bit) clockseq
      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;
    }
  }

  // UUID timestamps are 100 nano-second units since the Gregorian epoch,
  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so
  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'
  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.
  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();

  // Per 4.2.1.2, use count of uuid's generated during the current clock
  // cycle to simulate higher resolution clock
  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;

  // Time since last uuid creation (in msecs)
  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;

  // Per 4.2.1.2, Bump clockseq on clock regression
  if (dt < 0 && options.clockseq === undefined) {
    clockseq = clockseq + 1 & 0x3fff;
  }

  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new
  // time interval
  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {
    nsecs = 0;
  }

  // Per 4.2.1.2 Throw error if too many uuids are requested
  if (nsecs >= 10000) {
    throw new Error('uuid.v1(): Can\'t create more than 10M uuids/sec');
  }

  _lastMSecs = msecs;
  _lastNSecs = nsecs;
  _clockseq = clockseq;

  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch
  msecs += 12219292800000;

  // `time_low`
  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;
  b[i++] = tl >>> 24 & 0xff;
  b[i++] = tl >>> 16 & 0xff;
  b[i++] = tl >>> 8 & 0xff;
  b[i++] = tl & 0xff;

  // `time_mid`
  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;
  b[i++] = tmh >>> 8 & 0xff;
  b[i++] = tmh & 0xff;

  // `time_high_and_version`
  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version
  b[i++] = tmh >>> 16 & 0xff;

  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)
  b[i++] = clockseq >>> 8 | 0x80;

  // `clock_seq_low`
  b[i++] = clockseq & 0xff;

  // `node`
  for (var n = 0; n < 6; ++n) {
    b[i + n] = node[n];
  }

  return buf ? buf : bytesToUuid(b);
}

module.exports = v1;


/***/ }),

/***/ "./node_modules/uuid/v4.js":
/*!*********************************!*\
  !*** ./node_modules/uuid/v4.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var rng = __webpack_require__(/*! ./lib/rng */ "./node_modules/uuid/lib/rng-browser.js");
var bytesToUuid = __webpack_require__(/*! ./lib/bytesToUuid */ "./node_modules/uuid/lib/bytesToUuid.js");

function v4(options, buf, offset) {
  var i = buf && offset || 0;

  if (typeof(options) == 'string') {
    buf = options === 'binary' ? new Array(16) : null;
    options = null;
  }
  options = options || {};

  var rnds = options.random || (options.rng || rng)();

  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`
  rnds[6] = (rnds[6] & 0x0f) | 0x40;
  rnds[8] = (rnds[8] & 0x3f) | 0x80;

  // Copy bytes to buffer, if provided
  if (buf) {
    for (var ii = 0; ii < 16; ++ii) {
      buf[i + ii] = rnds[ii];
    }
  }

  return buf || bytesToUuid(rnds);
}

module.exports = v4;


/***/ }),

/***/ "./node_modules/webpack/buildin/amd-options.js":
/*!****************************************!*\
  !*** (webpack)/buildin/amd-options.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* WEBPACK VAR INJECTION */(function(__webpack_amd_options__) {/* globals __webpack_amd_options__ */
module.exports = __webpack_amd_options__;

/* WEBPACK VAR INJECTION */}.call(this, {}))

/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || Function("return this")() || (1, eval)("this");
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./src/wgs/render/CopyShader.js":
/*!**************************************!*\
  !*** ./src/wgs/render/CopyShader.js ***!
  \**************************************/
/*! exports provided: CopyShader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CopyShader", function() { return CopyShader; });
/* harmony import */ var _shaders_screen_quad_uv_vert_glsl__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./shaders/screen_quad_uv_vert.glsl */ "./src/wgs/render/shaders/screen_quad_uv_vert.glsl");
/* harmony import */ var _shaders_screen_quad_uv_vert_glsl__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_shaders_screen_quad_uv_vert_glsl__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _shaders_copy_frag_glsl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./shaders/copy_frag.glsl */ "./src/wgs/render/shaders/copy_frag.glsl");
/* harmony import */ var _shaders_copy_frag_glsl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_shaders_copy_frag_glsl__WEBPACK_IMPORTED_MODULE_1__);
//Trivial copy pass




var CopyShader = {

  uniforms: {
    "tDiffuse": { type: "t", value: null } },


  vertexShader: _shaders_screen_quad_uv_vert_glsl__WEBPACK_IMPORTED_MODULE_0___default.a,
  fragmentShader: _shaders_copy_frag_glsl__WEBPACK_IMPORTED_MODULE_1___default.a };

/***/ }),

/***/ "./src/wgs/render/ShaderPass.js":
/*!**************************************!*\
  !*** ./src/wgs/render/ShaderPass.js ***!
  \**************************************/
/*! exports provided: ShaderPass */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ShaderPass", function() { return ShaderPass; });
/* harmony import */ var _ShaderUtils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ShaderUtils */ "./src/wgs/render/ShaderUtils.js");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_1__);



var ShaderPass = function ShaderPass(shader, textureID) {

  this.textureID = textureID !== undefined ? textureID : "tDiffuse";

  this.material = Object(_ShaderUtils__WEBPACK_IMPORTED_MODULE_0__["createShaderMaterial"])(shader);

  // share uniforms with material
  this.uniforms = this.material.uniforms;

  this.renderToScreen = false;

  this.enabled = true;
  this.clear = false;

  this.camera = new three__WEBPACK_IMPORTED_MODULE_1__["OrthographicCamera"](-1, 1, 1, -1, 0, 1);

  //this.quad = new THREE.Mesh( new THREE.PlaneGeometry( 2, 2 ), this.material );

  //Instead of using a screen quad we use a large triangle -- this is slightly
  //faster (~6% measured in our specific case), due to better cache coherency. See this article:
  //http://michaldrobot.com/2014/04/01/gcn-execution-patterns-in-full-screen-passes/
  var triangle = new three__WEBPACK_IMPORTED_MODULE_1__["BufferGeometry"]();
  var p = new Float32Array(9);
  p[0] = -1;p[1] = -1;p[2] = 0;
  p[3] = 3;p[4] = -1;p[5] = 0;
  p[6] = -1;p[7] = 3;p[8] = 0;

  var uv = new Float32Array(6);
  uv[0] = 0;uv[1] = 0;
  uv[2] = 2;uv[3] = 0;
  uv[4] = 0;uv[5] = 2;

  var n = new Float32Array(9);
  n[0] = 0;n[1] = 0;n[2] = 1;
  n[3] = 0;n[4] = 0;n[5] = 1;
  n[6] = 0;n[7] = 0;n[8] = 1;


  triangle.addAttribute("position", new three__WEBPACK_IMPORTED_MODULE_1__["BufferAttribute"](p, 3));
  triangle.addAttribute("normal", new three__WEBPACK_IMPORTED_MODULE_1__["BufferAttribute"](n, 3));
  triangle.addAttribute("uv", new three__WEBPACK_IMPORTED_MODULE_1__["BufferAttribute"](uv, 2));

  this.quad = new three__WEBPACK_IMPORTED_MODULE_1__["Mesh"](triangle, this.material);


  this.scene = new three__WEBPACK_IMPORTED_MODULE_1__["Scene"]();
  this.scene.add(this.quad);
};

ShaderPass.prototype = {

  // note: delta is not used
  render: function render(renderer, writeBuffer, readBuffer, delta) {

    if (this.uniforms[this.textureID]) {

      this.uniforms[this.textureID].value = readBuffer.texture || readBuffer;

    }

    if (this.renderToScreen || !writeBuffer) {

      renderer.render(this.scene, this.camera);

    } else {

      renderer.render(this.scene, this.camera, writeBuffer, this.clear);

    }

  } };

/***/ }),

/***/ "./src/wgs/render/ShaderUtils.js":
/*!***************************************!*\
  !*** ./src/wgs/render/ShaderUtils.js ***!
  \***************************************/
/*! exports provided: createShaderMaterial, setMacro, removeMacro */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "createShaderMaterial", function() { return createShaderMaterial; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setMacro", function() { return setMacro; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "removeMacro", function() { return removeMacro; });
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "three");
/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(three__WEBPACK_IMPORTED_MODULE_0__);


/** Create ShaderMaterial instance using a given shader specification
                                 *
                                 *   @param {Object} shader - Shader specification E.g., CopyShader. Must provide vertexShader and fragmentShader.
                                 *                            May provide uniforms, defines, and attributes. See CopyShader for example.
                                 *   @returns {THREE.ShaderMaterial}
                                 */
var createShaderMaterial = function createShaderMaterial(shader) {
  var params = {
    vertexShader: shader.vertexShader,
    fragmentShader: shader.fragmentShader };


  // only add these fields if the shader actually needs them, because keys with undefined values
  // would cause errors in THREE.Material
  if (shader.uniforms) params.uniforms = three__WEBPACK_IMPORTED_MODULE_0__["UniformsUtils"].clone(shader.uniforms);
  if (shader.defines) params.defines = Object.assign({}, shader.defines);
  if (shader.extensions) params.extensions = Object.assign({}, shader.extensions);

  // Note that these are shared, because they are usually not modified afterwards
  if (shader.attributes) params.attributes = shader.attributes;

  return new three__WEBPACK_IMPORTED_MODULE_0__["ShaderMaterial"](params);
};

/** Add custom macro to given material. Note that macro modification requires expensive shader recompile.
    *   @param {THREE.Material} material
    *   @param {string}         macroName
    *   @param {string}         [macroValue=""]
    **/
var setMacro = function setMacro(material, macroName, macroValue) {

  // default to "" (for simple toggles)
  macroValue = macroValue || "";

  // create defines object if needed
  if (!material.defines) {
    material.defines = {};
  }

  // change macro and trigger update if needed
  if (material.defines[macroName] != macroValue) {
    material.defines[macroName] = macroValue;
    material.needsUpdate = true;
  }
};

/** Remove custom macro to given material. Note that macro modification requires expensive shader recompile.
    *   @param {THREE.Material} material
    *   @param {string}         macroName
    **/
var removeMacro = function removeMacro(material, macroName) {

  // skip material update if nothing changed
  if (material.defines || material.defines[macroName]) {

    // Note that we cannot just assign undefined here, because this would
    // produce a "#define <MACRONAME> undefined" string in the shader (see FireFlyWebGlProgram.js)
    // Fortunately, removing macros doesn't happen per-frame, and it requires shader-recompile anyway.
    delete material.defines[macroName];

    material.needsUpdate = true;
  }
};

/***/ }),

/***/ "./src/wgs/render/shaders/copy_frag.glsl":
/*!***********************************************!*\
  !*** ./src/wgs/render/shaders/copy_frag.glsl ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "uniform sampler2D tDiffuse;\nvarying vec2 vUv;\nvoid main() {\n    gl_FragColor = texture2D(tDiffuse, vUv);\n}\n";

/***/ }),

/***/ "./src/wgs/render/shaders/screen_quad_uv_vert.glsl":
/*!*********************************************************!*\
  !*** ./src/wgs/render/shaders/screen_quad_uv_vert.glsl ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "varying vec2 vUv;\nvoid main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}\n";

/***/ }),

/***/ "three":
/*!************************!*\
  !*** external "THREE" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = THREE;

/***/ })

/******/ });
//# sourceMappingURL=BimMarkups.js.map